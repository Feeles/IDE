[{"name":".babelrc","type":"application/octet-stream","lastModified":1492756455000,"composed":"ewogICJwcmVzZXRzIjogWyJlczIwMTUiLCAic3RhZ2UtMyJdLAogICJwbHVnaW5zIjogWyJ0cmFuc2Zvcm0tY2xhc3MtcHJvcGVydGllcyJdCn0K","options":{"isTrashed":false},"credits":[]},{"name":".env","type":"application/octet-stream","lastModified":1492756455000,"composed":"ewogICAgIkRFQlVHIjogWwogICAgICAgIHRydWUsCiAgICAgICAgImJvb2xlYW4iLAogICAgICAgICJBIGZsYWcgbWVhbnMgdGVzdCBtb2RlIgogICAgXSwKICAgICJUSVRMRSI6IFsKICAgICAgICAiTWF0dGVySlNTYW1wbGUiLAogICAgICAgICJzdHJpbmciLAogICAgICAgICJBIG5hbWUgb2YgdGhpcyBhcHAiCiAgICBdCn0KCgoKCgoK","options":{"isTrashed":false},"credits":[]},{"name":".palette","type":"application/octet-stream","lastModified":1492756455000,"composed":"ewogICAgImNhbnZhc0NvbG9yIjogInJnYmEoMjU1LCAyNTUsIDI1NSwgMSkiLAogICAgInByaW1hcnkxQ29sb3IiOiAicmdiYSgxNzEsIDE4NCwgMTk1LCAxKSIsCiAgICAiYWNjZW50MUNvbG9yIjogIiM3QkRDQjUiLAogICAgImJhY2tncm91bmRDb2xvciI6ICJyZ2JhKDE2NywgMjU1LCAyMzUsIDAuMTUpIgp9","options":{"isTrashed":false},"credits":[]},{"name":".provider","type":"application/octet-stream","lastModified":1492756455000,"composed":"ewogICAgInB1Ymxpc2hVcmwiOiAiaHR0cHM6Ly9oYWNraXQtZmVlbGVzLmF6dXJld2Vic2l0ZXMubmV0L2RlcGxveW1lbnRzLzkzIgp9","options":{"isTrashed":false},"credits":[]},{"name":"README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjg6Ljg47jga7li5XjgY3jgrfjg5/jg6Xjg6zjg7zjgr8g8J+agvCfkqgKCgojIyDkvZXjgYzjgafjgY3jgovjga7vvJ8KCuepuumWk+OBq+eJqeOCkuOBiuOBhOOBn+OCiuOAgeWLleOBi+OBl+OBn+OCiuOAgeOBtuOBpOOBkeOBn+OCiuOAgeOBj+OBo+OBpOOBkeOBn+OCiuKApuKApiAgCuOBquOBqeOBquOBqeOAgeiJsuOCk+OBquOBk+OBqOOCkuOCq+ODs+OCv+ODs+OBq+ippuOBmeOBk+OBqOOBjOOBp+OBjeOBvuOBmQoKCiMjIOS9v+OBo+OBpuOBv+OCiOOBhgoK5Y+z44Gu44Oh44OL44Ol44O844GL44KJ44CB44G/44Gm44G/44Gf44GE44KC44Gu44KS44Kv44Oq44OD44Kv44GX44Gm44GtICAK6Kmm44GX44Gm44G/44Gf44GE44GT44Go44GM44GC44KM44Gw44CB44Gp44KT44Gp44KTICoq5pS56YCgKiog44GX44Gm44G/44KI44GG77yBCgotIC0gLQojIyDlhYjnlJ/jg7vjg6Hjg7Pjgr/jg7zjga7mlrnjgbgKCuOBk+OBruOCt+ODn+ODpeODrOODvOOCv+OBryBMaWFtIEJydW1taXR0IOawj+OBjOmWi+eZuuOBl+OBnyAgCk1hdHRlci5qcyDjgajjgYTjgYbjg6njgqTjg5bjg6njg6rjgafli5XjgYTjgabjgYTjgb7jgZkKPiDjg57jgr/jg7wg44OJ44OD44OIIOOCuOOCp+ODvOOCqOOCuSAgCk1hdHRlci5qcwoKIyMjIOOCguOBo+OBqOips+OBl+OBj+efpeOCiuOBn+OBhOS6uuOBrwoKLSBb5YWs5byP44OJ44Kt44Ol44Oh44Oz44OIXShodHRwOi8vYnJtLmlvL21hdHRlci1qcy9kb2NzLynjgIAqKuiLseiqnuOBruOBvyoqICAKTWF0dGVyLmpzIOOBruWFrOW8j+ODieOCreODpeODoeODs+ODiOOAguWFqOmDqOi8ieOBo+OBpuOBhOOCiwoKLSAhW+ODrOODs+ODgOODqeOBruOCquODl+OCt+ODp+ODs10ocmVuZGVyLmpzKeOAgCoq5LiK57Sa6ICF5ZCR44GRKiogIArlhajjgabjga7jgrXjg7Pjg5fjg6vjga7opovjgZ/nm67jgavplqLjgZnjgovntLDjgYvjgYToqK3lrprjgpLooYzjgYYKCi0gIVvjgqjjg7Pjgrjjg7Pjga7jgqrjg5fjgrfjg6fjg7NdKGVuZ2luZS5qcynjgIAqKuS4iue0muiAheWQkeOBkSoqICAK5YWo44Gm44Gu44K144Oz44OX44Or44Gu6KiI566X5Yem55CG44Gr6Zai44GZ44KL57Sw44GL44GE6Kit5a6a44KS6KGM44GGCgotICFbTWF0dGVyLmpzXShtYXR0ZXIuanMp44CAKirotoXkuIrntJrogIXlkJHjgZEqKiAgCk1hdHRlci5qcyDjga7mnKzkvZPjgILjg5Djg7zjgrjjg6fjg7MgMC4xMS4xLWFscGhhIOOBruOCquODvOODq+OCpOODs+ODr+ODsyDjg5Pjg6vjg4kuICAKYGRlY29tcGAg44Gu5L6d5a2Y6Kej5rG644Gu44G/44CB44OT44Or44OJ5b6M44Gr6L+96KiY44GX44Gm44GE44G+44GZCgoKIyMg5Y6f5L2c6ICFCgpbTGlhbSBCcnVtbWl0dF0oaHR0cDovL2JybS5pby8pCgpbTWF0dGVyLmpzIOOBriBHaXRIdWJdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzKQoK","options":{"isTrashed":false},"credits":[]},{"name":"airFriction/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDnqbrmsJfjgabjgYTjgZPjgYYKPiDjgY/jgYbjgY0t44Gm44GE44GT44GGICAK56m65rCX5oq15oqXCgrjgqrjg5bjgrjjgqfjgq/jg4jjga4gW+epuuawl+OBpuOBhOOBk+OBhl0oaHR0cHM6Ly9qYS53aWtpcGVkaWEub3JnL3dpa2kvJUU2JThBJTk3JUU1JThBJTlCKQrjgpLlpInjgYjjgabjgb/jgZ8KClvjg6Hjg4vjg6Xjg7zjgavmiLvjgotdKGluZGV4Lmh0bWwpCgoKIyMg5pS56YCg44GX44Gm44G/44KLCgohW+OBk+OBk+OBi+OCieWni+OCgeOCi10oYWlyRnJpY3Rpb24vbWFpbi5qcykKCgp8fCDmhI/lkbMgfCDjga/jgpPjgYQgCi0tLSB8IC0tLSB8IC0tLSAKZnJpY3Rpb25BaXIgfCDjgabjgYTjgZPjgYbjga7lpKfjgY3jgZUgfCAwIH4gMS4wCgrjgoLjgaPjgajmlLnpgKAKIVvoqK3lrppdKGFpckZyaWN0aW9uL3NldHRpbmcuanMpCiFb44GL44G544O744KG44GLXShhaXJGcmljdGlvbi9zdGFnZS5qcykKCi0gLSAtCgojIyDlv5znlKjkvosKClvjg6Ljg7PjgrHjg7zjg7NdKHdyZWNraW5nQmFsbC9pbmRleC5odG1sKQoK","options":{"isTrashed":false},"credits":[]},{"name":"airFriction/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7nqbrmsJfmirXmipc8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJhaXJGcmljdGlvbi9tYWluLmpzIj48L3NjcmlwdD4KPC9oZWFkPgo8Ym9keT4KPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"airFriction/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nLmpzJzsKCldvcmxkLmFkZCh3b3JsZCwgWwoJLy8g5bem44Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDIwMCwgMTAwLCA2MCwgNjAsIHsKCQkvLyDnqbrmsJfjgabjgYTjgZPjgYYKCQlmcmljdGlvbkFpcjogMC4wMDEsCgkJCgl9KSwKCS8vIOS4reOBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDEwMCwgNjAsIDYwLCB7CgkJLy8g56m65rCX44Gm44GE44GT44GGCgkJZnJpY3Rpb25BaXI6IDAuMDUsCgkJCgl9KSwKCS8vIOWPs+OBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSg2MDAsIDEwMCwgNjAsIDYwLCB7CgkJLy8g56m65rCX44Gm44GE44GT44GGCgkJZnJpY3Rpb25BaXI6IDAuMSwKCQkKCX0pLAoJCl0pOwoKCmltcG9ydCAnLi9zdGFnZS5qcyc7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"airFriction/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKCVdvcmxkLAoJUnVubmVyLAoJTW91c2UsCglNb3VzZUNvbnN0cmFpbnQsCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKY29uc3Qgd29ybGQgPSBlbmdpbmUud29ybGQ7CgppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7CnJlbmRlci5vcHRpb25zLnNob3dWZWxvY2l0eSA9IHRydWU7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdhaXJGcmljdGlvbi9SRUFETUUubWQnKTsKCgpleHBvcnQgewoJZW5naW5lLAoJd29ybGQsCglyZW5kZXIsCn07Cg==","options":{"isTrashed":false},"credits":[]},{"name":"airFriction/settings.js","type":"application/javascript","lastModified":1492756455000,"composed":"CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoK","options":{"isTrashed":false},"credits":[]},{"name":"airFriction/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CmltcG9ydCB7Cgl3b3JsZCwKfSBmcm9tICcuL3NldHRpbmcnOwoKCi8vIOWjgQpXb3JsZC5hZGQod29ybGQsIFsKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoODAwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KQpdKTsK","options":{"isTrashed":false},"credits":[]},{"name":"angle/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgYvjgZ/jgoDjgY0KCuOCquODluOCuOOCp+OCr+ODiOOBriAq44GL44Gf44KA44GNKiDjgpLlpInjgYjjgabjgb/jgZ8KClvjg6Hjg4vjg6Xjg7zjgavmiLvjgotdKGluZGV4Lmh0bWwpCgoKIyMg5pS56YCg44GX44Gm44G/44KLCgohW+OBk+OBk+OBi+OCieWni+OCgeOCi10oYW5nbGUvbWFpbi5qcykKCgp8fCDmhI/lkbMgfCDjga/jgpPjgYQgCi0tLSB8IC0tLSB8IC0tLSAKYW5nbGUgfCDjgqrjg5bjgrjjgqfjgq/jg4jjga4gKirjg6njgrjjgqLjg7Pop5IqKiB8IOOBquOBlwoKIyMjIOODqeOCuOOCouODs+inkuOBruihqAoK44KI44GP5L2/44GG6KeS5bqmIHwg44Op44K444Ki44Oz6KeSCi0tLSAgfCAtLS0gCjDCsCAgIHwgMCAKNDXCsCAgfCAwLjc4NQo5MMKwICB8IDEuNTcKMTM1wrAgfCAyLjM2CjE4MMKwIHwgMy4xNAoyMjXCsCB8IDMuOTMKMjcwwrAgfCA0LjcxCjMxNcKwIHwgNS41MAozNjDCsCB8IDYuMjgKPiDlsJHmlbDku6XkuIvjga8gKirnhKHpmZDjgasqKiDntprjgY3jgb7jgZkKClvjg6njgrjjgqLjg7PjgaPjgabvvJ9dKGh0dHBzOi8vamEud2lraXBlZGlhLm9yZy93aWtpLyVFMyU4MyVBOSVFMyU4MiVCOCVFMyU4MiVBMiVFMyU4MyVCMykKCuOCguOBo+OBqOaUuemAoAohW+ioreWuml0oYW5nbGUvc2V0dGluZy5qcykKIVvjgYvjgbnjg7vjgobjgYtdKGFuZ2xlL3N0YWdlLmpzKQoKLSAtIC0KCiMjIOW/nOeUqOS+iwo=","options":{"isTrashed":false},"credits":[]},{"name":"angle/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgYvjgZ/jgoDjgY08L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJhbmdsZS9tYWluLmpzIj48L3NjcmlwdD4KPC9oZWFkPgo8Ym9keT4KPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"angle/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nLmpzJzsKCldvcmxkLmFkZCh3b3JsZCwgWwoJCgkvLyDlt6bjga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5yZWN0YW5nbGUoMjAwLCA1MDAsIDEwLCA1MDAsIHsKCQkvLyDjgYvjgZ/jgoDjgY0KCQlhbmdsZTogMC4yLAoJCQoJfSksCgkKCS8vIOWPs+OBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSgzNTAsIDQ1MCwgMTAsIDcwMCwgewoJCS8vIOOBi+OBn+OCgOOBjQoJCWFuZ2xlOiAyLjM2LAoJCQoJfSksCgkKXSk7CgoKaW1wb3J0ICcuL3N0YWdlLmpzJzsK","options":{"isTrashed":false},"credits":[]},{"name":"angle/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKCVdvcmxkLAoJUnVubmVyLAoJTW91c2UsCglNb3VzZUNvbnN0cmFpbnQsCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKY29uc3Qgd29ybGQgPSBlbmdpbmUud29ybGQ7CgppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7CnJlbmRlci5vcHRpb25zLnNob3dBbmdsZUluZGljYXRvciA9IHRydWU7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdhbmdsZS9SRUFETUUubWQnKTsKCgpleHBvcnQgewoJZW5naW5lLAoJd29ybGQsCglyZW5kZXIsCn07Cg==","options":{"isTrashed":false},"credits":[]},{"name":"angle/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CmltcG9ydCB7Cgl3b3JsZCwKfSBmcm9tICcuL3NldHRpbmcnOwoKCi8vIOWjgQpXb3JsZC5hZGQod29ybGQsIFsKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoODAwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KQpdKTsK","options":{"isTrashed":false},"credits":[]},{"name":"attractors/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDkuIfmnInlvJXlipsKCgros6rph4/jga7jgYLjgovkuJbnlYzjgafjga/jgIHjgZnjgbnjgabjga7jgqrjg5bjgrjjgqfjgq/jg4jjga/kupLjgYTjgavlvLHjgYTlipvjgafkupLjgYTjgavlvJXjgY3ku5jjgZHlkIjjgaPjgabjgYTjgovjgoggIArjgZPjga7lipvjgpIgKirkuIfmnInlvJXlipvvvIjjgbDjgpPjgobjgYbjgYTjgpPjgorjgofjgY/vvIkqKiDjgajlkbzjgbbjgpPjgaDjgIIgIArjg4vjg6Xjg7zjg4jjg7PjgYznmbropovjgZfjgZ/jgajjgZfjgabmnInlkI3jgaDjgojjga3vvIEgIArjgaHjgarjgb/jgavjgIHph43lipvjgoLkuIfmnInlvJXlipvjga7jgbLjgajjgaTjgafjgIHlnLDnkIPjgavlvJXjgY3ku5jjgZHjgonjgozjgabjgYTjgovlipvjga7jgZPjgajjgaDjgoggIAoK44Gd44Gu5LiH5pyJ5byV5Yqb44KS44CB44GG44KT44Go5by344GP44GX44Gm44G/44Gf44KJ44CB44GT44KT44Gq5oSf44GY44Gr44Gq44KL44G/44Gf44GE44Gg44KICgoKIyMg44OR44Op44Oh44O844K/CuODkeODqeODoeODvOOCvyB8IOaEj+WRsyB8IOWNmOS9jSB8IOacgOWwjyB8IOacgOWkpyAKLS0tIHwgLS0tIHwgLS0tIHwgLS0tIHwgLS0tCkcgfCDkuIfmnInlvJXlipvlrprmlbAgfCAqbV4zIGtnXi0xIHNeLTIqIHwgMCB8IEluZmluaXR5IAptYXNzIHwg6LOq6YePIHwgKmtnKiB8IDAgfCBJbmZpbml0eSAKZnJpY3Rpb25BaXIgfCDmirXmipfjga7lpKfjgY3jgZUgfCDlgI0gfCAwIHwgMS4wIAppc1N0YXRpYyB8IOmdmeatouOBmeOCi+OBi+OBqeOBhuOBiyB8IOODleODqeOCsCB8IGZhbHNlIHwgdHJ1ZSAKCgojIyAhW+aUuemAoOOBmeOCi10oYXR0cmFjdG9ycy9tYWluLmpzKQoKClvjg6Hjg4vjg6Xjg7zjgavmiLvjgotdKGluZGV4Lmh0bWwpCgoK","options":{"isTrashed":false},"credits":[]},{"name":"attractors/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7kuIfmnInlvJXlips8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJhdHRyYWN0b3JzL21haW4uanMiPjwvc2NyaXB0Pgo8L2hlYWQ+Cjxib2R5Pgo8L2JvZHk+CjwvaHRtbD4=","options":{"isTrashed":false},"credits":[]},{"name":"attractors/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IE1hdHRlciwgewoJRW5naW5lLAoJUmVuZGVyLAoJUnVubmVyLAoJQm9keSwKCUNvbW1vbiwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCglCb2RpZXMsCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCAncGx1Z2lucy9hdHRyYWN0b3JzUGx1Z2luLmpzJzsKaW1wb3J0ICdwbHVnaW5zL2dyYXZpdHlQbHVnaW4uanMnOwppbXBvcnQgJ3BsdWdpbnMvd3JhcFBsdWdpbi5qcyc7CgpNYXR0ZXIudXNlKAoJJ21hdHRlci1ncmF2aXR5JywKCSdtYXR0ZXItd3JhcCcKKTsKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKZW5naW5lLnRpbWluZy50aW1lU2NhbGUgPSAxLjU7CgkKY29uc3Qgd29ybGQgPSBlbmdpbmUud29ybGQ7CndvcmxkLmdyYXZpdHkuc2NhbGUgPSAwOwoJCmltcG9ydCByZW5kZXIgZnJvbSAncmVuZGVyJzsKUmVuZGVyLnJ1bihyZW5kZXIpOwoKLy8gY3JlYXRlIHJ1bm5lcgpjb25zdCBydW5uZXIgPSBSdW5uZXIuY3JlYXRlKCk7ClJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpOwoJCgpjb25zdCBHID0gMC4wMDE7CmNvbnN0IHNwZWVkID0gNTsKCgkKZm9yIChjb25zdCBfIG9mIFsuLi5BcnJheSgxNTApXSkgewoJY29uc3QgcmFkaXVzID0gQ29tbW9uLnJhbmRvbSg2LCAxMCk7CgoJY29uc3QgYm9keSA9IEJvZGllcy5jaXJjbGUoCgkJQ29tbW9uLnJhbmRvbSgxMCwgcmVuZGVyLm9wdGlvbnMud2lkdGgpLAoJCUNvbW1vbi5yYW5kb20oMTAsIHJlbmRlci5vcHRpb25zLmhlaWdodCksCgkJcmFkaXVzLCB7CgkJCW1hc3M6IENvbW1vbi5yYW5kb20oMTAsIDE1KSwKCQkJZnJpY3Rpb25BaXI6IDAsCgkJCXBsdWdpbjogewoJCQkJZ3Jhdml0eTogRywKCQkJCXdyYXA6IHsKCQkJCQltaW46IHsKCQkJCQkJeDogMCwKCQkJCQkJeTogMAoJCQkJCX0sCgkJCQkJbWF4OiB7CgkJCQkJCXg6IHJlbmRlci5vcHRpb25zLndpZHRoLAoJCQkJCQl5OiByZW5kZXIub3B0aW9ucy5oZWlnaHQKCQkJCQl9CgkJCQl9CgkJCX0KCQl9CgkpOwoKCUJvZHkuc2V0VmVsb2NpdHkoYm9keSwgewoJCXg6IENvbW1vbi5yYW5kb20oLXNwZWVkLCBzcGVlZCksCgkJeTogQ29tbW9uLnJhbmRvbSgtc3BlZWQsIHNwZWVkKQoJfSk7CgoJV29ybGQuYWRkKHdvcmxkLCBib2R5KTsKfQoKLy8gYWRkIG1vdXNlIGNvbnRyb2wKY29uc3QgbW91c2UgPSBNb3VzZS5jcmVhdGUocmVuZGVyLmNhbnZhcyk7CmNvbnN0IG1vdXNlQ29uc3RyYWludCA9IE1vdXNlQ29uc3RyYWludC5jcmVhdGUoZW5naW5lLCB7Cgltb3VzZTogbW91c2UsCgljb25zdHJhaW50OiB7CgkJc3RpZmZuZXNzOiAwLjIsCgkJcmVuZGVyOiB7CgkJCXZpc2libGU6IGZhbHNlCgkJfQoJfQp9KTsKCldvcmxkLmFkZCh3b3JsZCwgbW91c2VDb25zdHJhaW50KTsKCi8vIGtlZXAgdGhlIG1vdXNlIGluIHN5bmMgd2l0aCByZW5kZXJpbmcKcmVuZGVyLm1vdXNlID0gbW91c2U7CgoJCmZlZWxlcy5vcGVuUmVhZG1lKCdhdHRyYWN0b3JzL1JFQURNRS5tZCcpOwo=","options":{"isTrashed":false},"credits":[]},{"name":"avalanche/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDlnYLpgZMKCuWCvuOBhOOBn+mBk+OCkuS9nOOCi+OBq+OBryBgYW5nbGVgIOOBruS4reOBq+inkuW6puOCkuWFpeOCjOOCi+OCiCAgCuOBk+OBk+OBp+OBryAqKuODqeOCuOOCouODsyoqIOOBqOWRvOOBsOOCjOOCi+OAgeaVsOWtpuOBp+OCiOOBj+S9v+OCj+OCjOOCi+inkuW6puOCkuS9v+OBo+OBpuOBv+OCiOOBhgoK44G144Gk44GG6KeS5bqm44GvIGAwYCDjgYvjgonlp4vjgb7jgaPjgabjgIHlj43lr77lkJHjgY3jgYwgYDE4MGAg44Gg44KI44Gt77yfICAK44Gd44KM44KS44CBIGAwYCDjgYvjgonlp4vjgoHjgablj43lr77jgpIgYM+AYCwg44Gk44G+44KKIGAzLjE04oCmYCDjgavjgZfjgZ/jga7jgYzjgIEgIArjg6njgrjjgqLjg7Pop5LjgajlkbzjgbDjgozjgovop5LluqbjgarjgpPjgaAKCgojIyDjg5Hjg6njg6Hjg7zjgr8K44OR44Op44Oh44O844K/IHwg5oSP5ZGzIHwg5Y2Y5L2NIHwg5pyA5bCPIHwg5pyA5aSnIAotLS0gfCAtLS0gfCAtLS0gfCAtLS0gfCAtLS0KZnJpY3Rpb24gfCDjgb7jgZXjgaTkv4LmlbAgfCDlgI0gfCAwIHwgMQpyZXN0aXR1dGlvbiB8IOWPjeeZuuS/guaVsCB8IOWAjSB8IDAgfCAxCmRlbnNpdHkgfCDlr4bluqYgfCAqa2cgbV4tMiogfCAwIHwgSW5maW5pdHkKYW5nbGUgfCDop5LluqYgfCAqcmFkKiB8IC1NYXRoLlBJIHwgTWF0aC5QSQppc1N0YXRpYyB8IOmdmeatouOBmeOCi+OBi+OBqeOBhuOBiyB8IOODleODqeOCsCB8IGZhbHNlIHwgdHJ1ZSAKCgojIyAhW+aUuemAoOOBmeOCi10oYXZhbGFuY2hlL21haW4uanMpCgoKIyMg5aSJ5o+b6KGoCgrjgbXjgaTjgYbjga7op5LluqYgfCDjg6njgrjjgqLjg7Pop5IKLS0tIHwgLS0tIAowIHwgMCAKNDUgfCBNYXRoLlBJICogMC4yNQo5MCB8IE1hdGguUEkgKiAwLjUKMTgwIHwgTWF0aC5QSQoyNzAgfCBNYXRoLlBJICogMS41CjM2MCB8IE1hdGguUEkgKiAyCi0xODAgfCAtTWF0aC5QSQoKClvjg6Hjg4vjg6Xjg7zjgavmiLvjgotdKGluZGV4Lmh0bWwpCgoK","options":{"isTrashed":false},"credits":[]},{"name":"avalanche/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7lnYLpgZM8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJhdmFsYW5jaGUvbWFpbi5qcyI+PC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHk+CjwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"avalanche/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCXVzZSwKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUNvbXBvc2l0ZSwKCUNvbXBvc2l0ZXMsCglDb21tb24sCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgJ3BsdWdpbnMvd3JhcFBsdWdpbic7Cgp1c2UoCgknbWF0dGVyLXdyYXAnCik7CgoKaW1wb3J0IGVuZ2luZSBmcm9tICdlbmdpbmUnOwpjb25zdCB3b3JsZCA9IGVuZ2luZS53b3JsZDsKCmltcG9ydCByZW5kZXIgZnJvbSAncmVuZGVyJzsKUmVuZGVyLnJ1bihyZW5kZXIpOwoKY29uc3QgcnVubmVyID0gUnVubmVyLmNyZWF0ZSgpOwpSdW5uZXIucnVuKHJ1bm5lciwgZW5naW5lKTsKCgovLyDou6LjgYzjgaPjgabjgYTjgovjg5zjg7zjg6sKY29uc3Qgc3RhY2sgPSBDb21wb3NpdGVzLnN0YWNrKDIwLCAyMCwgMjAsIDUsIDAsIDAsICh4LCB5KeOAgCA9PiB7CglyZXR1cm4gQm9kaWVzLmNpcmNsZSh4LCB5LCBDb21tb24ucmFuZG9tKDEwLCAyMCksIHsKCQlmcmljdGlvbjogMC4wMDAwMSwKCQlyZXN0aXR1dGlvbjogMC41LAoJCWRlbnNpdHk6IDAuMDAxCgl9KTsKfSk7CgpXb3JsZC5hZGQod29ybGQsIHN0YWNrKTsKCldvcmxkLmFkZCh3b3JsZCwgWwoJLy8g5Z2C6YGTCglCb2RpZXMucmVjdGFuZ2xlKDIwMCwgMTUwLCA3MDAsIDIwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgkJYW5nbGU6IE1hdGguUEkgKiAwLjA2Cgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoNTAwLCAzNTAsIDcwMCwgMjAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCQlhbmdsZTogLU1hdGguUEkgKiAwLjA2Cgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoMzQwLCA1ODAsIDcwMCwgMjAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCQlhbmdsZTogTWF0aC5QSSAqIDAuMDQKCX0pCl0pOwoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgpyZW5kZXIubW91c2UgPSBtb3VzZTsKCgovLyDnlLvpnaLnq6/jgYvjgonlj43lr77jga7nq6/jgbjnp7vli5XjgZnjgovjg5fjg6njgrDjgqTjg7Pjga7oqK3lrpoKZm9yIChjb25zdCBib2R5IG9mIHN0YWNrLmJvZGllcykgewoJYm9keS5wbHVnaW4gPSBib2R5LnBsdWdpbiB8fCB7fTsKCWJvZHkucGx1Z2luLndyYXAgPSB7CgkJbWluOiB7CgkJCXg6IHJlbmRlci5ib3VuZHMubWluLngsCgkJCXk6IHJlbmRlci5ib3VuZHMubWluLnkKCQl9LAoJCW1heDogewoJCQl4OiByZW5kZXIuYm91bmRzLm1heC54LAoJCQl5OiByZW5kZXIuYm91bmRzLm1heC55CgkJfQoJfTsKfQoKCmZlZWxlcy5vcGVuUmVhZG1lKCdhdmFsYW5jaGUvUkVBRE1FLm1kJyk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"ballPool/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjg5zjg7zjg6vjg5fjg7zjg6sKCmBtYXR0ZXItd3JhcGAg44OX44Op44Kw44Kk44Oz44KS5L2/44GG44Go44CB55S76Z2i56uv44GL44KJ5Ye644Gf44Kq44OW44K444Kn44Kv44OI44GMICAK5Y+N5a++44Gu56uv44GL44KJ5Ye644Gm44GP44KL44KI44GG44Gr44Gn44GN44KL44KIICAKCiMjIOODkeODqeODoeODvOOCvwrjg5Hjg6njg6Hjg7zjgr8gfCDmhI/lkbMgfCDljZjkvY0gfCDmnIDlsI8gfCDmnIDlpKcgCi0tLSB8IC0tLSB8IC0tLSB8IC0tLSB8IC0tLQpyZXN0aXR1dGlvbiB8IOWPjeeZuuS/guaVsCB8IOWAjSB8IDAgfCAxCmZyaWN0aW9uIHwg44G+44GV44Gk5L+C5pWwIHwg5YCNIHwgMCB8IDEKaXNTdGF0aWMgfCDpnZnmraLjgZnjgovjgYvjganjgYbjgYsgfCDjg5Xjg6njgrAgfCBmYWxzZSB8IHRydWUgCgojIyAhW+aUuemAoOOBmeOCi10oYmFsbFBvb2wvbWFpbi5qcykKCgpb44Oh44OL44Ol44O844Gr5oi744KLXShpbmRleC5odG1sKQoKCg==","options":{"isTrashed":false},"credits":[]},{"name":"ballPool/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jg5zjg7zjg6vjg5fjg7zjg6s8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJiYWxsUG9vbC9tYWluLmpzIj48L3NjcmlwdD4KPC9oZWFkPgo8Ym9keT4KPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"ballPool/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCXVzZSwKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUNvbXBvc2l0ZSwKCUNvbXBvc2l0ZXMsCglDb21tb24sCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgJ3BsdWdpbnMvd3JhcFBsdWdpbic7Cgp1c2UoCgknbWF0dGVyLXdyYXAnCik7CgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpSZW5kZXIucnVuKHJlbmRlcik7CgovLyBjcmVhdGUgcnVubmVyCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgovLyDluooKV29ybGQuYWRkKHdvcmxkLCBbCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjAwLCAxMjAwLCA1MC41LCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pCl0pOwoKLy8g5Li444Gf44GhCmNvbnN0IHN0YWNrID0gQ29tcG9zaXRlcy5zdGFjaygxMDAsIDAsIDEwLCA4LCAxMCwgMTAsICh4LCB5KSA9PiB7CglyZXR1cm4gQm9kaWVzLmNpcmNsZSh4LCB5LCBDb21tb24ucmFuZG9tKDE1LCAzMCksIHsKCQlyZXN0aXR1dGlvbjogMC42LAoJCWZyaWN0aW9uOiAwLjEKCX0pOwp9KTsKCldvcmxkLmFkZCh3b3JsZCwgWwoJc3RhY2ssCgkvLyAJ5LiJ6KeS5b2iCglCb2RpZXMucG9seWdvbigyMDAsIDQ2MCwgMywgNjApLAoJLy8gCeS6lOinkuW9ogoJQm9kaWVzLnBvbHlnb24oNDAwLCA0NjAsIDUsIDYwKSwKCS8vIAnmraPmlrnlvaIKCUJvZGllcy5yZWN0YW5nbGUoNjAwLCA0NjAsIDgwLCA4MCkKXSk7CgovLyDjg57jgqbjgrnmk43kvZwKY29uc3QgbW91c2UgPSBNb3VzZS5jcmVhdGUocmVuZGVyLmNhbnZhcyk7CmNvbnN0IG1vdXNlQ29uc3RyYWludCA9IE1vdXNlQ29uc3RyYWludC5jcmVhdGUoZW5naW5lLCB7Cgltb3VzZTogbW91c2UsCgljb25zdHJhaW50OiB7CgkJc3RpZmZuZXNzOiAwLjIsCgkJcmVuZGVyOiB7CgkJCXZpc2libGU6IGZhbHNlCgkJfQoJfQp9KTsKCldvcmxkLmFkZCh3b3JsZCwgbW91c2VDb25zdHJhaW50KTsKCi8vIGtlZXAgdGhlIG1vdXNlIGluIHN5bmMgd2l0aCByZW5kZXJpbmcKcmVuZGVyLm1vdXNlID0gbW91c2U7CgoKLy8g55S76Z2i56uv44GL44KJ5Y+N5a++44Gu56uv44Gr56e75YuV44GZ44KL44OX44Op44Kw44Kk44Oz44Gu6Kit5a6aCmNvbnN0IGFsbEJvZGllcyA9IENvbXBvc2l0ZS5hbGxCb2RpZXMod29ybGQpOwoKZm9yIChjb25zdCBib2R5IG9mIGFsbEJvZGllcykgewoJYm9keS5wbHVnaW4gPSB7CgkJd3JhcDogewoJCQltaW46IHsKCQkJCXg6IHJlbmRlci5ib3VuZHMubWluLnggLSAxMDAsCgkJCQl5OiByZW5kZXIuYm91bmRzLm1pbi55CgkJCX0sCgkJCW1heDogewoJCQkJeDogcmVuZGVyLmJvdW5kcy5tYXgueCArIDEwMCwKCQkJCXk6IHJlbmRlci5ib3VuZHMubWF4LnkKCQkJfQoJCX0KCX07Cn0KCgpmZWVsZXMub3BlblJlYWRtZSgnYmFsbFBvb2wvUkVBRE1FLm1kJyk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"bridge/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjg5bjg6rjg4PjgrgKICAK5qmL5L2c44Gj44Gm44G/44GfCgpb44Oh44OL44Ol44O844Gr5oi744KLXShpbmRleC5odG1sKQoKCiMjIOOBqeOBhuOChOOBo+OBpuS9nOOBo+OBpuOCi+OBru+8nwoK44GT44KM44KJ44KS57WE44G/5ZCI44KP44Gb44Gm44GE44KL44KIICAKPiDjgq/jg6rjg4Pjgq/jgZnjgovjgajjgrXjg7Pjg5fjg6vjgavnp7vli5XjgZfjgb7jgZkKCuapi+OCkuS9nOOCi+OBq+OBr+KAplvjg5Djg41dKGNvbnN0cmFpbnQvaW5kZXguaHRtbCkg44GoIFvjg63jg7zjg5ddKGNoYWlucy9pbmRleC5odG1sKSAgCgojIyDmlLnpgKDjgavmjJHmiKbjgZfjgabjgb/jgosKCiFb5qmL44KS5L2c44KLXShicmlkZ2UvbWFpbi5qcykgIAohW+OCueODhuODvOOCuF0oYnJpZGdlL3N0YWdlLmpzKSAgCiFb6Kit5a6aXShicmlkZ2Uvc2V0dGluZy5qcykKCg==","options":{"isTrashed":false},"credits":[]},{"name":"bridge/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jg5bjg6rjg4Pjgrg8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJicmlkZ2UvbWFpbi5qcyI+PC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHk+CjwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"bridge/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUJvZHksCglDb21wb3NpdGVzLAoJQ29uc3RyYWludCwKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCgovLyDmqYvjga7kuK3jga7jgqrjg5bjgrjjgqfjgq/jg4jlkIzlo6vjgYzjgbbjgaTjgYvjgonjgarjgYTjgojjgYbjgavjgZnjgovjgZ/jgoHjga7jgrDjg6vjg7zjg5cKY29uc3QgZ3JvdXAxID0gQm9keS5uZXh0R3JvdXAodHJ1ZSk7CgovLyDmqYvjga7jgqrjg5bjgrjjgqfjgq/jg4jjga7jgrnjgr/jg4Pjgq8KY29uc3QgYnJpZGdlID0gQ29tcG9zaXRlcy5zdGFjaygxNTAsIDMwMCwgOSwgMSwgMTAsIDEwLCAoeCwgeSkgPT4gewoJcmV0dXJuIEJvZGllcy5yZWN0YW5nbGUoeCwgeSwgNTAsIDIwLCB7CgkJY29sbGlzaW9uRmlsdGVyOiB7CgkJCWdyb3VwOiBncm91cDEsCgkJfSwKCQkKCX0pOwp9KTsKCi8vIOapi+OBruOCquODluOCuOOCp+OCr+ODiOOCkuODgeOCp+ODvOODs+OBp+OBpOOBquOBkApDb21wb3NpdGVzLmNoYWluKGJyaWRnZSwgMC41LCAwLCAtMC41LCAwLCB7CgkvLyDjg5Djg43jga7lvLfjgZUKCXN0aWZmbmVzczogMC45LAoJCn0pOwoKCgpXb3JsZC5hZGQod29ybGQsIFsKCS8vIOapi+OBruOCueOCv+ODg+OCrwoJYnJpZGdlLAoJCgkvLyAJ5bem5YG044KS5Zu65a6a44GZ44KLCglDb25zdHJhaW50LmNyZWF0ZSh7CgkJLy8g5Zu65a6a44GZ44KL54K5CgkJcG9pbnRBOiB7CgkJCXg6IDE0MCwKCQkJeTogMzAwCgkJfSwKCQkvLyDmqYvjga7kuIDnlarlt6bjga7jgqrjg5bjgrjjgqfjgq/jg4gKCQlib2R5QjogYnJpZGdlLmJvZGllc1swXSwKCQkvLyDjgqrjg5bjgrjjgqfjgq/jg4jjga7lt6bnq6/jgpLlm7rlrpoKCQlwb2ludEI6IHsKCQkJeDogLTI1LAoJCQl5OiAwCgkJfSwKCQkKCX0pLAoJCgkvLyAJ5Y+z5YG044KS5Zu65a6a44GZ44KLCglDb25zdHJhaW50LmNyZWF0ZSh7CgkJLy8g5Zu65a6a44GZ44KL54K5CgkJcG9pbnRBOiB7CgkJCXg6IDY2MCwKCQkJeTogMzAwCgkJfSwKCQkvLyDmqYvjga7kuIDnlarlj7Pjga7jgqrjg5bjgrjjgqfjgq/jg4gKCQlib2R5QjogYnJpZGdlLmJvZGllc1s4XSwKCQkvLyDjgqrjg5bjgrjjgqfjgq/jg4jjga7lj7Pnq6/jgpLlm7rlrpoKCQlwb2ludEI6IHsKCQkJeDogMjUsCgkJCXk6IDAKCQl9LAoJCQoJfSksCgkKXSk7CgoKCmltcG9ydCAnLi9zdGFnZSc7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"bridge/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpSZW5kZXIucnVuKHJlbmRlcik7CnJlbmRlci5vcHRpb25zLmJhY2tncm91bmQgPSAnI2FhYWFhYSc7Cgpjb25zdCBydW5uZXIgPSBSdW5uZXIuY3JlYXRlKCk7ClJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpOwoKCi8vIOODnuOCpuOCueaTjeS9nApjb25zdCBtb3VzZSA9IE1vdXNlLmNyZWF0ZShyZW5kZXIuY2FudmFzKTsKY29uc3QgbW91c2VDb25zdHJhaW50ID0gTW91c2VDb25zdHJhaW50LmNyZWF0ZShlbmdpbmUsIHsKCW1vdXNlOiBtb3VzZSwKCWNvbnN0cmFpbnQ6IHsKCQlzdGlmZm5lc3M6IDAuMiwKCQlyZW5kZXI6IHsKCQkJdmlzaWJsZTogZmFsc2UKCQl9Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBtb3VzZUNvbnN0cmFpbnQpOwoKLy8ga2VlcCB0aGUgbW91c2UgaW4gc3luYyB3aXRoIHJlbmRlcmluZwpyZW5kZXIubW91c2UgPSBtb3VzZTsKCgpmZWVsZXMub3BlblJlYWRtZSgnYnJpZGdlL1JFQURNRS5tZCcpOwoKCmV4cG9ydCB7CgllbmdpbmUsCgl3b3JsZCwKCXJlbmRlciwKfTsK","options":{"isTrashed":false},"credits":[]},{"name":"bridge/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUNvbXBvc2l0ZXMsCglXb3JsZCwKCUJvZGllcywKCUNvbW1vbiwKfSBmcm9tICdtYXR0ZXInOwoKaW1wb3J0IHsKCXdvcmxkLAp9IGZyb20gJy4vc2V0dGluZyc7CgoKV29ybGQuYWRkKHdvcmxkLCBbCgkvLyAJ5bem44Gu5aSn44GN44Gq5Zub6KeSCglCb2RpZXMucmVjdGFuZ2xlKDgwLCA0NDAsIDEyMCwgMjgwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgl9KSwKCgkvLyAJ5Y+z44Gu5aSn44GN44Gq5Zub6KeSCglCb2RpZXMucmVjdGFuZ2xlKDcyMCwgNDQwLCAxMjAsIDI4MCwgewoJCWlzU3RhdGljOiB0cnVlLAoJfSksCgoJLy8g5LiK44Gr5LmX44Gj44Gm44GE44KL44Kq44OW44K444Kn44Kv44OI44Gu44K544K/44OD44KvCglDb21wb3NpdGVzLnN0YWNrKDIwMCwgNDAsIDYsIDMsIDAsIDAsICh4LCB5KSA9PiB7CgkJcmV0dXJuIEJvZGllcy5wb2x5Z29uKHgsIHksIE1hdGgucm91bmQoQ29tbW9uLnJhbmRvbSgxLCA4KSksIENvbW1vbi5yYW5kb20oMjAsIDQwKSk7Cgl9KSwKCl0pOw==","options":{"isTrashed":false},"credits":[]},{"name":"broadphase/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjg5bjg63jg7zjg4njg5Xjgqfjg7zjgroKCgpNYXR0ZXIuanMg44Gr44Gv44CB6auY6YCf5YyW44Gu44Gf44KB44GrICoq44OW44Ot44O844OJ44OV44Kn44O844K6Kiog44GM5Yip55So44GV44KM44Gm44GE44KL44KT44GgICAK44Gd44KM44KS55uu44Gn6KaL44GI44KL44KI44GG44Gr44GX44Gf44Gu44GM44CB6buE6Imy44GE5p6g44Gg44KICgojIyDjg5bjg63jg7zjg4njg5Xjgqfjg7zjgrrjgaPjgabvvJ8KCuOBguOCi+OCquODluOCuOOCp+OCr+ODiOOBqOWIpeOBruOCquODluOCuOOCp+OCr+ODiOOBjOmHjeOBquOBo+OBpuOBhOOCi+OBi++8iOOBtuOBpOOBi+OBo+OBn+OBi++8ieOBqOOBhOOBhuOBruOBr+OAgSAgCuWLleOBjeOCkuioiOeul+OBmeOCi+S4iuOBp+OAgeOBi+OBi+OBm+OBquOBhOaDheWgseOBoOOCiOOBrQoK44Gn44KC44CB55S76Z2i5LiK44Gr44GC44KL44Kq44OW44K444Kn44Kv44OI44KS44Gy44Go44Gk44Gy44Go44Gk6KiI566X44GX44Gm44GE44KL44Go44CBICAK44Kq44OW44K444Kn44Kv44OI44GMIDEwIOWAi+OBquOCieOAgeOBiuOCiOOBnSAxMDAg5ZueLiAgCuOCquODluOCuOOCp+OCr+ODiOOBjCAxMDAg5YCL44Gq44KJ44CB44GK44KI44GdIDEwMDAwIOWbni4gIArjgqrjg5bjgrjjgqfjgq/jg4jjgYwgMTAwMCDlgIvjgarjgonjgIHjgYrjgojjgZ0gMTAwMDAwMCDlm54uLi4gIArjgajjgIHjgajjgaPjgabjgoLjgZ/jgY/jgZXjgpPjga7jg5Hjgr/jg7zjg7PjgpLoqIjnrpfjgZnjgovlv4XopoHjgYzjgYLjgovjgpPjgaAKCuOBneOBk+OBp+OAgSAqKue1tuWvvuOBq+OBtuOBpOOBi+OCieOBquOBhOOBj+OCieOBhOOBq+mbouOCjOOBpuOBhOOCi+OCquODluOCuOOCp+OCr+ODiOWQjOWjq+OBr+OAgeioiOeul+OCkuecgeeVpeOBmeOCiyoqIOOCiCAgCuacrOadpeOBruOCquODluOCuOOCp+OCr+ODiOOBr+WkmuinkuW9ou+8iOS4ieinkuOAgeWbm+inkuOAgeS6lOinkuKApuKApu+8ieOBoOOBkeOBqeOAgSAgCuOBneOCjOOCieOCkiAqKuOBiuOBiuOBluOBo+OBseOBquW9oioqIO+8iOmVt+aWueW9ouOBq+OBmeOCi+OBk+OBqOOBjOWkmuOBhO+8ieOBq+OBl+OBpuOBi+OCieOAgeioiOeul+OBmeOCi+OCk+OBoCAgCuOBk+OBruW9ouOBr+W/heOBmiAqKuWFg+OBruW9ouOCiOOCiuWkp+OBjeOBj+OBquOBj+OBoeOCg+OBhOOBkeOBquOBhCoqIOOCiOOAgiAgCuODm+ODs+ODiOOBr+mHjeOBquOBo+OBpuOCi+OBruOBq+OAgeW9ouOBjOWkieOCj+OBo+OBn+OBm+OBhOOBp+mbouOCjOOBn+OCieOBhOOBkeOBquOBhOOBi+OCieOBrQo+IOOBk+OBrumDqOWIhuOBruioiOeul+OCkuOAjOODluODreODvOODieODleOCp+ODvOOCuuOAjeOBqOWRvOOBtuOCiPCfjJ8KCuODluODreODvOODieODleOCp+ODvOOCuuOBjOe1guOCj+OBo+OBn+OCieOAgeOAjOmHjeOBquOBo+OBpuOCi+OBi+OCguefpeOCjOOBquOBhOOAjeOCguOBruOBoOOBkeOCkumbhuOCgeOBpuOAgSAgCuOBoeOCg+OCk+OBqOOBl+OBn+ioiOeul+OCkuihjOOBhuOCiAo+IOOBk+OBrumDqOWIhuOBruioiOeul+OCkuOAjOODiuODreODvOODleOCp+ODvOOCuuOAjeOBqOWRvOOBtuOCiPCfjIoKCgojIyAhW+aUuemAoOOBmeOCi10oYnJvYWRwaGFzZS9tYWluLmpzKQoKCiMjIOODkeODqeODoeODvOOCvwrjg5Hjg6njg6Hjg7zjgr8gfCDmhI/lkbMgfCDljZjkvY0gfCDmnIDlsI8gfCDmnIDlpKcgCi0tLSB8IC0tLSB8IC0tLSB8IC0tLSB8IC0tLQppc1N0YXRpYyB8IOmdmeatouOBmeOCi+OBi+OBqeOBhuOBiyB8IOODleODqeOCsCB8IGZhbHNlIHwgdHJ1ZSAKCgpb44Oh44OL44Ol44O844Gr5oi744KLXShpbmRleC5odG1sKQoK","options":{"isTrashed":false},"credits":[]},{"name":"broadphase/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jg5bjg63jg7zjg4njg5Xjgqfjg7zjgro8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJicm9hZHBoYXNlL21haW4uanMiPjwvc2NyaXB0Pgo8L2hlYWQ+Cjxib2R5Pgo8L2JvZHk+CjwvaHRtbD4=","options":{"isTrashed":false},"credits":[]},{"name":"broadphase/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUNvbXBvc2l0ZXMsCglDb21tb24sCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgoKaW1wb3J0IGVuZ2luZSBmcm9tICdlbmdpbmUnOwpjb25zdCB3b3JsZCA9IGVuZ2luZS53b3JsZDsKCmltcG9ydCByZW5kZXIgZnJvbSAncmVuZGVyJzsKcmVuZGVyLm9wdGlvbnMuc2hvd0Jyb2FkcGhhc2UgPSB0cnVlOwpSZW5kZXIucnVuKHJlbmRlcik7Cgpjb25zdCBydW5uZXIgPSBSdW5uZXIuY3JlYXRlKCk7ClJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpOwoKCldvcmxkLmFkZCh3b3JsZCwgWwoJLy8g5aOBCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCA2MDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDgwMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSgwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSkKXSk7CgovLyDkuK3jga7jgqrjg5bjgrjjgqfjgq/jg4gKY29uc3Qgc3RhY2sgPSBDb21wb3NpdGVzLnN0YWNrKDIwLCAyMCwgMTIsIDUsIDAsIDAsICh4LCB5KSA9PiB7Cglzd2l0Y2ggKE1hdGgucm91bmQoQ29tbW9uLnJhbmRvbSgwLCAxKSkpIHsKCgkJY2FzZSAwOgoJCQlpZiAoQ29tbW9uLnJhbmRvbSgpIDwgMC44KSB7CgkJCQlyZXR1cm4gQm9kaWVzLnJlY3RhbmdsZSh4LCB5LCBDb21tb24ucmFuZG9tKDIwLCA1MCksIENvbW1vbi5yYW5kb20oMjAsIDUwKSk7CgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gQm9kaWVzLnJlY3RhbmdsZSh4LCB5LCBDb21tb24ucmFuZG9tKDgwLCAxMjApLCBDb21tb24ucmFuZG9tKDIwLCAzMCkpOwoJCQl9CgkJCWJyZWFrOwoJCWNhc2UgMToKCQkJcmV0dXJuIEJvZGllcy5wb2x5Z29uKHgsIHksIE1hdGgucm91bmQoQ29tbW9uLnJhbmRvbSgxLCA4KSksIENvbW1vbi5yYW5kb20oMjAsIDUwKSk7CgoJfQp9KTsKCldvcmxkLmFkZCh3b3JsZCwgc3RhY2spOwoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdicm9hZHBoYXNlL1JFQURNRS5tZCcpOwo=","options":{"isTrashed":false},"credits":[]},{"name":"car/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDou4oKCui7iuOBk+OCjeOBjOOBl+OBpuOBv+OBnwoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCiMjIOaUuemAoOOBl+OBpuOBv+OCiwoKIVvjgZPjgZPjgYvjgonlp4vjgoHjgotdKGNhci9tYWluLmpzKQoKQ29tcG9zaXRlcy5jYXIoYDFgLCBgMmAsIGAzYCwgYDRgLCBgNWApCnwgfCDmhI/lkbMgfCDjga/jgpPjgYQKLS0tIHwgLS0tIHwgLS0tIAoxIHwg5bem44GL44KJ44Gu44Kt44On44OqIHwgMCB+IDgwMAoyIHwg5LiK44GL44KJ44Gu44Kt44On44OqIHwgMCB+IDYwMCAKMyB8IOi7iuOBruaoquW5hSB8IDAgfiAgCjQgfCDou4rjga7pq5jjgZUgfCAwIH4gIAo1IHwg44K/44Kk44Ok44Gu5aSn44GN44GVIHwgMCB+ICAKCuOCguOBo+OBqOaUuemAoAohW+ioreWuml0oY2FyL3NldHRpbmcuanMpCiFb44GL44G544O744KG44GLXShjYXIvc3RhZ2UuanMpCgo=","options":{"isTrashed":false},"credits":[]},{"name":"car/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7ou4o8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJjYXIvbWFpbi5qcyI+PC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHk+CjwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"car/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUNvbXBvc2l0ZXMsCglXb3JsZCwKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKaW1wb3J0IHsKCXdvcmxkLAp9IGZyb20gJy4vc2V0dGluZyc7CgpXb3JsZC5hZGQod29ybGQsIFsKCgkvLyDou4oKCUNvbXBvc2l0ZXMuY2FyKDE1MCwgMTAwLCAxMDAsIDQwLCAzMCksCgpdKTsKCgoKCgoKCgoKCmltcG9ydCAnLi9zdGFnZSc7","options":{"isTrashed":false},"credits":[]},{"name":"car/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpyZW5kZXIub3B0aW9ucy5zaG93QW5nbGVJbmRpY2F0b3IgPSB0cnVlOwpyZW5kZXIub3B0aW9ucy5zaG93Q29sbGlzaW9ucyA9IHRydWU7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKCi8vIOODnuOCpuOCueaTjeS9nApjb25zdCBtb3VzZSA9IE1vdXNlLmNyZWF0ZShyZW5kZXIuY2FudmFzKTsKY29uc3QgbW91c2VDb25zdHJhaW50ID0gTW91c2VDb25zdHJhaW50LmNyZWF0ZShlbmdpbmUsIHsKCW1vdXNlOiBtb3VzZSwKCWNvbnN0cmFpbnQ6IHsKCQlzdGlmZm5lc3M6IDAuMiwKCQlyZW5kZXI6IHsKCQkJdmlzaWJsZTogZmFsc2UKCQl9Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBtb3VzZUNvbnN0cmFpbnQpOwoKLy8ga2VlcCB0aGUgbW91c2UgaW4gc3luYyB3aXRoIHJlbmRlcmluZwpyZW5kZXIubW91c2UgPSBtb3VzZTsKCgpmZWVsZXMub3BlblJlYWRtZSgnY2FyL1JFQURNRS5tZCcpOwoKCmV4cG9ydCB7CgllbmdpbmUsCgl3b3JsZCwKCXJlbmRlciwKfTsK","options":{"isTrashed":false},"credits":[]},{"name":"car/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCgpXb3JsZC5hZGQod29ybGQsIFsKCS8vIAnlo4EKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCA2MDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg4MDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlLAoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlLAoJfSksCgkKCS8vIAnlnYLpgZMKCUJvZGllcy5yZWN0YW5nbGUoMjAwLCAxNTAsIDQwMCwgMjAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCQlhbmdsZTogTWF0aC5QSSAqIDAuMDYsCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoNTUwLCAzNTAsIDY1MCwgMjAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCQlhbmdsZTogLU1hdGguUEkgKiAwLjA2LAoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDMwMCwgNTYwLCA2MDAsIDIwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgkJYW5nbGU6IE1hdGguUEkgKiAwLjA0LAoJfSksCgkKXSk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"catapult/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDnmbrlsITlj7AKCuOBteOBo+OBqOOBsOOBl+OBpuOChOOBo+OBn+OBnPCfkqUKClvjg6Hjg4vjg6Xjg7zjgavmiLvjgotdKGluZGV4Lmh0bWwpCgoKIyMg44Gp44GG44KE44Gj44Gm5L2c44Gj44Gm44KL44Gu77yfCgrjgZPjgozjgonjgpLntYTjgb/lkIjjgo/jgZvjgabjgYTjgovjgoggIAo+IOOCr+ODquODg+OCr+OBmeOCi+OBqOOCteODs+ODl+ODq+OBq+enu+WLleOBl+OBvuOBmQoK6YeN44GV44KS5aSJ44GI44KL44Gr44Gv4oCmW+OBiuOCguOBlV0oZGVuc2l0eS9pbmRleC5odG1sKSAgCuOCt+ODvOOCveODvOOCkuS9nOOCi+OBq+OBr+KAplvjg5Djg41dKGNvbnN0cmFpbnQvaW5kZXguaHRtbCkgIArjgrnjg4jjg4Pjg5Hjg7zjgpLkvZzjgovjgavjga/igKZb44GL44G544O744KG44GLXShpc1N0YXRpYy9pbmRleC5odG1sKSAgCgojIyDmlLnpgKDjgavmjJHmiKbjgZfjgabjgb/jgosKCiFb55m65bCE5Y+w44KS5L2c44KLXShjYXRhcHVsdC9tYWluLmpzKSAgCiFb44K544OG44O844K4XShjYXRhcHVsdC9zdGFnZS5qcykgIAohW+ioreWuml0oY2F0YXB1bHQvc2V0dGluZy5qcykKCg==","options":{"isTrashed":false},"credits":[]},{"name":"catapult/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7nmbrlsITlj7A8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJjYXRhcHVsdC9tYWluLmpzIj48L3NjcmlwdD4KPC9oZWFkPgo8Ym9keT4KPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"catapult/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUNvbXBvc2l0ZXMsCglDb25zdHJhaW50LAoJV29ybGQsCglCb2RpZXMsCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCB7Cgl3b3JsZCwKfSBmcm9tICcuL3NldHRpbmcnOwoKCi8vIOWPsOOCkuOBpOOBj+OCiwpjb25zdCBjYXRhcHVsdCA9IEJvZGllcy5yZWN0YW5nbGUoNDAwLCA1MjAsIDMyMCwgMjApOwoKV29ybGQuYWRkKHdvcmxkLCBbCgkvLyDlj7Djga7jgqrjg5bjgrjjgqfjgq/jg4gKCWNhdGFwdWx0LAoKCS8vIOWPsOOCkuWbuuWumuOBmeOCi+ODkOODjSAxCglDb25zdHJhaW50LmNyZWF0ZSh7CgkJLy8g5Zu65a6a44GZ44KL44Kq44OW44K444Kn44Kv44OICgkJYm9keUE6IGNhdGFwdWx0LAoJCS8vIOWbuuWumuOBmeOCi+ODneOCpOODs+ODiAoJCXBvaW50QjogewoJCQl4OiAzOTAsCgkJCXk6IDU4MAoJCX0sCgoJfSksCgoJLy8g5Y+w44KS5Zu65a6a44GZ44KL44OQ44ONIDIKCUNvbnN0cmFpbnQuY3JlYXRlKHsKCQkvLyDlm7rlrprjgZnjgovjgqrjg5bjgrjjgqfjgq/jg4gKCQlib2R5QTogY2F0YXB1bHQsCgkJLy8g5Zu65a6a44GZ44KL44Od44Kk44Oz44OICgkJcG9pbnRCOiB7CgkJCXg6IDQxMCwKCQkJeTogNTgwCgkJfSwKCgl9KSwKCgkvLyDlt6bkuIvjgavjgYLjgovjgrnjg4jjg4Pjg5Hjg7wKCUJvZGllcy5yZWN0YW5nbGUoMjUwLCA1NTUsIDIwLCA1MCwgewoJCS8vIOWbuuWumuOBmeOCiwoJCWlzU3RhdGljOiB0cnVlLAoKCX0pLAoKCS8vIOiQveOBoeOBpuOBj+OCi+Wkp+OBjeOBquWGhgoJQm9kaWVzLmNpcmNsZSg1NjAsIDEwMCwgNTAsIHsKCQkvLyDjgYrjgoLjgZUKCQlkZW5zaXR5OiAwLjAwMDAwMDAwMDUsCgoJfSksCgpdKTsKCgoKaW1wb3J0ICcuL3N0YWdlJzsK","options":{"isTrashed":false},"credits":[]},{"name":"catapult/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpyZW5kZXIub3B0aW9ucy5zaG93QW5nbGVJbmRpY2F0b3IgPSB0cnVlOwpyZW5kZXIub3B0aW9ucy5zaG93Q29sbGlzaW9ucyA9IHRydWU7CnJlbmRlci5vcHRpb25zLnNob3dWZWxvY2l0eSA9IHRydWU7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdjYXRhcHVsdC9SRUFETUUubWQnKTsKCgpleHBvcnQgewoJZW5naW5lLAoJd29ybGQsCglyZW5kZXIsCn07Cg==","options":{"isTrashed":false},"credits":[]},{"name":"catapult/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUNvbXBvc2l0ZXMsCglXb3JsZCwKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKaW1wb3J0IHsKCXdvcmxkLAp9IGZyb20gJy4vc2V0dGluZyc7CgoKV29ybGQuYWRkKHdvcmxkLCBbCgkvLyDlsI/jgZXjgarjgqrjg5bjgrjjgqfjgq/jg4jjga7jgrnjgr/jg4Pjgq8KCUNvbXBvc2l0ZXMuc3RhY2soMjUwLCAyNTUsIDEsIDYsIDAsIDAsICh4LCB5KSA9PiB7CgkJcmV0dXJuIEJvZGllcy5yZWN0YW5nbGUoeCwgeSwgMzAsIDMwKTsKCX0pLAoKCS8vIOWcsOmdouOBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgODAwLCA1MC41LCB7CgkJaXNTdGF0aWM6IHRydWUsCgoJfSksCgpdKTsK","options":{"isTrashed":false},"credits":[]},{"name":"chains/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjg63jg7zjg5cKCuODgeOCp+ODvOODs+OBqOOCueOCv+ODg+OCr+OCkuS9v+OBo+OBpuOAgeOCquODluOCuOOCp+OCr+ODiOOBruODreODvOODl+OCkuS9nOOBo+OBpuOBv+OBnwoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgojIyDjganjgYbjgoTjgaPjgabkvZzjgaPjgabjgovjga7vvJ8KCuOBk+OCjOOCieOCkue1hOOBv+WQiOOCj+OBm+OBpuOBhOOCi+OCiCAgCj4g44Kv44Oq44OD44Kv44GZ44KL44Go44K144Oz44OX44Or44Gr56e75YuV44GX44G+44GZCgrjgqrjg5bjgrjjgqfjgq/jg4jjgpLkuIDmsJfjgavkuKbjgbnjgovjgavjga/igKZb44K544K/44OD44KvXShzdGFjay9pbmRleC5odG1sKSAgCuODreODvOODl+OCkuepuuS4reOBq+WbuuWumuOBmeOCi+OBq+OBr+KAplvjg5Djg41dKGNvbnN0cmFpbnQvaW5kZXguaHRtbCkgIAoKIyMg5pS56YCg44Gr5oyR5oim44GX44Gm44G/44KLCgohW+ODreODvOODl+OCkuS9nOOCi10oY2hhaW5zL21haW4uanMpICAKIVvoqK3lrppdKGNoYWlucy9zZXR0aW5nLmpzKQoKLSAtIC0KCiMjIOW/nOeUqOS+iwoKW+ODluODquODg+OCuF0oYnJpZGdlL2luZGV4Lmh0bWwpCgo=","options":{"isTrashed":false},"credits":[]},{"name":"chains/image.png","type":"image/png","lastModified":1492756455000,"composed":"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","options":{"isTrashed":false},"credits":[]},{"name":"chains/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jg63jg7zjg5c8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJjaGFpbnMvbWFpbi5qcyI+PC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHk+CjwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"chains/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUJvZHksCglDb21wb3NpdGUsCglDb21wb3NpdGVzLAoJQ29uc3RyYWludCwKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCgovLyDjg63jg7zjg5fjga7kuK3jga7jgqrjg5bjgrjjgqfjgq/jg4jlkIzlo6vjgYzjgbbjgaTjgYvjgonjgarjgYTjgojjgYbjgavjgZnjgovjgZ/jgoHjga7jgrDjg6vjg7zjg5cKY29uc3Qgcm9wZUdyb3VwID0gQm9keS5uZXh0R3JvdXAodHJ1ZSk7CgovLyDjg63jg7zjg5fjga7jgqrjg5bjgrjjgqfjgq/jg4jjga7jgrnjgr/jg4Pjgq8KY29uc3Qgcm9wZUEgPSBDb21wb3NpdGVzLnN0YWNrKDQwMCwgMTAwLCAxLCA4LCAwLCAxMCwgKHgsIHkpID0+IHsKCXJldHVybiBCb2RpZXMucmVjdGFuZ2xlKHgsIHksIDIwLCA1MCwgewoJCWNvbGxpc2lvbkZpbHRlcjogewoJCQlncm91cDogcm9wZUdyb3VwLAoJCX0sCgkJCgl9KTsKfSk7CldvcmxkLmFkZCh3b3JsZCwgcm9wZUEpOwoKLy8g44Ot44O844OX44KS44OB44Kn44O844Oz44Gn44Gk44Gq44GQCkNvbXBvc2l0ZXMuY2hhaW4ocm9wZUEsIDAsIDAuNSwgMCwgLTAuNSwgewoJc3RpZmZuZXNzOiAwLjgsCgkKfSk7CgovLyDlt6bjga7jg63jg7zjg5fjgpLnqbrkuK3jgavlm7rlrprjgZnjgosKQ29tcG9zaXRlLmFkZChyb3BlQSwgQ29uc3RyYWludC5jcmVhdGUoewoJYm9keUI6IHJvcGVBLmJvZGllc1swXSwKCXBvaW50QjogewoJCXg6IDAsCgkJeTogLTI1Cgl9LAoJcG9pbnRBOiB7CgkJeDogNDAwLAoJCXk6IDEwMAoJfSwKCXN0aWZmbmVzczogMC41LAp9KSk7Cgo=","options":{"isTrashed":false},"credits":[]},{"name":"chains/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpyZW5kZXIub3B0aW9ucy5zaG93QW5nbGVJbmRpY2F0b3IgPSB0cnVlOwpyZW5kZXIub3B0aW9ucy5zaG93Q29sbGlzaW9ucyA9IHRydWU7CnJlbmRlci5vcHRpb25zLnNob3dWZWxvY2l0eSA9IHRydWU7CnJlbmRlci5vcHRpb25zLmJhY2tncm91bmQgPSAnI2FhYWFhYSc7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdjaGFpbnMvUkVBRE1FLm1kJyk7CgoKZXhwb3J0IHsKCWVuZ2luZSwKCXdvcmxkLAoJcmVuZGVyLAp9Ow==","options":{"isTrashed":false},"credits":[]},{"name":"chamfer/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDop5LkuLggMQoK44Kq44OW44K444Kn44Kv44OI44Gu6KeS44KS5Li444GP44GX44Gm44G/44GfCgpb44Oh44OL44Ol44O844Gr5oi744KLXShpbmRleC5odG1sKQoKCiMjIOaUuemAoOOBl+OBpuOBv+OCiwoKIVvjgZPjgZPjgYvjgonlp4vjgoHjgotdKGNoYW1mZXIvbWFpbi5qcykKCgp8fHwg5oSP5ZGzIHwg44Gv44KT44GEIAotLS0gfCAtLS0gfCAtLS0gfCAtLS0KY2hhbWZlciB8IHwg6KeS44KS5Li444GP44GZ44KL44GL44Gp44GG44GLIHwgYHRydWVgIOOBquOCieS4uOOBj+OBquOCiyAKY2hhbWZlciB8IHJhZGl1cyB8IOS4uOOBv+OBruWkp+OBjeOBlSB8IDAgfiAKCuOCguOBo+OBqOaUuemAoAohW+ioreWuml0oY2hhbWZlci9zZXR0aW5nLmpzKQohW+OBi+OBueODu+OChuOBi10oY2hhbWZlci9zdGFnZS5qcykKCuinkuOBlOOBqOOBq+S4uOOBv+OCkuWkieOBiOOCi+OBq+OBrwpb6KeS5Li4IDJdKHJvdW5kZWQvaW5kZXguaHRtbCkK44KS6KaL44Gm44GtCgotIC0gLQoKIyMg5b+c55So5L6LCg==","options":{"isTrashed":false},"credits":[]},{"name":"chamfer/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7op5LkuLggMTwvdGl0bGU+CgkJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJzdHlsZS5jc3MiIC8+CgkJPHNjcmlwdCBzcmM9ImNoYW1mZXIvbWFpbi5qcyI+PC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHk+CjwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"chamfer/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nLmpzJzsKCldvcmxkLmFkZCh3b3JsZCwgWwoJCgkvLyDlt6bjga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5yZWN0YW5nbGUoMjAwLCA0MDAsIDIwMCwgMjAwLCB7CgkJLy8g6KeS44KS5Li444GP44GZ44KLCgkJY2hhbWZlcjogdHJ1ZSwKCQkKCX0pLAoJCgkvLyDkuK3jga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAxMDAsIDE1MCwgMTUwLCB7CgkJLy8g5Li444G/44Gu5aSn44GN44GV44KS44GL44GI44KLCgkJY2hhbWZlcjogewoJCQlyYWRpdXM6IDIsCgkJfSwKCQkKCX0pLAoJCgkvLyDlj7Pjga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5yZWN0YW5nbGUoNTUwLCAzMDAsIDMwMCwgMzAwLCB7CgkJLy8g5Li444G/44Gu5aSn44GN44GV44KS44GL44GI44KLCgkJY2hhbWZlcjogewoJCQlyYWRpdXM6IDQwLAoJCX0sCgkJCgl9KSwKCQpdKTsKCgppbXBvcnQgJy4vc3RhZ2UuanMnOwo=","options":{"isTrashed":false},"credits":[]},{"name":"chamfer/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKCVdvcmxkLAoJUnVubmVyLAoJTW91c2UsCglNb3VzZUNvbnN0cmFpbnQsCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKY29uc3Qgd29ybGQgPSBlbmdpbmUud29ybGQ7CgppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdjaGFtZmVyL1JFQURNRS5tZCcpOwoKCmV4cG9ydCB7CgllbmdpbmUsCgl3b3JsZCwKCXJlbmRlciwKfTsK","options":{"isTrashed":false},"credits":[]},{"name":"chamfer/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CmltcG9ydCB7Cgl3b3JsZCwKfSBmcm9tICcuL3NldHRpbmcnOwoKCi8vIOWjgQpXb3JsZC5hZGQod29ybGQsIFsKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoODAwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKXSk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"circleStack/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDlhobjga7jgrnjgr/jg4Pjgq8KCuOCueOCv+ODg+OCr+OCkuS9v+OBo+OBpuWGhuOBruOCquODluOCuOOCp+OCr+ODiOOCkuS4gOawl+OBq+WHuuOBl+OBpuOBv+OBnwoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgojIyDmlLnpgKDjgZfjgabjgb/jgosKCiFb44GT44GT44GL44KJ5aeL44KB44KLXShjaXJjbGVTdGFjay9tYWluLmpzKQoKKipDb21wb3NpdGVzLnN0YWNrKGAxYCwgYDJgLCBgM2AsIGA0YCwgYDVgLCBgNmAsICh4LCB5KSA9PiB7ICAK44CA44CAcmV0dXJuIEJvZGllcy5jaXJjbGUoeCwgeSwgYDdgKTsgIAp9KTsqKgoKfHwg5oSP5ZGzIHwg44Gv44KT44GECi0tLSB8IC0tLSB8IC0tLSAKMSB8IOW3puOBi+OCieOBruOCreODp+ODqiB8IDAgfiA4MDAKMiB8IOS4iuOBi+OCieOBruOCreODp+ODqiB8IDAgfiA2MDAKMyB8IOWPs+OBq+OBhOOBj+OBpOWHuuOBmeOBi++8iOaoqu+8iSB8IDAgfiAKNCB8IOS4i+OBq+OBhOOBj+OBpOWHuuOBmeOBi++8iOOCv+ODhu+8iSB8IDAgfiAKNSB8IOWIl+OBrumWk+OBi+OBj++8iOaoqu+8iSB8IDAgfiAKNiB8IOihjOOBrumWk+OBi+OBj++8iOOCv+ODhu+8iSB8IDAgfiAKNyB8IOWGhuOBruWNiuW+hCB8IDAgfiAKCgrjgoLjgaPjgajmlLnpgKAKIVvoqK3lrppdKGNpcmNsZVN0YWNrL3NldHRpbmcuanMpCiFb44GL44G544O744KG44GLXShjaXJjbGVTdGFjay9zdGFnZS5qcykKCi0gLSAtCgojIyDlv5znlKjkvosKCg==","options":{"isTrashed":false},"credits":[]},{"name":"circleStack/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7lhobjga7jgrnjgr/jg4Pjgq88L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJjaXJjbGVTdGFjay9tYWluLmpzIj48L3NjcmlwdD4KPC9oZWFkPgo8Ym9keT4KPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"circleStack/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAoJQ29tcG9zaXRlcywKCQp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCgpXb3JsZC5hZGQod29ybGQsIFsKCQoJLy8g5YaG44Gu44K544K/44OD44KvCglDb21wb3NpdGVzLnN0YWNrKDEwMCwgMTg1LCAxMCwgMTAsIDIwLCAwLCAoeCwgeSkgPT4gewoJCXJldHVybiBCb2RpZXMuY2lyY2xlKHgsIHksIDIwKTsKCX0pLAoJCl0pOwoKCgoKCgoKCmltcG9ydCAnLi9zdGFnZSc7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"circleStack/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUNvbXBvc2l0ZXMsCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAp9IGZyb20gJ21hdHRlcic7CgoKaW1wb3J0IGVuZ2luZSBmcm9tICdlbmdpbmUnOwpjb25zdCB3b3JsZCA9IGVuZ2luZS53b3JsZDsKCmltcG9ydCByZW5kZXIgZnJvbSAncmVuZGVyJzsKUmVuZGVyLnJ1bihyZW5kZXIpOwoKY29uc3QgcnVubmVyID0gUnVubmVyLmNyZWF0ZSgpOwpSdW5uZXIucnVuKHJ1bm5lciwgZW5naW5lKTsKCgovLyDjg57jgqbjgrnmk43kvZwKY29uc3QgbW91c2UgPSBNb3VzZS5jcmVhdGUocmVuZGVyLmNhbnZhcyk7CmNvbnN0IG1vdXNlQ29uc3RyYWludCA9IE1vdXNlQ29uc3RyYWludC5jcmVhdGUoZW5naW5lLCB7Cgltb3VzZTogbW91c2UsCgljb25zdHJhaW50OiB7CgkJc3RpZmZuZXNzOiAwLjIsCgkJcmVuZGVyOiB7CgkJCXZpc2libGU6IGZhbHNlCgkJfQoJfQp9KTsKCldvcmxkLmFkZCh3b3JsZCwgbW91c2VDb25zdHJhaW50KTsKCi8vIGtlZXAgdGhlIG1vdXNlIGluIHN5bmMgd2l0aCByZW5kZXJpbmcKcmVuZGVyLm1vdXNlID0gbW91c2U7CgoKZmVlbGVzLm9wZW5SZWFkbWUoJ2NpcmNsZVN0YWNrL1JFQURNRS5tZCcpOwoKCmV4cG9ydCB7CgllbmdpbmUsCgl3b3JsZCwKCXJlbmRlciwKfTsK","options":{"isTrashed":false},"credits":[]},{"name":"circleStack/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCgpXb3JsZC5hZGQod29ybGQsIFsKCS8vIOWjgQoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlLAoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDgwMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgl9KSwKXSk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"cloth/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDluIMKCumdouOBq+S4puOBueOBn+OCueOCv+ODg+OCr+OCkuOCveODleODiOODnOODh+OCo+OBq+OBmeOCi+OBqOOAgeW4g+OBruOCiOOBhuOBquihqOePvuOBjOOBp+OBjeOCi+OCiCAgCuOBn+OBoOOBl+OAgeWFqOOBpuOCkuiHqueUseOBq+OBmeOCi+OBqOW6iuOBq+iQveOBoeOBpuOBl+OBvuOBhuOBruOBp+OAgSAgCuS4iuOBruihjCAoMCB+IDIwIOeVquOBvuOBpykg44Gu44Kq44OW44K444Kn44Kv44OI44Gg44GR44Gv5Zu65a6a44GX44Gf44KT44GgICAKCgojIyAhW+aUuemAoOOBmeOCi10oY2xvdGgvbWFpbi5qcykKCgojIyDjg5Hjg6njg6Hjg7zjgr8K44OR44Op44Oh44O844K/IHwg5oSP5ZGzIHwg5Y2Y5L2NIHwg5pyA5bCPIHwg5pyA5aSnIAotLS0gfCAtLS0gfCAtLS0gfCAtLS0gfCAtLS0KZnJpY3Rpb24gfCDjgb7jgZXjgaTkv4LmlbAgfCDlgI0gfCAwIHwgMS4wCmlzU3RhdGljIHwg6Z2Z5q2i44GZ44KL44GL44Gp44GG44GLIHwg44OV44Op44KwIHwgZmFsc2UgfCB0cnVlIAoKClvjg6Hjg4vjg6Xjg7zjgavmiLvjgotdKGluZGV4Lmh0bWwpCgotIC0gLQoKIyMg5b+F6KaB44Gq44KC44GuCgpb44K944OV44OI44Oc44OH44KjXShzb2Z0Qm9keS9pbmRleC5odG1sKQo=","options":{"isTrashed":false},"credits":[]},{"name":"cloth/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7luIM8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJjbG90aC9tYWluLmpzIj48L3NjcmlwdD4KPC9oZWFkPgo8Ym9keT4KPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"cloth/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUJvZHksCglDb21wb3NpdGVzLAoJTW91c2VDb25zdHJhaW50LAoJTW91c2UsCglXb3JsZCwKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKY29uc3Qgd29ybGQgPSBlbmdpbmUud29ybGQ7CgppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7CnJlbmRlci5vcHRpb25zLmJhY2tncm91bmQgPSAnIzBmMGYxMyc7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g5biD44Gu44Kq44OW44K444Kn44Kv44OICmNvbnN0IGdyb3VwID0gQm9keS5uZXh0R3JvdXAodHJ1ZSk7CmNvbnN0IHBhcnRpY2xlT3B0aW9ucyA9IHsKCWZyaWN0aW9uOiAwLjAwMDAxLAoJY29sbGlzaW9uRmlsdGVyOiB7CgkJZ3JvdXA6IGdyb3VwCgl9LAoJcmVuZGVyOiB7CgkJdmlzaWJsZTogZmFsc2UsCgl9Cn07CmNvbnN0IGNsb3RoID0gQ29tcG9zaXRlcy5zb2Z0Qm9keSgyMDAsIDIwMCwgMjAsIDEyLCA1LCA1LCBmYWxzZSwgOCwgcGFydGljbGVPcHRpb25zKTsKCi8vIOS4gOeVquS4iuOBruihjOOBoOOBkeOAgeWLleOBi+OBquOBhOOCiOOBhuOBqwpmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHsKCUJvZHkuc2V0U3RhdGljKGNsb3RoLmJvZGllc1tpXSwgdHJ1ZSk7Cn0KCldvcmxkLmFkZCh3b3JsZCwgWwoJY2xvdGgsCgkvLyAJ5YaG44Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMuY2lyY2xlKDMwMCwgNTAwLCA4MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCS8vIAnlm5vop5Ljga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5yZWN0YW5nbGUoNTAwLCA0ODAsIDgwLCA4MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCS8vIAnluorjga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCA2MDksIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSkKXSk7CgovLyDjg57jgqbjgrnmk43kvZwKY29uc3QgbW91c2UgPSBNb3VzZS5jcmVhdGUocmVuZGVyLmNhbnZhcyk7CmNvbnN0IG1vdXNlQ29uc3RyYWludCA9IE1vdXNlQ29uc3RyYWludC5jcmVhdGUoZW5naW5lLCB7Cgltb3VzZTogbW91c2UsCgljb25zdHJhaW50OiB7CgkJc3RpZmZuZXNzOiAwLjk4LAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdjbG90aC9SRUFETUUubWQnKTsK","options":{"isTrashed":false},"credits":[]},{"name":"coins/README.MD","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgrPjgqTjg7PjgrLjg7zjg6AKCuOCs+OCpOODs+OCsuODvOODoOS9nOOBo+OBpuOBv+OBn+OAgAoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgoKIyMg44Gp44GG44KE44Gj44Gm5L2c44Gj44Gm44KL44Gu77yfCgrjgZPjgozjgonjgpLntYTjgb/lkIjjgo/jgZvjgabjgrLjg7zjg6DjgavjgZfjgabjgYTjgovjgoggIAo+IOOCr+ODquODg+OCr+OBmeOCi+OBqOOCteODs+ODl+ODq+OBq+enu+WLleOBl+OBvuOBmQoK44OQ44O844KS5YuV44GL44GZ44Gr44Gv4oCmW+OCpOODmeODs+ODiF0oZXZlbnRzL2luZGV4Lmh0bWwpICAK44Kz44Kk44Oz44K744Oz44K144O844Gv4oCmW+OCu+ODs+OCteODvF0oc2Vuc29ycy9pbmRleC5odG1sKSAgCgojIyDmlLnpgKDjgavmjJHmiKbjgZfjgabjgb/jgosKCiFb5YuV44GP5Y+wXShjb2lucy9tYWluLmpzKSAgCiFb44Kz44Kk44Oz44K744Oz44K144O8XShjb2lucy9zZW5zb3IuanMpICAKIVvjgrnjg4bjg7zjgrhdKGNvaW5zL3N0YWdlLmpzKSAgCiFb6Kit5a6aXShjb2lucy9zZXR0aW5nLmpzKQo=","options":{"isTrashed":false},"credits":[]},{"name":"coins/REAMDE.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgrPjgqTjg7PjgrLjg7zjg6AKCuOCs+OCpOODs+OCsuODvOODoOS9nOOBo+OBpuOBv+OBn+OAgAoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgojIyDjganjgYbjgoTjgaPjgabkvZzjgaPjgabjgovjga7vvJ8KCuOBk+OCjOOCieOCkue1hOOBv+WQiOOCj+OBm+OBpuOCsuODvOODoOOBq+OBl+OBpuOBhOOCi+OCiCAgCj4g44Kv44Oq44OD44Kv44GZ44KL44Go44K144Oz44OX44Or44Gr56e75YuV44GX44G+44GZCgrph43jgZXjgpLlpInjgYjjgovjgavjga/igKZb44GK44KC44GVXShkZW5zaXR5L2luZGV4Lmh0bWwpICAK5bGx44KS5L2c44KL44Gr44Gv4oCmW+ODlOODqeODn+ODg+ODiV0ocHlyYW1pZC9pbmRleC5odG1sKSAgCuWyqeOCkuaUvuOBpOOBq+OBr+KAplvjgqTjg5njg7Pjg4hdKGV2ZW50cy9pbmRleC5odG1sKSAgCgojIyDmlLnpgKDjgavmjJHmiKbjgZfjgabjgb/jgosKCiFb5YuV44GP5Y+w44Go44Kz44Kk44Oz44K744Oz44K144O8XShjb2lucy9tYWluLmpzKSAgCiFb44K544OG44O844K4XShjb2lucy9zdGFnZS5qcykgIAohW+ioreWuml0oY29pbnMvc2V0dGluZy5qcykK","options":{"isTrashed":false},"credits":[]},{"name":"coins/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgrPjgqTjg7PjgrLjg7zjg6A8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJjb2lucy9tYWluLmpzIj48L3NjcmlwdD4KPC9oZWFkPgo8Ym9keT4KPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"coins/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUJvZHksCglFdmVudHMsCglXb3JsZCwKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKaW1wb3J0IHsKCWVuZ2luZSwKCXdvcmxkLAp9IGZyb20gJy4vc2V0dGluZyc7CgoKLy8g44Kz44Kk44Oz44KS6YGL44G244OQ44O8CmNvbnN0IGJhcjEgPSBCb2RpZXMucmVjdGFuZ2xlKDcwMCwgMzUwLCAyNTAsIDUwLCB7CgkvLyDlm7rlrprjgZnjgosKCWlzU3RhdGljOiB0cnVlLAoJCn0pOwoKV29ybGQuYWRkKHdvcmxkLCBbCgkKCS8vIOOCs+OCpOODs+OCkumBi+OBtuODkOODvAoJYmFyMSwKCQoJLy8g44OQ44O844Gu5LiK44Gu44K544OI44OD44OR44O8CglCb2RpZXMucmVjdGFuZ2xlKDc1MCwgMzAwLCA3MCwgNTAsIHsKCQkvLyDlm7rlrprjgZnjgosKCQlpc1N0YXRpYzogdHJ1ZSwKCgl9KSwKCQpdKTsKCkV2ZW50cy5vbihlbmdpbmUsICdiZWZvcmVVcGRhdGUnLCAoZXZlbnQpID0+IHsKCQoJLy8g5aeL44G+44Gj44Gm44GL44KJ44Gu57WM6YGO5pmC6ZaTKOenkikKCWNvbnN0IHRpbWUgPSBldmVudC50aW1lc3RhbXAgLyAxMDAwOwoKCS8vIOODkOODvOOCkuW3puWPs+OBq+WLleOBi+OBmQoJY29uc3QgcHggPSA3MDAgKyAxNTAgKiBNYXRoLnNpbih0aW1lIC0gMSk7CglCb2R5LnNldFZlbG9jaXR5KGJhcjEsIHsKCQl4OiBweCAtIGJhcjEucG9zaXRpb24ueCwKCQl5OiAwCgl9KTsKCUJvZHkuc2V0UG9zaXRpb24oYmFyMSwgewoJCXg6IHB4LAoJCXk6IGJhcjEucG9zaXRpb24ueQoJfSk7CgkKfSk7CgoKaW1wb3J0ICcuL3N0YWdlJzsKaW1wb3J0ICcuL3NlbnNvcic7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"coins/sensor.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUNvbXBvc2l0ZXMsCglCb2R5LAoJRXZlbnRzLAoJV29ybGQsCglCb2RpZXMsCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCB7CgllbmdpbmUsCgl3b3JsZCwKfSBmcm9tICcuL3NldHRpbmcnOwoKCi8vIOOCu+ODs+OCteODvOOBruOCquODluOCuOOCp+OCr+ODiOOCkuOBpOOBj+OCiwpjb25zdCBzZW5zb3IgPSBCb2RpZXMucmVjdGFuZ2xlKDc0MCwgNDAwLCA2MCwgMjAsIHsKCWlzU2Vuc29yOiB0cnVlLAoJaXNTdGF0aWM6IHRydWUsCglyZW5kZXI6IHsKCQlzdHJva2VTdHlsZTogJyNGRkZGMDAnLAoJCWZpbGxTdHlsZTogJ3RyYW5zcGFyZW50JywKCQlsaW5lV2lkdGg6IDEKCX0KfSk7CgoKV29ybGQuYWRkKHdvcmxkLCBbCgoJLy8g44K744Oz44K144O844Gu44Kq44OW44K444Kn44Kv44OICglzZW5zb3IsCgoJLy8g44GV44GE44GX44KH44Gu44Kz44Kk44OzCglCb2RpZXMucmVjdGFuZ2xlKDc1MCwgMzUwLCA1MCwgMTAsIHsKCQljaGFtZmVyOiB7CgkJCXJhZGl1czogNCwKCQl9LAoJCXJlbmRlcjogewoJCQlmaWxsU3R5bGU6ICcjRkZGRjAwJywKCQkJc3Ryb2tlU3R5bGU6ICcjMDAwMDAwJywKCQkJbGluZVdpZHRoOiAxLAoJCX0sCgkJLy8g44OE44Or44OE44Or44Gr44GZ44KLCgkJc2xvcDogMC4wMDUsCgkJZnJpY3Rpb246IDAuMDEsCgkJZnJpY3Rpb25TdGF0aWM6IDEwLAoJCXJlc3RpdHV0aW9uOiAwLjMsCgkJLy8g44K/44OG44Gr44GZ44KLCgkJYW5nbGU6IDEuNTcsCgoJfSksCgpdKTsKCgoKRXZlbnRzLm9uKGVuZ2luZSwgJ2NvbGxpc2lvblN0YXJ0JywgZnVuY3Rpb24oZXZlbnQpIHsKCS8vIOOBl+OCh+OBhueqgeOBjOWni+OBvuOBo+OBn+OCieOAgeOBk+OBk+OBq+WFpeOCiwoKCWZvciAoY29uc3QgcGFpciBvZiBldmVudC5wYWlycykgewoJCWlmIChwYWlyLmJvZHlBID09PSBzZW5zb3IgfHwgcGFpci5ib2R5QiA9PT0gc2Vuc29yKSB7CgkJCS8vIOOCu+ODs+OCteODvOOBqOOBtuOBpOOBi+OBo+OBn+OCieOAgeOBk+OBk+OBq+WFpeOCiwoKCQkJV29ybGQuYWRkKHdvcmxkLCBbCgoJCQkJLy8g44Kz44Kk44Oz44Gu44Kq44OW44K444Kn44Kv44OI44Gu44K544K/44OD44KvCgkJCQlDb21wb3NpdGVzLnN0YWNrKDUwLCAzMDAsIDIsIDUsIDAsIDAsICh4LCB5KSA9PiB7CgkJCQkJcmV0dXJuIEJvZGllcy5yZWN0YW5nbGUoeCwgeSwgNTAsIDEwLCB7CgkJCQkJCWNoYW1mZXI6IHsKCQkJCQkJCXJhZGl1czogNCwKCQkJCQkJfSwKCQkJCQkJcmVuZGVyOiB7CgkJCQkJCQlmaWxsU3R5bGU6ICcjRkZGRjAwJywKCQkJCQkJCXN0cm9rZVN0eWxlOiAnIzAwMDAwMCcsCgkJCQkJCQlsaW5lV2lkdGg6IDEsCgkJCQkJCX0sCgkJCQkJCXNsb3A6IDAuMDA1LAoJCQkJCQlmcmljdGlvbjogMC4wMSwKCQkJCQkJZnJpY3Rpb25TdGF0aWM6IDEwLAoJCQkJCQlyZXN0aXR1dGlvbjogMC4zLAoJCQkJCQlyZXN0aXR1dGlvbjogMC4zLAoKCQkJCQl9KTsKCQkJCX0pLAoKCQkJXSk7CgoJCX0KCX0KCn0pOwo=","options":{"isTrashed":false},"credits":[]},{"name":"coins/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpSZW5kZXIucnVuKHJlbmRlcik7Cgpjb25zdCBydW5uZXIgPSBSdW5uZXIuY3JlYXRlKCk7ClJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpOwoKCi8vIOODnuOCpuOCueaTjeS9nApjb25zdCBtb3VzZSA9IE1vdXNlLmNyZWF0ZShyZW5kZXIuY2FudmFzKTsKY29uc3QgbW91c2VDb25zdHJhaW50ID0gTW91c2VDb25zdHJhaW50LmNyZWF0ZShlbmdpbmUsIHsKCW1vdXNlOiBtb3VzZSwKCWNvbnN0cmFpbnQ6IHsKCQlzdGlmZm5lc3M6IDAuMiwKCQlyZW5kZXI6IHsKCQkJdmlzaWJsZTogZmFsc2UKCQl9Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBtb3VzZUNvbnN0cmFpbnQpOwoKLy8ga2VlcCB0aGUgbW91c2UgaW4gc3luYyB3aXRoIHJlbmRlcmluZwpyZW5kZXIubW91c2UgPSBtb3VzZTsKCgpmZWVsZXMub3BlblJlYWRtZSgnY29pbnMvUkVBRE1FLm1kJyk7CgoKZXhwb3J0IHsKCWVuZ2luZSwKCXdvcmxkLAoJcmVuZGVyLAp9Owo=","options":{"isTrashed":false},"credits":[]},{"name":"coins/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCldvcmxkLmFkZCh3b3JsZCwgWwoJLy8g44GL44G544Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlLAoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjAwLCA4MDAsIDgwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgkJYW5nbGU6IC0wLjA1LAoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDgwMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgl9KSwKCQoJLy8g44OQ44O844Gu5LiL44Gu5Zyf5Y+wCglCb2RpZXMucmVjdGFuZ2xlKDQ1MCwgNDAwLCA1MjAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgkJY2hhbWZlcjogdHJ1ZSwKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSgxODAsIDQ1MCwgMTUwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlLAoJCWNoYW1mZXI6IHRydWUsCgkJYW5nbGU6IC0xLjIsCgl9KSwKCQoJLy8g44Os44O844OzCglCb2RpZXMucmVjdGFuZ2xlKDI3MCwgMTgwLCAzNTAsIDIwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgkJY2hhbWZlcjogdHJ1ZSwKCQlhbmdsZTogMC41LAoJCWZyaWN0aW9uOiAwLAoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDEzMCwgMTkwLCAyMCwgMjAwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgkJY2hhbWZlcjogdHJ1ZSwKCX0pLAoJCl0pOwo=","options":{"isTrashed":false},"credits":[]},{"name":"collisionFiltering/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgqvjg4bjgrTjg6rjg7zjgZTjgajjga7jgZfjgofjgYbjgajjgaQKCgroibLku5jjgY3jga7jgqrjg5bjgrjjgqfjgq/jg4jjga/jgIEgIArlkIzjgZjoibLjga7nt5rjgpLjgoLjgaTjgqrjg5bjgrjjgqfjgq/jg4jjgajjgZfjgYvjgbbjgaTjgYvjgonjgarjgYTjgojjgYbjgasgIAoqKuOCq+ODhuOCtOODquODvOWIhuOBkSoqIOOBleOCjOOBpuOBhOOCi+OCiAoKCiMjICFb5pS56YCg44GZ44KLXShjb2xsaXNpb25GaWx0ZXJpbmcvbWFpbi5qcykKCgojIyDkvZXjgYzjgafjgY3jgovjga7vvJ8K44Kr44OG44K044Oq44O844GU44Go44Gu44GX44KH44GG44Go44Gk44KS5L2/44GE44GT44Gq44Gb44KL44KI44GG44Gr44Gq44KM44Gw44CBICAK44CM44GT44KM44Go44Gd44KM44Gv44G244Gk44GL44KL44CC44Gn44KC44CB44GC44KM44Go44GT44KM44Gv44G244Gk44GL44KJ44Gq44GE44CNICAK44Go44GE44GG44GT44Go44GM44CB6Ieq55Sx6Ieq5Zyo44Gr44Gn44GN44KL44KI44GG44Gr44Gq44KL44KICgoK5LuK5Zue44Gu5L6L44Gn44Gv44CBIOi1pOOCq+ODhuOCtOODquODvCwg6Z2S44Kr44OG44K044Oq44O8LCDnt5Hjgqvjg4bjgrTjg6rjg7wsICAK44Gd44GX44GmIOODh+ODleOCqeODq+ODiOOCq+ODhuOCtOODquODvO+8iOOCq+ODhuOCtOODquODvOOBquOBl++8ieOBqOOBhOOBhuOAgSAgCu+8lOOBpOOBruOCq+ODhuOCtOODquODvOOCkuS9v+OBhOWIhuOBkeOBpuOBhOOCi+OCk+OBoAoKCiMjIOODkeODqeODoeODvOOCvwrjg5Hjg6njg6Hjg7zjgr8gfCDmhI/lkbMgfCDljZjkvY0gfCDmnIDlsI8gfCDmnIDlpKcgCi0tLSB8IC0tLSB8IC0tLSB8IC0tLSB8IC0tLQppc1N0YXRpYyB8IOmdmeatouOBmeOCi+OBi+OBqeOBhuOBiyB8IOODleODqeOCsCB8IGZhbHNlIHwgdHJ1ZSAKY29sbGlzaW9uRmlsdGVyIHwgfCB8IHwKY2F0ZWdvcnkgfCDjgZ3jga7jgqrjg5bjgrjjgqfjgq/jg4jjga7jgqvjg4bjgrTjg6rjg7wgfCDjg5Pjg4Pjg4jjg5Xjg6njgrAgfCBgMHgwMDAxYCAo44OH44OV44Kp44Or44OI44Kr44OG44K044Oq44O8KSB8IAptYXNrIHwg44Kq44OW44K444Kn44Kv44OI44GM44GX44KH44GG44Go44Gk44GZ44KL44Kr44OG44K044Oq44O8IHzjgIDjg5Pjg4Pjg4jjg5Xjg6njgrAgfCBgMHgwMDAwYCAo54ShKSB8IGAweEZGRkZgICjlhajjgaYpICAKcmVuZGVyIHwgfCB8IHwKc3Ryb2tlU3R5bGUgfCDnt5rjga7oibIgfCDoibIgfCAqIiMwMDAwMDAiKiAo6buSKSB8ICoiI0ZGRkZGRiIqICjnmb0pCmZpbGxTdHlsZSB8IOWhl+OCiuOBpOOBtuOBl+OBruiJsiB8IOiJsiB8ICoiIzAwMDAwMCIqICjpu5IpIHwgKiIjRkZGRkZGIiogKOeZvSkKbGluZVdpZHRoIHwg57ea44Gu5aSq44GVIHwgcHggfCAwIHwgSW5maW5pdHkKCiMjIHwg44Gu5oSP5ZGzCmBkZWZhdWx0Q2F0ZWdvcnkgfCBncmVlbkNhdGVnb3J5YCDjga/jgIEgIArjg4fjg5Xjgqnjg6vjg4jjgqvjg4bjgrTjg6rjg7wgKirjgajjgIEqKiDnt5Hjgqvjg4bjgrTjg6rjg7wgIArjgajjgYTjgYbmhI/lkbPjgpLooajjgZfjgabjgYTjgovjgogKCiMjIOODk+ODg+ODiOODleODqeOCsOOBruaEj+WRswoK44OT44OD44OI44Go44Gv44CBIDAg44GLIDEg44Gu5oOF5aCx44GX44GL44KC44Gf44Gq44GE44CB5oOF5aCx44Gu5pyA5bCP5Y2Y5L2N44Gu44GT44GoICAKYDB4MDAwMWAg44GvIDE26YCy5pWw44Go44GE44GG54m55Yil44Gq5pWw5a2X44Gu5pu444GN5pa544Gn44CB5a6f6Zqb44Gr44Gv44G144Gk44GG44Gu5pWw5a2X44Go5ZCM44GY44Gg44KICgoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCg==","options":{"isTrashed":false},"credits":[]},{"name":"collisionFiltering/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgqvjg4bjgrTjg6rjg7zjgZTjgajjga7jgZfjgofjgYbnqoE8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJjb2xsaXNpb25GaWx0ZXJpbmcvbWFpbi5qcyI+PC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHk+CjwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"collisionFiltering/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUNvbXBvc2l0ZSwKCUNvbXBvc2l0ZXMsCglDb21tb24sCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgoKaW1wb3J0IGVuZ2luZSBmcm9tICdlbmdpbmUnOwpjb25zdCB3b3JsZCA9IGVuZ2luZS53b3JsZDsKCmltcG9ydCByZW5kZXIgZnJvbSAncmVuZGVyJzsKcmVuZGVyLm9wdGlvbnMuYmFja2dyb3VuZCA9ICcjMTExJzsKUmVuZGVyLnJ1bihyZW5kZXIpOwoKY29uc3QgcnVubmVyID0gUnVubmVyLmNyZWF0ZSgpOwpSdW5uZXIucnVuKHJ1bm5lciwgZW5naW5lKTsKCgovLyDjgqvjg4bjgrTjg6rjg7zjgIAo77yR44Gk44Gu44Kr44OG44K044Oq44O844GvIDEgYml0IOOBp+ihqOOBleOCjOOCi+OBruOBp+OAgeihqOOBm+OCi+OCq+ODhuOCtOODquODvOOBryAzMiDjgb7jgacpCmNvbnN0IGRlZmF1bHRDYXRlZ29yeSA9IDB4MDAwMTsKY29uc3QgcmVkQ2F0ZWdvcnkgPSAweDAwMDI7CmNvbnN0IGdyZWVuQ2F0ZWdvcnkgPSAweDAwMDQ7CmNvbnN0IGJsdWVDYXRlZ29yeSA9IDB4MDAwODsKCi8vIOOCq+ODqeODvO+8iOS4iuOBi+OCiSDotaQsIOmdkiwg57eR77yJCmNvbnN0IHJlZENvbG9yID0gJyNDNDRENTgnOwpjb25zdCBibHVlQ29sb3IgPSAnIzRFQ0RDNCc7CmNvbnN0IGdyZWVuQ29sb3IgPSAnI0M3RjQ2NCc7CgovLyDluooKV29ybGQuYWRkKHdvcmxkLCBCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjAwLCA5MDAsIDUwLCB7Cglpc1N0YXRpYzogdHJ1ZSwKCXJlbmRlcjogewoJCWZpbGxTdHlsZTogJ3RyYW5zcGFyZW50JywKCQlsaW5lV2lkdGg6IDEKCX0KfSkpOwoKLyoqCiAqIOmAj+aYjuOBquWGhuOBruOCueOCv+ODg+OCrwogKiAwIH4gMiDotaTjgYTjg5Xjg4EKICogMyB+IDUg57eR44Gu44OV44OBCiAqIDYgfiA5IOmdkuOBhOODleODgQogKi8KV29ybGQuYWRkKHdvcmxkLAoJQ29tcG9zaXRlcy5zdGFjaygyNzUsIDEwMCwgNSwgOSwgMTAsIDEwLCAoeCwgeSwgY29sdW1uLCByb3cpID0+IHsKCgkJcmV0dXJuIEJvZGllcy5jaXJjbGUoeCwgeSwgMjAsIHsKCQkJY29sbGlzaW9uRmlsdGVyOiB7CgkJCQljYXRlZ29yeTogcm93IDw9IDIgPyByZWRDYXRlZ29yeSA6IHJvdyA8PSA1ID8gZ3JlZW5DYXRlZ29yeSA6IGJsdWVDYXRlZ29yeQoJCQl9LAoJCQlyZW5kZXI6IHsKCQkJCXN0cm9rZVN0eWxlOiByb3cgPD0gMiA/IHJlZENvbG9yIDogcm93IDw9IDUgPyBncmVlbkNvbG9yIDogYmx1ZUNvbG9yLAoJCQkJZmlsbFN0eWxlOiAndHJhbnNwYXJlbnQnLAoJCQkJbGluZVdpZHRoOiAxCgkJCX0KCQl9KTsKCQoJfSkKKTsKCi8vIOe3keOCq+ODhuOCtOODquODvOOBruOCquODluOCuOOCp+OCr+ODiOOBq+OBl+OBi+OBtuOBpOOBi+OCieOBquOBhOOAgee3keOBruWGhgpXb3JsZC5hZGQod29ybGQsCglCb2RpZXMuY2lyY2xlKDMxMCwgNDAsIDMwLCB7CgkJY29sbGlzaW9uRmlsdGVyOiB7CgkJCW1hc2s6IGRlZmF1bHRDYXRlZ29yeSB8IGdyZWVuQ2F0ZWdvcnkKCQl9LAoJCXJlbmRlcjogewoJCQlzdHJva2VTdHlsZTogQ29tbW9uLnNoYWRlQ29sb3IoZ3JlZW5Db2xvciwgLTIwKSwKCQkJZmlsbFN0eWxlOiBncmVlbkNvbG9yCgkJfQoJfSkKKTsKCi8vIOi1pOOCq+ODhuOCtOODquODvOOBruOCquODluOCuOOCp+OCr+ODiOOBq+OBl+OBi+OBtuOBpOOBi+OCieOBquOBhOOAgei1pOOBruWGhgpXb3JsZC5hZGQod29ybGQsCglCb2RpZXMuY2lyY2xlKDQwMCwgNDAsIDMwLCB7CgkJY29sbGlzaW9uRmlsdGVyOiB7CgkJCW1hc2s6IGRlZmF1bHRDYXRlZ29yeSB8IHJlZENhdGVnb3J5CgkJfSwKCQlyZW5kZXI6IHsKCQkJc3Ryb2tlU3R5bGU6IENvbW1vbi5zaGFkZUNvbG9yKHJlZENvbG9yLCAtMjApLAoJCQlmaWxsU3R5bGU6IHJlZENvbG9yCgkJfQoJfSkKKTsKCi8vIOmdkuOCq+ODhuOCtOODquODvOOBruOCquODluOCuOOCp+OCr+ODiOOBq+OBl+OBi+OBtuOBpOOBi+OCieOBquOBhOOAgemdkuOBruWGhgpXb3JsZC5hZGQod29ybGQsCglCb2RpZXMuY2lyY2xlKDQ4MCwgNDAsIDMwLCB7CgkJY29sbGlzaW9uRmlsdGVyOiB7CgkJCW1hc2s6IGRlZmF1bHRDYXRlZ29yeSB8IGJsdWVDYXRlZ29yeQoJCX0sCgkJcmVuZGVyOiB7CgkJCXN0cm9rZVN0eWxlOiBDb21tb24uc2hhZGVDb2xvcihibHVlQ29sb3IsIC0yMCksCgkJCWZpbGxTdHlsZTogYmx1ZUNvbG9yCgkJfQoJfSkKKTsKCi8vIOODnuOCpuOCueaTjeS9nApjb25zdCBtb3VzZSA9IE1vdXNlLmNyZWF0ZShyZW5kZXIuY2FudmFzKTsKY29uc3QgbW91c2VDb25zdHJhaW50ID0gTW91c2VDb25zdHJhaW50LmNyZWF0ZShlbmdpbmUsIHsKCW1vdXNlOiBtb3VzZSwKCWNvbnN0cmFpbnQ6IHsKCQlzdGlmZm5lc3M6IDAuMiwKCQlyZW5kZXI6IHsKCQkJdmlzaWJsZTogZmFsc2UKCQl9Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBtb3VzZUNvbnN0cmFpbnQpOwoKLy8ga2VlcCB0aGUgbW91c2UgaW4gc3luYyB3aXRoIHJlbmRlcmluZwpyZW5kZXIubW91c2UgPSBtb3VzZTsKCi8vIOi1pOOCq+ODhuOCtOODquODvOOBruOCquODluOCuOOCp+OCr+ODiOOCkuODnuOCpuOCueOBp+ODieODqeODg+OCsOOBleOBm+OBquOBhAptb3VzZUNvbnN0cmFpbnQuY29sbGlzaW9uRmlsdGVyLm1hc2sgPSBkZWZhdWx0Q2F0ZWdvcnkgfCBibHVlQ2F0ZWdvcnkgfCBncmVlbkNhdGVnb3J5OwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdjb2xsaXNpb25GaWx0ZXJpbmcvUkVBRE1FLm1kJyk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"compositeManipulation/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgrnjgr/jg4Pjgq/lhajkvZPjga7mk43kvZwKCgpgQ29tcG9zaXRlYCDjgpLkvb/jgYbjgajjgIHjgrnjgr/jg4Pjgq/jgavjgbXjgY/jgb7jgozjgosgIArlhajjgabjga7jgqrjg5bjgrjjgqfjgq/jg4jjgpLlkIzmmYLjgavli5XjgYvjgZvjgovjgogKCgojIyAhW+aUuemAoOOBmeOCi10oY29tcG9zaXRlTWFuaXB1bGF0aW9uL21haW4uanMpCgoKIyMjIENvbXBvc2l0ZS50cmFuc2xhdGUoc3RhY2ssIHsgeDogYHhgLCB5OiBgeWAgfSkKCuOCueOCv+ODg+OCr+WFqOS9k+OCkuenu+WLleOBleOBm+OCiwoK44OR44Op44Oh44O844K/IHwg5oSP5ZGzIHwg5Y2Y5L2NCi0tLSB8IC0tLSB8IC0tLQp4IHwg5Y+z44Gr56e75YuV44GZ44KL6YePIHwgcHgKeSB8IOS4i+OBq+enu+WLleOBmeOCi+mHjyB8IHB4CgojIyMgQ29tcG9zaXRlLnJvdGF0ZShzdGFjaywgYGFuZ2xlYCwgeyB4OiBgY2VudGVyWGAsIHk6IGBjZW50ZXJZYCB9KQoK44K544K/44OD44Kv5YWo5L2T44KS5Zue6Lui44GV44Gb44KLCgrjg5Hjg6njg6Hjg7zjgr8gfCDmhI/lkbMgfCDljZjkvY0KLS0tIHwgLS0tIHwgLS0tCmFuZ2xlIHwg54++5Zyo44Gu6KeS5bqm44GrICoq6Laz44GX566XKiog44GZ44KL6KeS5bqmIHwgKnJhZCoKY2VudGVyWCB8IOWbnui7ouOBruS4reW/g++8iCAwIOOBquOCieOCueOCv+ODg+OCr+OBruW3puerr++8iSB8IHB4CmNlbnRlclkgfCDlm57ou6Ljga7kuK3lv4PvvIggMCDjgarjgonjgrnjgr/jg4Pjgq/jga7kuIrnq6/vvIkgfCBweAoKIyMjIENvbXBvc2l0ZS5zY2FsZShzdGFjaywgYHNjYWxlWGAsIGBzY2FsZVlgLCAgeyB4OiBgY2VudGVyWGAsIHk6IGBjZW50ZXJZYCB9KQoK44K544K/44OD44Kv5YWo5L2T44KS5ouh5aSn44GV44Gb44KLCgrjg5Hjg6njg6Hjg7zjgr8gfCDmhI/lkbMgfCDljZjkvY0KLS0tIHwgLS0tIHwgLS0tCnNjYWxlWCB8IOaoquaWueWQkeOBqyAqKuOBi+OBkeeulyoqIOOBmeOCi+Wkp+OBjeOBlSAoIDEg44Gq44KJ5aSJ5YyW44Gq44GXKSB8IOWAjQpzY2FsZVkgfCDnuKbmlrnlkJHjgasgKirjgYvjgZHnrpcqKiDjgZnjgovlpKfjgY3jgZUgKCAxIOOBquOCieWkieWMluOBquOBlykgfCDlgI0KY2VudGVyWCB8IOaLoeWkp+OBruS4reW/g++8iCAwIOOBquOCieOCueOCv+ODg+OCr+OBruW3puerr++8iSB8IHB4CmNlbnRlclkgfCDmi6HlpKfjga7kuK3lv4PvvIggMCDjgarjgonjgrnjgr/jg4Pjgq/jga7kuIrnq6/vvIkgfCBweAoKClvjg6Hjg4vjg6Xjg7zjgavmiLvjgotdKGluZGV4Lmh0bWwpCgoK","options":{"isTrashed":false},"credits":[]},{"name":"compositeManipulation/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgrnjgr/jg4Pjgq/lhajkvZPjga7mk43kvZw8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJjb21wb3NpdGVNYW5pcHVsYXRpb24vbWFpbi5qcyI+PC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHk+CjwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"compositeManipulation/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUV2ZW50cywKCUNvbXBvc2l0ZSwKCUNvbXBvc2l0ZXMsCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgoKaW1wb3J0IGVuZ2luZSBmcm9tICdlbmdpbmUnOwpjb25zdCB3b3JsZCA9IGVuZ2luZS53b3JsZDsKLy8g5LiL5pa55ZCR44G444Gu6YeN5YqbCndvcmxkLmdyYXZpdHkueSA9IDA7CgppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7CnJlbmRlci5vcHRpb25zLnNob3dBbmdsZUluZGljYXRvciA9IHRydWU7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKV29ybGQuYWRkKHdvcmxkLCBbCgkvLyDlo4EKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoODAwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KQpdKTsKCi8vIOOCquODluOCuOOCp+OCr+ODiOOBruOCueOCv+ODg+OCrwpjb25zdCBzdGFjayA9IENvbXBvc2l0ZXMuc3RhY2soMjAwLCAyMDAsIDQsIDQsIDAsIDAsICh4LCB5KSA9PiB7CglyZXR1cm4gQm9kaWVzLnJlY3RhbmdsZSh4LCB5LCA0MCwgNDApOwp9KTsKCldvcmxkLmFkZCh3b3JsZCwgc3RhY2spOwoKRXZlbnRzLm9uKGVuZ2luZSwgJ2FmdGVyVXBkYXRlJywgKGV2ZW50KSA9PiB7CgkvLyDmr47jg5Xjg6zjg7zjg6DjgZPjgZPjgavlhaXjgosKCWNvbnN0IHRpbWUgPSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcDsKCglDb21wb3NpdGUudHJhbnNsYXRlKHN0YWNrLCB7CgkJeDogTWF0aC5zaW4odGltZSAqIDAuMDAxKSAqIDIsCgkJeTogMAoJfSk7CgoJQ29tcG9zaXRlLnJvdGF0ZShzdGFjaywgTWF0aC5zaW4odGltZSAqIDAuMDAxKSAqIDAuMDEsIHsKCQl4OiAzMDAsCgkJeTogMzAwCgl9KTsKCgljb25zdCBzY2FsZSA9IDEgKyAoTWF0aC5zaW4odGltZSAqIDAuMDAxKSAqIDAuMDEpOwoKCUNvbXBvc2l0ZS5zY2FsZShzdGFjaywgc2NhbGUsIHNjYWxlLCB7CgkJeDogMzAwLAoJCXk6IDMwMAoJfSk7Cn0pOwoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdjb21wb3NpdGVNYW5pcHVsYXRpb24vUkVBRE1FLm1kJyk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"compound/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgqrjg5bjgrjjgqfjgq/jg4jjga7lkIjmiJAKCuOCquODluOCuOOCp+OCr+ODiOOCkuWQiOaIkOOBl+OBpuOBv+OBnwoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgojIyDmlLnpgKDjgZfjgabjgb/jgosKCiFb44GT44GT44GL44KJ5aeL44KB44KLXShjb21wb3VuZC9tYWluLmpzKQoKKipCb2R5LmNyZWF0ZSh7ICAK44CA44CAcGFydHM6IFsgIArjgIDjgIDjgIDjgIBgMWAsICAK44CA44CA44CA44CAYDJgLCAgCuOAgOOAgOOAgOOAgGAuLi5gLCAgCuOAgOOAgF0sICAK44CAfSk7KioKCnx8IOaEj+WRsyB8IOOBr+OCk+OBhAotLS0gfCAtLS0gfCAtLS0gCjEgfCDjgqrjg5bjgrjjgqfjgq/jg4ggfCDjgarjgZcKMiB8IOOCquODluOCuOOCp+OCr+ODiCB8IOOBquOBlwouLi4gfCDjgqrjg5bjgrjjgqfjgq/jg4ggfCDjgarjgZcKCgrjgoLjgaPjgajmlLnpgKAKIVvoqK3lrppdKGNvbXBvdW5kL3NldHRpbmcuanMpCiFb44GL44G544O744KG44GLXShjb21wb3VuZC9zdGFnZS5qcykKCgotIC0gLQoKIyMg5b+c55So5L6LCgo=","options":{"isTrashed":false},"credits":[]},{"name":"compound/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgqrjg5bjgrjjgqfjgq/jg4jjga7lkIjmiJA8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJjb21wb3VuZC9tYWluLmpzIj48L3NjcmlwdD4KPC9oZWFkPgo8Ym9keT4KPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"compound/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUJvZHksCglXb3JsZCwKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKaW1wb3J0IHsKCXdvcmxkLAp9IGZyb20gJy4vc2V0dGluZyc7CgoKCi8vIOaoquajkgpjb25zdCBwYXJ0QSA9IEJvZGllcy5yZWN0YW5nbGUoMjAwLCAzMDAsIDIwMCwgNDApOwovLyDjgr/jg4bmo5IKY29uc3QgcGFydEIgPSBCb2RpZXMucmVjdGFuZ2xlKDIwMCwgMzAwLCA0MCwgMjAwLCB7CgkvLyDmqKrmo5Ig44Go6Imy44KS5ZCM44GY44Gr44GZ44KLCglyZW5kZXI6IHBhcnRBLnJlbmRlciwKCQp9KTsKCi8vIHBhcnRBIOOBqCBwYXJ0QiDjgpLlkIjmiJAKY29uc3QgcGFydEFCID0gQm9keS5jcmVhdGUoewoJcGFydHM6IFsKCQlwYXJ0QSwgCgkJcGFydEIsCgkJCgldCn0pOwoKV29ybGQuYWRkKHdvcmxkLCBbCgkvLyDvvIsg44Gu44Kq44OW44K444Kn44Kv44OICglwYXJ0QUIsCgkKXSk7CgoKLy8g5LiK44Gu54K5CmNvbnN0IHBhcnQxID0gQm9kaWVzLmNpcmNsZSg2MDAsIDIyMCwgMzApOwovLyDmqKrmo5IKY29uc3QgcGFydDIgPSBCb2RpZXMucmVjdGFuZ2xlKDYwMCwgMzAwLCAyMDAsIDQwLCB7CgkvLyDkuIrjga7ngrkg44Go6Imy44KS5ZCM44GY44Gr44GZ44KLCglyZW5kZXI6IHBhcnQxLnJlbmRlciwKCQp9KTsKLy8g5LiL44Gu54K5CmNvbnN0IHBhcnQzID0gQm9kaWVzLmNpcmNsZSg2MDAsIDM4MCwgMzAsIHsKCS8vIOS4iuOBrueCuSDjgajoibLjgpLlkIzjgZjjgavjgZnjgosKCXJlbmRlcjogcGFydDEucmVuZGVyLAoJCn0pOwoKLy8gcGFydEMg44GoIHBhcnREIOOBqCBwYXJ0RSDjgpLlkIjmiJAKY29uc3QgcGFydDEyMyA9IEJvZHkuY3JlYXRlKHsKCXBhcnRzOiBbCgkJcGFydDEsIAoJCXBhcnQyLAoJCXBhcnQzLAoJCQoJXQp9KTsKCldvcmxkLmFkZCh3b3JsZCwgWwoJLy8gw7cg44Gu44Kq44OW44K444Kn44Kv44OICglwYXJ0MTIzLAoJCl0pOwoKCmltcG9ydCAnLi9zdGFnZSc7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"compound/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpyZW5kZXIub3B0aW9ucy5zaG93QXhlcyA9IHRydWU7CnJlbmRlci5vcHRpb25zLnNob3dQb3NpdGlvbnMgPSB0cnVlOwpyZW5kZXIub3B0aW9ucy5zaG93Q29udmV4SHVsbHMgPSB0cnVlOwpSZW5kZXIucnVuKHJlbmRlcik7Cgpjb25zdCBydW5uZXIgPSBSdW5uZXIuY3JlYXRlKCk7ClJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpOwoKCi8vIOODnuOCpuOCueaTjeS9nApjb25zdCBtb3VzZSA9IE1vdXNlLmNyZWF0ZShyZW5kZXIuY2FudmFzKTsKY29uc3QgbW91c2VDb25zdHJhaW50ID0gTW91c2VDb25zdHJhaW50LmNyZWF0ZShlbmdpbmUsIHsKCW1vdXNlOiBtb3VzZSwKCWNvbnN0cmFpbnQ6IHsKCQlzdGlmZm5lc3M6IDAuMiwKCQlyZW5kZXI6IHsKCQkJdmlzaWJsZTogZmFsc2UKCQl9Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBtb3VzZUNvbnN0cmFpbnQpOwoKLy8ga2VlcCB0aGUgbW91c2UgaW4gc3luYyB3aXRoIHJlbmRlcmluZwpyZW5kZXIubW91c2UgPSBtb3VzZTsKCgpmZWVsZXMub3BlblJlYWRtZSgnY29tcG91bmQvUkVBRE1FLm1kJyk7CgoKZXhwb3J0IHsKCWVuZ2luZSwKCXdvcmxkLAoJcmVuZGVyLAp9Owo=","options":{"isTrashed":false},"credits":[]},{"name":"compound/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCldvcmxkLmFkZCh3b3JsZCwgWwoJLy8g44GL44G544Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlLAoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoODAwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSgwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJCl0pOwo=","options":{"isTrashed":false},"credits":[]},{"name":"compoundStack/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDlkIjmiJDjgZfjgZ/jgqrjg5bjgrjjgqfjgq/jg4jjga7jgrnjgr/jg4Pjgq8KCuWQiOaIkOOBl+OBn+OCquODluOCuOOCp+OCr+ODiOOCkuS4gOawl+OBq+WHuuOBl+OBpuOBv+OBnwoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCiMjIOaUuemAoOOBl+OBpuOBv+OCiwoKIVvjgZPjgZPjgYvjgonlp4vjgoHjgotdKGNvbXBvdW5kU3RhY2svbWFpbi5qcykKCuOCguOBo+OBqOaUuemAoAohW+ioreWuml0oY29tcG91bmRTdGFjay9zZXR0aW5nLmpzKQohW+OBi+OBueODu+OChuOBi10oY29tcG91bmRTdGFjay9zdGFnZS5qcykKCg==","options":{"isTrashed":false},"credits":[]},{"name":"compoundStack/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7lkIjmiJDjgZfjgZ/jgqrjg5bjgrjjgqfjgq/jg4jjga7jgrnjgr/jg4Pjgq88L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJjb21wb3VuZFN0YWNrL21haW4uanMiPjwvc2NyaXB0Pgo8L2hlYWQ+Cjxib2R5Pgo8L2JvZHk+CjwvaHRtbD4=","options":{"isTrashed":false},"credits":[]},{"name":"compoundStack/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUJvZHksCglDb21wb3NpdGVzLAoJV29ybGQsCglCb2RpZXMsCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCB7Cgl3b3JsZCwKfSBmcm9tICcuL3NldHRpbmcnOwoKCi8vIOWQiOaIkOOBl+OBn+OCquODluOCuOOCp+OCr+ODiOOBruOCueOCv+ODg+OCrwpjb25zdCBzdGFjayA9IENvbXBvc2l0ZXMuc3RhY2soMTAwLCAyODAsIDEyLCA2LCAwLCAwLCAoeCwgeSkgPT4gewoJLy8g5qiq5qOSCgljb25zdCBwYXJ0QSA9IEJvZGllcy5yZWN0YW5nbGUoeCwgeSwgNTAsIDEwKTsKCS8vIOOCv+ODhuajkgoJY29uc3QgcGFydEIgPSBCb2RpZXMucmVjdGFuZ2xlKHgsIHksIDEwLCA1MCwgewoJCS8vIOaoquajkuOBqOimi+OBn+ebruOCkuWQjOOBmOOBq+OBmeOCiwoJCXJlbmRlcjogcGFydEEucmVuZGVyLAoJCQoJfSk7CgkKCS8vIOWQiOaIkOOBleOCjOOBn+OCquODluOCuOOCp+OCr+ODiOOBruOBsuOBqOOBpAoJcmV0dXJuIEJvZHkuY3JlYXRlKHsKCQlwYXJ0czogWwoJCQlwYXJ0QSwgCgkJCXBhcnRCLAoJCV0KCX0pOwp9KTsKCldvcmxkLmFkZCh3b3JsZCwgWwoJLy8g44K544K/44OD44KvCglzdGFjaywKCQpdKTsKCgppbXBvcnQgJy4vc3RhZ2UnOwo=","options":{"isTrashed":false},"credits":[]},{"name":"compoundStack/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpyZW5kZXIub3B0aW9ucy5zaG93QW5nbGVJbmRpY2F0b3IgPSB0cnVlOwpSZW5kZXIucnVuKHJlbmRlcik7Cgpjb25zdCBydW5uZXIgPSBSdW5uZXIuY3JlYXRlKCk7ClJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpOwoKCi8vIOODnuOCpuOCueaTjeS9nApjb25zdCBtb3VzZSA9IE1vdXNlLmNyZWF0ZShyZW5kZXIuY2FudmFzKTsKY29uc3QgbW91c2VDb25zdHJhaW50ID0gTW91c2VDb25zdHJhaW50LmNyZWF0ZShlbmdpbmUsIHsKCW1vdXNlOiBtb3VzZSwKCWNvbnN0cmFpbnQ6IHsKCQlzdGlmZm5lc3M6IDAuMiwKCQlyZW5kZXI6IHsKCQkJdmlzaWJsZTogZmFsc2UKCQl9Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBtb3VzZUNvbnN0cmFpbnQpOwoKLy8ga2VlcCB0aGUgbW91c2UgaW4gc3luYyB3aXRoIHJlbmRlcmluZwpyZW5kZXIubW91c2UgPSBtb3VzZTsKCgpmZWVsZXMub3BlblJlYWRtZSgnY29tcG91bmRTdGFjay9SRUFETUUubWQnKTsKCgpleHBvcnQgewoJZW5naW5lLAoJd29ybGQsCglyZW5kZXIsCn07Cg==","options":{"isTrashed":false},"credits":[]},{"name":"compoundStack/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCldvcmxkLmFkZCh3b3JsZCwgWwoJLy8g44GL44G544Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlLAoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoODAwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSgwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJCl0pOwo=","options":{"isTrashed":false},"credits":[]},{"name":"concave/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDlpb3jgY3jgarlvaLjga7jgqrjg5bjgrjjgqfjgq/jg4gKCgpgVmVydGljZXMuZnJvbVBhdGhgIOOBqCBgQm9kaWVzLmZyb21WZXJ0aWNlc2Ag44KS5L2/44GI44Gw44CBICAK5aW944GN44Gq5b2i44Gu44Kq44OW44K444Kn44Kv44OI44KS5L2c44KL44GT44Go44GM44Gn44GN44KL44KICgoK5aSn44G+44GL44Gq5Y6f55CG44Gv44CBIFNWRyDjgpLkvb/jgYbjgajjgY3jgajlkIzjgZjjgarjgpPjgaDjgIIgIArjgZPjgZPjgafjga8gU1ZHIOW9ouW8j+OBrueUu+WDj+OCkuS9v+OBhuS7o+OCj+OCiuOBq+OAgSAgCuODmeOCr+ODiOODq++8iOaVsOWtl+OBrumbhuOBvuOCiu+8ieOCkuebtOaOpeaJi+OBp+abuOOBj+aWueazleOCkuS9v+OBhuOCiAoKIyMg5rWB44KMCgoxLiBgVmVydGljZXMuZnJvbVBhdGhgIOOBp+OAgeODmeOCr+ODiOODq+ODh+ODvOOCv+OCkuOBpOOBj+OCiwoyLiBgQm9kaWVzLmZyb21WZXJ0aWNlc2Ag44Gn44CB44Kq44OW44K444Kn44Kv44OI44KS44Gk44GP44KLCjMuIOOCquODluOCuOOCp+OCr+ODiOOCkuOBvuOBqOOCgeOBn+OCueOCv+ODg+OCr+OCkuOBpOOBj+OCiwoKCiMjICFb5pS56YCg44GZ44KLXShjb25jYXZlL21haW4uanMpCgoKIyMjIEJvZGllcy5mcm9tVmVydGljZXMoYHhgLCBgeWAsIGB2ZXJ0aWNlc2AsIHsgcmVuZGVyOiBgcmVuZGVyYCB9KQrjg5Hjg6njg6Hjg7zjgr8gfCDmhI/lkbMgfCDljZjkvY0gfCDmnIDlsI8gfCDmnIDlpKcgCi0tLSB8IC0tLSB8IC0tLSB8IC0tLSB8IC0tLQp4IHwg44Kq44OW44K444Kn44Kv44OI44Gu5L2N572u77yI5qiq77yJIHwgcHggfCAwIHwgODAwCnkgfCDjgqrjg5bjgrjjgqfjgq/jg4jjga7kvY3nva7vvIjnuKbvvIkgfCBweCB8IDAgfCA2MDAgCnZlcnRpY2VzIHwg44OZ44Kv44OI44Or44OH44O844K/IHwgIHwgfCAKcmVuZGVyIHwgfCB8IHwKZmlsbFN0eWxlIHwg5aGX44KK44Gk44G244GX44Gu6ImyIHwg6ImyIHwgfCAKc3Ryb2tlU3R5bGUgfCDnt5rjga7oibIgfCDoibIgfCB8IApsaW5lV2lkdGggfCDnt5rjga7lpKrjgZUgfCBweCB8IDAgfCBJbmZpbml0eQoKCiMjIOODmeOCr+ODiOODq+ODh+ODvOOCv+OBruabuOOBjeaWuQoKYCc0MCAwIDQwIDIwIC4uLiAwIDUwJ2Ag44Go44GE44GG5paH5a2X5YiX44Gu6YOo5YiG44GM44OZ44Kv44OI44Or44OH44O844K/44Gg44KIICAK44G+44Ga44Gv44CB44Gd44KM44Ge44KM44Gu5pWw5a2X44KS5LqM44Gk44Ga44Gk44Gr5Yy65YiH44Gj44Gm44G/44Gm44G/44KI44GGICAKYDQwIDBgIGA0MCAyMGAgLi4uIGAwIDUwYCDjgb/jgZ/jgYTjgavjga0gIArlrp/jga/jgIHjgZPjga7jgYvjgZ/jgb7jgorkuIDjgaTkuIDjgaTjgYzjgIHngrnjga7kvY3nva7jgpLooajjgZfjgabjgYTjgovjgpPjgaAKCuS4gOi+uuOBrumVt+OBleOBjCAxMDAg44Gu5q2j5pa55b2i44KS44Kk44Oh44O844K444GX44Gm44G/44KI44GGICAK44Gd44Gu5q2j5pa55b2i44Gu5Lit44GnIGA0MCAwYCBgNDAgMjBgIC4uLiBgMCA1MGAg44GMICAK44Gd44KM44Ge44KM44Gp44Gu5L2N572u44Gr5p2l44KL44Gu44GL44KS6ICD44GI44Gm44G/44KI44GGCgrliIbjgYvjgorjgavjgY/jgYTjgajjgY3jga/jgIHjgajjgorjgYLjgYjjgZrmm7jjgYTjgabjgb/jgabjgIEgIArjganjgYbjgarjgovjgYvoqabjgZfjgabjgb/jgojjgYYKCgpb44Oh44OL44Ol44O844Gr5oi744KLXShpbmRleC5odG1sKQoK","options":{"isTrashed":false},"credits":[]},{"name":"concave/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7lpb3jgY3jgarlvaLjga7jgqrjg5bjgrjjgqfjgq/jg4g8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJjb25jYXZlL21haW4uanMiPjwvc2NyaXB0Pgo8L2hlYWQ+Cjxib2R5Pgo8L2JvZHk+CjwvaHRtbD4=","options":{"isTrashed":false},"credits":[]},{"name":"concave/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUNvbXBvc2l0ZXMsCglDb21tb24sCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAoJVmVydGljZXMsCglCb2RpZXMsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpSZW5kZXIucnVuKHJlbmRlcik7Cgpjb25zdCBydW5uZXIgPSBSdW5uZXIuY3JlYXRlKCk7ClJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpOwoKCldvcmxkLmFkZCh3b3JsZCwgWwoJLy8g5aOBCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCA2MDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDgwMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSgwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSkKXSk7CgovLyDjg5njgq/jg4jjg6vjg4fjg7zjgr8KY29uc3QgYXJyb3cgPSBWZXJ0aWNlcy5mcm9tUGF0aCgnNDAgMCA0MCAyMCAxMDAgMjAgMTAwIDgwIDQwIDgwIDQwIDEwMCAwIDUwJyk7CmNvbnN0IGNoZXZyb24gPSBWZXJ0aWNlcy5mcm9tUGF0aCgnMTAwIDAgNzUgNTAgMTAwIDEwMCAyNSAxMDAgMCA1MCAyNSAwJyk7CmNvbnN0IHN0YXIgPSBWZXJ0aWNlcy5mcm9tUGF0aCgnNTAgMCA2MyAzOCAxMDAgMzggNjkgNTkgODIgMTAwIDUwIDc1IDE4IDEwMCAzMSA1OSAwIDM4IDM3IDM4Jyk7CmNvbnN0IGhvcnNlU2hvZSA9IFZlcnRpY2VzLmZyb21QYXRoKCczNSA3IDE5IDE3IDE0IDM4IDE0IDU4IDI1IDc5IDQ1IDg1IDY1IDg0IDY1IDY2IDQ2IDY3IDM0IDU5IDMwIDQ0IDMzIDI5IDQ1IDIzIDY2IDIzIDY2IDcgNTMgNycpOwoKLy8g44OZ44Kv44OI44Or44OH44O844K/44GL44KJ44Kq44OW44K444Kn44Kv44OI44KS5L2c44Gj44Gm44CBIDI0IOWAi+OBruOCueOCv+ODg+OCr+OBq+OBmeOCiwpjb25zdCBzdGFjayA9IENvbXBvc2l0ZXMuc3RhY2soNTAsIDUwLCA2LCA0LCAxMCwgMTAsIGZ1bmN0aW9uKHgsIHkpIHsKCWNvbnN0IGNvbG9yID0gQ29tbW9uLmNob29zZShbJyM1NTYyNzAnLCAnIzRFQ0RDNCcsICcjQzdGNDY0JywgJyNGRjZCNkInLCAnI0M0NEQ1OCddKTsKCXJldHVybiBCb2RpZXMuZnJvbVZlcnRpY2VzKHgsIHksIENvbW1vbi5jaG9vc2UoW2Fycm93LCBjaGV2cm9uLCBzdGFyLCBob3JzZVNob2VdKSwgewoJCXJlbmRlcjogewoJCQlmaWxsU3R5bGU6IGNvbG9yLAoJCQlzdHJva2VTdHlsZTogY29sb3IsCgkJCWxpbmVXaWR0aDogMQoJCX0KCX0sIHRydWUpOwp9KTsKCldvcmxkLmFkZCh3b3JsZCwgc3RhY2spOwoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdjb25jYXZlL1JFQURNRS5tZCcpOwo=","options":{"isTrashed":false},"credits":[]},{"name":"constraint/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjg5Djg40KCuODkOODjeOBo+OBveOBhOWLleOBjeOCkuS9nOOBo+OBpuOBv+OBnwoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgojIyDmlLnpgKDjgZfjgabjgb/jgosKCiFb44GT44GT44GL44KJ5aeL44KB44KLXShjb25zdHJhaW50L21haW4uanMpCgoqKkNvbnN0cmFpbnQuY3JlYXRlKHsgIArjgIDjgIBib2R5QTogYDFgLCAgCuOAgOOAgHBvaW50QjogeyAgCuOAgOOAgOOAgOOAgHg6IGAyYCwgIArjgIDjgIDjgIDjgIB5OiBgM2AsICAK44CA44CAfSwgIArjgIDjgIBzdGlmZm5lc3M6IGA0YCwgIAp9KTsqKgoKfHwg5oSP5ZGzIHwg44Gv44KT44GECi0tLSB8IC0tLSB8IC0tLSAKMSB8IOOCquODluOCuOOCp+OCr+ODiCB8IOOBquOBlwoyIHwg5bem44GL44KJ44Gu44Kt44On44OqIHwgMCB+IDgwMAozIHwg5LiK44GL44KJ44Gu44Kt44On44OqIHwgMCB+IDYwMAo0IHwg44OQ44ON44Gu5by344GVIHwgMCB+IDEuMAoKCuOCguOBo+OBqOaUuemAoAohW+ioreWuml0oY29uc3RyYWludC9zZXR0aW5nLmpzKQoKIyMg44Kz44Op44OgIOOAjOODleODg+OCr+OBruazleWJh+OAjQoK44OV44OD44Kv44Gu5rOV5YmH44Gr44KI44KL44GoIOODkOODjSDjgYzlhYPjgavmiLvjgo3jgYbjgajjgZnjgovlipvjga/jgIEgIArjg5Djg43jgYzkvLjjgbPjgZ/plbfjgZXjgavjgIHjgYLjgovlrprmlbDjgpLjgYvjgZHjgZ/jgoLjga7jgarjgpPjgaAgIArkvLjjgbPjgZ/plbfjgZXjgYzlgI3jgavjgarjgozjgbDjgIHmiLvjgo3jgYbjgajjgZnjgovlipvjgoLlgI3jgavjgarjgovjgpPjgaDjga0KCuOBguOCi+WumuaVsOOBruOBk+OBqOOCkiAqKuODkOODjeWumuaVsCoqIOOBqOiogOOBo+OBpuOAgSAgCuODkeODqeODoeODvOOCv+OBp+OBryBgc3RpZmZuZXNzYCDjga7jgZPjgajjgaDjgogKCi0gLSAtCgojIyDlv5znlKjkvosKClvjgrnjg6rjg7PjgrDjgrfjg6fjg4Pjg4hdKHNsaW5nc2hvdC9pbmRleC5odG1sKQpb44Oi44Oz44Kx44O844OzXSh3cmVja2luZ0JhbGwvaW5kZXguaHRtbCkKW+ODluODquODg+OCuF0oYnJpZGdlL2luZGV4Lmh0bWwpClvnmbrlsITlj7BdKGNhdGFwdWx0L2luZGV4Lmh0bWwpCg==","options":{"isTrashed":false},"credits":[]},{"name":"constraint/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jg5Djg408L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJjb25zdHJhaW50L21haW4uanMiPjwvc2NyaXB0Pgo8L2hlYWQ+Cjxib2R5Pgo8L2JvZHk+CjwvaHRtbD4=","options":{"isTrashed":false},"credits":[]},{"name":"constraint/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAoJQ29uc3RyYWludCwKfSBmcm9tICdtYXR0ZXInOwoKaW1wb3J0IHsKCXdvcmxkLAp9IGZyb20gJy4vc2V0dGluZyc7CgoKLy8g44Kq44OW44K444Kn44Kv44OI44KS44Gk44GP44KLCmNvbnN0IHNxdWFyZTEgPSBCb2RpZXMucmVjdGFuZ2xlKDIwMCwgMTAwLCAxMDAsIDEwMCk7CgovLyDjgqrjg5bjgrjjgqfjgq/jg4jjgpLnqbrkuK3jgavlm7rlrprjgZnjgovjg5Djg40KY29uc3Qgc3ByaW5nMSA9IENvbnN0cmFpbnQuY3JlYXRlKHsKCS8vIOWbuuWumuOBmeOCi+OCquODluOCuOOCp+OCr+ODiAoJYm9keUE6IHNxdWFyZTEsCgkvLyDlm7rlrprjgZnjgovkvY3nva4KCXBvaW50Qjoge+OAgOOAgAoJCXg6IDQwMCwKCQl5OiAxMDAsCgl9LAoJLy8g44OQ44ON44Gu5by344GVCglzdGlmZm5lc3M6IDAuMDAxLAp9KTsKCldvcmxkLmFkZCh3b3JsZCwgWwoJLy8g44Kq44OW44K444Kn44Kv44OICglzcXVhcmUxLAoJLy8g44OQ44ONCglzcHJpbmcxLAoJCl0pOwoKCgo=","options":{"isTrashed":false},"credits":[]},{"name":"constraint/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpyZW5kZXIub3B0aW9ucy5zaG93QXhlcyA9IHRydWU7CnJlbmRlci5vcHRpb25zLmJhY2tncm91bmQgPSAnIzAwMDAwMCc7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdjb25zdHJhaW50L1JFQURNRS5tZCcpOwoKCmV4cG9ydCB7CgllbmdpbmUsCgl3b3JsZCwKCXJlbmRlciwKfTsK","options":{"isTrashed":false},"credits":[]},{"name":"constraint/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoK","options":{"isTrashed":false},"credits":[]},{"name":"density/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgYrjgoLjgZUKCuOCquODluOCuOOCp+OCr+ODiOOBriBb44G/44Gk5bqmXShodHRwczovL2phLndpa2lwZWRpYS5vcmcvd2lraS8lRTUlQUYlODYlRTUlQkElQTYpCuOCkuWkieOBiOOBpuOAgemHjeOBj+OBl+OBpuOBv+OBnwoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgojIyDmlLnpgKDjgZfjgabjgb/jgosKCiFb44GT44GT44GL44KJ5aeL44KB44KLXShkZW5zaXR5L21haW4uanMpCgoKfHwg5oSP5ZGzIHwg44Gv44KT44GEIAotLS0gfCAtLS0gfCAtLS0gCmRlbnNpdHkgfCDjgYrjgoLjgZXjga7jgb/jgaTluqYgfCAwIH4gCgrjgoLjgaPjgajmlLnpgKAKIVvoqK3lrppdKGRlbnNpdHkvc2V0dGluZy5qcykKIVvjgYvjgbnjg7vjgobjgYtdKGRlbnNpdHkvc3RhZ2UuanMpCgotIC0gLQoKIyMg5b+c55So5L6LCgpb44K544Oq44Oz44Kw44K344On44OD44OIXShzbGluZ3Nob3QvaW5kZXguaHRtbCkgIApb44Oi44Oz44Kx44O844OzXSh3cmVja2luZ0JhbGwvaW5kZXguaHRtbCkgIApb55m65bCE5Y+wXShjYXRhcHVsdC9pbmRleC5odG1sKSAgCg==","options":{"isTrashed":false},"credits":[]},{"name":"density/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgYrjgoLjgZU8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJkZW5zaXR5L21haW4uanMiPjwvc2NyaXB0Pgo8L2hlYWQ+Cjxib2R5Pgo8L2JvZHk+CjwvaHRtbD4=","options":{"isTrashed":false},"credits":[]},{"name":"density/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nLmpzJzsKCgpXb3JsZC5hZGQod29ybGQsIFsKCQoJLy8g44GL44KL44GE44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDMwMCwgNDMwLCAzMCwgNTAwLCB7CgkJLy8g44G/44Gk5bqm77yI44GK44KC44GV77yJCgkJZGVuc2l0eTogMTAwLAoJCS8vIOWwkeOBl+OBoOOBkeWCvuOBkeOCiwoJCWFuZ2xlOiAwLjEsCgkJCgl9KSwKCQoJLy8g44GK44KC44GE44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNDMwLCAzMCwgNTAwLCB7CgkJLy8g44G/44Gk5bqm77yI44GK44KC44GV77yJCgkJZGVuc2l0eTogMTUsCgkJCgl9KSwKCQpdKTsKCgppbXBvcnQgJy4vc3RhZ2UuanMnOwo=","options":{"isTrashed":false},"credits":[]},{"name":"density/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKCVdvcmxkLAoJUnVubmVyLAoJTW91c2UsCglNb3VzZUNvbnN0cmFpbnQsCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKY29uc3Qgd29ybGQgPSBlbmdpbmUud29ybGQ7CgppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdkZW5zaXR5L1JFQURNRS5tZCcpOwoKCmV4cG9ydCB7CgllbmdpbmUsCgl3b3JsZCwKCXJlbmRlciwKfTsK","options":{"isTrashed":false},"credits":[]},{"name":"density/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCgovLyDlo4EKV29ybGQuYWRkKHdvcmxkLCBbCgkKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCA2MDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg4MDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlLAoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlLAoJfSksCgkKXSk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"engine.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCUdyaWQsCn0gZnJvbSAnbWF0dGVyLmpzJzsKCi8vIGNyZWF0ZSBhbiBlbmdpbmUKZXhwb3J0IGRlZmF1bHQgRW5naW5lLmNyZWF0ZSh7Cglwb3NpdGlvbkl0ZXJhdGlvbnM6IDYsCgl2ZWxvY2l0eUl0ZXJhdGlvbnM6IDQsCgljb25zdHJhaW50SXRlcmF0aW9uczogMiwKCWVuYWJsZVNsZWVwaW5nOiB0cnVlLAoJZXZlbnRzOiBbXSwKCXRpbWluZzogewoJCXRpbWVzdGFtcDogMCwKCQl0aW1lU2NhbGU6IDEKCX0sCglicm9hZHBoYXNlOiB7CgkJY29udHJvbGxlcjogR3JpZAoJfQp9KTsK","options":{"isTrashed":false},"credits":[]},{"name":"engineConfigs.js","type":"application/javascript","lastModified":1492756455000,"composed":"ZXhwb3J0IGRlZmF1bHQgewoJcG9zaXRpb25JdGVyYXRpb25zOiA2LAoJdmVsb2NpdHlJdGVyYXRpb25zOiA0LAoJY29uc3RyYWludEl0ZXJhdGlvbnM6IDIsCgllbmFibGVTbGVlcGluZzogdHJ1ZSwKCWV2ZW50czogW10sCgl0aW1pbmc6IHsKCQl0aW1lc3RhbXA6IDAsCgkJdGltZVNjYWxlOiAxCgl9LAoJYnJvYWRwaGFzZTogewoJCWNvbnRyb2xsZXI6IEdyaWQKCX0KfTsK","options":{"isTrashed":false},"credits":[]},{"name":"events/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgqTjg5njg7Pjg4gKCgrjgYLjgovlh7rmnaXkuovjgYzotbfjgZPjgaPjgZ/jgajjgY3jgIEgIArjgYLjgonjgYvjgZjjgoHoqK3lrprjgZfjgabjgYrjgYTjgZ/plqLmlbDjgpLlrp/ooYzjgZnjgovku5XntYTjgb/jga7jgZPjgajjgpLjgIEgIArjgqTjg5njg7Pjg4jjgajlkbzjgbbjgogKCuOBk+OBruOCteODs+ODl+ODq+OBp+OBr+OAgSAgCi0g44Oe44Km44K544Gn44Kv44Oq44OD44Kv44GV44KM44GfCi0g77yV56eS44Gf44Gj44Gf77yI57mw44KK6L+U44GZ77yJICAK44Gu44Gp44Gh44KJ44GL44Gu5Ye65p2l5LqL44GM6LW344GT44Gj44Gf44Go44GN44CB55S76Z2i5YWo5L2T44KS44K344Kn44Kk44Kv44GZ44KL44KICgojIyAhW+aUuemAoOOBmeOCi10oZXZlbnRzL21haW4uanMpCgojIyDjgqTjg5njg7Pjg4jjga7nqK7poZ4KCuiqsOOBjOi1t+OBk+OBmeOCpOODmeODs+ODiOOBiyB8IOOCpOODmeODs+ODiOOBruWQjeWJjSB8IOaEj+WRswotLS0gfCAtLS0gfCAtLS0Kd29ybGQgfCBhZnRlckFkZCB8IOOCquODluOCuOOCp+OCr+ODiOOChOOCueOCv+ODg+OCr+OBjOaWsOOBl+OBj+i/veWKoOOBleOCjOOBn+OBqOOBjQplbmdpbmUgfCBiZWZvcmVVcGRhdGUgfCDlrp/ooYzkuK3jga/luLjjgavmr47jg5Xjg6zjg7zjg6AKZW5naW5lIHwgY29sbGlzaW9uU3RhcnQgfCDjgYTjgZrjgozjgYvjga7jgqrjg5bjgrjjgqfjgq/jg4jjgYzjgZfjgofjgYbnqoHjgZfjgZ/jgajjgY0KZW5naW5lIHwgY29sbGlzaW9uQWN0aXZlIHwg44GE44Ga44KM44GL44Gu44Kq44OW44K444Kn44Kv44OI44GM44GX44KH44GG56qB44GX57aa44GR44Gm44GE44KL6ZaT5bi444GrCmVuZ2luZSB8IGNvbGxpc2lvbkVuZCB8IOOBl+OCh+OBhueqgeOBjOe1guOCj+OBo+OBn++8iOmbouOCjOOBn++8ieOBqOOBjQptb3VzZUNvbnN0cmFpbnQgfCBtb3VzZWRvd24gfCDjg57jgqbjgrnjgYzmirzjgZXjgozjgZ/jgajjgY0KbW91c2VDb25zdHJhaW50IHwgbW91c2V1cCB8IOODnuOCpuOCueOBjOmbouOCjOOBn+OBn+OBqOOBjQptb3VzZUNvbnN0cmFpbnQgfCBzdGFydGRyYWcgfCDjg57jgqbjgrnjgYzjg4njg6njg4PjgrDjgpLlp4vjgoHjgZ/jgajjgY0KbW91c2VDb25zdHJhaW50IHwgZW5kZHJhZyB8IOODnuOCpuOCueOBjOODieODqeODg+OCsOOCkue1guOBiOOBn+OBqOOBjQoKCiMjIGNvbnNvbGUubG9nIOOBq+OBpOOBhOOBpgoK44GC44KL5aSJ5pWw44Gu5Lit6Lqr44KS44CB44Kz44Oz44K944O844Or44Go44GE44GG6YOo5YiG44Gr6KGo56S644GZ44KL5qmf6IO944Gg44KIICAK56K66KqN44GZ44KL44Gr44Gv44CB44OW44Op44Km44K244GuICoq6ZaL55m66ICF44OE44O844OrKiog44KS6ZaL44GT44GGCgotIFdpbmRvd3Mg44Gu5aC05ZCIIEYxMiDjgq3jg7wKLSBNYWMg44Gu5aC05ZCIIEFsdCArIENtZCArIEkg44Kt44O8CgoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgotIC0gLQoKIyMg5b+c55So5L6LCgpb44K544Oq44Oz44Kw44K344On44OD44OIXShzbGluZ3Nob3QvaW5kZXguaHRtbCkKCg==","options":{"isTrashed":false},"credits":[]},{"name":"events/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgqTjg5njg7Pjg4g8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJldmVudHMvbWFpbi5qcyI+PC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHk+CjwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"events/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUJvZHksCglFdmVudHMsCglDb21wb3NpdGUsCglDb21wb3NpdGVzLAoJQ29tbW9uLAoJTW91c2VDb25zdHJhaW50LAoJTW91c2UsCglXb3JsZCwKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKY29uc3Qgd29ybGQgPSBlbmdpbmUud29ybGQ7CgppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgpFdmVudHMub24od29ybGQsICdhZnRlckFkZCcsIChldmVudCkgPT4gewoJLy8g44Kq44OW44K444Kn44Kv44OI44KE44K544K/44OD44Kv44GM5paw44GX44GP6L+95Yqg44GV44KM44Gf44Go44GN44CB44GT44GT44Gr5YWl44KLCgljb25zb2xlLmxvZygnYWRkZWQgdG8gd29ybGQ6JywgZXZlbnQub2JqZWN0KTsKCn0pOwoKRXZlbnRzLm9uKGVuZ2luZSwgJ2JlZm9yZVVwZGF0ZScsIChldmVudCkgPT4gewoJLy8g5a6f6KGM5Lit44Gv5bi444Gr5q+O44OV44Os44O844Og44CB44GT44GT44Gr5YWl44KLCgljb25zdCBlbmdpbmUgPSBldmVudC5zb3VyY2U7CglpZiAoZXZlbnQudGltZXN0YW1wICUgNTAwMCA8IDUwKSB7CgoJCS8vIDXnp5LjgYrjgY3jgavjgIHjgZPjgZPjgavlhaXjgosKCQlzaGFrZVNjZW5lKGVuZ2luZSk7CgoJfQoKfSk7CgpFdmVudHMub24oZW5naW5lLCAnY29sbGlzaW9uU3RhcnQnLCAoZXZlbnQpID0+IHsKCS8vIOOBhOOBmuOCjOOBi+OBruOCquODluOCuOOCp+OCr+ODiOOBjOOBl+OCh+OBhueqgeOBl+OBn+OBqOOBjeOAgeOBk+OBk+OBq+WFpeOCiwoKCS8vIOOBl+OCh+OBhueqgeOBl+OBn+S4oeaWueOBruOCquODluOCuOOCp+OCr+ODiOOBruiJsuOCkuWkieOBiOOCiwoJZm9yIChjb25zdCBwYWlyIG9mIGV2ZW50LnBhaXJzKSB7CgkJcGFpci5ib2R5QS5yZW5kZXIuZmlsbFN0eWxlID0gJyMzMzMnOwoJCXBhaXIuYm9keUIucmVuZGVyLmZpbGxTdHlsZSA9ICcjMzMzJzsKCX0KCn0pOwoKRXZlbnRzLm9uKGVuZ2luZSwgJ2NvbGxpc2lvbkFjdGl2ZScsIChldmVudCkgPT4gewoJLy8g44GE44Ga44KM44GL44Gu44Kq44OW44K444Kn44Kv44OI44GM44GX44KH44GG56qB44GX57aa44GR44Gm44GE44KL6ZaT5bi444Gr44CB44GT44GT44Gr5YWl44KLCgoJLy8g44GX44KH44GG56qB44GX44Gm44GE44KL5Lih5pa544Gu44Kq44OW44K444Kn44Kv44OI44Gu6Imy44KS5aSJ44GI44KLCglmb3IgKGNvbnN0IHBhaXIgb2YgZXZlbnQucGFpcnMpIHsKCQlwYWlyLmJvZHlBLnJlbmRlci5maWxsU3R5bGUgPSAnIzMzMyc7CgkJcGFpci5ib2R5Qi5yZW5kZXIuZmlsbFN0eWxlID0gJyMzMzMnOwoJfQoKfSk7CgpFdmVudHMub24oZW5naW5lLCAnY29sbGlzaW9uRW5kJywgKGV2ZW50KSA9PiB7CgkvLyDjgZfjgofjgYbnqoHjgYzntYLjgo/jgaPjgZ/vvIjpm6LjgozjgZ/vvInjgajjgY3jgIHjgZPjgZPjgavlhaXjgosKCgkvLyDpm6LjgozjgZ/kuKHmlrnjga7jgqrjg5bjgrjjgqfjgq/jg4jjga7oibLjgpLlpInjgYjjgosJCglmb3IgKGNvbnN0IHBhaXIgb2YgZXZlbnQucGFpcnMpIHsKCQlwYWlyLmJvZHlBLnJlbmRlci5maWxsU3R5bGUgPSAnIzIyMic7CgkJcGFpci5ib2R5Qi5yZW5kZXIuZmlsbFN0eWxlID0gJyMyMjInOwoJfQoKfSk7Cgpjb25zdCBib2R5U3R5bGUgPSB7CglmaWxsU3R5bGU6ICcjMjIyJwp9OwoKV29ybGQuYWRkKHdvcmxkLCBbCgkvLyDlo4EKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgkJcmVuZGVyOiBib2R5U3R5bGUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlLAoJCXJlbmRlcjogYm9keVN0eWxlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoODAwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCQlyZW5kZXI6IGJvZHlTdHlsZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlLAoJCXJlbmRlcjogYm9keVN0eWxlCgl9KQpdKTsKCi8vIOmjm+OBs+WbnuOBo+OBpuOBhOOCi+WGhuOBruOCueOCv+ODg+OCrwpjb25zdCBzdGFjayA9IENvbXBvc2l0ZXMuc3RhY2soNzAsIDEwMCwgOSwgNCwgNTAsIDUwLCAoeCwgeSkgPT4gewoJcmV0dXJuIEJvZGllcy5jaXJjbGUoeCwgeSwgMTUsIHsKCQlyZXN0aXR1dGlvbjogMSwKCQlyZW5kZXI6IGJvZHlTdHlsZQoJfSk7Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBzdGFjayk7CgovLyDnlLvpnaLlhajkvZPjgpLjgrfjgqfjgqTjgq/vvIEKY29uc3Qgc2hha2VTY2VuZSA9IChlbmdpbmUpID0+IHsKCWNvbnN0IGJvZGllcyA9IENvbXBvc2l0ZS5hbGxCb2RpZXMoZW5naW5lLndvcmxkKTsKCglmb3IgKGNvbnN0IGJvZHkgb2YgYm9kaWVzKSB7CgkJaWYgKCFib2R5LmlzU3RhdGljICYmIGJvZHkucG9zaXRpb24ueSA+PSA1MDApIHsKCQkJY29uc3QgZm9yY2VNYWduaXR1ZGUgPSAwLjAyICogYm9keS5tYXNzOwoKCQkJQm9keS5hcHBseUZvcmNlKGJvZHksIGJvZHkucG9zaXRpb24sIHsKCQkJCXg6IChmb3JjZU1hZ25pdHVkZSArIENvbW1vbi5yYW5kb20oKSAqIGZvcmNlTWFnbml0dWRlKSAqIENvbW1vbi5jaG9vc2UoWzEsIC0xXSksCgkJCQl5OiAtZm9yY2VNYWduaXR1ZGUgKyBDb21tb24ucmFuZG9tKCkgKiAtZm9yY2VNYWduaXR1ZGUKCQkJfSk7CgkJfQoJfQp9OwoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKRXZlbnRzLm9uKG1vdXNlQ29uc3RyYWludCwgJ21vdXNlZG93bicsIChldmVudCkgPT4gewoJLy8g44Oe44Km44K544GM5oq844GV44KM44Gf44Go44GN44CB44GT44GT44Gr5YWl44KLCgljb25zdCBtb3VzZVBvc2l0aW9uID0gZXZlbnQubW91c2UucG9zaXRpb247Cgljb25zb2xlLmxvZygnbW91c2Vkb3duIGF0ICcgKyBtb3VzZVBvc2l0aW9uLnggKyAnICcgKyBtb3VzZVBvc2l0aW9uLnkpOwoJc2hha2VTY2VuZShlbmdpbmUpOwoKfSk7CgpFdmVudHMub24obW91c2VDb25zdHJhaW50LCAnbW91c2V1cCcsIChldmVudCkgPT4gewoJLy8g44Oe44Km44K544GM6Zui44KM44Gf44Go44GN44CB44GT44GT44Gr5YWl44KLCgljb25zdCBtb3VzZVBvc2l0aW9uID0gZXZlbnQubW91c2UucG9zaXRpb247Cgljb25zb2xlLmxvZygnbW91c2V1cCBhdCAnICsgbW91c2VQb3NpdGlvbi54ICsgJyAnICsgbW91c2VQb3NpdGlvbi55KTsKCn0pOwoKRXZlbnRzLm9uKG1vdXNlQ29uc3RyYWludCwgJ3N0YXJ0ZHJhZycsIChldmVudCkgPT4gewoJLy8g44Oe44Km44K544GM44OJ44Op44OD44Kw44KS5aeL44KB44Gf44Go44GN44CB44GT44GT44Gr5YWl44KLCgljb25zb2xlLmxvZygnc3RhcnRkcmFnJywgZXZlbnQpOwoKfSk7CgpFdmVudHMub24obW91c2VDb25zdHJhaW50LCAnZW5kZHJhZycsIChldmVudCkgPT4gewoJLy8g44Oe44Km44K544GM44OJ44Op44OD44Kw44KS57WC44GI44Gf44Go44GN44CB44GT44GT44Gr5YWl44KLCgljb25zb2xlLmxvZygnZW5kZHJhZycsIGV2ZW50KTsKCn0pOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdldmVudHMvUkVBRE1FLm1kJyk7","options":{"isTrashed":false},"credits":[]},{"name":"feeles/card.json","type":"application/json","lastModified":1492756455000,"composed":"ewogICAgIk1vbml0b3JDYXJkIjogewogICAgICAgICJ2aXNpYmxlIjogdHJ1ZSwKICAgICAgICAib3JkZXIiOiAwLAogICAgICAgICJmcmFtZSI6IHsKICAgICAgICAgICAgInNyYyI6ICJpbmRleC5odG1sIiwKICAgICAgICAgICAgInNpemUiOiBbCiAgICAgICAgICAgICAgICA4MDAsCiAgICAgICAgICAgICAgICA2MDAKICAgICAgICAgICAgXQogICAgICAgIH0KICAgIH0sCiAgICAiU2hvdENhcmQiOiB7CiAgICAgICAgInZpc2libGUiOiBmYWxzZSwKICAgICAgICAib3JkZXIiOiAxLAogICAgICAgICJpbml0IjogewogICAgICAgICAgICAiZmlsZU5hbWUiOiAibWFpbi5qcyIKICAgICAgICB9CiAgICB9LAogICAgIkVkaXRvckNhcmQiOiB7CiAgICAgICAgInZpc2libGUiOiBmYWxzZSwKICAgICAgICAib3JkZXIiOiAyCiAgICB9LAogICAgIk1lZGlhQ2FyZCI6IHsKICAgICAgICAidmlzaWJsZSI6IGZhbHNlLAogICAgICAgICJvcmRlciI6IDMKICAgIH0sCiAgICAiQ3JlZGl0c0NhcmQiOiB7CiAgICAgICAgInZpc2libGUiOiBmYWxzZSwKICAgICAgICAib3JkZXIiOiA0CiAgICB9LAogICAgIlJlYWRtZUNhcmQiOiB7CiAgICAgICAgInZpc2libGUiOiB0cnVlLAogICAgICAgICJvcmRlciI6IDUsCiAgICAgICAgImluaXQiOiB7CiAgICAgICAgICAgICJmaWxlTmFtZSI6ICJSRUFETUUubWQiCiAgICAgICAgfQogICAgfSwKICAgICJQYWxldHRlQ2FyZCI6IHsKICAgICAgICAidmlzaWJsZSI6IGZhbHNlLAogICAgICAgICJvcmRlciI6IDYKICAgIH0sCiAgICAiU25pcHBldENhcmQiOiB7CiAgICAgICAgInZpc2libGUiOiBmYWxzZSwKICAgICAgICAib3JkZXIiOiA3CiAgICB9LAogICAgIkVudkNhcmQiOiB7CiAgICAgICAgInZpc2libGUiOiBmYWxzZSwKICAgICAgICAib3JkZXIiOiA4CiAgICB9LAogICAgIkhpZXJhcmNoeUNhcmQiOiB7CiAgICAgICAgInZpc2libGUiOiBmYWxzZSwKICAgICAgICAib3JkZXIiOiA5CiAgICB9LAogICAgIkN1c3RvbWl6ZUNhcmQiOiB7CiAgICAgICAgInZpc2libGUiOiBmYWxzZSwKICAgICAgICAib3JkZXIiOiAxMAogICAgfSwKCQkiU2NyZWVuU2hvdENhcmQiOiB7CgkJCSJ2aXNpYmxlIjogdHJ1ZSwKCQkJCSJvcmRlciI6IDExCgkJfQp9","options":{"isTrashed":false},"credits":[]},{"name":"feeles/codemirror.css","type":"text/css","lastModified":1492756455000,"composed":"LkNvZGVNaXJyb3IgewoJZm9udC1mYW1pbHk6IENvbnNvbGFzLCAiTGliZXJhdGlvbiBNb25vIiwgTWVubG8sIENvdXJpZXIsIG1vbm9zcGFjZTsKCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMjQ1LCAyNDUsIDI0NSwgMS4wKTsKCS8qIDEwMCXjgIDjgavjgZnjgovjgajjgIHjg4Djg7zjgq/jg6Ljg7zjg4njgavjgarjgovjgoggKi8KCWZpbHRlcjogaW52ZXJ0KDAlKTsKfQoKLkNvZGVNaXJyb3IgLmNtLXRhYjpiZWZvcmUgewoJdmlzaWJpbGl0eTogaGlkZGVuOwoJY29udGVudDogJ+KAouKAouKAouKAoic7Cgljb2xvcjogcmdiYSgwLCAwLCAwLCAwLjEpOwoJYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSk7Cglwb3NpdGlvbjogYWJzb2x1dGU7Cn0KCi5Db2RlTWlycm9yLWxpbmVudW1iZXIgewoJY29sb3I6IHJnYmEoMTUzLCAxNTMsIDE1MywgMS4wKTsKfQoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg==","options":{"isTrashed":false},"credits":[]},{"name":"feeles/codemirror.json","type":"application/json","lastModified":1492756455000,"composed":"ewoJImxpbmVOdW1iZXJzIjogdHJ1ZSwKCSJpbmRlbnRVbml0IjogNCwKCSJpbmRlbnRXaXRoVGFicyI6IHRydWUsCgkibWF0Y2hCcmFja2V0cyI6IHRydWUsCgkiYXV0b0Nsb3NlQnJhY2tldHMiOiB0cnVlLAoJImtleU1hcCI6ICJzdWJsaW1lIiwKCSJzY3JvbGxiYXJTdHlsZSI6ICJzaW1wbGUiLAoJImZvbGRHdXR0ZXIiOiB0cnVlLAoJImZvbGRPcHRpb25zIjogewoJCSJ3aWRnZXQiOiAi4pyn4p+j4p2D4p+i4pynIiwKCQkibWluRm9sZFNpemUiOiAxLAoJCSJzY2FuVXAiOiBmYWxzZQoJfQp9","options":{"isTrashed":false},"credits":[]},{"name":"feeles/ogp.json","type":"application/json","lastModified":1492756455000,"composed":"ewogICAgIm9nOnRpdGxlIjogIuODouODjuOBruWLleOBjeOCt+ODn+ODpeODrOODvOOCvyIsCiAgICAib2c6dXJsIjogImh0dHBzOi8vdGVyYW1vdG9kYWlraS5naXRodWIuaW8vbWF0dGVyanMtb24tZmVlbGVzLyIsCiAgICAib2c6ZGVzY3JpcHRpb24iOiAi6aOb44Gw44GX44Gf44KKIOOBtuOBpOOBkeOBn+OCiiDlm57jgZfjgZ/jgoog44Gk44Gq44GS44Gf44KK4oCm4oCm54mp55CG44Gu5LiW55WM44KS44OX44Ot44Kw44Op44Of44Oz44Kw44Gn5L2T6aiT44GX44KI44GG77yBIiwKICAgICJvZzphdXRob3IiOiAiIiwKICAgICJvZzppbWFnZSI6ICJodHRwczovL2VtYmVkLmhhY2tmb3JwbGF5Lnh5ei9vcGVuLXNvdXJjZS9vZ3AvbWF0dGVyLW9ncC1pbWFnZS5wbmciLAogICAgIm9nOmltYWdlOndpZHRoIjogMTIwMCwKICAgICJvZzppbWFnZTpoZWlnaHQiOiA2MzMsCiAgICAidHdpdHRlcjpjYXJkIjogInN1bW1hcnlfbGFyZ2VfaW1hZ2UiLAogICAgInR3aXR0ZXI6c2l0ZSI6ICJAdGVyYW1vdG9kYWlraSIsCiAgICAidHdpdHRlcjp0aXRsZSI6ICLjg6Ljg47jga7li5XjgY3jgrfjg5/jg6Xjg6zjg7zjgr8iLAogICAgInR3aXR0ZXI6ZGVzY3JpcHRpb24iOiAi6aOb44Gw44GX44Gf44KKIOOBtuOBpOOBkeOBn+OCiiDlm57jgZfjgZ/jgoog44Gk44Gq44GS44Gf44KK4oCm4oCm54mp55CG44Gu5LiW55WM44KS44OX44Ot44Kw44Op44Of44Oz44Kw44Gn5L2T6aiT44GX44KI44GG77yBIiwKICAgICJ0d2l0dGVyOmltYWdlIjogImh0dHBzOi8vZW1iZWQuaGFja2ZvcnBsYXkueHl6L29wZW4tc291cmNlL29ncC9tYXR0ZXItb2dwLWltYWdlLnBuZyIsCiAgICAidHdpdHRlcjphdXRob3IiOiAiIiwKICAgICJmYjphcHBfaWQiOiAxODYyNjg1NDgzOTQzODAyCn0=","options":{"isTrashed":false},"credits":[]},{"name":"free/Assets.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAoJUmVuZGVyLAoJRW5naW5lLAp9IGZyb20gJ21hdHRlcic7CgoKaW1wb3J0IGVuZ2luZSBmcm9tICdlbmdpbmUnOwppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7CgoKLy8gcnVuIHRoZSBlbmdpbmUKRW5naW5lLnJ1bihlbmdpbmUpOwoKLy8gcnVuIHRoZSByZW5kZXJlcgpSZW5kZXIucnVuKHJlbmRlcik7CgoKY29uc3QgQXNzZXRzID0ge307CgpPYmplY3Qua2V5cyhCb2RpZXMpLmZvckVhY2goKHNoYXBlKSA9PiB7CgoJQXNzZXRzW3NoYXBlXSA9ICguLi5hcmdzKSA9PiB7CgkJY29uc3Qgc2VsZiA9IEJvZGllc1tzaGFwZV0oLi4uYXJncyk7CgkJV29ybGQuYWRkKGVuZ2luZS53b3JsZCwgc2VsZik7CgkJcmV0dXJuIFByb21pc2UucmVzb2x2ZShzZWxmKTsKCX07CgoJQXNzZXRzW3NoYXBlICsgJ1N5bmMnXSA9ICguLi5hcmdzKSA9PiB7CgkJY29uc3Qgc2VsZiA9IEJvZGllc1tzaGFwZV0oLi4uYXJncyk7CgkJV29ybGQuYWRkKGVuZ2luZS53b3JsZCwgc2VsZik7CgkJcmV0dXJuIHNlbGY7Cgl9OwoKfSk7CgpleHBvcnQgZGVmYXVsdCBBc3NldHM7Cgo=","options":{"isTrashed":false},"credits":[]},{"name":"free/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDoh6rnlLHjgrPjg7zjg4rjg7wKCuOBk+OBk+OBp+OBr+WQm+OBruS9nOOCiuOBn+OBhOOCguOBruOCkuOCvOODreOBi+OCieS9nOOCiuWni+OCgeOCi+OBk+OBqOOBjOOBp+OBjeOCi+OCiCAgCuaAneOBhuWtmOWIhuOAgeeglOeptuOCkualveOBl+OCguOBhu+8ge+8gQoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgojIyDkvZzjgosKCiFb44Oh44Kk44Oz44OX44Ot44Kw44Op44OgXShmcmVlL21haW4uanMpICAKIVvjgYvjgbnjg7vjgobjgYtdKGZyZWUvc3RhZ2UuanMpICAKIVvoqK3lrppdKGZyZWUvc2V0dGluZy5qcykgIAo=","options":{"isTrashed":false},"credits":[]},{"name":"free/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT4u6Ieq55Sx44Kz44O844OK44O8PC90aXRsZT4KCQk8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9InN0eWxlLmNzcyIgLz4KCQk8c2NyaXB0IHNyYz0iZnJlZS9tYWluLmpzIj48L3NjcmlwdD4KCTwvaGVhZD4KCTxib2R5PgoJPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"free/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAoJCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCB7Cgl3b3JsZCwKfSBmcm9tICcuL3NldHRpbmcnOwoKCldvcmxkLmFkZCh3b3JsZCwgWwoJCgkvLyDjgZPjgZPjgavjgqrjg5bjgrjjgqfjgq/jg4jjgpLov73liqDjgZnjgosKCQoJCgkKCQoJCgkKCQoJCgkKCQpdKTsKCgoKaW1wb3J0ICcuL3N0YWdlJzsK","options":{"isTrashed":false},"credits":[]},{"name":"free/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpSZW5kZXIucnVuKHJlbmRlcik7Cgpjb25zdCBydW5uZXIgPSBSdW5uZXIuY3JlYXRlKCk7ClJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpOwoKCi8vIOODnuOCpuOCueaTjeS9nApjb25zdCBtb3VzZSA9IE1vdXNlLmNyZWF0ZShyZW5kZXIuY2FudmFzKTsKY29uc3QgbW91c2VDb25zdHJhaW50ID0gTW91c2VDb25zdHJhaW50LmNyZWF0ZShlbmdpbmUsIHsKCW1vdXNlOiBtb3VzZSwKCWNvbnN0cmFpbnQ6IHsKCQlzdGlmZm5lc3M6IDAuMiwKCQlyZW5kZXI6IHsKCQkJdmlzaWJsZTogZmFsc2UKCQl9Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBtb3VzZUNvbnN0cmFpbnQpOwoKLy8ga2VlcCB0aGUgbW91c2UgaW4gc3luYyB3aXRoIHJlbmRlcmluZwpyZW5kZXIubW91c2UgPSBtb3VzZTsKCgpmZWVsZXMub3BlblJlYWRtZSgnZnJlZS9SRUFETUUubWQnKTsKCgpleHBvcnQgewoJZW5naW5lLAoJd29ybGQsCglyZW5kZXIsCn07Cg==","options":{"isTrashed":false},"credits":[]},{"name":"free/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCldvcmxkLmFkZCh3b3JsZCwgWwoJLy8g44GL44G544Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlLAoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoODAwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSgwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJCl0pOwo=","options":{"isTrashed":false},"credits":[]},{"name":"friction/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgb7jgZXjgaTlipsKPiDjgb7jgZXjgaQt44KK44KH44GPICAK5pGp5pOm5YqbCgrjgqrjg5bjgrjjgqfjgq/jg4jjga4gW+OBvuOBleOBpOWKm10oaHR0cHM6Ly9qYS53aWtpcGVkaWEub3JnL3dpa2kvJUU2JTkxJUE5JUU2JTkzJUE2JUU1JThBJTlCKQrjgpLlpInjgYjjgabjgb/jgZ8KClvjg6Hjg4vjg6Xjg7zjgavmiLvjgotdKGluZGV4Lmh0bWwpCgoKIyMg5pS56YCg44GX44Gm44G/44KLCgohW+OBk+OBk+OBi+OCieWni+OCgeOCi10oZnJpY3Rpb24vbWFpbi5qcykKCnx8IOaEj+WRsyB8IOevhOWbsgotLS0gfCAtLS0gfCAtLS0gCmZyaWN0aW9uIHwg44G+44GV44Gk44Gu5aSn44GN44GVIHwgMCB+IDEuMAoK44KC44Gj44Go5pS56YCgCiFb6Kit5a6aXShmcmljdGlvbi9zZXR0aW5nLmpzKQohW+OBi+OBueODu+OChuOBi10oZnJpY3Rpb24vc3RhZ2UuanMpCgotIC0gLQoKIyMg5b+c55So5L6LCgoKCgoKCg==","options":{"isTrashed":false},"credits":[]},{"name":"friction/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7mkanmk6blips8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJmcmljdGlvbi9tYWluLmpzIj48L3NjcmlwdD4KPC9oZWFkPgo8Ym9keT4KPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"friction/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCgpXb3JsZC5hZGQod29ybGQsIFsKCgkvLyDkuIrjga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5yZWN0YW5nbGUoMzAwLCA3MCwgNDAsIDQwLCB7CgkJLy8g44G+44GV44Gk5YqbCgkJZnJpY3Rpb246IDAuMDAxLAoJCQoJfSksCgkKCS8vIOS4reOBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSgzMDAsIDI1MCwgNDAsIDQwLCB7CgkJLy8g44G+44GV44Gk5YqbCgkJZnJpY3Rpb246IDAuMDAwNSwKCQkKCX0pLAoJCgkvLyDkuIvjga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5yZWN0YW5nbGUoMzAwLCA0MzAsIDQwLCA0MCwgewoJCS8vIOOBvuOBleOBpOWKmwoJCWZyaWN0aW9uOiAwLAoJCQoJfSksCgkKXSk7CgoKaW1wb3J0ICcuL3N0YWdlJzsK","options":{"isTrashed":false},"credits":[]},{"name":"friction/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpSZW5kZXIucnVuKHJlbmRlcik7Cgpjb25zdCBydW5uZXIgPSBSdW5uZXIuY3JlYXRlKCk7ClJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpOwoKCi8vIOODnuOCpuOCueaTjeS9nApjb25zdCBtb3VzZSA9IE1vdXNlLmNyZWF0ZShyZW5kZXIuY2FudmFzKTsKY29uc3QgbW91c2VDb25zdHJhaW50ID0gTW91c2VDb25zdHJhaW50LmNyZWF0ZShlbmdpbmUsIHsKCW1vdXNlOiBtb3VzZSwKCWNvbnN0cmFpbnQ6IHsKCQlzdGlmZm5lc3M6IDAuMiwKCQlyZW5kZXI6IHsKCQkJdmlzaWJsZTogZmFsc2UKCQl9Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBtb3VzZUNvbnN0cmFpbnQpOwoKLy8ga2VlcCB0aGUgbW91c2UgaW4gc3luYyB3aXRoIHJlbmRlcmluZwpyZW5kZXIubW91c2UgPSBtb3VzZTsKCgpmZWVsZXMub3BlblJlYWRtZSgnZnJpY3Rpb24vUkVBRE1FLm1kJyk7CgoKZXhwb3J0IHsKCWVuZ2luZSwKCXdvcmxkLAoJcmVuZGVyLAp9Owo=","options":{"isTrashed":false},"credits":[]},{"name":"friction/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CmltcG9ydCB7Cgl3b3JsZCwKfSBmcm9tICcuL3NldHRpbmcnOwoKCi8vIOOBi+OBuQpXb3JsZC5hZGQod29ybGQsIFsKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoODAwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KQpdKTsKCi8vIOOChuOBiwpXb3JsZC5hZGQod29ybGQsIFsKCUJvZGllcy5yZWN0YW5nbGUoMzAwLCAxODAsIDcwMCwgMjAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCQlhbmdsZTogTWF0aC5QSSAqIDAuMDYKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSgzMDAsIDM1MCwgNzAwLCAyMCwgewoJCWlzU3RhdGljOiB0cnVlLAoJCWFuZ2xlOiBNYXRoLlBJICogMC4wNgoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDMwMCwgNTIwLCA3MDAsIDIwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgkJYW5nbGU6IE1hdGguUEkgKiAwLjA2Cgl9KSwKXSk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"gravity/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDph43lipsKCuepuumWk+OBriAKW+mHjeWKm10oaHR0cHM6Ly9qYS53aWtpcGVkaWEub3JnL3dpa2kvJUU5JTg3JThEJUU1JThBJTlCKQrjgpLlpInjgYjjgabjgb/jgZ8KCgpb44Oh44OL44Ol44O844Gr5oi744KLXShpbmRleC5odG1sKQoKCiMjIOaUuemAoOOBl+OBpuOBv+OCiwoKIyMgIVvjgZPjgZPjgYvjgonlp4vjgoHjgotdKGdyYXZpdHkvbWFpbi5qcykKCnx8IOaEj+WRsyB8IAotLS0gfCAtLS0gIAp3b3JsZC5ncmF2aXR5LnggfCDlj7PlkJHjgY3jga7ph43lipsgCndvcmxkLmdyYXZpdHkueSB8IOS4i+WQkeOBjeOBrumHjeWKmyAKCuOCguOBo+OBqOaUuemAoAohW+ioreWuml0oZ3Jhdml0eS9zZXR0aW5nLmpzKQohW+OBi+OBueODu+OChuOBi10oZ3Jhdml0eS9zdGFnZS5qcykKIVvjgrnjgr/jg4Pjgq9dKGdyYXZpdHkvc3RhY2suanMpCgo=","options":{"isTrashed":false},"credits":[]},{"name":"gravity/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7ph43lips8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJncmF2aXR5L21haW4uanMiPjwvc2NyaXB0Pgo8L2hlYWQ+Cjxib2R5Pgo8L2JvZHk+CjwvaHRtbD4=","options":{"isTrashed":false},"credits":[]},{"name":"gravity/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCgovLyDph43lipsKd29ybGQuZ3Jhdml0eS54ID0gMDsKd29ybGQuZ3Jhdml0eS55ID0gLTE7CgoKCgoKCgoKCgoKaW1wb3J0ICcuL3N0YWdlJzsKaW1wb3J0ICcuL3N0YWNrJzsK","options":{"isTrashed":false},"credits":[]},{"name":"gravity/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpyZW5kZXIub3B0aW9ucy5zaG93VmVsb2NpdHkgPSB0cnVlOwpyZW5kZXIub3B0aW9ucy5zaG93QW5nbGVJbmRpY2F0b3IgPSB0cnVlOwpSZW5kZXIucnVuKHJlbmRlcik7Cgpjb25zdCBydW5uZXIgPSBSdW5uZXIuY3JlYXRlKCk7ClJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpOwoKCi8vIOODnuOCpuOCueaTjeS9nApjb25zdCBtb3VzZSA9IE1vdXNlLmNyZWF0ZShyZW5kZXIuY2FudmFzKTsKY29uc3QgbW91c2VDb25zdHJhaW50ID0gTW91c2VDb25zdHJhaW50LmNyZWF0ZShlbmdpbmUsIHsKCW1vdXNlOiBtb3VzZSwKCWNvbnN0cmFpbnQ6IHsKCQlzdGlmZm5lc3M6IDAuMiwKCQlyZW5kZXI6IHsKCQkJdmlzaWJsZTogZmFsc2UKCQl9Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBtb3VzZUNvbnN0cmFpbnQpOwoKLy8ga2VlcCB0aGUgbW91c2UgaW4gc3luYyB3aXRoIHJlbmRlcmluZwpyZW5kZXIubW91c2UgPSBtb3VzZTsKCgpmZWVsZXMub3BlblJlYWRtZSgnZ3Jhdml0eS9SRUFETUUubWQnKTsKCgpleHBvcnQgewoJZW5naW5lLAoJd29ybGQsCglyZW5kZXIsCn07Cg==","options":{"isTrashed":false},"credits":[]},{"name":"gravity/stack.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUNvbXBvc2l0ZXMsCglDb21tb24sCglXb3JsZCwKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKaW1wb3J0IHsKCXdvcmxkLAp9IGZyb20gJy4vc2V0dGluZyc7CgoKV29ybGQuYWRkKHdvcmxkLCBbCgkKCS8vIOS4reOBruOCquODluOCuOOCp+OCr+ODiOOBruOCueOCv+ODg+OCrwoJQ29tcG9zaXRlcy5zdGFjayg1MCwgMTIwLCAxMSwgNSwgMCwgMCwgKHgsIHkpID0+IHsKCQkKCQkvLyDjg6njg7Pjg4Djg6DjgavlvaLjgoTlpKfjgY3jgZXjgpLlpInjgYjjgosKCQlpZiAoQ29tbW9uLnJhbmRvbSgwLCAxKSA8IDAuNSkgewoJCQlpZiAoQ29tbW9uLnJhbmRvbSgpIDwgMC44KSB7CgkJCQlyZXR1cm4gQm9kaWVzLnJlY3RhbmdsZSh4LCB5LCBDb21tb24ucmFuZG9tKDIwLCA1MCksIENvbW1vbi5yYW5kb20oMjAsIDUwKSk7CgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gQm9kaWVzLnJlY3RhbmdsZSh4LCB5LCBDb21tb24ucmFuZG9tKDgwLCAxMjApLCBDb21tb24ucmFuZG9tKDIwLCAzMCkpOwoJCQl9CgkJfSBlbHNlIHsKCQkJcmV0dXJuIEJvZGllcy5wb2x5Z29uKHgsIHksIE1hdGgucm91bmQoQ29tbW9uLnJhbmRvbSgxLCA4KSksIENvbW1vbi5yYW5kb20oMjAsIDUwKSk7CgkJfQoJCQoJfSksCgkKXSk7Cgo=","options":{"isTrashed":false},"credits":[]},{"name":"gravity/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCgpXb3JsZC5hZGQod29ybGQsIFsKCS8vIOWjgQoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgODAwLCA1MC41LCB7CgkJaXNTdGF0aWM6IHRydWUsCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoODAwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSgwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pCl0pOwoK","options":{"isTrashed":false},"credits":[]},{"name":"gyro/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgrjjg6PjgqTjg63jgrvjg7PjgrXjg7wKCgrjgrnjg57jg7zjg4jjg5Xjgqnjg7Pjga7jgrjjg6PjgqTjg63jgrvjg7PjgrXjg7zjgpLkvb/jgaPjgabjgIHph43lipvjgpLmk43kvZzjgZnjgovjgogKCuODkeOCveOCs+ODs+OBi+OCieOBr+OCuOODo+OCpOODreOCu+ODs+OCteODvOOCkuS9v+OBiOOBquOBhOOBruOBp+OAgeazqOaEj+OBl+OBpuOBrQoKCiMjICFb5pS56YCg44GZ44KLXShneXJvL21haW4uanMpCgoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgo=","options":{"isTrashed":false},"credits":[]},{"name":"gyro/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgrjjg6PjgqTjg63jgrvjg7PjgrXjg7w8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJneXJvL21haW4uanMiPjwvc2NyaXB0Pgo8L2hlYWQ+Cjxib2R5Pgo8L2JvZHk+CjwvaHRtbD4=","options":{"isTrashed":false},"credits":[]},{"name":"gyro/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUNvbXBvc2l0ZXMsCglDb21tb24sCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgoKaW1wb3J0IGVuZ2luZSBmcm9tICdlbmdpbmUnOwpjb25zdCB3b3JsZCA9IGVuZ2luZS53b3JsZDsKCmltcG9ydCByZW5kZXIgZnJvbSAncmVuZGVyJzsKcmVuZGVyLm9wdGlvbnMuc2hvd0FuZ2xlSW5kaWNhdG9yID0gdHJ1ZTsKUmVuZGVyLnJ1bihyZW5kZXIpOwoKY29uc3QgcnVubmVyID0gUnVubmVyLmNyZWF0ZSgpOwpSdW5uZXIucnVuKHJ1bm5lciwgZW5naW5lKTsKCgovLyDkuK3jga7jgqrjg5bjgrjjgqfjgq/jg4jjga7jgrnjgr/jg4Pjgq8KY29uc3Qgc3RhY2sgPSBDb21wb3NpdGVzLnN0YWNrKDIwLCAyMCwgMTAsIDUsIDAsIDAsICh4LCB5KSA9PiB7Cgljb25zdCBfc2lkZXMgPSBNYXRoLnJvdW5kKENvbW1vbi5yYW5kb20oMSwgOCkpOwoKCS8vIDMg44Gg44Go6Imv44GP44Gq44GE44Gu44Gn44CB5Luj44KP44KK44GrIDQg44Gr44GZ44KLCgljb25zdCBzaWRlcyA9IChfc2lkZXMgPT09IDMpID8gNCA6IF9zaWRlczsKCgkvLyDjgZ/jgb7jgavop5LjgpLkuLjjgY/jgZnjgosKCWNvbnN0IGNoYW1mZXIgPSBzaWRlcyA+IDIgJiYgQ29tbW9uLnJhbmRvbSgpID4gMC43ID8gewoJCXJhZGl1czogMTAKCX0gOiBudWxsOwoKCXN3aXRjaCAoTWF0aC5yb3VuZChDb21tb24ucmFuZG9tKDAsIDEpKSkgewoJCWNhc2UgMDoKCQkJaWYgKENvbW1vbi5yYW5kb20oKSA8IDAuOCkgewoJCQkJcmV0dXJuIEJvZGllcy5yZWN0YW5nbGUoeCwgeSwgQ29tbW9uLnJhbmRvbSgyNSwgNTApLCBDb21tb24ucmFuZG9tKDI1LCA1MCksIHsKCQkJCQljaGFtZmVyOiBjaGFtZmVyCgkJCQl9KTsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiBCb2RpZXMucmVjdGFuZ2xlKHgsIHksIENvbW1vbi5yYW5kb20oODAsIDEyMCksIENvbW1vbi5yYW5kb20oMjUsIDMwKSwgewoJCQkJCWNoYW1mZXI6IGNoYW1mZXIKCQkJCX0pOwoJCQl9CgkJCWJyZWFrOwoJCWNhc2UgMToKCQkJcmV0dXJuIEJvZGllcy5wb2x5Z29uKHgsIHksIHNpZGVzLCBDb21tb24ucmFuZG9tKDI1LCA1MCksIHsKCQkJCWNoYW1mZXI6IGNoYW1mZXIKCQkJfSk7Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBbCglzdGFjaywKCS8vIOWjgQoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg4MDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pCl0pOwoKLy8g44K444Oj44Kk44Ot44K744Oz44K144O844Gu5pON5L2cCmNvbnN0IHVwZGF0ZUdyYXZpdHkgPSAoZXZlbnQpID0+IHsKCWNvbnN0IG9yaWVudGF0aW9uID0gdHlwZW9mIHdpbmRvdy5vcmllbnRhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cub3JpZW50YXRpb24gOiAwOwoJY29uc3QgZ3Jhdml0eSA9IHdvcmxkLmdyYXZpdHk7CgoJaWYgKG9yaWVudGF0aW9uID09PSAwKSB7CgkJZ3Jhdml0eS54ID0gQ29tbW9uLmNsYW1wKGV2ZW50LmdhbW1hLCAtOTAsIDkwKSAvIDkwOwoJCWdyYXZpdHkueSA9IENvbW1vbi5jbGFtcChldmVudC5iZXRhLCAtOTAsIDkwKSAvIDkwOwoJfSBlbHNlIGlmIChvcmllbnRhdGlvbiA9PT0gMTgwKSB7CgkJZ3Jhdml0eS54ID0gQ29tbW9uLmNsYW1wKGV2ZW50LmdhbW1hLCAtOTAsIDkwKSAvIDkwOwoJCWdyYXZpdHkueSA9IENvbW1vbi5jbGFtcCgtZXZlbnQuYmV0YSwgLTkwLCA5MCkgLyA5MDsKCX0gZWxzZSBpZiAob3JpZW50YXRpb24gPT09IDkwKSB7CgkJZ3Jhdml0eS54ID0gQ29tbW9uLmNsYW1wKGV2ZW50LmJldGEsIC05MCwgOTApIC8gOTA7CgkJZ3Jhdml0eS55ID0gQ29tbW9uLmNsYW1wKC1ldmVudC5nYW1tYSwgLTkwLCA5MCkgLyA5MDsKCX0gZWxzZSBpZiAob3JpZW50YXRpb24gPT09IC05MCkgewoJCWdyYXZpdHkueCA9IENvbW1vbi5jbGFtcCgtZXZlbnQuYmV0YSwgLTkwLCA5MCkgLyA5MDsKCQlncmF2aXR5LnkgPSBDb21tb24uY2xhbXAoZXZlbnQuZ2FtbWEsIC05MCwgOTApIC8gOTA7Cgl9Cn07Cgp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlb3JpZW50YXRpb24nLCB1cGRhdGVHcmF2aXR5KTsKCi8vIOODnuOCpuOCueaTjeS9nApjb25zdCBtb3VzZSA9IE1vdXNlLmNyZWF0ZShyZW5kZXIuY2FudmFzKTsKY29uc3QgbW91c2VDb25zdHJhaW50ID0gTW91c2VDb25zdHJhaW50LmNyZWF0ZShlbmdpbmUsIHsKCW1vdXNlOiBtb3VzZSwKCWNvbnN0cmFpbnQ6IHsKCQlzdGlmZm5lc3M6IDAuMiwKCQlyZW5kZXI6IHsKCQkJdmlzaWJsZTogZmFsc2UKCQl9Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBtb3VzZUNvbnN0cmFpbnQpOwoKLy8ga2VlcCB0aGUgbW91c2UgaW4gc3luYyB3aXRoIHJlbmRlcmluZwpyZW5kZXIubW91c2UgPSBtb3VzZTsKCgpmZWVsZXMub3BlblJlYWRtZSgnZ3lyby9SRUFETUUubWQnKTsK","options":{"isTrashed":false},"credits":[]},{"name":"index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT4u44Oh44OL44Ol44O8PC90aXRsZT4KCQk8c3R5bGU+CgkJCWh0bWwgeyAKCQkJCWJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7IAoJCQl9CgkJCWEuYnRuIHsKCQkJCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCQkJCWJhY2tncm91bmQtY29sb3I6ICMzMzk5RkY7CgkJCQljb2xvcjogI0ZGRkZGRjsKCQkJCXRleHQtZGVjb3JhdGlvbjogbm9uZTsKCQkJCW1hcmdpbjogNHB4OwoJCQkJcGFkZGluZzogNHB4OwoJCQkJYm9yZGVyLXJhZGl1czogMnB4OwoJCQkJd2hpdGUtc3BhY2U6IG5vd3JhcDsKCQkJCXRyYW5zZm9ybTogcm90YXRlKC00ZGVnKTsKCQkJfQoJCTwvc3R5bGU+CgkJPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0ibWFpbi5qcyI+PC9zY3JpcHQ+Cgk8L2hlYWQ+Cgk8Ym9keT4KCQk8aDI+TWVudTwvaDI+CgkJPGgzPuWLleOBj+OCs+ODs+ODhuODs+ODhPCfjq48L2gzPgoJCTxhIGNsYXNzPSJidG4iIGhyZWY9InNsaW5nc2hvdC9pbmRleC5odG1sIj7jgrnjg6rjg7PjgrDjgrfjg6fjg4Pjg4g8L2E+CgkJPGEgY2xhc3M9ImJ0biIgaHJlZj0iY29pbnMvaW5kZXguaHRtbCI+44Kz44Kk44Oz44Ky44O844OgPC9hPgoJCTxhIGNsYXNzPSJidG4iIGhyZWY9IndyZWNraW5nQmFsbC9pbmRleC5odG1sIj7jg6Ljg7PjgrHjg7zjg7M8L2E+CgkJPGEgY2xhc3M9ImJ0biIgaHJlZj0iYnJpZGdlL2luZGV4Lmh0bWwiPuODluODquODg+OCuDwvYT4KPCEtLSAJCTxhIGNsYXNzPSJidG4iIGhyZWY9ImJhbGxQb29sL2luZGV4Lmh0bWwiPuODnOODvOODq+ODl+ODvOODqzwvYT4gLS0+CgkJPGEgY2xhc3M9ImJ0biIgaHJlZj0iY2F0YXB1bHQvaW5kZXguaHRtbCI+55m65bCE5Y+wPC9hPgo8IS0tIAkJPGEgY2xhc3M9ImJ0biIgaHJlZj0iY2xvdGgvaW5kZXguaHRtbCI+5biDPC9hPiAtLT4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJjaGFpbnMvaW5kZXguaHRtbCI+44Ot44O844OXPC9hPgo8IS0tIAkJPGEgY2xhc3M9ImJ0biIgaHJlZj0iYXZhbGFuY2hlL2luZGV4Lmh0bWwiPuWdgumBkzwvYT4gLS0+CjwhLS0gCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJzcHJpdGVzL2luZGV4Lmh0bWwiPuODk+ODvOODgeODnOODvOODq+OBqOacqOOBrueusTwvYT4gLS0+CjwhLS0gCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJtaXhlZC9pbmRleC5odG1sIj7jg5/jg4Pjgq/jgrk8L2E+IC0tPgo8IS0tIAkJPGEgY2xhc3M9ImJ0biIgaHJlZj0idGltZXNjYWxlL2luZGV4Lmh0bWwiPuOCueODreODvOODouODvOOCt+ODp+ODszwvYT4gLS0+CjwhLS0gCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJzdGF0aWNGcmljdGlvbi9pbmRleC5odG1sIj7pnZnmraLjgb7jgZXjgaTlips8L2E+IC0tPgoJCTxhIGNsYXNzPSJidG4iIGhyZWY9ImZyZWUvaW5kZXguaHRtbCI+6Ieq55Sx44Kz44O844OK44O8PC9hPgoJCTxoMz7jgY3jgbvjgpPjga7jg5Hjg6njg6Hjg7zjgr/wn5SwPC9oMz4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJyZWN0YW5nbGUvaW5kZXguaHRtbCI+5L2N572u44Go5aSn44GN44GVPC9hPgoJCTxhIGNsYXNzPSJidG4iIGhyZWY9ImlzU3RhdGljL2luZGV4Lmh0bWwiPuOBi+OBueODu+OChuOBizwvYT4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJhbmdsZS9pbmRleC5odG1sIj7jgYvjgZ/jgoDjgY08L2E+CgkJPGEgY2xhc3M9ImJ0biIgaHJlZj0iZGVuc2l0eS9pbmRleC5odG1sIj7ph43jgZU8L2E+CgkJPGEgY2xhc3M9ImJ0biIgaHJlZj0icmVzdGl0dXRpb24vaW5kZXguaHRtbCI+44Gv44Gt6L+U44KKPC9hPgoJCTxhIGNsYXNzPSJidG4iIGhyZWY9ImFpckZyaWN0aW9uL2luZGV4Lmh0bWwiPuepuuawl+OBpuOBhOOBk+OBhjwvYT4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJmcmljdGlvbi9pbmRleC5odG1sIj7jgb7jgZXjgaTlips8L2E+CgkJPGEgY2xhc3M9ImJ0biIgaHJlZj0icmVuZGVyL2luZGV4Lmh0bWwiPuiJsjwvYT4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJjaGFtZmVyL2luZGV4Lmh0bWwiPuinkuS4uCAxPC9hPgoJCTxhIGNsYXNzPSJidG4iIGhyZWY9InJvdW5kZWQvaW5kZXguaHRtbCI+6KeS5Li4IDI8L2E+CgkJPGEgY2xhc3M9ImJ0biIgaHJlZj0idGltZXNjYWxlU2ltcGxlL2luZGV4Lmh0bWwiPuaZgumWk+OBruaXqeOBlTwvYT4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJncmF2aXR5L2luZGV4Lmh0bWwiPumHjeWKmzwvYT4KCQk8aDM+44Kq44OW44K444Kn44Kv44OI44KS57WE44G/5ZCI44KP44Gb44KL4pqh77iPPC9oMz4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJzdGFjay9pbmRleC5odG1sIj7jgrnjgr/jg4Pjgq88L2E+CgkJPGEgY2xhc3M9ImJ0biIgaHJlZj0iY2lyY2xlU3RhY2svaW5kZXguaHRtbCI+5YaG44Gu44K544K/44OD44KvPC9hPgoJCTxhIGNsYXNzPSJidG4iIGhyZWY9ImNvbnN0cmFpbnQvaW5kZXguaHRtbCI+44OQ44ONPC9hPgoJCTxhIGNsYXNzPSJidG4iIGhyZWY9InNvZnRCb2R5L2luZGV4Lmh0bWwiPuOCveODleODiOODnOODh+OCozwvYT4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJweXJhbWlkL2luZGV4Lmh0bWwiPuODlOODqeODn+ODg+ODiTwvYT4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJjYXIvaW5kZXguaHRtbCI+6LuKPC9hPgoJCTxhIGNsYXNzPSJidG4iIGhyZWY9Im5ld3RvbnNDcmFkbGUvaW5kZXguaHRtbCI+44OL44Ol44O844OI44Oz44Gu44KG44KK44GL44GUPC9hPgoJCTxhIGNsYXNzPSJidG4iIGhyZWY9ImNvbXBvdW5kL2luZGV4Lmh0bWwiPuOCquODluOCuOOCp+OCr+ODiOOBruWQiOaIkDwvYT4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJjb21wb3VuZFN0YWNrL2luZGV4Lmh0bWwiPuWQiOaIkOOBl+OBn+OCquODluOCuOOCp+OCr+ODiOOBruOCueOCv+ODg+OCrzwvYT4KCQk8aDM+44OP44Kk44Os44OZ44Or8J+SizwvaDM+CgkJPGEgY2xhc3M9ImJ0biIgaHJlZj0iZXZlbnRzL2luZGV4Lmh0bWwiPuOCpOODmeODs+ODiDwvYT4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJzZW5zb3JzL2luZGV4Lmh0bWwiPuOCu+ODs+OCteODvDwvYT4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJtYW5pcHVsYXRpb24vaW5kZXguaHRtbCI+44Kq44OW44K444Kn44Kv44OI44KS55u05o6l5pON5L2c44GZ44KLPC9hPgoJCTxhIGNsYXNzPSJidG4iIGhyZWY9ImNvbXBvc2l0ZU1hbmlwdWxhdGlvbi9pbmRleC5odG1sIj7jgrnjgr/jg4Pjgq/lhajkvZPjga7mk43kvZw8L2E+CgkJPGEgY2xhc3M9ImJ0biIgaHJlZj0iY29sbGlzaW9uRmlsdGVyaW5nL2luZGV4Lmh0bWwiPuOCq+ODhuOCtOODquODvOOBlOOBqOOBruOBl+OCh+OBhueqgTwvYT4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJjb25jYXZlL2luZGV4Lmh0bWwiPuWlveOBjeOBquW9ouOBruOCquODluOCuOOCp+OCr+ODiDwvYT4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJyYXljYXN0aW5nL2luZGV4Lmh0bWwiPue3muWIhuOBqOOBruOBl+OCh+OBhuOBqOOBpDwvYT4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJ2aWV3cy9pbmRleC5odG1sIj7jgrrjg7zjg6Djgajjgrnjgq/jg63jg7zjg6s8L2E+CgkJPGEgY2xhc3M9ImJ0biIgaHJlZj0iYXR0cmFjdG9ycy9pbmRleC5odG1sIj7kuIfmnInlvJXlips8L2E+CgkJPGgzPuOCs+ODqeODoPCfjqQ8L2gzPgoJCTxhIGNsYXNzPSJidG4iIGhyZWY9ImJyb2FkcGhhc2UvaW5kZXguaHRtbCI+44OW44Ot44O844OJ44OV44Kn44O844K6PC9hPgoJCTxhIGNsYXNzPSJidG4iIGhyZWY9InNsZWVwaW5nL2luZGV4Lmh0bWwiPuOCueODquODvOODl+ODouODvOODiTwvYT4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJzdmcvaW5kZXguaHRtbCI+44OZ44Kv44K/55S75YOPPC9hPgoJCTxhIGNsYXNzPSJidG4iIGhyZWY9InRlcnJhaW4vaW5kZXguaHRtbCI+5Zyw5b2iPC9hPgoJCTxhIGNsYXNzPSJidG4iIGhyZWY9Imd5cm8vaW5kZXguaHRtbCI+44K444Oj44Kk44Ot44K744Oz44K144O8PC9hPgoJCTxhIGNsYXNzPSJidG4iIGhyZWY9InN0cmVzcy9pbmRleC5odG1sIj7lnKflipsgMTwvYT4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJzdHJlc3MyL2luZGV4Lmh0bWwiPuWcp+WKmyAyPC9hPgoJCTxocj4KCQnjgZPjgozjgonjga7jgrXjg7Pjg5fjg6vjga8gTGlhbSBCcnVtbWl0dCDmsI/jga4KCQk8YSBjbGFzcz0iYnRuIiBocmVmPSJodHRwOi8vYnJtLmlvL21hdHRlci1qcy9kZW1vLyI+5Y6f5L2cPC9hPgoJCeOCkuOCguOBqOOBq+aUueWkieOBl+OBn+OCguOBruOBp+OBmQoJPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"isStatic/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgYvjgbnjg7vjgobjgYsKCuOCquODluOCuOOCp+OCr+ODiOOCkiAqKumdmeatouOBleOBm+OBpuOAgSoqIOOBi+OBueOBqOOChuOBi+OCkuOBpOOBj+OBo+OBpuOBv+OBnwoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgojIyDmlLnpgKDjgZfjgabjgb/jgosKCiFb44GT44GT44GL44KJ5aeL44KB44KLXShpc1N0YXRpYy9tYWluLmpzKQoKCnx8IOaEj+WRsyB8IOOBr+OCk+OBhCAKLS0tIHwgLS0tIHwgLS0tIAppc1N0YXRpYyB8IOmdmeatouOBmeOCi+OBi+OBqeOBhuOBiyB8IGB0cnVlYCDjgarjgonpnZnmraIgYGZhbHNlYCDjgarjgonli5XjgY8KCuOCguOBo+OBqOaUuemAoAohW+ioreWuml0oaXNTdGF0aWMvc2V0dGluZy5qcykKIVvjgYvjgbnjg7vjgobjgYtdKGlzU3RhdGljL3N0YWdlLmpzKQoKLSAtIC0KCiMjIOW/nOeUqOS+iwoKW+eZuuWwhOWPsF0oY2F0YXB1bHQvaW5kZXguaHRtbCkK","options":{"isTrashed":false},"credits":[]},{"name":"isStatic/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgYvjgbnjg7vjgobjgYs8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJpc1N0YXRpYy9tYWluLmpzIj48L3NjcmlwdD4KPC9oZWFkPgo8Ym9keT4KPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"isStatic/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCgpXb3JsZC5hZGQod29ybGQsIFsKCQkKCS8vIOOChuOBi+OBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDQwMCwgNjAwLCAxMCwgewoJCS8vIOmdmeatouOBmeOCi+ODleODqeOCsAoJCWlzU3RhdGljOiB0cnVlLAoJCQoJfSksCgkKCS8vIOOBi+OBueOBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSgyMDAsIDMwMCwgMTAsIDQwMCwgewoJCS8vIOmdmeatouOBmeOCi+ODleODqeOCsAoJCWlzU3RhdGljOiB0cnVlLAoJCQoJfSksCgkKCS8vIOWLleOBj+OCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDIwMCwgNzAsIDcwLCB7CgkJLy8g6Z2Z5q2i44GZ44KL44OV44Op44Kw44CA77yI5YWD44GL44KJIGZhbHNlIOOBquOBruOBp+OAgeabuOOBi+OBquOBj+OBpuOCguOBhOOBhO+8iQoJCWlzU3RhdGljOiBmYWxzZSwKCQkKCX0pLAoKCQpdKTsKCgppbXBvcnQgJy4vc3RhZ2UnOwo=","options":{"isTrashed":false},"credits":[]},{"name":"isStatic/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKCVdvcmxkLAoJUnVubmVyLAoJTW91c2UsCglNb3VzZUNvbnN0cmFpbnQsCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKY29uc3Qgd29ybGQgPSBlbmdpbmUud29ybGQ7CgppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7CnJlbmRlci5vcHRpb25zLnNob3dWZWxvY2l0eSA9IHRydWU7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdpc1N0YXRpYy9SRUFETUUubWQnKTsKCgpleHBvcnQgewoJZW5naW5lLAoJd29ybGQsCglyZW5kZXIsCn07Cg==","options":{"isTrashed":false},"credits":[]},{"name":"isStatic/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CmltcG9ydCB7Cgl3b3JsZCwKfSBmcm9tICcuL3NldHRpbmcnOwoKCi8vIOWjgQpXb3JsZC5hZGQod29ybGQsIFsKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoODAwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KQpdKTsK","options":{"isTrashed":false},"credits":[]},{"name":"lib/decomp.js","type":"application/javascript","lastModified":1492756455000,"composed":"IWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgZjsidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz9mPXdpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9mPWdsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJihmPXNlbGYpLGYuZGVjb21wPWUoKX19KGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT0iZnVuY3Rpb24iJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrbysiJyIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXsKbW9kdWxlLmV4cG9ydHMgPSB7CiAgICBkZWNvbXA6IHBvbHlnb25EZWNvbXAsCiAgICBxdWlja0RlY29tcDogcG9seWdvblF1aWNrRGVjb21wLAogICAgaXNTaW1wbGU6IHBvbHlnb25Jc1NpbXBsZSwKICAgIHJlbW92ZUNvbGxpbmVhclBvaW50czogcG9seWdvblJlbW92ZUNvbGxpbmVhclBvaW50cywKICAgIG1ha2VDQ1c6IHBvbHlnb25NYWtlQ0NXCn07CgovKioKICogQ29tcHV0ZSB0aGUgaW50ZXJzZWN0aW9uIGJldHdlZW4gdHdvIGxpbmVzLgogKiBAc3RhdGljCiAqIEBtZXRob2QgbGluZUludAogKiBAcGFyYW0gIHtBcnJheX0gIGwxICAgICAgICAgIExpbmUgdmVjdG9yIDEKICogQHBhcmFtICB7QXJyYXl9ICBsMiAgICAgICAgICBMaW5lIHZlY3RvciAyCiAqIEBwYXJhbSAge051bWJlcn0gcHJlY2lzaW9uICAgUHJlY2lzaW9uIHRvIHVzZSB3aGVuIGNoZWNraW5nIGlmIHRoZSBsaW5lcyBhcmUgcGFyYWxsZWwKICogQHJldHVybiB7QXJyYXl9ICAgICAgICAgICAgICBUaGUgaW50ZXJzZWN0aW9uIHBvaW50LgogKi8KZnVuY3Rpb24gbGluZUludChsMSxsMixwcmVjaXNpb24pewogICAgcHJlY2lzaW9uID0gcHJlY2lzaW9uIHx8IDA7CiAgICB2YXIgaSA9IFswLDBdOyAvLyBwb2ludAogICAgdmFyIGExLCBiMSwgYzEsIGEyLCBiMiwgYzIsIGRldDsgLy8gc2NhbGFycwogICAgYTEgPSBsMVsxXVsxXSAtIGwxWzBdWzFdOwogICAgYjEgPSBsMVswXVswXSAtIGwxWzFdWzBdOwogICAgYzEgPSBhMSAqIGwxWzBdWzBdICsgYjEgKiBsMVswXVsxXTsKICAgIGEyID0gbDJbMV1bMV0gLSBsMlswXVsxXTsKICAgIGIyID0gbDJbMF1bMF0gLSBsMlsxXVswXTsKICAgIGMyID0gYTIgKiBsMlswXVswXSArIGIyICogbDJbMF1bMV07CiAgICBkZXQgPSBhMSAqIGIyIC0gYTIqYjE7CiAgICBpZiAoIXNjYWxhcl9lcShkZXQsIDAsIHByZWNpc2lvbikpIHsgLy8gbGluZXMgYXJlIG5vdCBwYXJhbGxlbAogICAgICAgIGlbMF0gPSAoYjIgKiBjMSAtIGIxICogYzIpIC8gZGV0OwogICAgICAgIGlbMV0gPSAoYTEgKiBjMiAtIGEyICogYzEpIC8gZGV0OwogICAgfQogICAgcmV0dXJuIGk7Cn0KCi8qKgogKiBDaGVja3MgaWYgdHdvIGxpbmUgc2VnbWVudHMgaW50ZXJzZWN0cy4KICogQG1ldGhvZCBzZWdtZW50c0ludGVyc2VjdAogKiBAcGFyYW0ge0FycmF5fSBwMSBUaGUgc3RhcnQgdmVydGV4IG9mIHRoZSBmaXJzdCBsaW5lIHNlZ21lbnQuCiAqIEBwYXJhbSB7QXJyYXl9IHAyIFRoZSBlbmQgdmVydGV4IG9mIHRoZSBmaXJzdCBsaW5lIHNlZ21lbnQuCiAqIEBwYXJhbSB7QXJyYXl9IHExIFRoZSBzdGFydCB2ZXJ0ZXggb2YgdGhlIHNlY29uZCBsaW5lIHNlZ21lbnQuCiAqIEBwYXJhbSB7QXJyYXl9IHEyIFRoZSBlbmQgdmVydGV4IG9mIHRoZSBzZWNvbmQgbGluZSBzZWdtZW50LgogKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSB0d28gbGluZSBzZWdtZW50cyBpbnRlcnNlY3QKICovCmZ1bmN0aW9uIGxpbmVTZWdtZW50c0ludGVyc2VjdChwMSwgcDIsIHExLCBxMil7Cgl2YXIgZHggPSBwMlswXSAtIHAxWzBdOwoJdmFyIGR5ID0gcDJbMV0gLSBwMVsxXTsKCXZhciBkYSA9IHEyWzBdIC0gcTFbMF07Cgl2YXIgZGIgPSBxMlsxXSAtIHExWzFdOwoKCS8vIHNlZ21lbnRzIGFyZSBwYXJhbGxlbAoJaWYoKGRhKmR5IC0gZGIqZHgpID09PSAwKXsKCQlyZXR1cm4gZmFsc2U7Cgl9CgoJdmFyIHMgPSAoZHggKiAocTFbMV0gLSBwMVsxXSkgKyBkeSAqIChwMVswXSAtIHExWzBdKSkgLyAoZGEgKiBkeSAtIGRiICogZHgpOwoJdmFyIHQgPSAoZGEgKiAocDFbMV0gLSBxMVsxXSkgKyBkYiAqIChxMVswXSAtIHAxWzBdKSkgLyAoZGIgKiBkeCAtIGRhICogZHkpOwoKCXJldHVybiAocz49MCAmJiBzPD0xICYmIHQ+PTAgJiYgdDw9MSk7Cn0KCi8qKgogKiBHZXQgdGhlIGFyZWEgb2YgYSB0cmlhbmdsZSBzcGFubmVkIGJ5IHRoZSB0aHJlZSBnaXZlbiBwb2ludHMuIE5vdGUgdGhhdCB0aGUgYXJlYSB3aWxsIGJlIG5lZ2F0aXZlIGlmIHRoZSBwb2ludHMgYXJlIG5vdCBnaXZlbiBpbiBjb3VudGVyLWNsb2Nrd2lzZSBvcmRlci4KICogQHN0YXRpYwogKiBAbWV0aG9kIGFyZWEKICogQHBhcmFtICB7QXJyYXl9IGEKICogQHBhcmFtICB7QXJyYXl9IGIKICogQHBhcmFtICB7QXJyYXl9IGMKICogQHJldHVybiB7TnVtYmVyfQogKi8KZnVuY3Rpb24gdHJpYW5nbGVBcmVhKGEsYixjKXsKICAgIHJldHVybiAoKChiWzBdIC0gYVswXSkqKGNbMV0gLSBhWzFdKSktKChjWzBdIC0gYVswXSkqKGJbMV0gLSBhWzFdKSkpOwp9CgpmdW5jdGlvbiBpc0xlZnQoYSxiLGMpewogICAgcmV0dXJuIHRyaWFuZ2xlQXJlYShhLGIsYykgPiAwOwp9CgpmdW5jdGlvbiBpc0xlZnRPbihhLGIsYykgewogICAgcmV0dXJuIHRyaWFuZ2xlQXJlYShhLCBiLCBjKSA+PSAwOwp9CgpmdW5jdGlvbiBpc1JpZ2h0KGEsYixjKSB7CiAgICByZXR1cm4gdHJpYW5nbGVBcmVhKGEsIGIsIGMpIDwgMDsKfQoKZnVuY3Rpb24gaXNSaWdodE9uKGEsYixjKSB7CiAgICByZXR1cm4gdHJpYW5nbGVBcmVhKGEsIGIsIGMpIDw9IDA7Cn0KCnZhciB0bXBQb2ludDEgPSBbXSwKICAgIHRtcFBvaW50MiA9IFtdOwoKLyoqCiAqIENoZWNrIGlmIHRocmVlIHBvaW50cyBhcmUgY29sbGluZWFyCiAqIEBtZXRob2QgY29sbGluZWFyCiAqIEBwYXJhbSAge0FycmF5fSBhCiAqIEBwYXJhbSAge0FycmF5fSBiCiAqIEBwYXJhbSAge0FycmF5fSBjCiAqIEBwYXJhbSAge051bWJlcn0gW3RocmVzaG9sZEFuZ2xlPTBdIFRocmVzaG9sZCBhbmdsZSB0byB1c2Ugd2hlbiBjb21wYXJpbmcgdGhlIHZlY3RvcnMuIFRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiB0cnVlIGlmIHRoZSBhbmdsZSBiZXR3ZWVuIHRoZSByZXN1bHRpbmcgdmVjdG9ycyBpcyBsZXNzIHRoYW4gdGhpcyB2YWx1ZS4gVXNlIHplcm8gZm9yIG1heCBwcmVjaXNpb24uCiAqIEByZXR1cm4ge0Jvb2xlYW59CiAqLwpmdW5jdGlvbiBjb2xsaW5lYXIoYSxiLGMsdGhyZXNob2xkQW5nbGUpIHsKICAgIGlmKCF0aHJlc2hvbGRBbmdsZSl7CiAgICAgICAgcmV0dXJuIHRyaWFuZ2xlQXJlYShhLCBiLCBjKSA9PT0gMDsKICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGFiID0gdG1wUG9pbnQxLAogICAgICAgICAgICBiYyA9IHRtcFBvaW50MjsKCiAgICAgICAgYWJbMF0gPSBiWzBdLWFbMF07CiAgICAgICAgYWJbMV0gPSBiWzFdLWFbMV07CiAgICAgICAgYmNbMF0gPSBjWzBdLWJbMF07CiAgICAgICAgYmNbMV0gPSBjWzFdLWJbMV07CgogICAgICAgIHZhciBkb3QgPSBhYlswXSpiY1swXSArIGFiWzFdKmJjWzFdLAogICAgICAgICAgICBtYWdBID0gTWF0aC5zcXJ0KGFiWzBdKmFiWzBdICsgYWJbMV0qYWJbMV0pLAogICAgICAgICAgICBtYWdCID0gTWF0aC5zcXJ0KGJjWzBdKmJjWzBdICsgYmNbMV0qYmNbMV0pLAogICAgICAgICAgICBhbmdsZSA9IE1hdGguYWNvcyhkb3QvKG1hZ0EqbWFnQikpOwogICAgICAgIHJldHVybiBhbmdsZSA8IHRocmVzaG9sZEFuZ2xlOwogICAgfQp9CgpmdW5jdGlvbiBzcWRpc3QoYSxiKXsKICAgIHZhciBkeCA9IGJbMF0gLSBhWzBdOwogICAgdmFyIGR5ID0gYlsxXSAtIGFbMV07CiAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7Cn0KCi8qKgogKiBHZXQgYSB2ZXJ0ZXggYXQgcG9zaXRpb24gaS4gSXQgZG9lcyBub3QgbWF0dGVyIGlmIGkgaXMgb3V0IG9mIGJvdW5kcywgdGhpcyBmdW5jdGlvbiB3aWxsIGp1c3QgY3ljbGUuCiAqIEBtZXRob2QgYXQKICogQHBhcmFtICB7TnVtYmVyfSBpCiAqIEByZXR1cm4ge0FycmF5fQogKi8KZnVuY3Rpb24gcG9seWdvbkF0KHBvbHlnb24sIGkpewogICAgdmFyIHMgPSBwb2x5Z29uLmxlbmd0aDsKICAgIHJldHVybiBwb2x5Z29uW2kgPCAwID8gaSAlIHMgKyBzIDogaSAlIHNdOwp9CgovKioKICogQ2xlYXIgdGhlIHBvbHlnb24gZGF0YQogKiBAbWV0aG9kIGNsZWFyCiAqIEByZXR1cm4ge0FycmF5fQogKi8KZnVuY3Rpb24gcG9seWdvbkNsZWFyKHBvbHlnb24pewogICAgcG9seWdvbi5sZW5ndGggPSAwOwp9CgovKioKICogQXBwZW5kIHBvaW50cyAiZnJvbSIgdG8gInRvIi0xIGZyb20gYW4gb3RoZXIgcG9seWdvbiAicG9seSIgb250byB0aGlzIG9uZS4KICogQG1ldGhvZCBhcHBlbmQKICogQHBhcmFtIHtQb2x5Z29ufSBwb2x5IFRoZSBwb2x5Z29uIHRvIGdldCBwb2ludHMgZnJvbS4KICogQHBhcmFtIHtOdW1iZXJ9ICBmcm9tIFRoZSB2ZXJ0ZXggaW5kZXggaW4gInBvbHkiLgogKiBAcGFyYW0ge051bWJlcn0gIHRvIFRoZSBlbmQgdmVydGV4IGluZGV4IGluICJwb2x5Ii4gTm90ZSB0aGF0IHRoaXMgdmVydGV4IGlzIE5PVCBpbmNsdWRlZCB3aGVuIGFwcGVuZGluZy4KICogQHJldHVybiB7QXJyYXl9CiAqLwpmdW5jdGlvbiBwb2x5Z29uQXBwZW5kKHBvbHlnb24sIHBvbHksIGZyb20sIHRvKXsKICAgIGZvcih2YXIgaT1mcm9tOyBpPHRvOyBpKyspewogICAgICAgIHBvbHlnb24ucHVzaChwb2x5W2ldKTsKICAgIH0KfQoKLyoqCiAqIE1ha2Ugc3VyZSB0aGF0IHRoZSBwb2x5Z29uIHZlcnRpY2VzIGFyZSBvcmRlcmVkIGNvdW50ZXItY2xvY2t3aXNlLgogKiBAbWV0aG9kIG1ha2VDQ1cKICovCmZ1bmN0aW9uIHBvbHlnb25NYWtlQ0NXKHBvbHlnb24pewogICAgdmFyIGJyID0gMCwKICAgICAgICB2ID0gcG9seWdvbjsKCiAgICAvLyBmaW5kIGJvdHRvbSByaWdodCBwb2ludAogICAgZm9yICh2YXIgaSA9IDE7IGkgPCBwb2x5Z29uLmxlbmd0aDsgKytpKSB7CiAgICAgICAgaWYgKHZbaV1bMV0gPCB2W2JyXVsxXSB8fCAodltpXVsxXSA9PT0gdlticl1bMV0gJiYgdltpXVswXSA+IHZbYnJdWzBdKSkgewogICAgICAgICAgICBiciA9IGk7CiAgICAgICAgfQogICAgfQoKICAgIC8vIHJldmVyc2UgcG9seSBpZiBjbG9ja3dpc2UKICAgIGlmICghaXNMZWZ0KHBvbHlnb25BdChwb2x5Z29uLCBiciAtIDEpLCBwb2x5Z29uQXQocG9seWdvbiwgYnIpLCBwb2x5Z29uQXQocG9seWdvbiwgYnIgKyAxKSkpIHsKICAgICAgICBwb2x5Z29uUmV2ZXJzZShwb2x5Z29uKTsKICAgIH0KfQoKLyoqCiAqIFJldmVyc2UgdGhlIHZlcnRpY2VzIGluIHRoZSBwb2x5Z29uCiAqIEBtZXRob2QgcmV2ZXJzZQogKi8KZnVuY3Rpb24gcG9seWdvblJldmVyc2UocG9seWdvbil7CiAgICB2YXIgdG1wID0gW107CiAgICB2YXIgTiA9IHBvbHlnb24ubGVuZ3RoOwogICAgZm9yKHZhciBpPTA7IGkhPT1OOyBpKyspewogICAgICAgIHRtcC5wdXNoKHBvbHlnb24ucG9wKCkpOwogICAgfQogICAgZm9yKHZhciBpPTA7IGkhPT1OOyBpKyspewoJCXBvbHlnb25baV0gPSB0bXBbaV07CiAgICB9Cn0KCi8qKgogKiBDaGVjayBpZiBhIHBvaW50IGluIHRoZSBwb2x5Z29uIGlzIGEgcmVmbGV4IHBvaW50CiAqIEBtZXRob2QgaXNSZWZsZXgKICogQHBhcmFtICB7TnVtYmVyfSAgaQogKiBAcmV0dXJuIHtCb29sZWFufQogKi8KZnVuY3Rpb24gcG9seWdvbklzUmVmbGV4KHBvbHlnb24sIGkpewogICAgcmV0dXJuIGlzUmlnaHQocG9seWdvbkF0KHBvbHlnb24sIGkgLSAxKSwgcG9seWdvbkF0KHBvbHlnb24sIGkpLCBwb2x5Z29uQXQocG9seWdvbiwgaSArIDEpKTsKfQoKdmFyIHRtcExpbmUxPVtdLAogICAgdG1wTGluZTI9W107CgovKioKICogQ2hlY2sgaWYgdHdvIHZlcnRpY2VzIGluIHRoZSBwb2x5Z29uIGNhbiBzZWUgZWFjaCBvdGhlcgogKiBAbWV0aG9kIGNhblNlZQogKiBAcGFyYW0gIHtOdW1iZXJ9IGEgVmVydGV4IGluZGV4IDEKICogQHBhcmFtICB7TnVtYmVyfSBiIFZlcnRleCBpbmRleCAyCiAqIEByZXR1cm4ge0Jvb2xlYW59CiAqLwpmdW5jdGlvbiBwb2x5Z29uQ2FuU2VlKHBvbHlnb24sIGEsYikgewogICAgdmFyIHAsIGRpc3QsIGwxPXRtcExpbmUxLCBsMj10bXBMaW5lMjsKCiAgICBpZiAoaXNMZWZ0T24ocG9seWdvbkF0KHBvbHlnb24sIGEgKyAxKSwgcG9seWdvbkF0KHBvbHlnb24sIGEpLCBwb2x5Z29uQXQocG9seWdvbiwgYikpICYmIGlzUmlnaHRPbihwb2x5Z29uQXQocG9seWdvbiwgYSAtIDEpLCBwb2x5Z29uQXQocG9seWdvbiwgYSksIHBvbHlnb25BdChwb2x5Z29uLCBiKSkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICBkaXN0ID0gc3FkaXN0KHBvbHlnb25BdChwb2x5Z29uLCBhKSwgcG9seWdvbkF0KHBvbHlnb24sIGIpKTsKICAgIGZvciAodmFyIGkgPSAwOyBpICE9PSBwb2x5Z29uLmxlbmd0aDsgKytpKSB7IC8vIGZvciBlYWNoIGVkZ2UKICAgICAgICBpZiAoKGkgKyAxKSAlIHBvbHlnb24ubGVuZ3RoID09PSBhIHx8IGkgPT09IGEpeyAvLyBpZ25vcmUgaW5jaWRlbnQgZWRnZXMKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICAgIGlmIChpc0xlZnRPbihwb2x5Z29uQXQocG9seWdvbiwgYSksIHBvbHlnb25BdChwb2x5Z29uLCBiKSwgcG9seWdvbkF0KHBvbHlnb24sIGkgKyAxKSkgJiYgaXNSaWdodE9uKHBvbHlnb25BdChwb2x5Z29uLCBhKSwgcG9seWdvbkF0KHBvbHlnb24sIGIpLCBwb2x5Z29uQXQocG9seWdvbiwgaSkpKSB7IC8vIGlmIGRpYWcgaW50ZXJzZWN0cyBhbiBlZGdlCiAgICAgICAgICAgIGwxWzBdID0gcG9seWdvbkF0KHBvbHlnb24sIGEpOwogICAgICAgICAgICBsMVsxXSA9IHBvbHlnb25BdChwb2x5Z29uLCBiKTsKICAgICAgICAgICAgbDJbMF0gPSBwb2x5Z29uQXQocG9seWdvbiwgaSk7CiAgICAgICAgICAgIGwyWzFdID0gcG9seWdvbkF0KHBvbHlnb24sIGkgKyAxKTsKICAgICAgICAgICAgcCA9IGxpbmVJbnQobDEsbDIpOwogICAgICAgICAgICBpZiAoc3FkaXN0KHBvbHlnb25BdChwb2x5Z29uLCBhKSwgcCkgPCBkaXN0KSB7IC8vIGlmIGVkZ2UgaXMgYmxvY2tpbmcgdmlzaWJpbGl0eSB0byBiCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRydWU7Cn0KCi8qKgogKiBDb3B5IHRoZSBwb2x5Z29uIGZyb20gdmVydGV4IGkgdG8gdmVydGV4IGouCiAqIEBtZXRob2QgY29weQogKiBAcGFyYW0gIHtOdW1iZXJ9IGkKICogQHBhcmFtICB7TnVtYmVyfSBqCiAqIEBwYXJhbSAge1BvbHlnb259IFt0YXJnZXRQb2x5XSAgIE9wdGlvbmFsIHRhcmdldCBwb2x5Z29uIHRvIHNhdmUgaW4uCiAqIEByZXR1cm4ge1BvbHlnb259ICAgICAgICAgICAgICAgIFRoZSByZXN1bHRpbmcgY29weS4KICovCmZ1bmN0aW9uIHBvbHlnb25Db3B5KHBvbHlnb24sIGksaix0YXJnZXRQb2x5KXsKICAgIHZhciBwID0gdGFyZ2V0UG9seSB8fCBbXTsKICAgIHBvbHlnb25DbGVhcihwKTsKICAgIGlmIChpIDwgaikgewogICAgICAgIC8vIEluc2VydCBhbGwgdmVydGljZXMgZnJvbSBpIHRvIGoKICAgICAgICBmb3IodmFyIGs9aTsgazw9ajsgaysrKXsKICAgICAgICAgICAgcC5wdXNoKHBvbHlnb25ba10pOwogICAgICAgIH0KCiAgICB9IGVsc2UgewoKICAgICAgICAvLyBJbnNlcnQgdmVydGljZXMgMCB0byBqCiAgICAgICAgZm9yKHZhciBrPTA7IGs8PWo7IGsrKyl7CiAgICAgICAgICAgIHAucHVzaChwb2x5Z29uW2tdKTsKICAgICAgICB9CgogICAgICAgIC8vIEluc2VydCB2ZXJ0aWNlcyBpIHRvIGVuZAogICAgICAgIGZvcih2YXIgaz1pOyBrPHBvbHlnb24ubGVuZ3RoOyBrKyspewogICAgICAgICAgICBwLnB1c2gocG9seWdvbltrXSk7CiAgICAgICAgfQogICAgfQoKICAgIHJldHVybiBwOwp9CgovKioKICogRGVjb21wb3NlcyB0aGUgcG9seWdvbiBpbnRvIGNvbnZleCBwaWVjZXMuIFJldHVybnMgYSBsaXN0IG9mIGVkZ2VzIFtbcDEscDJdLFtwMixwM10sLi4uXSB0aGF0IGN1dHMgdGhlIHBvbHlnb24uCiAqIE5vdGUgdGhhdCB0aGlzIGFsZ29yaXRobSBoYXMgY29tcGxleGl0eSBPKE5eNCkgYW5kIHdpbGwgYmUgdmVyeSBzbG93IGZvciBwb2x5Z29ucyB3aXRoIG1hbnkgdmVydGljZXMuCiAqIEBtZXRob2QgZ2V0Q3V0RWRnZXMKICogQHJldHVybiB7QXJyYXl9CiAqLwpmdW5jdGlvbiBwb2x5Z29uR2V0Q3V0RWRnZXMocG9seWdvbikgewogICAgdmFyIG1pbj1bXSwgdG1wMT1bXSwgdG1wMj1bXSwgdG1wUG9seSA9IFtdOwogICAgdmFyIG5EaWFncyA9IE51bWJlci5NQVhfVkFMVUU7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2x5Z29uLmxlbmd0aDsgKytpKSB7CiAgICAgICAgaWYgKHBvbHlnb25Jc1JlZmxleChwb2x5Z29uLCBpKSkgewogICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBvbHlnb24ubGVuZ3RoOyArK2opIHsKICAgICAgICAgICAgICAgIGlmIChwb2x5Z29uQ2FuU2VlKHBvbHlnb24sIGksIGopKSB7CiAgICAgICAgICAgICAgICAgICAgdG1wMSA9IHBvbHlnb25HZXRDdXRFZGdlcyhwb2x5Z29uQ29weShwb2x5Z29uLCBpLCBqLCB0bXBQb2x5KSk7CiAgICAgICAgICAgICAgICAgICAgdG1wMiA9IHBvbHlnb25HZXRDdXRFZGdlcyhwb2x5Z29uQ29weShwb2x5Z29uLCBqLCBpLCB0bXBQb2x5KSk7CgogICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaz0wOyBrPHRtcDIubGVuZ3RoOyBrKyspewogICAgICAgICAgICAgICAgICAgICAgICB0bXAxLnB1c2godG1wMltrXSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAodG1wMS5sZW5ndGggPCBuRGlhZ3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gdG1wMTsKICAgICAgICAgICAgICAgICAgICAgICAgbkRpYWdzID0gdG1wMS5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgICAgIG1pbi5wdXNoKFtwb2x5Z29uQXQocG9seWdvbiwgaSksIHBvbHlnb25BdChwb2x5Z29uLCBqKV0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWluOwp9CgovKioKICogRGVjb21wb3NlcyB0aGUgcG9seWdvbiBpbnRvIG9uZSBvciBtb3JlIGNvbnZleCBzdWItUG9seWdvbnMuCiAqIEBtZXRob2QgZGVjb21wCiAqIEByZXR1cm4ge0FycmF5fSBBbiBhcnJheSBvciBQb2x5Z29uIG9iamVjdHMuCiAqLwpmdW5jdGlvbiBwb2x5Z29uRGVjb21wKHBvbHlnb24pewogICAgdmFyIGVkZ2VzID0gcG9seWdvbkdldEN1dEVkZ2VzKHBvbHlnb24pOwogICAgaWYoZWRnZXMubGVuZ3RoID4gMCl7CiAgICAgICAgcmV0dXJuIHBvbHlnb25TbGljZShwb2x5Z29uLCBlZGdlcyk7CiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBbcG9seWdvbl07CiAgICB9Cn0KCi8qKgogKiBTbGljZXMgdGhlIHBvbHlnb24gZ2l2ZW4gb25lIG9yIG1vcmUgY3V0IGVkZ2VzLiBJZiBnaXZlbiBvbmUsIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gdHdvIHBvbHlnb25zIChmYWxzZSBvbiBmYWlsdXJlKS4gSWYgbWFueSwgYW4gYXJyYXkgb2YgcG9seWdvbnMuCiAqIEBtZXRob2Qgc2xpY2UKICogQHBhcmFtIHtBcnJheX0gY3V0RWRnZXMgQSBsaXN0IG9mIGVkZ2VzLCBhcyByZXR1cm5lZCBieSAuZ2V0Q3V0RWRnZXMoKQogKiBAcmV0dXJuIHtBcnJheX0KICovCmZ1bmN0aW9uIHBvbHlnb25TbGljZShwb2x5Z29uLCBjdXRFZGdlcyl7CiAgICBpZihjdXRFZGdlcy5sZW5ndGggPT09IDApewoJCXJldHVybiBbcG9seWdvbl07CiAgICB9CiAgICBpZihjdXRFZGdlcyBpbnN0YW5jZW9mIEFycmF5ICYmIGN1dEVkZ2VzLmxlbmd0aCAmJiBjdXRFZGdlc1swXSBpbnN0YW5jZW9mIEFycmF5ICYmIGN1dEVkZ2VzWzBdLmxlbmd0aD09PTIgJiYgY3V0RWRnZXNbMF1bMF0gaW5zdGFuY2VvZiBBcnJheSl7CgogICAgICAgIHZhciBwb2x5cyA9IFtwb2x5Z29uXTsKCiAgICAgICAgZm9yKHZhciBpPTA7IGk8Y3V0RWRnZXMubGVuZ3RoOyBpKyspewogICAgICAgICAgICB2YXIgY3V0RWRnZSA9IGN1dEVkZ2VzW2ldOwogICAgICAgICAgICAvLyBDdXQgYWxsIHBvbHlzCiAgICAgICAgICAgIGZvcih2YXIgaj0wOyBqPHBvbHlzLmxlbmd0aDsgaisrKXsKICAgICAgICAgICAgICAgIHZhciBwb2x5ID0gcG9seXNbal07CiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcG9seWdvblNsaWNlKHBvbHksIGN1dEVkZ2UpOwogICAgICAgICAgICAgICAgaWYocmVzdWx0KXsKICAgICAgICAgICAgICAgICAgICAvLyBGb3VuZCBwb2x5ISBDdXQgYW5kIHF1aXQKICAgICAgICAgICAgICAgICAgICBwb2x5cy5zcGxpY2UoaiwxKTsKICAgICAgICAgICAgICAgICAgICBwb2x5cy5wdXNoKHJlc3VsdFswXSxyZXN1bHRbMV0pOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcG9seXM7CiAgICB9IGVsc2UgewoKICAgICAgICAvLyBXYXMgZ2l2ZW4gb25lIGVkZ2UKICAgICAgICB2YXIgY3V0RWRnZSA9IGN1dEVkZ2VzOwogICAgICAgIHZhciBpID0gcG9seWdvbi5pbmRleE9mKGN1dEVkZ2VbMF0pOwogICAgICAgIHZhciBqID0gcG9seWdvbi5pbmRleE9mKGN1dEVkZ2VbMV0pOwoKICAgICAgICBpZihpICE9PSAtMSAmJiBqICE9PSAtMSl7CiAgICAgICAgICAgIHJldHVybiBbcG9seWdvbkNvcHkocG9seWdvbiwgaSxqKSwKICAgICAgICAgICAgICAgICAgICBwb2x5Z29uQ29weShwb2x5Z29uLCBqLGkpXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQp9CgovKioKICogQ2hlY2tzIHRoYXQgdGhlIGxpbmUgc2VnbWVudHMgb2YgdGhpcyBwb2x5Z29uIGRvIG5vdCBpbnRlcnNlY3QgZWFjaCBvdGhlci4KICogQG1ldGhvZCBpc1NpbXBsZQogKiBAcGFyYW0gIHtBcnJheX0gcGF0aCBBbiBhcnJheSBvZiB2ZXJ0aWNlcyBlLmcuIFtbMCwwXSxbMCwxXSwuLi5dCiAqIEByZXR1cm4ge0Jvb2xlYW59CiAqIEB0b2RvIFNob3VsZCBpdCBjaGVjayBhbGwgc2VnbWVudHMgd2l0aCBhbGwgb3RoZXJzPwogKi8KZnVuY3Rpb24gcG9seWdvbklzU2ltcGxlKHBvbHlnb24pewogICAgdmFyIHBhdGggPSBwb2x5Z29uLCBpOwogICAgLy8gQ2hlY2sKICAgIGZvcihpPTA7IGk8cGF0aC5sZW5ndGgtMTsgaSsrKXsKICAgICAgICBmb3IodmFyIGo9MDsgajxpLTE7IGorKyl7CiAgICAgICAgICAgIGlmKGxpbmVTZWdtZW50c0ludGVyc2VjdChwYXRoW2ldLCBwYXRoW2krMV0sIHBhdGhbal0sIHBhdGhbaisxXSApKXsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvLyBDaGVjayB0aGUgc2VnbWVudCBiZXR3ZWVuIHRoZSBsYXN0IGFuZCB0aGUgZmlyc3QgcG9pbnQgdG8gYWxsIG90aGVycwogICAgZm9yKGk9MTsgaTxwYXRoLmxlbmd0aC0yOyBpKyspewogICAgICAgIGlmKGxpbmVTZWdtZW50c0ludGVyc2VjdChwYXRoWzBdLCBwYXRoW3BhdGgubGVuZ3RoLTFdLCBwYXRoW2ldLCBwYXRoW2krMV0gKSl7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRydWU7Cn0KCmZ1bmN0aW9uIGdldEludGVyc2VjdGlvblBvaW50KHAxLCBwMiwgcTEsIHEyLCBkZWx0YSl7CglkZWx0YSA9IGRlbHRhIHx8IDA7Cgl2YXIgYTEgPSBwMlsxXSAtIHAxWzFdOwoJdmFyIGIxID0gcDFbMF0gLSBwMlswXTsKCXZhciBjMSA9IChhMSAqIHAxWzBdKSArIChiMSAqIHAxWzFdKTsKCXZhciBhMiA9IHEyWzFdIC0gcTFbMV07Cgl2YXIgYjIgPSBxMVswXSAtIHEyWzBdOwoJdmFyIGMyID0gKGEyICogcTFbMF0pICsgKGIyICogcTFbMV0pOwoJdmFyIGRldCA9IChhMSAqIGIyKSAtIChhMiAqIGIxKTsKCglpZighc2NhbGFyX2VxKGRldCwwLGRlbHRhKSl7CgkJcmV0dXJuIFsoKGIyICogYzEpIC0gKGIxICogYzIpKSAvIGRldCwgKChhMSAqIGMyKSAtIChhMiAqIGMxKSkgLyBkZXRdOwoJfSBlbHNlIHsKCQlyZXR1cm4gWzAsMF07CiAgICB9Cn0KCi8qKgogKiBRdWlja2x5IGRlY29tcG9zZSB0aGUgUG9seWdvbiBpbnRvIGNvbnZleCBzdWItcG9seWdvbnMuCiAqIEBtZXRob2QgcXVpY2tEZWNvbXAKICogQHBhcmFtICB7QXJyYXl9IHJlc3VsdAogKiBAcGFyYW0gIHtBcnJheX0gW3JlZmxleFZlcnRpY2VzXQogKiBAcGFyYW0gIHtBcnJheX0gW3N0ZWluZXJQb2ludHNdCiAqIEBwYXJhbSAge051bWJlcn0gW2RlbHRhXQogKiBAcGFyYW0gIHtOdW1iZXJ9IFttYXhsZXZlbF0KICogQHBhcmFtICB7TnVtYmVyfSBbbGV2ZWxdCiAqIEByZXR1cm4ge0FycmF5fQogKi8KZnVuY3Rpb24gcG9seWdvblF1aWNrRGVjb21wKHBvbHlnb24sIHJlc3VsdCxyZWZsZXhWZXJ0aWNlcyxzdGVpbmVyUG9pbnRzLGRlbHRhLG1heGxldmVsLGxldmVsKXsKICAgIG1heGxldmVsID0gbWF4bGV2ZWwgfHwgMTAwOwogICAgbGV2ZWwgPSBsZXZlbCB8fCAwOwogICAgZGVsdGEgPSBkZWx0YSB8fCAyNTsKICAgIHJlc3VsdCA9IHR5cGVvZihyZXN1bHQpIT09InVuZGVmaW5lZCIgPyByZXN1bHQgOiBbXTsKICAgIHJlZmxleFZlcnRpY2VzID0gcmVmbGV4VmVydGljZXMgfHwgW107CiAgICBzdGVpbmVyUG9pbnRzID0gc3RlaW5lclBvaW50cyB8fCBbXTsKCiAgICB2YXIgdXBwZXJJbnQ9WzAsMF0sIGxvd2VySW50PVswLDBdLCBwPVswLDBdOyAvLyBQb2ludHMKICAgIHZhciB1cHBlckRpc3Q9MCwgbG93ZXJEaXN0PTAsIGQ9MCwgY2xvc2VzdERpc3Q9MDsgLy8gc2NhbGFycwogICAgdmFyIHVwcGVySW5kZXg9MCwgbG93ZXJJbmRleD0wLCBjbG9zZXN0SW5kZXg9MDsgLy8gSW50ZWdlcnMKICAgIHZhciBsb3dlclBvbHk9W10sIHVwcGVyUG9seT1bXTsgLy8gcG9seWdvbnMKICAgIHZhciBwb2x5ID0gcG9seWdvbiwKICAgICAgICB2ID0gcG9seWdvbjsKCiAgICBpZih2Lmxlbmd0aCA8IDMpewoJCXJldHVybiByZXN1bHQ7CiAgICB9CgogICAgbGV2ZWwrKzsKICAgIGlmKGxldmVsID4gbWF4bGV2ZWwpewogICAgICAgIGNvbnNvbGUud2FybigicXVpY2tEZWNvbXA6IG1heCBsZXZlbCAoIittYXhsZXZlbCsiKSByZWFjaGVkLiIpOwogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2x5Z29uLmxlbmd0aDsgKytpKSB7CiAgICAgICAgaWYgKHBvbHlnb25Jc1JlZmxleChwb2x5LCBpKSkgewogICAgICAgICAgICByZWZsZXhWZXJ0aWNlcy5wdXNoKHBvbHlbaV0pOwogICAgICAgICAgICB1cHBlckRpc3QgPSBsb3dlckRpc3QgPSBOdW1iZXIuTUFYX1ZBTFVFOwoKCiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcG9seWdvbi5sZW5ndGg7ICsraikgewogICAgICAgICAgICAgICAgaWYgKGlzTGVmdChwb2x5Z29uQXQocG9seSwgaSAtIDEpLCBwb2x5Z29uQXQocG9seSwgaSksIHBvbHlnb25BdChwb2x5LCBqKSkgJiYgaXNSaWdodE9uKHBvbHlnb25BdChwb2x5LCBpIC0gMSksIHBvbHlnb25BdChwb2x5LCBpKSwgcG9seWdvbkF0KHBvbHksIGogLSAxKSkpIHsgLy8gaWYgbGluZSBpbnRlcnNlY3RzIHdpdGggYW4gZWRnZQogICAgICAgICAgICAgICAgICAgIHAgPSBnZXRJbnRlcnNlY3Rpb25Qb2ludChwb2x5Z29uQXQocG9seSwgaSAtIDEpLCBwb2x5Z29uQXQocG9seSwgaSksIHBvbHlnb25BdChwb2x5LCBqKSwgcG9seWdvbkF0KHBvbHksIGogLSAxKSk7IC8vIGZpbmQgdGhlIHBvaW50IG9mIGludGVyc2VjdGlvbgogICAgICAgICAgICAgICAgICAgIGlmIChpc1JpZ2h0KHBvbHlnb25BdChwb2x5LCBpICsgMSksIHBvbHlnb25BdChwb2x5LCBpKSwgcCkpIHsgLy8gbWFrZSBzdXJlIGl0J3MgaW5zaWRlIHRoZSBwb2x5CiAgICAgICAgICAgICAgICAgICAgICAgIGQgPSBzcWRpc3QocG9seVtpXSwgcCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkIDwgbG93ZXJEaXN0KSB7IC8vIGtlZXAgb25seSB0aGUgY2xvc2VzdCBpbnRlcnNlY3Rpb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VyRGlzdCA9IGQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dlckludCA9IHA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dlckluZGV4ID0gajsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChpc0xlZnQocG9seWdvbkF0KHBvbHksIGkgKyAxKSwgcG9seWdvbkF0KHBvbHksIGkpLCBwb2x5Z29uQXQocG9seSwgaiArIDEpKSAmJiBpc1JpZ2h0T24ocG9seWdvbkF0KHBvbHksIGkgKyAxKSwgcG9seWdvbkF0KHBvbHksIGkpLCBwb2x5Z29uQXQocG9seSwgaikpKSB7CiAgICAgICAgICAgICAgICAgICAgcCA9IGdldEludGVyc2VjdGlvblBvaW50KHBvbHlnb25BdChwb2x5LCBpICsgMSksIHBvbHlnb25BdChwb2x5LCBpKSwgcG9seWdvbkF0KHBvbHksIGopLCBwb2x5Z29uQXQocG9seSwgaiArIDEpKTsKICAgICAgICAgICAgICAgICAgICBpZiAoaXNMZWZ0KHBvbHlnb25BdChwb2x5LCBpIC0gMSksIHBvbHlnb25BdChwb2x5LCBpKSwgcCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZCA9IHNxZGlzdChwb2x5W2ldLCBwKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgPCB1cHBlckRpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwcGVyRGlzdCA9IGQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHBlckludCA9IHA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHBlckluZGV4ID0gajsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIG5vIHZlcnRpY2VzIHRvIGNvbm5lY3QgdG8sIGNob29zZSBhIHBvaW50IGluIHRoZSBtaWRkbGUKICAgICAgICAgICAgaWYgKGxvd2VySW5kZXggPT09ICh1cHBlckluZGV4ICsgMSkgJSBwb2x5Z29uLmxlbmd0aCkgewogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygiQ2FzZSAxOiBWZXJ0ZXgoIitpKyIpLCBsb3dlckluZGV4KCIrbG93ZXJJbmRleCsiKSwgdXBwZXJJbmRleCgiK3VwcGVySW5kZXgrIiksIHBvbHkuc2l6ZSgiK3BvbHlnb24ubGVuZ3RoKyIpIik7CiAgICAgICAgICAgICAgICBwWzBdID0gKGxvd2VySW50WzBdICsgdXBwZXJJbnRbMF0pIC8gMjsKICAgICAgICAgICAgICAgIHBbMV0gPSAobG93ZXJJbnRbMV0gKyB1cHBlckludFsxXSkgLyAyOwogICAgICAgICAgICAgICAgc3RlaW5lclBvaW50cy5wdXNoKHApOwoKICAgICAgICAgICAgICAgIGlmIChpIDwgdXBwZXJJbmRleCkgewogICAgICAgICAgICAgICAgICAgIC8vbG93ZXJQb2x5Lmluc2VydChsb3dlclBvbHkuZW5kKCksIHBvbHkuYmVnaW4oKSArIGksIHBvbHkuYmVnaW4oKSArIHVwcGVySW5kZXggKyAxKTsKICAgICAgICAgICAgICAgICAgICBwb2x5Z29uQXBwZW5kKGxvd2VyUG9seSwgcG9seSwgaSwgdXBwZXJJbmRleCsxKTsKICAgICAgICAgICAgICAgICAgICBsb3dlclBvbHkucHVzaChwKTsKICAgICAgICAgICAgICAgICAgICB1cHBlclBvbHkucHVzaChwKTsKICAgICAgICAgICAgICAgICAgICBpZiAobG93ZXJJbmRleCAhPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vdXBwZXJQb2x5Lmluc2VydCh1cHBlclBvbHkuZW5kKCksIHBvbHkuYmVnaW4oKSArIGxvd2VySW5kZXgsIHBvbHkuZW5kKCkpOwogICAgICAgICAgICAgICAgICAgICAgICBwb2x5Z29uQXBwZW5kKHVwcGVyUG9seSwgcG9seSxsb3dlckluZGV4LHBvbHkubGVuZ3RoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy91cHBlclBvbHkuaW5zZXJ0KHVwcGVyUG9seS5lbmQoKSwgcG9seS5iZWdpbigpLCBwb2x5LmJlZ2luKCkgKyBpICsgMSk7CiAgICAgICAgICAgICAgICAgICAgcG9seWdvbkFwcGVuZCh1cHBlclBvbHksIHBvbHksMCxpKzEpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vbG93ZXJQb2x5Lmluc2VydChsb3dlclBvbHkuZW5kKCksIHBvbHkuYmVnaW4oKSArIGksIHBvbHkuZW5kKCkpOwogICAgICAgICAgICAgICAgICAgICAgICBwb2x5Z29uQXBwZW5kKGxvd2VyUG9seSwgcG9seSxpLHBvbHkubGVuZ3RoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy9sb3dlclBvbHkuaW5zZXJ0KGxvd2VyUG9seS5lbmQoKSwgcG9seS5iZWdpbigpLCBwb2x5LmJlZ2luKCkgKyB1cHBlckluZGV4ICsgMSk7CiAgICAgICAgICAgICAgICAgICAgcG9seWdvbkFwcGVuZChsb3dlclBvbHksIHBvbHksMCx1cHBlckluZGV4KzEpOwogICAgICAgICAgICAgICAgICAgIGxvd2VyUG9seS5wdXNoKHApOwogICAgICAgICAgICAgICAgICAgIHVwcGVyUG9seS5wdXNoKHApOwogICAgICAgICAgICAgICAgICAgIC8vdXBwZXJQb2x5Lmluc2VydCh1cHBlclBvbHkuZW5kKCksIHBvbHkuYmVnaW4oKSArIGxvd2VySW5kZXgsIHBvbHkuYmVnaW4oKSArIGkgKyAxKTsKICAgICAgICAgICAgICAgICAgICBwb2x5Z29uQXBwZW5kKHVwcGVyUG9seSwgcG9seSxsb3dlckluZGV4LGkrMSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBjb25uZWN0IHRvIHRoZSBjbG9zZXN0IHBvaW50IHdpdGhpbiB0aGUgdHJpYW5nbGUKICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coIkNhc2UgMjogVmVydGV4KCIraSsiKSwgY2xvc2VzdEluZGV4KCIrY2xvc2VzdEluZGV4KyIpLCBwb2x5LnNpemUoIitwb2x5Z29uLmxlbmd0aCsiKVxuIik7CgogICAgICAgICAgICAgICAgaWYgKGxvd2VySW5kZXggPiB1cHBlckluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgdXBwZXJJbmRleCArPSBwb2x5Z29uLmxlbmd0aDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNsb3Nlc3REaXN0ID0gTnVtYmVyLk1BWF9WQUxVRTsKCiAgICAgICAgICAgICAgICBpZih1cHBlckluZGV4IDwgbG93ZXJJbmRleCl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gbG93ZXJJbmRleDsgaiA8PSB1cHBlckluZGV4OyArK2opIHsKICAgICAgICAgICAgICAgICAgICBpZiAoaXNMZWZ0T24ocG9seWdvbkF0KHBvbHksIGkgLSAxKSwgcG9seWdvbkF0KHBvbHksIGkpLCBwb2x5Z29uQXQocG9seSwgaikpICYmIGlzUmlnaHRPbihwb2x5Z29uQXQocG9seSwgaSArIDEpLCBwb2x5Z29uQXQocG9seSwgaSksIHBvbHlnb25BdChwb2x5LCBqKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZCA9IHNxZGlzdChwb2x5Z29uQXQocG9seSwgaSksIHBvbHlnb25BdChwb2x5LCBqKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkIDwgY2xvc2VzdERpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3Nlc3REaXN0ID0gZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3Nlc3RJbmRleCA9IGogJSBwb2x5Z29uLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoaSA8IGNsb3Nlc3RJbmRleCkgewogICAgICAgICAgICAgICAgICAgIHBvbHlnb25BcHBlbmQobG93ZXJQb2x5LCBwb2x5LGksY2xvc2VzdEluZGV4KzEpOwogICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZXN0SW5kZXggIT09IDApewogICAgICAgICAgICAgICAgICAgICAgICBwb2x5Z29uQXBwZW5kKHVwcGVyUG9seSwgcG9seSxjbG9zZXN0SW5kZXgsdi5sZW5ndGgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBwb2x5Z29uQXBwZW5kKHVwcGVyUG9seSwgcG9seSwwLGkrMSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgcG9seWdvbkFwcGVuZChsb3dlclBvbHksIHBvbHksaSx2Lmxlbmd0aCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHBvbHlnb25BcHBlbmQobG93ZXJQb2x5LCBwb2x5LDAsY2xvc2VzdEluZGV4KzEpOwogICAgICAgICAgICAgICAgICAgIHBvbHlnb25BcHBlbmQodXBwZXJQb2x5LCBwb2x5LGNsb3Nlc3RJbmRleCxpKzEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBzb2x2ZSBzbWFsbGVzdCBwb2x5IGZpcnN0CiAgICAgICAgICAgIGlmIChsb3dlclBvbHkubGVuZ3RoIDwgdXBwZXJQb2x5Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgcG9seWdvblF1aWNrRGVjb21wKGxvd2VyUG9seSxyZXN1bHQscmVmbGV4VmVydGljZXMsc3RlaW5lclBvaW50cyxkZWx0YSxtYXhsZXZlbCxsZXZlbCk7CiAgICAgICAgICAgICAgICBwb2x5Z29uUXVpY2tEZWNvbXAodXBwZXJQb2x5LHJlc3VsdCxyZWZsZXhWZXJ0aWNlcyxzdGVpbmVyUG9pbnRzLGRlbHRhLG1heGxldmVsLGxldmVsKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBvbHlnb25RdWlja0RlY29tcCh1cHBlclBvbHkscmVzdWx0LHJlZmxleFZlcnRpY2VzLHN0ZWluZXJQb2ludHMsZGVsdGEsbWF4bGV2ZWwsbGV2ZWwpOwogICAgICAgICAgICAgICAgcG9seWdvblF1aWNrRGVjb21wKGxvd2VyUG9seSxyZXN1bHQscmVmbGV4VmVydGljZXMsc3RlaW5lclBvaW50cyxkZWx0YSxtYXhsZXZlbCxsZXZlbCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQogICAgfQogICAgcmVzdWx0LnB1c2gocG9seWdvbik7CgogICAgcmV0dXJuIHJlc3VsdDsKfQoKLyoqCiAqIFJlbW92ZSBjb2xsaW5lYXIgcG9pbnRzIGluIHRoZSBwb2x5Z29uLgogKiBAbWV0aG9kIHJlbW92ZUNvbGxpbmVhclBvaW50cwogKiBAcGFyYW0gIHtOdW1iZXJ9IFtwcmVjaXNpb25dIFRoZSB0aHJlc2hvbGQgYW5nbGUgdG8gdXNlIHdoZW4gZGV0ZXJtaW5pbmcgd2hldGhlciB0d28gZWRnZXMgYXJlIGNvbGxpbmVhci4gVXNlIHplcm8gZm9yIGZpbmVzdCBwcmVjaXNpb24uCiAqIEByZXR1cm4ge051bWJlcn0gICAgICAgICAgIFRoZSBudW1iZXIgb2YgcG9pbnRzIHJlbW92ZWQKICovCmZ1bmN0aW9uIHBvbHlnb25SZW1vdmVDb2xsaW5lYXJQb2ludHMocG9seWdvbiwgcHJlY2lzaW9uKXsKICAgIHZhciBudW0gPSAwOwogICAgZm9yKHZhciBpPXBvbHlnb24ubGVuZ3RoLTE7IHBvbHlnb24ubGVuZ3RoPjMgJiYgaT49MDsgLS1pKXsKICAgICAgICBpZihjb2xsaW5lYXIocG9seWdvbkF0KHBvbHlnb24sIGktMSkscG9seWdvbkF0KHBvbHlnb24sIGkpLHBvbHlnb25BdChwb2x5Z29uLCBpKzEpLHByZWNpc2lvbikpewogICAgICAgICAgICAvLyBSZW1vdmUgdGhlIG1pZGRsZSBwb2ludAogICAgICAgICAgICBwb2x5Z29uLnNwbGljZShpJXBvbHlnb24ubGVuZ3RoLDEpOwogICAgICAgICAgICBudW0rKzsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gbnVtOwp9CgovKioKICogQ2hlY2sgaWYgdHdvIHNjYWxhcnMgYXJlIGVxdWFsCiAqIEBzdGF0aWMKICogQG1ldGhvZCBlcQogKiBAcGFyYW0gIHtOdW1iZXJ9IGEKICogQHBhcmFtICB7TnVtYmVyfSBiCiAqIEBwYXJhbSAge051bWJlcn0gW3ByZWNpc2lvbl0KICogQHJldHVybiB7Qm9vbGVhbn0KICovCmZ1bmN0aW9uIHNjYWxhcl9lcShhLGIscHJlY2lzaW9uKXsKICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiB8fCAwOwogICAgcmV0dXJuIE1hdGguYWJzKGEtYikgPCBwcmVjaXNpb247Cn0KCn0se31dfSx7fSxbMV0pCigxKQp9KTsK","options":{"isTrashed":false},"credits":[]},{"name":"lib/interrupt.js","type":"application/javascript","lastModified":1492756455000,"composed":"Y29uc3QgYV9ocmVmID0gZmFsc2U7CmNvbnN0IGltZ19zcmMgPSB0cnVlOwpjb25zdCBhdWRpb19zcmMgPSBmYWxzZTsKY29uc3Qgc2NyaXB0X3NyYyA9IGZhbHNlOwpjb25zdCB4aHJfdXJsID0gZmFsc2U7CgovLyBIeXBlciBsaW5rCmlmIChhX2hyZWYpIHsKCWNvbnN0IGhyZWZMb2FkZXIgPSAobm9kZSwgaHJlZiwgc2V0KSA9PiB7CgkJc2V0KGBqYXZhc2NyaXB0OiBmZWVsZXMucmVwbGFjZSgnJHtocmVmfScpO2ApOwoJfTsKCWludGVycnVwdFNldHRlcihIVE1MQW5jaG9yRWxlbWVudCwgJ2hyZWYnLCBocmVmTG9hZGVyKTsKfQoKLy8gSW1hZ2Ugc291cmNlCmlmIChpbWdfc3JjKSB7CglpbnRlcnJ1cHRTZXR0ZXIoSFRNTEltYWdlRWxlbWVudCwgJ3NyYycsIHJlc291cmNlTG9hZGVyKTsKfQoKLy8gQXVkaW8gc291cmNlCmlmIChhdWRpb19zcmMpIHsKCWludGVycnVwdFNldHRlcihIVE1MQXVkaW9FbGVtZW50LCAnc3JjJywgcmVzb3VyY2VMb2FkZXIpOwp9CgovLyBTY3JpcHQgc291cmNlCmlmIChzY3JpcHRfc3JjKSB7CglpbnRlcnJ1cHRTZXR0ZXIoSFRNTFNjcmlwdEVsZW1lbnQsICdzcmMnLCByZXNvdXJjZUxvYWRlcik7Cn0KCi8vIFhIUiBvcGVuKCkKaWYgKHhocl91cmwpIHsKCWludGVycnVwdFhIUihYTUxIdHRwUmVxdWVzdCk7Cn0KCi8qKgogKiBAcGFyYW0gbm9kZTogSFRNTEVsZW1lbnQKICogQHBhcmFtIHNyYzogU3RyaW5nCiAqIEBwYXJhbSBzZXQ6IEZ1bmN0aW9uCiAqLwpmdW5jdGlvbiByZXNvdXJjZUxvYWRlcihub2RlLCBzcmMsIHNldCkgewoKCWlmICghaXNTYW1lT3JpZ2luKHNyYykpIHsKCQlzZXQoc3JjKTsKCQlyZXR1cm47Cgl9CgkvLyBJZiByZWxhdGl2ZSBwYXRoOgoJZmVlbGVzLmZldGNoKGdldEZlZWxlc05hbWUoc3JjKSkKCQkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5ibG9iKCkpCgkJLnRoZW4oKGJsb2IpID0+IHsKCQkJY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKCQkJY29uc3QgcmV2b2tlSGFuZGxlciA9ICgpID0+IHsKCQkJCW5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHJldm9rZUhhbmRsZXIpOwoJCQkJbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHJldm9rZUhhbmRsZXIpOwoJCQkJVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwoJCQl9OwoJCQlub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCByZXZva2VIYW5kbGVyKTsKCQkJbm9kZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHJldm9rZUhhbmRsZXIpOwoKCQkJc2V0KHVybCk7CgkJfSk7Cgp9CgovKioKICogQHBhcmFtIGNvbnN0cnVjdG9yOiBIVE1MRWxlbWVudAogKiBAcGFyYW0gYXR0cjogU3RyaW5nCiAqIEBwYXJhbSBkZWxlZ2F0ZTogRnVuY3Rpb24oCiAqCSBub2RlOiBIVE1MRWxlbWVudCwKICoJIHZhbHVlOiBhbnksCiAqCSBzZXQ6IEZ1bmN0aW9uCiAqICkKICovCmZ1bmN0aW9uIGludGVycnVwdFNldHRlcihjb25zdHJ1Y3RvciwgYXR0ciwgZGVsZWdhdGUpIHsKCgljb25zdCBwcm90byA9IGNvbnN0cnVjdG9yLnByb3RvdHlwZTsKCWNvbnN0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3RvLCBhdHRyKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgYXR0ciwgewoJCXNldDogZnVuY3Rpb24odmFsdWUpIHsKCQkJZGVsZWdhdGUodGhpcywgdmFsdWUsIGRlc2Muc2V0LmJpbmQodGhpcykpOwoJCX0KCX0pOwoKfQoKLyoqCiAqIEBwYXJhbSBjb25zdHJ1Y3RvcjogWE1MSHR0cFJlcXVlc3QKICogQHBhcmFtIGF0dHI6IFN0cmluZwogKiBAcGFyYW0gZGVsZWdhdGU6IEZ1bmN0aW9uKAogKgkgbm9kZTogSFRNTEVsZW1lbnQsCiAqCSB2YWx1ZTogYW55LAogKgkgc2V0OiBGdW5jdGlvbgogKiApCiAqLwpmdW5jdGlvbiBpbnRlcnJ1cHRYSFIoY29uc3RydWN0b3IpIHsKCWNvbnN0IHsKCQlvcGVuLAoJCXNlbmQKCX0gPSBjb25zdHJ1Y3Rvci5wcm90b3R5cGU7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnN0cnVjdG9yLnByb3RvdHlwZSwgJ29wZW4nLCB7CgkJdmFsdWU6IGludGVycnVwdE9wZW4sCgl9KTsKCglmdW5jdGlvbiBpbnRlcnJ1cHRPcGVuKF9tZXRob2QsIF91cmwsIF9hc3luYyA9IHRydWUsIF91c2VyID0gJycsIF9wYXNzd29yZCA9ICcnKSB7CgkJaWYgKF9hc3luYyA9PT0gZmFsc2UpIHsKCQkJdGhyb3cgbmV3IEVycm9yKCdmZWVsZXMuWE1MSHR0cFJlcXVlc3QgZG9lcyBub3Qgc3VwcG9ydCBzeW5jaHJvbml6YXRpb24gcmVxdWVzdHMuJyk7CgkJfQoJCWlmICghaXNTYW1lT3JpZ2luKF91cmwpKSB7CgkJCW9wZW4uY2FsbCh0aGlzLCBfbWV0aG9kLCBfdXJsLCBfYXN5bmMsIF91c2VyLCBfcGFzc3dvcmQpOwoJCQlyZXR1cm47CgkJfQoJCXRoaXMuc2VuZCA9IGZ1bmN0aW9uKC4uLnNlbmRBcmdzKSB7CgkJCWZlZWxlcy5mZXRjaChnZXRGZWVsZXNOYW1lKF91cmwpKQoJCQkJLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5ibG9iKCkpCgkJCQkudGhlbigoYmxvYikgPT4gewoJCQkJCWNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CgoJCQkJCWNvbnN0IHJldm9rZUhhbmRsZXIgPSAoKSA9PiB7CgkJCQkJCXRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHJldm9rZUhhbmRsZXIpOwoJCQkJCQl0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgcmV2b2tlSGFuZGxlcik7CgkJCQkJCXRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCByZXZva2VIYW5kbGVyKTsKCQkJCQkJVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwoJCQkJCX07CgoJCQkJCXRoaXMuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHJldm9rZUhhbmRsZXIpOwoJCQkJCXRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCByZXZva2VIYW5kbGVyKTsKCQkJCQl0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgcmV2b2tlSGFuZGxlcik7CgoJCQkJCW9wZW4uY2FsbCh0aGlzLCBfbWV0aG9kLCB1cmwsIF9hc3luYywgX3VzZXIsIF9wYXNzd29yZCk7CgkJCQkJc2VuZC5hcHBseSh0aGlzLCBzZW5kQXJncyk7CgkJCQl9KTsKCQl9OwoJfQoKfQoKCgpjb25zdCBjdXJyZW50T3JpZ2luID0gZ2V0T3JpZ2luKCcnKTsKY29uc3QgYmFzZVVSTCA9ICgoKSA9PiB7Cgljb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwoJYS5ocmVmID0gJyc7CgoJaWYgKCFhLmhyZWYpIHsKCQlyZXR1cm4gJyc7Cgl9CgoJLy8gCUlmIGEub3JpZ2luID09PSAibnVsbCIgKGUuZy4gT3BlbiBpbiBCbG9iIFVSTCksIGEucGF0aG5hbWUgZG9lc24ndCB3b3JrLgoJaWYgKGEub3JpZ2luID09PSAibnVsbCIpIHsKCQlyZXR1cm4gJ2h0dHA6Ly9mYWtlLm9yaWdpbi8nOwoJfQoKCWNvbnN0IGluZGV4ID0gYS5ocmVmLmxhc3RJbmRleE9mKCcvJyk7CglyZXR1cm4gYS5ocmVmLnN1YnN0cigwLCBpbmRleCArIDEpOwp9KSgpOwoKLyoqCiAqIEBwYXJhbSB1cmw6IFN0cmluZwogKiBAcmV0dXJuIFN0cmluZwogKi8KZnVuY3Rpb24gZ2V0RmVlbGVzTmFtZSh1cmwpIHsKCWlmIChiYXNlVVJMICYmIHR5cGVvZiBVUkwgPT09ICdmdW5jdGlvbicpIHsKCQljb25zdCBmdWxsUGF0aCA9IG5ldyBVUkwodXJsLCBiYXNlVVJMKS5ocmVmOwoJCXJldHVybiBmdWxsUGF0aC5zdWJzdHIoYmFzZVVSTC5sZW5ndGgpOwoJfQoJcmV0dXJuIHVybDsKfQoKLyoqCiAqIEBwYXJhbSB1cmw6IFN0cmluZwogKiBAcmV0dXJuIEJvb2xlYW4KICovCmZ1bmN0aW9uIGlzU2FtZU9yaWdpbih1cmwpIHsKCXJldHVybiBnZXRPcmlnaW4odXJsKSA9PT0gY3VycmVudE9yaWdpbjsKfQoKLyoqCiAqIEBwYXJhbSB1cmw6IFN0cmluZwogKiBAcmV0dXJuIFN0cmluZwogKi8KZnVuY3Rpb24gZ2V0T3JpZ2luKHVybCkgewoJY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKCWEuaHJlZiA9IHVybDsKCXJldHVybiBhLm9yaWdpbjsKfQ==","options":{"isTrashed":false},"credits":[]},{"name":"lib/matter-tools.demo.js","type":"application/javascript","lastModified":1492756455000,"composed":"LyohCiAqIG1hdHRlci10b29scyAwLjkuMSBieSBMaWFtIEJydW1taXR0IDIwMTctMDEtMjYKICogaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItdG9vbHMKICogTGljZW5zZSBNSVQKICovCihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7CglpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpCgkJbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoIk1hdHRlciIpLCByZXF1aXJlKCJNYXR0ZXJUb29scyIpKTsKCWVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKQoJCWRlZmluZShbIk1hdHRlciIsICJNYXR0ZXJUb29scyJdLCBmYWN0b3J5KTsKCWVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKQoJCWV4cG9ydHNbIkRlbW8iXSA9IGZhY3RvcnkocmVxdWlyZSgiTWF0dGVyIiksIHJlcXVpcmUoIk1hdHRlclRvb2xzIikpOwoJZWxzZQoJCXJvb3RbIk1hdHRlclRvb2xzIl0gPSByb290WyJNYXR0ZXJUb29scyJdIHx8IHt9LCByb290WyJNYXR0ZXJUb29scyJdWyJEZW1vIl0gPSBmYWN0b3J5KHJvb3RbIk1hdHRlciJdLCByb290WyJNYXR0ZXJUb29scyJdKTsKfSkodGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fKSB7CnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwCi8qKioqKiovIAkvLyBUaGUgbW9kdWxlIGNhY2hlCi8qKioqKiovIAl2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9OwoKLyoqKioqKi8gCS8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uCi8qKioqKiovIAlmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7CgovKioqKioqLyAJCS8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZQovKioqKioqLyAJCWlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKQovKioqKioqLyAJCQlyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0czsKCi8qKioqKiovIAkJLy8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSkKLyoqKioqKi8gCQl2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7Ci8qKioqKiovIAkJCWV4cG9ydHM6IHt9LAovKioqKioqLyAJCQlpZDogbW9kdWxlSWQsCi8qKioqKiovIAkJCWxvYWRlZDogZmFsc2UKLyoqKioqKi8gCQl9OwoKLyoqKioqKi8gCQkvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb24KLyoqKioqKi8gCQltb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTsKCi8qKioqKiovIAkJLy8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZAovKioqKioqLyAJCW1vZHVsZS5sb2FkZWQgPSB0cnVlOwoKLyoqKioqKi8gCQkvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZQovKioqKioqLyAJCXJldHVybiBtb2R1bGUuZXhwb3J0czsKLyoqKioqKi8gCX0KCgovKioqKioqLyAJLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXykKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7CgovKioqKioqLyAJLy8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGUKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7CgovKioqKioqLyAJLy8gX193ZWJwYWNrX3B1YmxpY19wYXRoX18KLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ucCA9ICIvZGVtby9saWIiOwoKLyoqKioqKi8gCS8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0cwovKioqKioqLyAJcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7Ci8qKioqKiovIH0pCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qKioqKiovIChbCi8qIDAgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJInVzZSBzdHJpY3QiOwoKCS8qKgoJICogQSB0b29sIGZvciBmb3IgcnVubmluZyBhbmQgdGVzdGluZyBleGFtcGxlIHNjZW5lcy4KCSAqIEBtb2R1bGUgRGVtbwoJICovCgoJdmFyIE1hdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7Cgl2YXIgQ29tbW9uID0gTWF0dGVyLkNvbW1vbjsKCXZhciBEZW1vID0gbW9kdWxlLmV4cG9ydHMgPSB7fTsKCXZhciBHdWkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpLkd1aTsKCXZhciBJbnNwZWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpLkluc3BlY3RvcjsKCXZhciBUb29sc0NvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7CgoJRGVtby5faXNJT1MgPSB3aW5kb3cubmF2aWdhdG9yICYmIC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICF3aW5kb3cuTVNTdHJlYW07CgoJRGVtby5fbWF0dGVyTGluayA9ICdodHRwOi8vYnJtLmlvL21hdHRlci1qcy8nOwoKCS8qKgoJICogQ3JlYXRlcyBhIG5ldyBkZW1vIGluc3RhbmNlLgoJICogU2VlIGV4YW1wbGUgZm9yIG9wdGlvbnMgYW5kIHVzYWdlLgoJICogQGZ1bmN0aW9uIERlbW8uY3JlYXRlCgkgKiBAcGFyYW0ge30gb3B0aW9ucwoJICovCglEZW1vLmNyZWF0ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CgkgIHZhciBkZW1vID0gT2JqZWN0LmFzc2lnbih7CgkgICAgZXhhbXBsZTogewoJICAgICAgaW5zdGFuY2U6IG51bGwKCSAgICB9LAoJICAgIGV4YW1wbGVzOiBbXSwKCSAgICByZXNldE9uT3JpZW50YXRpb246IGZhbHNlLAoJICAgIHByZXZlbnRab29tOiBmYWxzZSwKCSAgICBpbmxpbmU6IGZhbHNlLAoJICAgIHRvb2xiYXI6IHsKCSAgICAgIHRpdGxlOiBudWxsLAoJICAgICAgdXJsOiBudWxsLAoJICAgICAgcmVzZXQ6IHRydWUsCgkgICAgICBzb3VyY2U6IGZhbHNlLAoJICAgICAgaW5zcGVjdG9yOiBmYWxzZSwKCSAgICAgIHRvb2xzOiBmYWxzZSwKCSAgICAgIGZ1bGxzY3JlZW46IHRydWUsCgkgICAgICBleGFtcGxlU2VsZWN0OiBmYWxzZQoJICAgIH0sCgkgICAgdG9vbHM6IHsKCSAgICAgIGluc3BlY3RvcjogbnVsbCwKCSAgICAgIGd1aTogbnVsbAoJICAgIH0sCgkgICAgZG9tOiB7fQoJICB9LCBvcHRpb25zIHx8IHt9KTsKCgkgIGlmIChkZW1vLmV4YW1wbGVzLmxlbmd0aCA+IDEgJiYgb3B0aW9ucy50b29sYmFyLmV4YW1wbGVTZWxlY3QgIT09IGZhbHNlKSB7CgkgICAgZGVtby50b29sYmFyLmV4YW1wbGVTZWxlY3QgPSB0cnVlOwoJICB9CgoJICBpZiAoRGVtby5faXNJT1MpIHsKCSAgICBkZW1vLnRvb2xiYXIuZnVsbHNjcmVlbiA9IGZhbHNlOwoJICB9CgoJICBpZiAoIUd1aSkgewoJICAgIGRlbW8udG9vbGJhci50b29scyA9IGZhbHNlOwoJICAgIGRlbW8udG9vbHMuZ3VpID0gZmFsc2U7CgkgIH0KCgkgIGlmICghSW5zcGVjdG9yKSB7CgkgICAgZGVtby50b29sYmFyLmluc3BlY3RvciA9IGZhbHNlOwoJICAgIGRlbW8udG9vbHMuaW5zcGVjdG9yID0gZmFsc2U7CgkgIH0KCgkgIGRlbW8uZG9tID0gRGVtby5fY3JlYXRlRG9tKGRlbW8pOwoJICBEZW1vLl9iaW5kRG9tKGRlbW8pOwoKCSAgaWYgKG9wdGlvbnMuaW5saW5lKSB7CgkgICAgZGVtby5kb20ucm9vdC5jbGFzc0xpc3QuYWRkKCdtYXR0ZXItZGVtby1pbmxpbmUnKTsKCSAgfQoKCSAgcmV0dXJuIGRlbW87Cgl9OwoKCS8qKgoJICogU3RhcnRzIGEgbmV3IGRlbW8gaW5zdGFuY2UgYnkgcnVubmluZyB0aGUgZmlyc3Qgb3IgZ2l2ZW4gZXhhbXBsZS4KCSAqIFNlZSBleGFtcGxlIGZvciBvcHRpb25zIGFuZCB1c2FnZS4KCSAqIEBmdW5jdGlvbiBEZW1vLnN0YXJ0CgkgKiBAcGFyYW0ge2RlbW99IGRlbW8KCSAqIEBwYXJhbSB7c3RyaW5nfSBbaW5pdGFsRXhhbXBsZUlkXSBleGFtcGxlIHRvIHN0YXJ0IChkZWZhdWx0cyB0byBmaXJzdCkKCSAqLwoJRGVtby5zdGFydCA9IGZ1bmN0aW9uIChkZW1vLCBpbml0YWxFeGFtcGxlSWQpIHsKCSAgaW5pdGFsRXhhbXBsZUlkID0gaW5pdGFsRXhhbXBsZUlkIHx8IGRlbW8uZXhhbXBsZXNbMF0uaWQ7CgoJICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gubGVuZ3RoID4gMCkgewoJICAgIGluaXRhbEV4YW1wbGVJZCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpOwoJICB9CgoJICBEZW1vLnNldEV4YW1wbGVCeUlkKGRlbW8sIGluaXRhbEV4YW1wbGVJZCk7Cgl9OwoKCS8qKgoJICogU3RvcHMgdGhlIGN1cnJlbnRseSBydW5uaW5nIGV4YW1wbGUgaW4gdGhlIGRlbW8uCgkgKiBUaGlzIHJlcXVpcmVzIHRoYXQgdGhlIGBleGFtcGxlLmluaXRgIGZ1bmN0aW9uIHJldHVybmVkIAoJICogYW4gb2JqZWN0IHNwZWNpZml5aW5nIGEgYHN0b3BgIGZ1bmN0aW9uLgoJICogQGZ1bmN0aW9uIERlbW8uc3RvcAoJICogQHBhcmFtIHtkZW1vfSBkZW1vCgkgKi8KCURlbW8uc3RvcCA9IGZ1bmN0aW9uIChkZW1vKSB7CgkgIGlmIChkZW1vLmV4YW1wbGUgJiYgZGVtby5leGFtcGxlLmluc3RhbmNlKSB7CgkgICAgZGVtby5leGFtcGxlLmluc3RhbmNlLnN0b3AoKTsKCSAgfQoJfTsKCgkvKioKCSAqIFN0b3BzIGFuZCByZXN0YXJ0cyB0aGUgY3VycmVudGx5IHJ1bm5pbmcgZXhhbXBsZS4KCSAqIEBmdW5jdGlvbiBEZW1vLnJlc2V0CgkgKiBAcGFyYW0ge2RlbW99IGRlbW8KCSAqLwoJRGVtby5yZXNldCA9IGZ1bmN0aW9uIChkZW1vKSB7CgkgIENvbW1vbi5fbmV4dElkID0gMDsKCSAgQ29tbW9uLl9zZWVkID0gMDsKCgkgIERlbW8uc2V0RXhhbXBsZShkZW1vLCBkZW1vLmV4YW1wbGUpOwoJfTsKCgkvKioKCSAqIFN0YXJ0cyB0aGUgZ2l2ZW4gZXhhbXBsZSBieSBpdHMgaWQuIAoJICogQW55IHJ1bm5pbmcgZXhhbXBsZSB3aWxsIGJlIHN0b3BwZWQuCgkgKiBAZnVuY3Rpb24gRGVtby5zZXRFeGFtcGxlQnlJZAoJICogQHBhcmFtIHtkZW1vfSBkZW1vCgkgKiBAcGFyYW0ge3N0cmluZ30gZXhhbXBsZUlkIAoJICovCglEZW1vLnNldEV4YW1wbGVCeUlkID0gZnVuY3Rpb24gKGRlbW8sIGV4YW1wbGVJZCkgewoJICB2YXIgZXhhbXBsZSA9IGRlbW8uZXhhbXBsZXMuZmlsdGVyKGZ1bmN0aW9uIChleGFtcGxlKSB7CgkgICAgcmV0dXJuIGV4YW1wbGUuaWQgPT09IGV4YW1wbGVJZDsKCSAgfSlbMF07CgoJICBEZW1vLnNldEV4YW1wbGUoZGVtbywgZXhhbXBsZSk7Cgl9OwoKCS8qKgoJICogU3RhcnRzIHRoZSBnaXZlbiBleGFtcGxlLgoJICogQW55IHJ1bm5pbmcgZXhhbXBsZSB3aWxsIGJlIHN0b3BwZWQuCgkgKiBAZnVuY3Rpb24gRGVtby5zZXRFeGFtcGxlCgkgKiBAcGFyYW0ge2RlbW99IGRlbW8KCSAqIEBwYXJhbSB7ZXhhbXBsZX0gZXhhbXBsZSAKCSAqLwoJRGVtby5zZXRFeGFtcGxlID0gZnVuY3Rpb24gKGRlbW8sIGV4YW1wbGUpIHsKCSAgaWYgKGV4YW1wbGUpIHsKCSAgICB2YXIgaW5zdGFuY2UgPSBkZW1vLmV4YW1wbGUuaW5zdGFuY2U7CgoJICAgIGlmIChpbnN0YW5jZSkgewoJICAgICAgaW5zdGFuY2Uuc3RvcCgpOwoKCSAgICAgIGlmIChpbnN0YW5jZS5jYW52YXMpIHsKCSAgICAgICAgaW5zdGFuY2UuY2FudmFzLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoaW5zdGFuY2UuY2FudmFzKTsKCSAgICAgIH0KCSAgICB9CgoJICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gZXhhbXBsZS5pZDsKCgkgICAgZGVtby5leGFtcGxlLmluc3RhbmNlID0gbnVsbDsKCSAgICBkZW1vLmV4YW1wbGUgPSBleGFtcGxlOwoKCSAgICBkZW1vLmV4YW1wbGUuaW5zdGFuY2UgPSBpbnN0YW5jZSA9IGV4YW1wbGUuaW5pdChkZW1vKTsKCgkgICAgaWYgKCFpbnN0YW5jZS5jYW52YXMgJiYgaW5zdGFuY2UucmVuZGVyKSB7CgkgICAgICBpbnN0YW5jZS5jYW52YXMgPSBpbnN0YW5jZS5yZW5kZXIuY2FudmFzOwoJICAgIH0KCgkgICAgaWYgKGluc3RhbmNlLmNhbnZhcykgewoJICAgICAgZGVtby5kb20uaGVhZGVyLnN0eWxlLm1heFdpZHRoID0gaW5zdGFuY2UuY2FudmFzLndpZHRoICsgJ3B4JzsKCSAgICAgIGRlbW8uZG9tLnJvb3QuYXBwZW5kQ2hpbGQoaW5zdGFuY2UuY2FudmFzKTsKCSAgICB9CgoJICAgIGRlbW8uZG9tLmV4YW1wbGVTZWxlY3QudmFsdWUgPSBleGFtcGxlLmlkOwoJICAgIGRlbW8uZG9tLmJ1dHRvblNvdXJjZS5ocmVmID0gZXhhbXBsZS5zb3VyY2VMaW5rIHx8IGRlbW8udXJsIHx8ICcjJzsKCgkgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkgICAgICBpZiAoZGVtby50b29scy5pbnNwZWN0b3IpIHsKCSAgICAgICAgRGVtby5zZXRJbnNwZWN0b3IoZGVtbywgdHJ1ZSk7CgkgICAgICB9CgoJICAgICAgaWYgKGRlbW8udG9vbHMuZ3VpKSB7CgkgICAgICAgIERlbW8uc2V0R3VpKGRlbW8sIHRydWUpOwoJICAgICAgfQoJICAgIH0sIDUwMCk7CgkgIH0gZWxzZSB7CgkgICAgRGVtby5zZXRFeGFtcGxlKGRlbW8sIGRlbW8uZXhhbXBsZXNbMF0pOwoJICB9Cgl9OwoKCS8qKgoJICogRW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgaW5zcGVjdG9yIHRvb2wuCgkgKiBJZiBgZW5hYmxlZGAgYSBuZXcgYEluc3BlY3RvcmAgaW5zdGFuY2Ugd2lsbCBiZSBjcmVhdGVkIGFuZCB0aGUgb2xkIG9uZSBkZXN0cm95ZWQuCgkgKiBAZnVuY3Rpb24gRGVtby5zZXRJbnNwZWN0b3IKCSAqIEBwYXJhbSB7ZGVtb30gZGVtbwoJICogQHBhcmFtIHtib29sfSBlbmFibGVkCgkgKi8KCURlbW8uc2V0SW5zcGVjdG9yID0gZnVuY3Rpb24gKGRlbW8sIGVuYWJsZWQpIHsKCSAgaWYgKCFlbmFibGVkKSB7CgkgICAgRGVtby5fZGVzdHJveVRvb2xzKGRlbW8sIHRydWUsIGZhbHNlKTsKCSAgICBkZW1vLmRvbS5yb290LmNsYXNzTGlzdC50b2dnbGUoJ21hdHRlci1pbnNwZWN0LWFjdGl2ZScsIGZhbHNlKTsKCSAgICByZXR1cm47CgkgIH0KCgkgIHZhciBpbnN0YW5jZSA9IGRlbW8uZXhhbXBsZS5pbnN0YW5jZTsKCgkgIERlbW8uX2Rlc3Ryb3lUb29scyhkZW1vLCB0cnVlLCBmYWxzZSk7CgkgIGRlbW8uZG9tLnJvb3QuY2xhc3NMaXN0LnRvZ2dsZSgnbWF0dGVyLWluc3BlY3QtYWN0aXZlJywgdHJ1ZSk7CgoJICBkZW1vLnRvb2xzLmluc3BlY3RvciA9IEluc3BlY3Rvci5jcmVhdGUoaW5zdGFuY2UuZW5naW5lLCBpbnN0YW5jZS5yZW5kZXIpOwoJfTsKCgkvKioKCSAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIEd1aSB0b29sLgoJICogSWYgYGVuYWJsZWRgIGEgbmV3IGBHdWlgIGluc3RhbmNlIHdpbGwgYmUgY3JlYXRlZCBhbmQgdGhlIG9sZCBvbmUgZGVzdHJveWVkLgoJICogQGZ1bmN0aW9uIERlbW8uc2V0R3VpCgkgKiBAcGFyYW0ge2RlbW99IGRlbW8KCSAqIEBwYXJhbSB7Ym9vbH0gZW5hYmxlZAoJICovCglEZW1vLnNldEd1aSA9IGZ1bmN0aW9uIChkZW1vLCBlbmFibGVkKSB7CgkgIGlmICghZW5hYmxlZCkgewoJICAgIERlbW8uX2Rlc3Ryb3lUb29scyhkZW1vLCBmYWxzZSwgdHJ1ZSk7CgkgICAgZGVtby5kb20ucm9vdC5jbGFzc0xpc3QudG9nZ2xlKCdtYXR0ZXItZ3VpLWFjdGl2ZScsIGZhbHNlKTsKCSAgICByZXR1cm47CgkgIH0KCgkgIHZhciBpbnN0YW5jZSA9IGRlbW8uZXhhbXBsZS5pbnN0YW5jZTsKCgkgIERlbW8uX2Rlc3Ryb3lUb29scyhkZW1vLCBmYWxzZSwgdHJ1ZSk7CgkgIGRlbW8uZG9tLnJvb3QuY2xhc3NMaXN0LnRvZ2dsZSgnbWF0dGVyLWd1aS1hY3RpdmUnLCB0cnVlKTsKCgkgIGRlbW8udG9vbHMuZ3VpID0gR3VpLmNyZWF0ZShpbnN0YW5jZS5lbmdpbmUsIGluc3RhbmNlLnJ1bm5lciwgaW5zdGFuY2UucmVuZGVyKTsKCX07CgoJRGVtby5fZGVzdHJveVRvb2xzID0gZnVuY3Rpb24gKGRlbW8sIGRlc3Ryb3lJbnNwZWN0b3IsIGRlc3Ryb3lHdWkpIHsKCSAgdmFyIGluc3BlY3RvciA9IGRlbW8udG9vbHMuaW5zcGVjdG9yLAoJICAgICAgZ3VpID0gZGVtby50b29scy5ndWk7CgoJICBpZiAoZGVzdHJveUluc3BlY3RvciAmJiBpbnNwZWN0b3IgJiYgaW5zcGVjdG9yICE9PSB0cnVlKSB7CgkgICAgSW5zcGVjdG9yLmRlc3Ryb3koaW5zcGVjdG9yKTsKCSAgICBkZW1vLnRvb2xzLmluc3BlY3RvciA9IG51bGw7CgkgIH0KCgkgIGlmIChkZXN0cm95R3VpICYmIGd1aSAmJiBndWkgIT09IHRydWUpIHsKCSAgICBHdWkuZGVzdHJveShndWkpOwoJICAgIGRlbW8udG9vbHMuZ3VpID0gbnVsbDsKCSAgfQoJfTsKCglEZW1vLl90b2dnbGVGdWxsc2NyZWVuID0gZnVuY3Rpb24gKGRlbW8pIHsKCSAgdmFyIGZ1bGxzY3JlZW5FbGVtZW50ID0gZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgfHwgZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnQgfHwgZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQ7CgoJICBpZiAoIWZ1bGxzY3JlZW5FbGVtZW50KSB7CgkgICAgZnVsbHNjcmVlbkVsZW1lbnQgPSBkZW1vLmRvbS5yb290OwoKCSAgICBpZiAoZnVsbHNjcmVlbkVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4pIHsKCSAgICAgIGZ1bGxzY3JlZW5FbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuKCk7CgkgICAgfSBlbHNlIGlmIChmdWxsc2NyZWVuRWxlbWVudC5tb3pSZXF1ZXN0RnVsbFNjcmVlbikgewoJICAgICAgZnVsbHNjcmVlbkVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTsKCSAgICB9IGVsc2UgaWYgKGZ1bGxzY3JlZW5FbGVtZW50LndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKSB7CgkgICAgICBmdWxsc2NyZWVuRWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbihFbGVtZW50LkFMTE9XX0tFWUJPQVJEX0lOUFVUKTsKCSAgICB9CgkgIH0gZWxzZSB7CgkgICAgaWYgKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSB7CgkgICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOwoJICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbikgewoJICAgICAgZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpOwoJICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4pIHsKCSAgICAgIGRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKCk7CgkgICAgfQoJICB9Cgl9OwoKCURlbW8uX2JpbmREb20gPSBmdW5jdGlvbiAoZGVtbykgewoJICB2YXIgZG9tID0gZGVtby5kb207CgoJICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7CgkgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkgICAgICBpZiAoZGVtby5yZXNldE9uT3JpZW50YXRpb24pIHsKCSAgICAgICAgRGVtby5yZXNldChkZW1vKTsKCSAgICAgIH0KCSAgICB9LCAzMDApOwoJICB9KTsKCgkgIGlmIChkZW1vLnByZXZlbnRab29tKSB7CgkgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdnZXN0dXJlc3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQpIHsKCSAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkgICAgfSk7CgoJICAgIHZhciBhbGxvd1RhcCA9IHRydWUsCgkgICAgICAgIHRhcFRpbWVvdXQ7CgoJICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uIChldmVudCkgewoJICAgICAgaWYgKCFhbGxvd1RhcCkgewoJICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJICAgICAgfQoKCSAgICAgIGFsbG93VGFwID0gZmFsc2U7CgoJICAgICAgY2xlYXJUaW1lb3V0KHRhcFRpbWVvdXQpOwoJICAgICAgdGFwVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewoJICAgICAgICBhbGxvd1RhcCA9IHRydWU7CgkgICAgICB9LCA1MDApOwoJICAgIH0pOwoJICB9CgoJICBpZiAoZG9tLmV4YW1wbGVTZWxlY3QpIHsKCSAgICBkb20uZXhhbXBsZVNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7CgkgICAgICB2YXIgZXhhbXBsZUlkID0gdGhpcy5vcHRpb25zW3RoaXMuc2VsZWN0ZWRJbmRleF0udmFsdWU7CgkgICAgICBEZW1vLnNldEV4YW1wbGVCeUlkKGRlbW8sIGV4YW1wbGVJZCk7CgkgICAgfSk7CgkgIH0KCgkgIGlmIChkb20uYnV0dG9uUmVzZXQpIHsKCSAgICBkb20uYnV0dG9uUmVzZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7CgkgICAgICBEZW1vLnJlc2V0KGRlbW8pOwoJICAgIH0pOwoJICB9CgoJICBpZiAoZG9tLmJ1dHRvbkluc3BlY3QpIHsKCSAgICBkb20uYnV0dG9uSW5zcGVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKCSAgICAgIHZhciBzaG93SW5zcGVjdG9yID0gIWRlbW8udG9vbHMuaW5zcGVjdG9yOwoJICAgICAgRGVtby5zZXRJbnNwZWN0b3IoZGVtbywgc2hvd0luc3BlY3Rvcik7CgkgICAgfSk7CgkgIH0KCgkgIGlmIChkb20uYnV0dG9uVG9vbHMpIHsKCSAgICBkb20uYnV0dG9uVG9vbHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7CgkgICAgICB2YXIgc2hvd0d1aSA9ICFkZW1vLnRvb2xzLmd1aTsKCSAgICAgIERlbW8uc2V0R3VpKGRlbW8sIHNob3dHdWkpOwoJICAgIH0pOwoJICB9CgoJICBpZiAoZG9tLmJ1dHRvbkZ1bGxzY3JlZW4pIHsKCSAgICBkb20uYnV0dG9uRnVsbHNjcmVlbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKCSAgICAgIERlbW8uX3RvZ2dsZUZ1bGxzY3JlZW4oZGVtbyk7CgkgICAgfSk7CgoJICAgIHZhciBmdWxsc2NyZWVuQ2hhbmdlID0gZnVuY3Rpb24gZnVsbHNjcmVlbkNoYW5nZSgpIHsKCSAgICAgIHZhciBpc0Z1bGxzY3JlZW4gPSBkb2N1bWVudC5mdWxsc2NyZWVuIHx8IGRvY3VtZW50LndlYmtpdElzRnVsbFNjcmVlbiB8fCBkb2N1bWVudC5tb3pGdWxsU2NyZWVuOwoJICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdtYXR0ZXItaXMtZnVsbHNjcmVlbicsIGlzRnVsbHNjcmVlbik7CgoJICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkgICAgICAgIERlbW8uc2V0RXhhbXBsZShkZW1vLCBkZW1vLmV4YW1wbGUpOwoJICAgICAgfSwgNTAwKTsKCSAgICB9OwoKCSAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgZnVsbHNjcmVlbkNoYW5nZSk7CgkgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW96ZnVsbHNjcmVlbmNoYW5nZScsIGZ1bGxzY3JlZW5DaGFuZ2UpOwoJICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBmdWxsc2NyZWVuQ2hhbmdlKTsKCSAgfQoJfTsKCglEZW1vLl9jcmVhdGVEb20gPSBmdW5jdGlvbiAob3B0aW9ucykgewoJICB2YXIgc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTsKCSAgVG9vbHNDb21tb24uaW5qZWN0U3R5bGVzKHN0eWxlcywgJ21hdHRlci1kZW1vLXN0eWxlJyk7CgoJICB2YXIgcm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoKCSAgdmFyIGV4YW1wbGVPcHRpb25zID0gb3B0aW9ucy5leGFtcGxlcy5tYXAoZnVuY3Rpb24gKGV4YW1wbGUpIHsKCSAgICByZXR1cm4gJzxvcHRpb24gdmFsdWU9IicgKyBleGFtcGxlLmlkICsgJyI+JyArIGV4YW1wbGUubmFtZSArICc8L29wdGlvbj4nOwoJICB9KS5qb2luKCcgJyk7CgoJICB2YXIgcHJldmVudFpvb21DbGFzcyA9IG9wdGlvbnMucHJldmVudFpvb20gJiYgRGVtby5faXNJT1MgPyAncHJldmVudC16b29tLWlvcycgOiAnJzsKCgkgIHJvb3QuaW5uZXJIVE1MID0gJ1xuICAgIDxkaXYgY2xhc3M9Im1hdHRlci1kZW1vICcgKyBvcHRpb25zLnRvb2xiYXIudGl0bGUgKyAnICcgKyBwcmV2ZW50Wm9vbUNsYXNzICsgJyI+XG4gICAgICA8ZGl2IGNsYXNzPSJtYXR0ZXItaGVhZGVyLW91dGVyIj5cbiAgICAgICAgPGhlYWRlciBjbGFzcz0ibWF0dGVyLWhlYWRlciI+XG4gICAgICAgICAgPGRpdiBjbGFzcz0ibWF0dGVyLWhlYWRlci1pbm5lciI+XG4gICAgICAgICAgICA8aDEgY2xhc3M9Im1hdHRlci1kZW1vLXRpdGxlIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj0iJyArIG9wdGlvbnMudG9vbGJhci51cmwgKyAnIiB0YXJnZXQ9Il9ibGFuayI+JyArIG9wdGlvbnMudG9vbGJhci50aXRsZSArICcgXHUyMTk3JiN4RkUwRTs8L2E+XG4gICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWF0dGVyLXRvb2xiYXIiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYXR0ZXItc2VsZWN0LXdyYXBwZXIiPlxuICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9Im1hdHRlci1leGFtcGxlLXNlbGVjdCBtYXR0ZXItc2VsZWN0Ij5cbiAgICAgICAgICAgICAgICAgICcgKyBleGFtcGxlT3B0aW9ucyArICdcbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9Im1hdHRlci1idG4gbWF0dGVyLWJ0bi1yZXNldCIgdGl0bGU9IlJlc2V0Ij5cdTIxQkImI3hGRTBFOzwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YSBocmVmPSIjIiBjbGFzcz0ibWF0dGVyLWJ0biBtYXR0ZXItYnRuLXNvdXJjZSIgdGl0bGU9IlNvdXJjZSIgdGFyZ2V0PSJfYmxhbmsiPnsgfTwvYT5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibWF0dGVyLWJ0biBtYXR0ZXItYnRuLXRvb2xzIiB0aXRsZT0iVG9vbHMiPlx1MjcwRSYjeEZFMEU7PC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9Im1hdHRlci1idG4gbWF0dGVyLWJ0bi1pbnNwZWN0IiB0aXRsZT0iSW5zcGVjdCI+JiM4ODU3OyYjeEZFMEU7PC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9Im1hdHRlci1idG4gbWF0dGVyLWJ0bi1mdWxsc2NyZWVuIiB0aXRsZT0iRnVsbHNjcmVlbiI+JiM5NjMzOyYjeEZFMEU7PC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxhIGNsYXNzPSJtYXR0ZXItbGluayIgaHJlZj0iJyArIERlbW8uX21hdHRlckxpbmsgKyAnIiB0aXRsZT0ibWF0dGVyLmpzIiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgICAgICAgICAgIDxpPlx1MjVCMjwvaT48aT5cdTI1Q0Y8L2k+PGk+XHUyNUEwPC9pPlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2hlYWRlcj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAnOwoKCSAgdmFyIGRvbSA9IHsKCSAgICByb290OiByb290LmZpcnN0RWxlbWVudENoaWxkLAoJICAgIHRpdGxlOiByb290LnF1ZXJ5U2VsZWN0b3IoJy5tYXR0ZXItZGVtby10aXRsZScpLAoJICAgIGhlYWRlcjogcm9vdC5xdWVyeVNlbGVjdG9yKCcubWF0dGVyLWhlYWRlcicpLAoJICAgIGV4YW1wbGVTZWxlY3Q6IHJvb3QucXVlcnlTZWxlY3RvcignLm1hdHRlci1leGFtcGxlLXNlbGVjdCcpLAoJICAgIGJ1dHRvblJlc2V0OiByb290LnF1ZXJ5U2VsZWN0b3IoJy5tYXR0ZXItYnRuLXJlc2V0JyksCgkgICAgYnV0dG9uU291cmNlOiByb290LnF1ZXJ5U2VsZWN0b3IoJy5tYXR0ZXItYnRuLXNvdXJjZScpLAoJICAgIGJ1dHRvblRvb2xzOiByb290LnF1ZXJ5U2VsZWN0b3IoJy5tYXR0ZXItYnRuLXRvb2xzJyksCgkgICAgYnV0dG9uSW5zcGVjdDogcm9vdC5xdWVyeVNlbGVjdG9yKCcubWF0dGVyLWJ0bi1pbnNwZWN0JyksCgkgICAgYnV0dG9uRnVsbHNjcmVlbjogcm9vdC5xdWVyeVNlbGVjdG9yKCcubWF0dGVyLWJ0bi1mdWxsc2NyZWVuJykKCSAgfTsKCgkgIGlmICghb3B0aW9ucy50b29sYmFyLnRpdGxlKSB7CgkgICAgVG9vbHNDb21tb24uZG9tUmVtb3ZlKGRvbS50aXRsZSk7CgkgIH0KCgkgIGlmICghb3B0aW9ucy50b29sYmFyLmV4YW1wbGVTZWxlY3QpIHsKCSAgICBUb29sc0NvbW1vbi5kb21SZW1vdmUoZG9tLmV4YW1wbGVTZWxlY3QucGFyZW50RWxlbWVudCk7CgkgIH0KCgkgIGlmICghb3B0aW9ucy50b29sYmFyLnJlc2V0KSB7CgkgICAgVG9vbHNDb21tb24uZG9tUmVtb3ZlKGRvbS5idXR0b25SZXNldCk7CgkgIH0KCgkgIGlmICghb3B0aW9ucy50b29sYmFyLnNvdXJjZSkgewoJICAgIFRvb2xzQ29tbW9uLmRvbVJlbW92ZShkb20uYnV0dG9uU291cmNlKTsKCSAgfQoKCSAgaWYgKCFvcHRpb25zLnRvb2xiYXIuaW5zcGVjdG9yKSB7CgkgICAgVG9vbHNDb21tb24uZG9tUmVtb3ZlKGRvbS5idXR0b25JbnNwZWN0KTsKCSAgfQoKCSAgaWYgKCFvcHRpb25zLnRvb2xiYXIudG9vbHMpIHsKCSAgICBUb29sc0NvbW1vbi5kb21SZW1vdmUoZG9tLmJ1dHRvblRvb2xzKTsKCSAgfQoKCSAgaWYgKCFvcHRpb25zLnRvb2xiYXIuZnVsbHNjcmVlbikgewoJICAgIFRvb2xzQ29tbW9uLmRvbVJlbW92ZShkb20uYnV0dG9uRnVsbHNjcmVlbik7CgkgIH0KCgkgIHJldHVybiBkb207Cgl9OwoKCS8qKiogRVhQT1JUUyBGUk9NIGV4cG9ydHMtbG9hZGVyICoqKi8KCi8qKiovIH0sCi8qIDEgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJbW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXzsKCi8qKiovIH0sCi8qIDIgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJbW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzJfXzsKCi8qKiovIH0sCi8qIDMgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJInVzZSBzdHJpY3QiOwoKCS8qKgoJKiBAY2xhc3MgQ29tbW9uCgkqLwoKCXZhciBDb21tb24gPSBtb2R1bGUuZXhwb3J0cyA9IHt9OwoKCUNvbW1vbi5pbmplY3RTdHlsZXMgPSBmdW5jdGlvbiAoc3R5bGVzLCBpZCkgewoJICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKSB7CgkgICAgcmV0dXJuOwoJICB9CgoJICB2YXIgcm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJICByb290LmlubmVySFRNTCA9ICc8c3R5bGUgaWQ9IicgKyBpZCArICciIHR5cGU9InRleHQvY3NzIj4nICsgc3R5bGVzICsgJzwvc3R5bGU+JzsKCgkgIHZhciBsYXN0U3R5bGUgPSBkb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlOmxhc3Qtb2YtdHlwZScpOwoJICBDb21tb24uZG9tSW5zZXJ0QmVmb3JlKHJvb3QuZmlyc3RFbGVtZW50Q2hpbGQsIGxhc3RTdHlsZSk7Cgl9OwoKCUNvbW1vbi5pbmplY3RTY3JpcHQgPSBmdW5jdGlvbiAodXJsLCBpZCwgY2FsbGJhY2spIHsKCSAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSkgewoJICAgIHJldHVybjsKCSAgfQoKCSAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwoJICBzY3JpcHQuaWQgPSBpZDsKCSAgc2NyaXB0LnNyYyA9IHVybDsKCSAgc2NyaXB0Lm9ubG9hZCA9IGNhbGxiYWNrOwoKCSAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpOwoJfTsKCglDb21tb24uZG9tUmVtb3ZlID0gZnVuY3Rpb24gKGVsZW1lbnQpIHsKCSAgcmV0dXJuIGVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50KTsKCX07CgoJQ29tbW9uLmRvbUluc2VydEJlZm9yZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBiZWZvcmUpIHsKCSAgcmV0dXJuIGJlZm9yZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlbGVtZW50LCBiZWZvcmUucHJldmlvdXNFbGVtZW50U2libGluZyk7Cgl9OwoKCS8qKiogRVhQT1JUUyBGUk9NIGV4cG9ydHMtbG9hZGVyICoqKi8KCi8qKiovIH0sCi8qIDQgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJbW9kdWxlLmV4cG9ydHMgPSAiLypcbipcdE1hdHRlclRvb2xzLkRlbW9cbiovXG5cbi5tYXR0ZXItZGVtbyB7XG4gIGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICBkaXNwbGF5OiBmbGV4O1xuICBiYWNrZ3JvdW5kOiAjMTQxNTFmO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgaGVpZ2h0OiAxMDB2aDtcbn1cblxuLm1hdHRlci1kZW1vIGNhbnZhcyB7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgbWF4LXdpZHRoOiAxMDAlO1xuICBtYXgtaGVpZ2h0OiAxMDAlO1xufVxuXG4ubWF0dGVyLWRlbW8ubWF0dGVyLWRlbW8taW5saW5lIGNhbnZhcyB7XG4gIG1heC1oZWlnaHQ6IGNhbGMoMTAwJSAtIDUwcHgpO1xufVxuXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA5MDBweCkgYW5kIChtaW4taGVpZ2h0OiA2MDBweCkge1xuICAubWF0dGVyLWRlbW8ubWF0dGVyLWRlbW8taW5saW5lIGNhbnZhcyB7XG4gICAgbWF4LWhlaWdodDogY2FsYygxMDAlIC0gMTAwcHgpO1xuICB9XG59XG5cbi5tYXR0ZXItaXMtZnVsbHNjcmVlbiAubWF0dGVyLWRlbW8ge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLm1hdHRlci1pcy1mdWxsc2NyZWVuIC5kZy5hYyxcbi5tYXR0ZXItaXMtZnVsbHNjcmVlbiAuaW5zLWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi5tYXR0ZXItaGVhZGVyLW91dGVyIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB6LWluZGV4OiAxMDA7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQgNDAwbXMgZWFzZTtcbn1cblxuLm1hdHRlci1oZWFkZXItb3V0ZXI6aG92ZXIge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNyk7XG59XG5cbi5tYXR0ZXItZGVtby1pbmxpbmUgLm1hdHRlci1oZWFkZXItb3V0ZXIge1xuICBwb3NpdGlvbjogc3RhdGljO1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgei1pbmRleDogMDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5tYXR0ZXItaGVhZGVyIHtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDEwcHggNnB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLm1hdHRlci1kZW1vLWlubGluZSAubWF0dGVyLWhlYWRlciB7XG4gIHBhZGRpbmc6IDEwcHg7XG59XG5cbmJvZHkgLmlucy1jb250YWluZXIsXG5ib2R5IC5kZyAuZGcubWFpbixcbmJvZHkgLmRnIC5kZy5tYWluLmEge1xuICBwYWRkaW5nLXRvcDogNTJweDtcbn1cblxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNTAwcHgpIHtcbiAgLm1hdHRlci1oZWFkZXIge1xuICAgIHBhZGRpbmc6IDEycHggMjBweDtcbiAgfVxuXG4gIC5tYXR0ZXItZGVtby1pbmxpbmUgLm1hdHRlci1oZWFkZXIge1xuICAgIHBhZGRpbmc6IDEwcHggMzBweCAxNnB4IDMwcHg7XG4gIH1cbn1cblxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogOTAwcHgpIGFuZCAobWluLWhlaWdodDogNjAwcHgpIHtcbiAgLm1hdHRlci1kZW1vLWlubGluZSAubWF0dGVyLWhlYWRlciB7XG4gICAgcGFkZGluZzogMTBweCAzMHB4IDM2cHggMzBweDtcbiAgfVxufVxuXG4ubWF0dGVyLWhlYWRlci1pbm5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgbWF4LXdpZHRoOiA5NjBweDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5tYXR0ZXItaGVhZGVyIGgxIHtcbiAgZGlzcGxheTogbm9uZTtcbiAgbWFyZ2luOiAwO1xuICB3aWR0aDogMThweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLm1hdHRlci1oZWFkZXIgaDEgYSB7XG4gIGNvbG9yOiAjZjJmMmY1O1xuICBmb250LXNpemU6IDE1cHg7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICBkaXNwbGF5OiBibG9jaztcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICBtYXJnaW46IDdweCAwIDAgMDtcbiAgcGFkZGluZzogMCAwIDJweCAwO1xuICBib3JkZXItYm90dG9tOiAycHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMzAwcHgpIHtcbiAgLm1hdHRlci1oZWFkZXIgaDEge1xuICAgIGRpc3BsYXk6IGlubGluZTtcbiAgfVxufVxuXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA2MDBweCkge1xuICAubWF0dGVyLWhlYWRlciBoMSB7XG4gICAgd2lkdGg6IGF1dG87XG4gICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gIH1cbn1cblxuLmJ0bi1ob21lIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cblxuLm1hdHRlci1oZWFkZXIgaDEgYTpob3ZlciB7XG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjRjVCODYyO1xufVxuXG4ubWF0dGVyLWxpbmsge1xuICBmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICBsaW5lLWhlaWdodDogMTNweDtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgM3B4KSBzY2FsZSgwLjgpO1xufVxuXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA1MDBweCkge1xuICAubWF0dGVyLWxpbmsge1xuICAgIHRyYW5zZm9ybTogbm9uZTtcbiAgfVxufVxuXG4ubWF0dGVyLWxpbmsgaSB7XG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSA0MDBtcyBlYXNlO1xufVxuXG4ubWF0dGVyLWxpbms6aG92ZXIgaSB7XG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSA0MDBtcyBlYXNlO1xufVxuXG4ubWF0dGVyLWxpbms6aG92ZXIgaTpudGgtY2hpbGQoMSkge1xuICB0cmFuc2Zvcm06IHJvdGF0ZSgtMjZkZWcpIHRyYW5zbGF0ZTNkKC00cHgsIC03cHgsIDApO1xufVxuXG4ubWF0dGVyLWxpbmsgaTpudGgtY2hpbGQoMikge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDFweCwgMCk7XG59XG5cbi5tYXR0ZXItbGluazpob3ZlciBpOm50aC1jaGlsZCgyKSB7XG4gIHRyYW5zaXRpb24tZGVsYXk6IDgwbXM7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoM3B4LCAtNXB4LCAwKTtcbn1cblxuLm1hdHRlci1saW5rOmhvdmVyIGk6bnRoLWNoaWxkKDMpIHtcbiAgdHJhbnNpdGlvbi1kZWxheTogMTgwbXM7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoOXB4LCAwLCAwKTtcbn1cblxuLm1hdHRlci1saW5rIGk6bnRoLWNoaWxkKDEpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBjb2xvcjogIzc2RjA5QjtcbiAgZm9udC1zaXplOiAzMHB4O1xufVxuXG4ubWF0dGVyLWxpbmsgaTpudGgtY2hpbGQoMikge1xuICBjb2xvcjogI0Y1Qjg2MjtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBwYWRkaW5nOiAwIDJweCAwIDA7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuLm1hdHRlci1saW5rIGk6bnRoLWNoaWxkKDMpIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBjb2xvcjogI0Y1NUY1RjsgXG4gIGZvbnQtc2l6ZTogNDZweDtcbn1cblxuLm1hdHRlci10b29sYmFyIHtcbiAgZmxleC1ncm93OiAxO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgbWFyZ2luOiAtNnB4IDAgMCAwO1xufVxuXG4ubWF0dGVyLXNlbGVjdCB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBjb2xvcjogI2ZmZjtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBoZWlnaHQ6IDMwcHg7XG4gIHdpZHRoOiAxMDAlO1xuICBvdXRsaW5lOiBub25lO1xuICBwYWRkaW5nOiAwIDdweDtcbiAgbWFyZ2luOiAwIDAgLTZweCAwO1xuICBib3JkZXI6IDA7XG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIGJvcmRlci1yYWRpdXM6IDA7XG4gIGFwcGVhcmFuY2U6IG5vbmU7XG4gIC1tb3otYXBwZWFyYW5jZTogbm9uZTtcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xufVxuXG4ucHJldmVudC16b29tLWlvcyAubWF0dGVyLXNlbGVjdCB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbn1cblxuLm1hdHRlci1kZW1vLWlubGluZSAubWF0dGVyLXNlbGVjdCB7XG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjM2EzYTNhO1xufVxuXG4ubWF0dGVyLXNlbGVjdDpob3ZlciB7XG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICNGNUI4NjI7XG59XG5cbi5tYXR0ZXItc2VsZWN0LXdyYXBwZXIge1xuICB3aWR0aDogMjAlO1xuICBtaW4td2lkdGg6IDEwMHB4O1xuICBtYXgtd2lkdGg6IDIwMHB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgbWFyZ2luOiAwIDYlIDAgMDtcbn1cblxuLm1hdHRlci1zZWxlY3Qtd3JhcHBlcjpob3ZlcjphZnRlciB7XG4gIGNvbG9yOiAjZmZmO1xufVxuXG4ubWF0dGVyLXNlbGVjdC13cmFwcGVyOmFmdGVyIHtcbiAgY29udGVudDogJ+KWvic7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgY29sb3I6ICNjZWNlY2U7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDZweDtcbiAgcmlnaHQ6IDVweDtcbn1cblxuLnByZXZlbnQtem9vbS1pb3MgLm1hdHRlci1zZWxlY3Qtd3JhcHBlcjphZnRlciB7XG4gIHRvcDogNHB4O1xufVxuXG4ubWF0dGVyLWJ0biB7XG4gIGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICBib3JkZXI6IDA7XG4gIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC4xKTtcbiAgcGFkZGluZzogMnB4IDAgMCAwO1xuICB3aWR0aDogNDBweDtcbiAgaGVpZ2h0OiAzM3B4O1xuICBib3JkZXItcmFkaXVzOiAycHg7XG4gIG1hcmdpbjogMCAwIC02cHggMDtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBmb250LXNpemU6IDE2cHg7XG4gIGxpbmUtaGVpZ2h0OiAxO1xuICBjb2xvcjogI2MyY2FkNDtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5tYXR0ZXItZGVtby1pbmxpbmUgLm1hdHRlci1idG4ge1xuICBiYWNrZ3JvdW5kOiAjMGYwZjEzO1xufVxuXG4ubWF0dGVyLWJ0bjpmb2N1cyB7XG4gIG91dGxpbmU6IDA7XG59XG5cbi5tYXR0ZXItYnRuOmhvdmVyIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMHB4LCAtMXB4KTtcbn1cblxuLm1hdHRlci1idG46YWN0aXZlIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMHB4LCAxcHgpO1xufVxuXG4ubWF0dGVyLWJ0bjpob3ZlciB7XG4gIGJhY2tncm91bmQ6ICMyMTJhM2E7XG59XG5cbi5tYXR0ZXItYnRuLXJlc2V0OmFjdGl2ZSB7XG4gIGNvbG9yOiAjNzZGMDlCO1xufVxuXG4ubWF0dGVyLWJ0bi10b29scyB7XG4gIGRpc3BsYXk6IG5vbmU7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgcGFkZGluZy1yaWdodDogM3B4O1xufVxuXG4ubWF0dGVyLWd1aS1hY3RpdmUgLm1hdHRlci1idG4tdG9vbHMge1xuICBjb2xvcjogI0Y1NUY1Rjtcbn1cblxuLm1hdHRlci1idG4taW5zcGVjdCB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi5tYXR0ZXItaW5zcGVjdC1hY3RpdmUgLm1hdHRlci1idG4taW5zcGVjdCB7XG4gIGNvbG9yOiAjZmZmMDM2O1xufVxuXG4ubWF0dGVyLWJ0bi1zb3VyY2Uge1xuICBkaXNwbGF5OiBub25lO1xuICBmb250LXNpemU6IDEycHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbGluZS1oZWlnaHQ6IDMxcHg7XG59XG5cbi5tYXR0ZXItYnRuLXNvdXJjZTphY3RpdmUge1xuICBjb2xvcjogI0Y1Qjg2Mjtcbn1cblxuLm1hdHRlci1idG4tZnVsbHNjcmVlbiB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbn1cblxuLm1hdHRlci1idG4tc291cmNlOmFjdGl2ZSB7XG4gIGNvbG9yOiAjRjVCODYyO1xufVxuXG4ubWF0dGVyLWlzLWZ1bGxzY3JlZW4gLm1hdHRlci1idG4tdG9vbHMsXG4ubWF0dGVyLWlzLWZ1bGxzY3JlZW4gLm1hdHRlci1idG4taW5zcGVjdCB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi5tYXR0ZXItaXMtZnVsbHNjcmVlbiAubWF0dGVyLWJ0bi1mdWxsc2NyZWVuIHtcbiAgY29sb3I6ICM3NkYwOUI7XG59XG5cbi5pbnMtY29udGFpbmVyLFxuYm9keSAuZGcge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA1MDBweCkge1xuICAuaW5zLWNvbnRhaW5lcixcbiAgYm9keSAuZGcsXG4gIC5tYXR0ZXItYnRuLXRvb2xzLFxuICAubWF0dGVyLWJ0bi1pbnNwZWN0LFxuICAubWF0dGVyLWJ0bi1zb3VyY2Uge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICB9XG59IgoKLyoqKi8gfQovKioqKioqLyBdKQp9KTsKOw==","options":{"isTrashed":false},"credits":[]},{"name":"lib/matter-tools.gui.js","type":"application/javascript","lastModified":1492756455000,"composed":"LyohCiAqIG1hdHRlci10b29scyAwLjkuMSBieSBMaWFtIEJydW1taXR0IDIwMTctMDEtMjYKICogaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItdG9vbHMKICogTGljZW5zZSBNSVQKICovCihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7CglpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpCgkJbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoIk1hdHRlciIpLCByZXF1aXJlKCJNYXR0ZXJUb29scyIpKTsKCWVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKQoJCWRlZmluZShbIk1hdHRlciIsICJNYXR0ZXJUb29scyJdLCBmYWN0b3J5KTsKCWVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKQoJCWV4cG9ydHNbIkd1aSJdID0gZmFjdG9yeShyZXF1aXJlKCJNYXR0ZXIiKSwgcmVxdWlyZSgiTWF0dGVyVG9vbHMiKSk7CgllbHNlCgkJcm9vdFsiTWF0dGVyVG9vbHMiXSA9IHJvb3RbIk1hdHRlclRvb2xzIl0gfHwge30sIHJvb3RbIk1hdHRlclRvb2xzIl1bIkd1aSJdID0gZmFjdG9yeShyb290WyJNYXR0ZXIiXSwgcm9vdFsiTWF0dGVyVG9vbHMiXSk7Cn0pKHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzJfXykgewpyZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcAovKioqKioqLyAJLy8gVGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKCi8qKioqKiovIAkvLyBUaGUgcmVxdWlyZSBmdW5jdGlvbgovKioqKioqLyAJZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkgewoKLyoqKioqKi8gCQkvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGUKLyoqKioqKi8gCQlpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkKLyoqKioqKi8gCQkJcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7CgovKioqKioqLyAJCS8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCi8qKioqKiovIAkJdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0gewovKioqKioqLyAJCQlleHBvcnRzOiB7fSwKLyoqKioqKi8gCQkJaWQ6IG1vZHVsZUlkLAovKioqKioqLyAJCQlsb2FkZWQ6IGZhbHNlCi8qKioqKiovIAkJfTsKCi8qKioqKiovIAkJLy8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uCi8qKioqKiovIAkJbW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7CgovKioqKioqLyAJCS8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWQKLyoqKioqKi8gCQltb2R1bGUubG9hZGVkID0gdHJ1ZTsKCi8qKioqKiovIAkJLy8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGUKLyoqKioqKi8gCQlyZXR1cm4gbW9kdWxlLmV4cG9ydHM7Ci8qKioqKiovIAl9CgoKLyoqKioqKi8gCS8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzOwoKLyoqKioqKi8gCS8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzOwoKLyoqKioqKi8gCS8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSAiL2RlbW8vbGliIjsKCi8qKioqKiovIAkvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHMKLyoqKioqKi8gCXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApOwovKioqKioqLyB9KQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKioqKioqLyAoWwovKiAwICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCSJ1c2Ugc3RyaWN0IjsKCgkvKioKCSAqIEEgdG9vbCBmb3IgbW9kaWZ5aW5nIHRoZSBwcm9wZXJ0aWVzIG9mIGFuIGVuZ2luZSBhbmQgcmVuZGVyZXIuCgkgKiBAbW9kdWxlIEd1aQoJICovCgoJdmFyIEd1aSA9IG1vZHVsZS5leHBvcnRzID0ge307CgoJdmFyIGRhdCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7Cgl2YXIgVG9vbHNDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpOwoJdmFyIFNlcmlhbGl6ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpLlNlcmlhbGl6ZXI7Cgl2YXIgTWF0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCXZhciBFbmdpbmUgPSBNYXR0ZXIuRW5naW5lOwoJdmFyIERldGVjdG9yID0gTWF0dGVyLkRldGVjdG9yOwoJdmFyIEdyaWQgPSBNYXR0ZXIuR3JpZDsKCXZhciBXb3JsZCA9IE1hdHRlci5Xb3JsZDsKCXZhciBCb2RpZXMgPSBNYXR0ZXIuQm9kaWVzOwoJdmFyIEV2ZW50cyA9IE1hdHRlci5FdmVudHM7Cgl2YXIgQ29tcG9zaXRlID0gTWF0dGVyLkNvbXBvc2l0ZTsKCgkvKioKCSAqIENyZWF0ZXMgYSBHdWkKCSAqIEBmdW5jdGlvbiBHdWkuY3JlYXRlCgkgKiBAcGFyYW0ge2VuZ2luZX0gW2VuZ2luZV0KCSAqIEBwYXJhbSB7cnVubmVyfSBbcnVubmVyXQoJICogQHBhcmFtIHtyZW5kZXJ9IFtyZW5kZXJdCgkgKiBAcmV0dXJuIHtndWl9IFRoZSBjcmVhdGVkIGd1aSBpbnN0YW5jZQoJICovCglHdWkuY3JlYXRlID0gZnVuY3Rpb24gKGVuZ2luZSwgcnVubmVyLCByZW5kZXIpIHsKCSAgZGF0LkdVSS5URVhUX0NMT1NFRCA9ICfilrInOwoJICBkYXQuR1VJLlRFWFRfT1BFTiA9ICfilrwnOwoKCSAgdmFyIGRhdEd1aSA9IG5ldyBkYXQuR1VJKCk7CgoJICB2YXIgZ3VpID0gewoJICAgIGVuZ2luZTogZW5naW5lLAoJICAgIHJ1bm5lcjogcnVubmVyLAoJICAgIHJlbmRlcjogcmVuZGVyLAoJICAgIGRhdEd1aTogZGF0R3VpLAoJICAgIGJyb2FkcGhhc2U6ICdncmlkJywKCSAgICBicm9hZHBoYXNlQ2FjaGU6IHsKCSAgICAgIGdyaWQ6IGVuZ2luZS5icm9hZHBoYXNlLmNvbnRyb2xsZXIgPT09IEdyaWQgPyBlbmdpbmUuYnJvYWRwaGFzZSA6IEdyaWQuY3JlYXRlKCksCgkgICAgICBicnV0ZUZvcmNlOiB7CgkgICAgICAgIGRldGVjdG9yOiBEZXRlY3Rvci5icnV0ZUZvcmNlCgkgICAgICB9CgkgICAgfSwKCSAgICBhbW91bnQ6IDEsCgkgICAgc2l6ZTogNDAsCgkgICAgc2lkZXM6IDQsCgkgICAgZGVuc2l0eTogMC4wMDEsCgkgICAgcmVzdGl0dXRpb246IDAsCgkgICAgZnJpY3Rpb246IDAuMSwKCSAgICBmcmljdGlvblN0YXRpYzogMC41LAoJICAgIGZyaWN0aW9uQWlyOiAwLjAxLAoJICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sCgkgICAgcmVuZGVyZXI6ICdjYW52YXMnLAoJICAgIGNoYW1mZXI6IDAsCgkgICAgaXNSZWNvcmRpbmc6IGZhbHNlCgkgIH07CgoJICBpZiAoU2VyaWFsaXplcikgewoJICAgIGd1aS5zZXJpYWxpemVyID0gU2VyaWFsaXplci5jcmVhdGUoKTsKCSAgfQoKCSAgdmFyIHN0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7CgkgIFRvb2xzQ29tbW9uLmluamVjdFN0eWxlcyhzdHlsZXMsICdtYXR0ZXItZ3VpLXN0eWxlJyk7CgoJICBfaW5pdERhdEd1aShndWkpOwoKCSAgcmV0dXJuIGd1aTsKCX07CgoJLyoqCgkgKiBVcGRhdGVzIHRoZSBHdWkKCSAqIEBmdW5jdGlvbiBHdWkudXBkYXRlCgkgKiBAcGFyYW0ge2d1aX0gZ3VpCgkgKi8KCUd1aS51cGRhdGUgPSBmdW5jdGlvbiAoZ3VpKSB7CgkgIHZhciBpOwoJICB2YXIgZGF0R3VpID0gZ3VpLmRhdEd1aTsKCgkgIGZvciAoaSBpbiBkYXRHdWkuX19mb2xkZXJzKSB7CgkgICAgR3VpLnVwZGF0ZShndWksIGRhdEd1aS5fX2ZvbGRlcnNbaV0pOwoJICB9CgoJICBmb3IgKGkgaW4gZGF0R3VpLl9fY29udHJvbGxlcnMpIHsKCSAgICB2YXIgY29udHJvbGxlciA9IGRhdEd1aS5fX2NvbnRyb2xsZXJzW2ldOwoJICAgIGlmIChjb250cm9sbGVyLnVwZGF0ZURpc3BsYXkpIGNvbnRyb2xsZXIudXBkYXRlRGlzcGxheSgpOwoJICB9Cgl9OwoKCS8qKgoJICogQ2xvc2VzIGFsbCBzZWN0aW9ucyBvZiB0aGUgR3VpCgkgKiBAZnVuY3Rpb24gR3VpLmNsb3NlQWxsCgkgKiBAcGFyYW0ge2d1aX0gZ3VpCgkgKi8KCUd1aS5jbG9zZUFsbCA9IGZ1bmN0aW9uIChndWkpIHsKCSAgdmFyIGRhdEd1aSA9IGd1aS5kYXRHdWk7CgoJICBmb3IgKHZhciBpIGluIGRhdEd1aS5fX2ZvbGRlcnMpIHsKCSAgICBkYXRHdWkuX19mb2xkZXJzW2ldLmNsb3NlKCk7CgkgIH0KCX07CgoJLyoqCgkgKiBEZXN0cm95cyB0aGUgR1VJCgkgKiBAZnVuY3Rpb24gR3VpLmRlc3Ryb3kKCSAqIEBwYXJhbSB7Z3VpfSBndWkKCSAqLwoJR3VpLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZ3VpKSB7CgkgIGd1aS5kYXRHdWkuZGVzdHJveSgpOwoJfTsKCgl2YXIgX2luaXREYXRHdWkgPSBmdW5jdGlvbiBfaW5pdERhdEd1aShndWkpIHsKCSAgdmFyIGVuZ2luZSA9IGd1aS5lbmdpbmUsCgkgICAgICBydW5uZXIgPSBndWkucnVubmVyLAoJICAgICAgZGF0R3VpID0gZ3VpLmRhdEd1aTsKCgkgIHZhciBmdW5jcyA9IHsKCSAgICBhZGRCb2R5OiBmdW5jdGlvbiBhZGRCb2R5KCkgewoJICAgICAgX2FkZEJvZHkoZ3VpKTsKCSAgICB9LAoJICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHsKCSAgICAgIF9jbGVhcihndWkpOwoJICAgIH0sCgkgICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKCSAgICAgIFNlcmlhbGl6ZXIuc2F2ZVN0YXRlKGd1aS5zZXJpYWxpemVyLCBlbmdpbmUsICdndWlTdGF0ZScpO0V2ZW50cy50cmlnZ2VyKGd1aSwgJ3NhdmUnKTsKCSAgICB9LAoJICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoKSB7CgkgICAgICBTZXJpYWxpemVyLmxvYWRTdGF0ZShndWkuc2VyaWFsaXplciwgZW5naW5lLCAnZ3VpU3RhdGUnKTtFdmVudHMudHJpZ2dlcihndWksICdsb2FkJyk7CgkgICAgfQoJICB9OwoKCSAgdmFyIG1ldHJpY3MgPSBkYXRHdWkuYWRkRm9sZGVyKCdNZXRyaWNzJyk7CgoJICBpZiAocnVubmVyKSB7CgkgICAgbWV0cmljcy5hZGQocnVubmVyLCAnZnBzJykubGlzdGVuKCk7CgkgIH0KCgkgIGlmIChlbmdpbmUubWV0cmljcy5leHRlbmRlZCkgewoJICAgIGlmIChydW5uZXIpIHsKCSAgICAgIG1ldHJpY3MuYWRkKHJ1bm5lciwgJ2RlbHRhJykubGlzdGVuKCk7CgkgICAgICBtZXRyaWNzLmFkZChydW5uZXIsICdjb3JyZWN0aW9uJykubGlzdGVuKCk7CgkgICAgfQoKCSAgICBpZiAoZW5naW5lKSB7CgkgICAgICBtZXRyaWNzLmFkZChlbmdpbmUubWV0cmljcywgJ2JvZGllcycpLmxpc3RlbigpOwoJICAgICAgbWV0cmljcy5hZGQoZW5naW5lLm1ldHJpY3MsICdjb2xsaXNpb25zJykubGlzdGVuKCk7CgkgICAgICBtZXRyaWNzLmFkZChlbmdpbmUubWV0cmljcywgJ3BhaXJzJykubGlzdGVuKCk7CgkgICAgICBtZXRyaWNzLmFkZChlbmdpbmUubWV0cmljcywgJ2Jyb2FkRWZmJykubGlzdGVuKCk7CgkgICAgICBtZXRyaWNzLmFkZChlbmdpbmUubWV0cmljcywgJ21pZEVmZicpLmxpc3RlbigpOwoJICAgICAgbWV0cmljcy5hZGQoZW5naW5lLm1ldHJpY3MsICduYXJyb3dFZmYnKS5saXN0ZW4oKTsKCSAgICAgIG1ldHJpY3MuYWRkKGVuZ2luZS5tZXRyaWNzLCAnbmFycm93UmV1c2UnKS5saXN0ZW4oKTsKCSAgICB9CgkgICAgbWV0cmljcy5jbG9zZSgpOwoJICB9IGVsc2UgewoJICAgIG1ldHJpY3Mub3BlbigpOwoJICB9CgoJICBpZiAoZW5naW5lKSB7CgkgICAgdmFyIGNvbnRyb2xzID0gZGF0R3VpLmFkZEZvbGRlcignQWRkIEJvZHknKTsKCSAgICBjb250cm9scy5hZGQoZ3VpLCAnYW1vdW50JywgMSwgNSkuc3RlcCgxKTsKCSAgICBjb250cm9scy5hZGQoZ3VpLCAnc2l6ZScsIDUsIDE1MCkuc3RlcCgxKTsKCSAgICBjb250cm9scy5hZGQoZ3VpLCAnc2lkZXMnLCAxLCA4KS5zdGVwKDEpOwoJICAgIGNvbnRyb2xzLmFkZChndWksICdkZW5zaXR5JywgMC4wMDAxLCAwLjAxKS5zdGVwKDAuMDAxKTsKCSAgICBjb250cm9scy5hZGQoZ3VpLCAnZnJpY3Rpb24nLCAwLCAxKS5zdGVwKDAuMDUpOwoJICAgIGNvbnRyb2xzLmFkZChndWksICdmcmljdGlvblN0YXRpYycsIDAsIDEwKS5zdGVwKDAuMSk7CgkgICAgY29udHJvbHMuYWRkKGd1aSwgJ2ZyaWN0aW9uQWlyJywgMCwgZ3VpLmZyaWN0aW9uQWlyICogMTApLnN0ZXAoZ3VpLmZyaWN0aW9uQWlyIC8gMTApOwoJICAgIGNvbnRyb2xzLmFkZChndWksICdyZXN0aXR1dGlvbicsIDAsIDEpLnN0ZXAoMC4xKTsKCSAgICBjb250cm9scy5hZGQoZ3VpLCAnY2hhbWZlcicsIDAsIDMwKS5zdGVwKDIpOwoJICAgIGNvbnRyb2xzLmFkZChmdW5jcywgJ2FkZEJvZHknKTsKCSAgICBjb250cm9scy5vcGVuKCk7CgoJICAgIHZhciB3b3JsZEd1aSA9IGRhdEd1aS5hZGRGb2xkZXIoJ1dvcmxkJyk7CgoJICAgIGlmIChndWkuc2VyaWFsaXplcikgewoJICAgICAgd29ybGRHdWkuYWRkKGZ1bmNzLCAnbG9hZCcpOwoJICAgICAgd29ybGRHdWkuYWRkKGZ1bmNzLCAnc2F2ZScpOwoJICAgIH0KCgkgICAgd29ybGRHdWkuYWRkKGZ1bmNzLCAnY2xlYXInKTsKCSAgICB3b3JsZEd1aS5vcGVuKCk7CgoJICAgIHZhciBncmF2aXR5ID0gd29ybGRHdWkuYWRkRm9sZGVyKCdHcmF2aXR5Jyk7CgkgICAgZ3Jhdml0eS5hZGQoZW5naW5lLndvcmxkLmdyYXZpdHksICdzY2FsZScsIDAsIDAuMDAxKS5zdGVwKDAuMDAwMSk7CgkgICAgZ3Jhdml0eS5hZGQoZW5naW5lLndvcmxkLmdyYXZpdHksICd4JywgLTEsIDEpLnN0ZXAoMC4wMSk7CgkgICAgZ3Jhdml0eS5hZGQoZW5naW5lLndvcmxkLmdyYXZpdHksICd5JywgLTEsIDEpLnN0ZXAoMC4wMSk7CgkgICAgZ3Jhdml0eS5vcGVuKCk7CgoJICAgIHZhciBwaHlzaWNzID0gZGF0R3VpLmFkZEZvbGRlcignRW5naW5lJyk7CgkgICAgcGh5c2ljcy5hZGQoZW5naW5lLCAnZW5hYmxlU2xlZXBpbmcnKTsKCgkgICAgcGh5c2ljcy5hZGQoZW5naW5lLnRpbWluZywgJ3RpbWVTY2FsZScsIDAsIDEuMikuc3RlcCgwLjA1KS5saXN0ZW4oKTsKCSAgICBwaHlzaWNzLmFkZChlbmdpbmUsICd2ZWxvY2l0eUl0ZXJhdGlvbnMnLCAxLCAxMCkuc3RlcCgxKTsKCSAgICBwaHlzaWNzLmFkZChlbmdpbmUsICdwb3NpdGlvbkl0ZXJhdGlvbnMnLCAxLCAxMCkuc3RlcCgxKTsKCSAgICBwaHlzaWNzLmFkZChlbmdpbmUsICdjb25zdHJhaW50SXRlcmF0aW9ucycsIDEsIDEwKS5zdGVwKDEpOwoKCSAgICBpZiAocnVubmVyKSB7CgkgICAgICBwaHlzaWNzLmFkZChydW5uZXIsICdlbmFibGVkJyk7CgkgICAgfQoKCSAgICBwaHlzaWNzLm9wZW4oKTsKCSAgfQoKCSAgaWYgKGd1aS5yZW5kZXIpIHsKCSAgICB2YXIgcmVuZGVyID0gZGF0R3VpLmFkZEZvbGRlcignUmVuZGVyJyk7CgoJICAgIHJlbmRlci5hZGQoZ3VpLnJlbmRlci5vcHRpb25zLCAnd2lyZWZyYW1lcycpLm9uRmluaXNoQ2hhbmdlKGZ1bmN0aW9uICh2YWx1ZSkgewoJICAgICAgaWYgKCF2YWx1ZSkgewoJICAgICAgICBhbmdsZUluZGljYXRvcldpZGdldC5zZXRWYWx1ZShmYWxzZSk7CgkgICAgICAgIGF4ZXNXaWRnZXQuc2V0VmFsdWUoZmFsc2UpOwoJICAgICAgfQoJICAgIH0pOwoKCSAgICByZW5kZXIuYWRkKGd1aS5yZW5kZXIub3B0aW9ucywgJ3Nob3dEZWJ1ZycpOwoJICAgIHJlbmRlci5hZGQoZ3VpLnJlbmRlci5vcHRpb25zLCAnc2hvd1Bvc2l0aW9ucycpOwoJICAgIHJlbmRlci5hZGQoZ3VpLnJlbmRlci5vcHRpb25zLCAnc2hvd0Jyb2FkcGhhc2UnKTsKCSAgICByZW5kZXIuYWRkKGd1aS5yZW5kZXIub3B0aW9ucywgJ3Nob3dCb3VuZHMnKTsKCSAgICByZW5kZXIuYWRkKGd1aS5yZW5kZXIub3B0aW9ucywgJ3Nob3dWZWxvY2l0eScpOwoJICAgIHJlbmRlci5hZGQoZ3VpLnJlbmRlci5vcHRpb25zLCAnc2hvd0NvbGxpc2lvbnMnKTsKCSAgICByZW5kZXIuYWRkKGd1aS5yZW5kZXIub3B0aW9ucywgJ3Nob3dTZXBhcmF0aW9ucycpOwoJICAgIHZhciBheGVzV2lkZ2V0ID0gcmVuZGVyLmFkZChndWkucmVuZGVyLm9wdGlvbnMsICdzaG93QXhlcycpOwoJICAgIHZhciBhbmdsZUluZGljYXRvcldpZGdldCA9IHJlbmRlci5hZGQoZ3VpLnJlbmRlci5vcHRpb25zLCAnc2hvd0FuZ2xlSW5kaWNhdG9yJyk7CgkgICAgcmVuZGVyLmFkZChndWkucmVuZGVyLm9wdGlvbnMsICdzaG93U2xlZXBpbmcnKTsKCSAgICByZW5kZXIuYWRkKGd1aS5yZW5kZXIub3B0aW9ucywgJ3Nob3dJZHMnKTsKCSAgICByZW5kZXIuYWRkKGd1aS5yZW5kZXIub3B0aW9ucywgJ3Nob3dWZXJ0ZXhOdW1iZXJzJyk7CgkgICAgcmVuZGVyLmFkZChndWkucmVuZGVyLm9wdGlvbnMsICdzaG93Q29udmV4SHVsbHMnKTsKCSAgICByZW5kZXIuYWRkKGd1aS5yZW5kZXIub3B0aW9ucywgJ3Nob3dJbnRlcm5hbEVkZ2VzJyk7CgkgICAgcmVuZGVyLmFkZChndWkucmVuZGVyLm9wdGlvbnMsICdlbmFibGVkJyk7CgkgICAgcmVuZGVyLm9wZW4oKTsKCSAgfQoJfTsKCgl2YXIgX2FkZEJvZHkgPSBmdW5jdGlvbiBfYWRkQm9keShndWkpIHsKCSAgdmFyIGVuZ2luZSA9IGd1aS5lbmdpbmU7CgoJICB2YXIgb3B0aW9ucyA9IHsKCSAgICBkZW5zaXR5OiBndWkuZGVuc2l0eSwKCSAgICBmcmljdGlvbjogZ3VpLmZyaWN0aW9uLAoJICAgIGZyaWN0aW9uU3RhdGljOiBndWkuZnJpY3Rpb25TdGF0aWMsCgkgICAgZnJpY3Rpb25BaXI6IGd1aS5mcmljdGlvbkFpciwKCSAgICByZXN0aXR1dGlvbjogZ3VpLnJlc3RpdHV0aW9uCgkgIH07CgoJICBpZiAoZ3VpLmNoYW1mZXIgJiYgZ3VpLnNpZGVzID4gMikgewoJICAgIG9wdGlvbnMuY2hhbWZlciA9IHsKCSAgICAgIHJhZGl1czogZ3VpLmNoYW1mZXIKCSAgICB9OwoJICB9CgoJICBmb3IgKHZhciBpID0gMDsgaSA8IGd1aS5hbW91bnQ7IGkrKykgewoJICAgIFdvcmxkLmFkZChlbmdpbmUud29ybGQsIEJvZGllcy5wb2x5Z29uKGd1aS5vZmZzZXQueCArIDEyMCArIGkgKiBndWkuc2l6ZSArIGkgKiA1MCwgZ3VpLm9mZnNldC55ICsgMjAwLCBndWkuc2lkZXMsIGd1aS5zaXplLCBvcHRpb25zKSk7CgkgIH0KCX07CgoJdmFyIF9jbGVhciA9IGZ1bmN0aW9uIF9jbGVhcihndWkpIHsKCSAgdmFyIGVuZ2luZSA9IGd1aS5lbmdpbmUsCgkgICAgICBjb25zdHJhaW50cyA9IENvbXBvc2l0ZS5hbGxDb25zdHJhaW50cyhlbmdpbmUud29ybGQpLAoJICAgICAgbW91c2VDb25zdHJhaW50ID0gbnVsbDsKCgkgIC8vIGZpbmQgbW91c2UgY29uc3RyYWludHMKCSAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25zdHJhaW50cy5sZW5ndGg7IGkgKz0gMSkgewoJICAgIHZhciBjb25zdHJhaW50ID0gY29uc3RyYWludHNbaV07CgoJICAgIC8vIFRPRE86IG5lZWQgYSBiZXR0ZXIgd2F5IHRoYW4gdGhpcwoJICAgIGlmIChjb25zdHJhaW50LmxhYmVsID09PSAnTW91c2UgQ29uc3RyYWludCcpIHsKCSAgICAgIG1vdXNlQ29uc3RyYWludCA9IGNvbnN0cmFpbnQ7CgkgICAgICBicmVhazsKCSAgICB9CgkgIH0KCgkgIFdvcmxkLmNsZWFyKGVuZ2luZS53b3JsZCwgdHJ1ZSk7CgkgIEVuZ2luZS5jbGVhcihlbmdpbmUpOwoKCSAgLy8gYWRkIG1vdXNlIGNvbnN0cmFpbnQgYmFjayBpbgoJICBpZiAobW91c2VDb25zdHJhaW50KSB7CgkgICAgQ29tcG9zaXRlLmFkZChlbmdpbmUud29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgkgIH0KCgkgIC8vIGNsZWFyIHNjZW5lIGdyYXBoIChpZiBkZWZpbmVkIGluIGNvbnRyb2xsZXIpCgkgIGlmIChndWkucmVuZGVyKSB7CgkgICAgdmFyIHJlbmRlckNvbnRyb2xsZXIgPSBndWkucmVuZGVyLmNvbnRyb2xsZXI7CgkgICAgaWYgKHJlbmRlckNvbnRyb2xsZXIuY2xlYXIpIHJlbmRlckNvbnRyb2xsZXIuY2xlYXIoZ3VpLnJlbmRlcik7CgkgIH0KCgkgIEV2ZW50cy50cmlnZ2VyKGd1aSwgJ2NsZWFyJyk7Cgl9OwoKCS8qCgkqCgkqICBFdmVudHMgRG9jdW1lbnRhdGlvbgoJKgoJKi8KCgkvKioKCSogRmlyZWQgYWZ0ZXIgdGhlIGd1aSdzIGNsZWFyIGJ1dHRvbiBwcmVzc2VkCgkqCgkqIEBldmVudCBjbGVhcgoJKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0CgkqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50CgkqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudAoJKi8KCgkvKioKCSogRmlyZWQgYWZ0ZXIgdGhlIGd1aSdzIHNhdmUgYnV0dG9uIHByZXNzZWQKCSoKCSogQGV2ZW50IHNhdmUKCSogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdAoJKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAoJKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKCSovCgoJLyoqCgkqIEZpcmVkIGFmdGVyIHRoZSBndWkncyBsb2FkIGJ1dHRvbiBwcmVzc2VkCgkqCgkqIEBldmVudCBsb2FkCgkqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3QKCSogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnQKCSogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50CgkqLwoKCS8qKiogRVhQT1JUUyBGUk9NIGV4cG9ydHMtbG9hZGVyICoqKi8KCi8qKiovIH0sCi8qIDEgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJbW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXzsKCi8qKiovIH0sCi8qIDIgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJbW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzJfXzsKCi8qKiovIH0sCi8qIDMgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJInVzZSBzdHJpY3QiOwoKCS8qKgoJKiBAY2xhc3MgQ29tbW9uCgkqLwoKCXZhciBDb21tb24gPSBtb2R1bGUuZXhwb3J0cyA9IHt9OwoKCUNvbW1vbi5pbmplY3RTdHlsZXMgPSBmdW5jdGlvbiAoc3R5bGVzLCBpZCkgewoJICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKSB7CgkgICAgcmV0dXJuOwoJICB9CgoJICB2YXIgcm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJICByb290LmlubmVySFRNTCA9ICc8c3R5bGUgaWQ9IicgKyBpZCArICciIHR5cGU9InRleHQvY3NzIj4nICsgc3R5bGVzICsgJzwvc3R5bGU+JzsKCgkgIHZhciBsYXN0U3R5bGUgPSBkb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlOmxhc3Qtb2YtdHlwZScpOwoJICBDb21tb24uZG9tSW5zZXJ0QmVmb3JlKHJvb3QuZmlyc3RFbGVtZW50Q2hpbGQsIGxhc3RTdHlsZSk7Cgl9OwoKCUNvbW1vbi5pbmplY3RTY3JpcHQgPSBmdW5jdGlvbiAodXJsLCBpZCwgY2FsbGJhY2spIHsKCSAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSkgewoJICAgIHJldHVybjsKCSAgfQoKCSAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwoJICBzY3JpcHQuaWQgPSBpZDsKCSAgc2NyaXB0LnNyYyA9IHVybDsKCSAgc2NyaXB0Lm9ubG9hZCA9IGNhbGxiYWNrOwoKCSAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpOwoJfTsKCglDb21tb24uZG9tUmVtb3ZlID0gZnVuY3Rpb24gKGVsZW1lbnQpIHsKCSAgcmV0dXJuIGVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50KTsKCX07CgoJQ29tbW9uLmRvbUluc2VydEJlZm9yZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBiZWZvcmUpIHsKCSAgcmV0dXJuIGJlZm9yZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlbGVtZW50LCBiZWZvcmUucHJldmlvdXNFbGVtZW50U2libGluZyk7Cgl9OwoKCS8qKiogRVhQT1JUUyBGUk9NIGV4cG9ydHMtbG9hZGVyICoqKi8KCi8qKiovIH0sCi8qIDQgKi8sCi8qIDUgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJIWZ1bmN0aW9uKGUsdCl7IHRydWU/bW9kdWxlLmV4cG9ydHM9dCgpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKHQpOiJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLmRhdD10KCk6ZS5kYXQ9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobyl7aWYobltvXSlyZXR1cm4gbltvXS5leHBvcnRzO3ZhciBpPW5bb109e2V4cG9ydHM6e30saWQ6byxsb2FkZWQ6ITF9O3JldHVybiBlW29dLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLHQpLGkubG9hZGVkPSEwLGkuZXhwb3J0c312YXIgbj17fTtyZXR1cm4gdC5tPWUsdC5jPW4sdC5wPSIiLHQoMCl9KFtmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1uKDEpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz17Y29sb3I6e0NvbG9yOm4oMiksbWF0aDpuKDYpLGludGVycHJldDpuKDMpfSxjb250cm9sbGVyczp7Q29udHJvbGxlcjpuKDcpLEJvb2xlYW5Db250cm9sbGVyOm4oOCksT3B0aW9uQ29udHJvbGxlcjpuKDEwKSxTdHJpbmdDb250cm9sbGVyOm4oMTEpLE51bWJlckNvbnRyb2xsZXI6bigxMiksTnVtYmVyQ29udHJvbGxlckJveDpuKDEzKSxOdW1iZXJDb250cm9sbGVyU2xpZGVyOm4oMTQpLEZ1bmN0aW9uQ29udHJvbGxlcjpuKDIwKSxDb2xvckNvbnRyb2xsZXI6bigyMSl9LGRvbTp7ZG9tOm4oOSl9LGd1aTp7R1VJOm4oMjIpfSxHVUk6bigyMil9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIHIoZSx0LG4pe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2dldDpmdW5jdGlvbigpe3JldHVybiJSR0IiPT09dGhpcy5fX3N0YXRlLnNwYWNlP3RoaXMuX19zdGF0ZVt0XTooXy5yZWNhbGN1bGF0ZVJHQih0aGlzLHQsbiksdGhpcy5fX3N0YXRlW3RdKX0sc2V0OmZ1bmN0aW9uKGUpeyJSR0IiIT09dGhpcy5fX3N0YXRlLnNwYWNlJiYoXy5yZWNhbGN1bGF0ZVJHQih0aGlzLHQsbiksdGhpcy5fX3N0YXRlLnNwYWNlPSJSR0IiKSx0aGlzLl9fc3RhdGVbdF09ZX19KX1mdW5jdGlvbiBhKGUsdCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIkhTViI9PT10aGlzLl9fc3RhdGUuc3BhY2U/dGhpcy5fX3N0YXRlW3RdOihfLnJlY2FsY3VsYXRlSFNWKHRoaXMpLHRoaXMuX19zdGF0ZVt0XSl9LHNldDpmdW5jdGlvbihlKXsiSFNWIiE9PXRoaXMuX19zdGF0ZS5zcGFjZSYmKF8ucmVjYWxjdWxhdGVIU1YodGhpcyksdGhpcy5fX3N0YXRlLnNwYWNlPSJIU1YiKSx0aGlzLl9fc3RhdGVbdF09ZX19KX10Ll9fZXNNb2R1bGU9ITA7dmFyIHM9bigzKSxsPW8ocyksdT1uKDYpLGQ9byh1KSxjPW4oNCksZj1vKGMpLGg9big1KSxwPW8oaCksXz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihpKHRoaXMsZSksdGhpcy5fX3N0YXRlPWxbImRlZmF1bHQiXS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fX3N0YXRlPT09ITEpdGhyb3ciRmFpbGVkIHRvIGludGVycHJldCBjb2xvciBhcmd1bWVudHMiO3RoaXMuX19zdGF0ZS5hPXRoaXMuX19zdGF0ZS5hfHwxfXJldHVybiBlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBmWyJkZWZhdWx0Il0odGhpcyl9LGUucHJvdG90eXBlLnRvT3JpZ2luYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX3N0YXRlLmNvbnZlcnNpb24ud3JpdGUodGhpcyl9LGV9KCk7Xy5yZWNhbGN1bGF0ZVJHQj1mdW5jdGlvbihlLHQsbil7aWYoIkhFWCI9PT1lLl9fc3RhdGUuc3BhY2UpZS5fX3N0YXRlW3RdPWRbImRlZmF1bHQiXS5jb21wb25lbnRfZnJvbV9oZXgoZS5fX3N0YXRlLmhleCxuKTtlbHNle2lmKCJIU1YiIT09ZS5fX3N0YXRlLnNwYWNlKXRocm93IkNvcnJ1cHRlZCBjb2xvciBzdGF0ZSI7cFsiZGVmYXVsdCJdLmV4dGVuZChlLl9fc3RhdGUsZFsiZGVmYXVsdCJdLmhzdl90b19yZ2IoZS5fX3N0YXRlLmgsZS5fX3N0YXRlLnMsZS5fX3N0YXRlLnYpKX19LF8ucmVjYWxjdWxhdGVIU1Y9ZnVuY3Rpb24oZSl7dmFyIHQ9ZFsiZGVmYXVsdCJdLnJnYl90b19oc3YoZS5yLGUuZyxlLmIpO3BbImRlZmF1bHQiXS5leHRlbmQoZS5fX3N0YXRlLHtzOnQucyx2OnQudn0pLHBbImRlZmF1bHQiXS5pc05hTih0LmgpP3BbImRlZmF1bHQiXS5pc1VuZGVmaW5lZChlLl9fc3RhdGUuaCkmJihlLl9fc3RhdGUuaD0wKTplLl9fc3RhdGUuaD10Lmh9LF8uQ09NUE9ORU5UUz1bInIiLCJnIiwiYiIsImgiLCJzIiwidiIsImhleCIsImEiXSxyKF8ucHJvdG90eXBlLCJyIiwyKSxyKF8ucHJvdG90eXBlLCJnIiwxKSxyKF8ucHJvdG90eXBlLCJiIiwwKSxhKF8ucHJvdG90eXBlLCJoIiksYShfLnByb3RvdHlwZSwicyIpLGEoXy5wcm90b3R5cGUsInYiKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoXy5wcm90b3R5cGUsImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX3N0YXRlLmF9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9fc3RhdGUuYT1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfLnByb3RvdHlwZSwiaGV4Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIkhFWCIhPT0hdGhpcy5fX3N0YXRlLnNwYWNlJiYodGhpcy5fX3N0YXRlLmhleD1kWyJkZWZhdWx0Il0ucmdiX3RvX2hleCh0aGlzLnIsdGhpcy5nLHRoaXMuYikpLHRoaXMuX19zdGF0ZS5oZXh9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9fc3RhdGUuc3BhY2U9IkhFWCIsdGhpcy5fX3N0YXRlLmhleD1lfX0pLHRbImRlZmF1bHQiXT1fLGUuZXhwb3J0cz10WyJkZWZhdWx0Il19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIGk9big0KSxyPW8oaSksYT1uKDUpLHM9byhhKSxsPVt7bGl0bXVzOnNbImRlZmF1bHQiXS5pc1N0cmluZyxjb252ZXJzaW9uczp7VEhSRUVfQ0hBUl9IRVg6e3JlYWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXRjaCgvXiMoW0EtRjAtOV0pKFtBLUYwLTldKShbQS1GMC05XSkkL2kpO3JldHVybiBudWxsPT09dD8hMTp7c3BhY2U6IkhFWCIsaGV4OnBhcnNlSW50KCIweCIrdFsxXS50b1N0cmluZygpK3RbMV0udG9TdHJpbmcoKSt0WzJdLnRvU3RyaW5nKCkrdFsyXS50b1N0cmluZygpK3RbM10udG9TdHJpbmcoKSt0WzNdLnRvU3RyaW5nKCksMCl9fSx3cml0ZTpyWyJkZWZhdWx0Il19LFNJWF9DSEFSX0hFWDp7cmVhZDpmdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKC9eIyhbQS1GMC05XXs2fSkkL2kpO3JldHVybiBudWxsPT09dD8hMTp7c3BhY2U6IkhFWCIsaGV4OnBhcnNlSW50KCIweCIrdFsxXS50b1N0cmluZygpLDApfX0sd3JpdGU6clsiZGVmYXVsdCJdfSxDU1NfUkdCOntyZWFkOmZ1bmN0aW9uKGUpe3ZhciB0PWUubWF0Y2goL15yZ2JcKFxzKiguKylccyosXHMqKC4rKVxzKixccyooLispXHMqXCkvKTtyZXR1cm4gbnVsbD09PXQ/ITE6e3NwYWNlOiJSR0IiLHI6cGFyc2VGbG9hdCh0WzFdKSxnOnBhcnNlRmxvYXQodFsyXSksYjpwYXJzZUZsb2F0KHRbM10pfX0sd3JpdGU6clsiZGVmYXVsdCJdfSxDU1NfUkdCQTp7cmVhZDpmdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKC9ecmdiYVwoXHMqKC4rKVxzKixccyooLispXHMqLFxzKiguKylccypcLFxzKiguKylccypcKS8pO3JldHVybiBudWxsPT09dD8hMTp7c3BhY2U6IlJHQiIscjpwYXJzZUZsb2F0KHRbMV0pLGc6cGFyc2VGbG9hdCh0WzJdKSxiOnBhcnNlRmxvYXQodFszXSksYTpwYXJzZUZsb2F0KHRbNF0pfX0sd3JpdGU6clsiZGVmYXVsdCJdfX19LHtsaXRtdXM6c1siZGVmYXVsdCJdLmlzTnVtYmVyLGNvbnZlcnNpb25zOntIRVg6e3JlYWQ6ZnVuY3Rpb24oZSl7cmV0dXJue3NwYWNlOiJIRVgiLGhleDplLGNvbnZlcnNpb25OYW1lOiJIRVgifX0sd3JpdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaGV4fX19fSx7bGl0bXVzOnNbImRlZmF1bHQiXS5pc0FycmF5LGNvbnZlcnNpb25zOntSR0JfQVJSQVk6e3JlYWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIDMhPT1lLmxlbmd0aD8hMTp7c3BhY2U6IlJHQiIscjplWzBdLGc6ZVsxXSxiOmVbMl19fSx3cml0ZTpmdW5jdGlvbihlKXtyZXR1cm5bZS5yLGUuZyxlLmJdfX0sUkdCQV9BUlJBWTp7cmVhZDpmdW5jdGlvbihlKXtyZXR1cm4gNCE9PWUubGVuZ3RoPyExOntzcGFjZToiUkdCIixyOmVbMF0sZzplWzFdLGI6ZVsyXSxhOmVbM119fSx3cml0ZTpmdW5jdGlvbihlKXtyZXR1cm5bZS5yLGUuZyxlLmIsZS5hXX19fX0se2xpdG11czpzWyJkZWZhdWx0Il0uaXNPYmplY3QsY29udmVyc2lvbnM6e1JHQkFfT0JKOntyZWFkOmZ1bmN0aW9uKGUpe3JldHVybiBzWyJkZWZhdWx0Il0uaXNOdW1iZXIoZS5yKSYmc1siZGVmYXVsdCJdLmlzTnVtYmVyKGUuZykmJnNbImRlZmF1bHQiXS5pc051bWJlcihlLmIpJiZzWyJkZWZhdWx0Il0uaXNOdW1iZXIoZS5hKT97c3BhY2U6IlJHQiIscjplLnIsZzplLmcsYjplLmIsYTplLmF9OiExfSx3cml0ZTpmdW5jdGlvbihlKXtyZXR1cm57cjplLnIsZzplLmcsYjplLmIsYTplLmF9fX0sUkdCX09CSjp7cmVhZDpmdW5jdGlvbihlKXtyZXR1cm4gc1siZGVmYXVsdCJdLmlzTnVtYmVyKGUucikmJnNbImRlZmF1bHQiXS5pc051bWJlcihlLmcpJiZzWyJkZWZhdWx0Il0uaXNOdW1iZXIoZS5iKT97c3BhY2U6IlJHQiIscjplLnIsZzplLmcsYjplLmJ9OiExfSx3cml0ZTpmdW5jdGlvbihlKXtyZXR1cm57cjplLnIsZzplLmcsYjplLmJ9fX0sSFNWQV9PQko6e3JlYWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHNbImRlZmF1bHQiXS5pc051bWJlcihlLmgpJiZzWyJkZWZhdWx0Il0uaXNOdW1iZXIoZS5zKSYmc1siZGVmYXVsdCJdLmlzTnVtYmVyKGUudikmJnNbImRlZmF1bHQiXS5pc051bWJlcihlLmEpP3tzcGFjZToiSFNWIixoOmUuaCxzOmUucyx2OmUudixhOmUuYX06ITF9LHdyaXRlOmZ1bmN0aW9uKGUpe3JldHVybntoOmUuaCxzOmUucyx2OmUudixhOmUuYX19fSxIU1ZfT0JKOntyZWFkOmZ1bmN0aW9uKGUpe3JldHVybiBzWyJkZWZhdWx0Il0uaXNOdW1iZXIoZS5oKSYmc1siZGVmYXVsdCJdLmlzTnVtYmVyKGUucykmJnNbImRlZmF1bHQiXS5pc051bWJlcihlLnYpP3tzcGFjZToiSFNWIixoOmUuaCxzOmUucyx2OmUudn06ITF9LHdyaXRlOmZ1bmN0aW9uKGUpe3JldHVybntoOmUuaCxzOmUucyx2OmUudn19fX19XSx1PXZvaWQgMCxkPXZvaWQgMCxjPWZ1bmN0aW9uKCl7ZD0hMTt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjE/c1siZGVmYXVsdCJdLnRvQXJyYXkoYXJndW1lbnRzKTphcmd1bWVudHNbMF07cmV0dXJuIHNbImRlZmF1bHQiXS5lYWNoKGwsZnVuY3Rpb24odCl7cmV0dXJuIHQubGl0bXVzKGUpPyhzWyJkZWZhdWx0Il0uZWFjaCh0LmNvbnZlcnNpb25zLGZ1bmN0aW9uKHQsbil7cmV0dXJuIHU9dC5yZWFkKGUpLGQ9PT0hMSYmdSE9PSExPyhkPXUsdS5jb252ZXJzaW9uTmFtZT1uLHUuY29udmVyc2lvbj10LHNbImRlZmF1bHQiXS5CUkVBSyk6dm9pZCAwfSksc1siZGVmYXVsdCJdLkJSRUFLKTp2b2lkIDB9KSxkfTt0WyJkZWZhdWx0Il09YyxlLmV4cG9ydHM9dFsiZGVmYXVsdCJdfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBpPW4oNSkscj1vKGkpO3RbImRlZmF1bHQiXT1mdW5jdGlvbihlKXtpZigxPT09ZS5hfHxyWyJkZWZhdWx0Il0uaXNVbmRlZmluZWQoZS5hKSl7Zm9yKHZhciB0PWUuaGV4LnRvU3RyaW5nKDE2KTt0Lmxlbmd0aDw2Oyl0PSIwIit0O3JldHVybiIjIit0fXJldHVybiJyZ2JhKCIrTWF0aC5yb3VuZChlLnIpKyIsIitNYXRoLnJvdW5kKGUuZykrIiwiK01hdGgucm91bmQoZS5iKSsiLCIrZS5hKyIpIn0sZS5leHBvcnRzPXRbImRlZmF1bHQiXX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLG89QXJyYXkucHJvdG90eXBlLnNsaWNlLGk9e0JSRUFLOnt9LGV4dGVuZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKG8uY2FsbChhcmd1bWVudHMsMSksZnVuY3Rpb24odCl7Zm9yKHZhciBuIGluIHQpdGhpcy5pc1VuZGVmaW5lZCh0W25dKXx8KGVbbl09dFtuXSl9LHRoaXMpLGV9LGRlZmF1bHRzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goby5jYWxsKGFyZ3VtZW50cywxKSxmdW5jdGlvbih0KXtmb3IodmFyIG4gaW4gdCl0aGlzLmlzVW5kZWZpbmVkKGVbbl0pJiYoZVtuXT10W25dKX0sdGhpcyksZX0sY29tcG9zZTpmdW5jdGlvbigpe3ZhciBlPW8uY2FsbChhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgdD1vLmNhbGwoYXJndW1lbnRzKSxuPWUubGVuZ3RoLTE7bj49MDtuLS0pdD1bZVtuXS5hcHBseSh0aGlzLHQpXTtyZXR1cm4gdFswXX19LGVhY2g6ZnVuY3Rpb24oZSx0LG8pe2lmKGUpaWYobiYmZS5mb3JFYWNoJiZlLmZvckVhY2g9PT1uKWUuZm9yRWFjaCh0LG8pO2Vsc2UgaWYoZS5sZW5ndGg9PT1lLmxlbmd0aCswKXt2YXIgaT12b2lkIDAscj12b2lkIDA7Zm9yKGk9MCxyPWUubGVuZ3RoO3I+aTtpKyspaWYoaSBpbiBlJiZ0LmNhbGwobyxlW2ldLGkpPT09dGhpcy5CUkVBSylyZXR1cm59ZWxzZSBmb3IodmFyIGkgaW4gZSlpZih0LmNhbGwobyxlW2ldLGkpPT09dGhpcy5CUkVBSylyZXR1cm59LGRlZmVyOmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZSwwKX0sdG9BcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gZS50b0FycmF5P2UudG9BcnJheSgpOm8uY2FsbChlKX0saXNVbmRlZmluZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWV9LGlzTnVsbDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWV9LGlzTmFOOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiB0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGUudG9TdHJpbmcoKX0sdH0oZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGUpfSksaXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj09PUFycmF5fSxpc09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PU9iamVjdChlKX0saXNOdW1iZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1lKzB9LGlzU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09ZSsiIn0saXNCb29sZWFuOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09ITF8fGU9PT0hMH0saXNGdW5jdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBGdW5jdGlvbl0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfX07dFsiZGVmYXVsdCJdPWksZS5leHBvcnRzPXRbImRlZmF1bHQiXX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuLG89e2hzdl90b19yZ2I6ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPU1hdGguZmxvb3IoZS82MCklNixpPWUvNjAtTWF0aC5mbG9vcihlLzYwKSxyPW4qKDEtdCksYT1uKigxLWkqdCkscz1uKigxLSgxLWkpKnQpLGw9W1tuLHMscl0sW2EsbixyXSxbcixuLHNdLFtyLGEsbl0sW3MscixuXSxbbixyLGFdXVtvXTtyZXR1cm57cjoyNTUqbFswXSxnOjI1NSpsWzFdLGI6MjU1KmxbMl19fSxyZ2JfdG9faHN2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgbyxpLHI9TWF0aC5taW4oZSx0LG4pLGE9TWF0aC5tYXgoZSx0LG4pLHM9YS1yO3JldHVybiAwPT1hP3toOk5hTixzOjAsdjowfTooaT1zL2Esbz1lPT1hPyh0LW4pL3M6dD09YT8yKyhuLWUpL3M6NCsoZS10KS9zLG8vPTYsMD5vJiYobys9MSkse2g6MzYwKm8sczppLHY6YS8yNTV9KX0scmdiX3RvX2hleDpmdW5jdGlvbihlLHQsbil7dmFyIG89dGhpcy5oZXhfd2l0aF9jb21wb25lbnQoMCwyLGUpO3JldHVybiBvPXRoaXMuaGV4X3dpdGhfY29tcG9uZW50KG8sMSx0KSxvPXRoaXMuaGV4X3dpdGhfY29tcG9uZW50KG8sMCxuKX0sY29tcG9uZW50X2Zyb21faGV4OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+PjgqdCYyNTV9LGhleF93aXRoX2NvbXBvbmVudDpmdW5jdGlvbihlLHQsbyl7cmV0dXJuIG88PChuPTgqdCl8ZSZ+KDI1NTw8bil9fTt0WyJkZWZhdWx0Il09byxlLmV4cG9ydHM9dFsiZGVmYXVsdCJdfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfXQuX19lc01vZHVsZT0hMDt2YXIgcj1uKDUpLGE9KG8ociksZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbil7aSh0aGlzLGUpLHRoaXMuaW5pdGlhbFZhbHVlPXRbbl0sdGhpcy5kb21FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMub2JqZWN0PXQsdGhpcy5wcm9wZXJ0eT1uLHRoaXMuX19vbkNoYW5nZT12b2lkIDAsdGhpcy5fX29uRmluaXNoQ2hhbmdlPXZvaWQgMH1yZXR1cm4gZS5wcm90b3R5cGUub25DaGFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX19vbkNoYW5nZT1lLHRoaXN9LGUucHJvdG90eXBlLm9uRmluaXNoQ2hhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fb25GaW5pc2hDaGFuZ2U9ZSx0aGlzfSxlLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vYmplY3RbdGhpcy5wcm9wZXJ0eV09ZSx0aGlzLl9fb25DaGFuZ2UmJnRoaXMuX19vbkNoYW5nZS5jYWxsKHRoaXMsZSksdGhpcy51cGRhdGVEaXNwbGF5KCksdGhpc30sZS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYmplY3RbdGhpcy5wcm9wZXJ0eV19LGUucHJvdG90eXBlLnVwZGF0ZURpc3BsYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuaXNNb2RpZmllZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluaXRpYWxWYWx1ZSE9PXRoaXMuZ2V0VmFsdWUoKX0sZX0oKSk7dFsiZGVmYXVsdCJdPWEsZS5leHBvcnRzPXRbImRlZmF1bHQiXX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiByKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX10Ll9fZXNNb2R1bGU9ITA7dmFyIGE9big3KSxzPW8oYSksbD1uKDkpLHU9byhsKSxkPW4oNSksYz0obyhkKSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KG4sbyl7ZnVuY3Rpb24gcigpe2Euc2V0VmFsdWUoIWEuX19wcmV2KX1pKHRoaXMsdCksZS5jYWxsKHRoaXMsbixvKTt2YXIgYT10aGlzO3RoaXMuX19wcmV2PXRoaXMuZ2V0VmFsdWUoKSx0aGlzLl9fY2hlY2tib3g9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSx0aGlzLl9fY2hlY2tib3guc2V0QXR0cmlidXRlKCJ0eXBlIiwiY2hlY2tib3giKSx1WyJkZWZhdWx0Il0uYmluZCh0aGlzLl9fY2hlY2tib3gsImNoYW5nZSIsciwhMSksdGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19jaGVja2JveCksdGhpcy51cGRhdGVEaXNwbGF5KCl9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0KXt2YXIgbj1lLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsdCk7cmV0dXJuIHRoaXMuX19vbkZpbmlzaENoYW5nZSYmdGhpcy5fX29uRmluaXNoQ2hhbmdlLmNhbGwodGhpcyx0aGlzLmdldFZhbHVlKCkpLHRoaXMuX19wcmV2PXRoaXMuZ2V0VmFsdWUoKSxufSx0LnByb3RvdHlwZS51cGRhdGVEaXNwbGF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VmFsdWUoKT09PSEwPyh0aGlzLl9fY2hlY2tib3guc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLHRoaXMuX19jaGVja2JveC5jaGVja2VkPSEwKTp0aGlzLl9fY2hlY2tib3guY2hlY2tlZD0hMSxlLnByb3RvdHlwZS51cGRhdGVEaXNwbGF5LmNhbGwodGhpcyl9LHR9KHNbImRlZmF1bHQiXSkpO3RbImRlZmF1bHQiXT1jLGUuZXhwb3J0cz10WyJkZWZhdWx0Il19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBpKGUpe2lmKCIwIj09PWV8fGFbImRlZmF1bHQiXS5pc1VuZGVmaW5lZChlKSlyZXR1cm4gMDt2YXIgdD1lLm1hdGNoKHUpO3JldHVybiBhWyJkZWZhdWx0Il0uaXNOdWxsKHQpPzA6cGFyc2VGbG9hdCh0WzFdKX10Ll9fZXNNb2R1bGU9ITA7dmFyIHI9big1KSxhPW8ocikscz17SFRNTEV2ZW50czpbImNoYW5nZSJdLE1vdXNlRXZlbnRzOlsiY2xpY2siLCJtb3VzZW1vdmUiLCJtb3VzZWRvd24iLCJtb3VzZXVwIiwibW91c2VvdmVyIl0sS2V5Ym9hcmRFdmVudHM6WyJrZXlkb3duIl19LGw9e307YVsiZGVmYXVsdCJdLmVhY2gocyxmdW5jdGlvbihlLHQpe2FbImRlZmF1bHQiXS5lYWNoKGUsZnVuY3Rpb24oZSl7bFtlXT10fSl9KTt2YXIgdT0vKFxkKyhcLlxkKyk/KXB4LyxkPXttYWtlU2VsZWN0YWJsZTpmdW5jdGlvbihlLHQpe3ZvaWQgMCE9PWUmJnZvaWQgMCE9PWUuc3R5bGUmJihlLm9uc2VsZWN0c3RhcnQ9dD9mdW5jdGlvbigpe3JldHVybiExfTpmdW5jdGlvbigpe30sZS5zdHlsZS5Nb3pVc2VyU2VsZWN0PXQ/ImF1dG8iOiJub25lIixlLnN0eWxlLktodG1sVXNlclNlbGVjdD10PyJhdXRvIjoibm9uZSIsZS51bnNlbGVjdGFibGU9dD8ib24iOiJvZmYiKX0sbWFrZUZ1bGxzY3JlZW46ZnVuY3Rpb24oZSx0LG4pe2FbImRlZmF1bHQiXS5pc1VuZGVmaW5lZCh0KSYmKHQ9ITApLGFbImRlZmF1bHQiXS5pc1VuZGVmaW5lZChuKSYmKG49ITApLGUuc3R5bGUucG9zaXRpb249ImFic29sdXRlIix0JiYoZS5zdHlsZS5sZWZ0PTAsZS5zdHlsZS5yaWdodD0wKSxuJiYoZS5zdHlsZS50b3A9MCxlLnN0eWxlLmJvdHRvbT0wKX0sZmFrZUV2ZW50OmZ1bmN0aW9uKGUsdCxuLG8pe249bnx8e307dmFyIGk9bFt0XTtpZighaSl0aHJvdyBuZXcgRXJyb3IoIkV2ZW50IHR5cGUgIit0KyIgbm90IHN1cHBvcnRlZC4iKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFdmVudChpKTtzd2l0Y2goaSl7Y2FzZSJNb3VzZUV2ZW50cyI6dmFyIHM9bi54fHxuLmNsaWVudFh8fDAsdT1uLnl8fG4uY2xpZW50WXx8MDtyLmluaXRNb3VzZUV2ZW50KHQsbi5idWJibGVzfHwhMSxuLmNhbmNlbGFibGV8fCEwLHdpbmRvdyxuLmNsaWNrQ291bnR8fDEsMCwwLHMsdSwhMSwhMSwhMSwhMSwwLG51bGwpO2JyZWFrO2Nhc2UiS2V5Ym9hcmRFdmVudHMiOnZhciBkPXIuaW5pdEtleWJvYXJkRXZlbnR8fHIuaW5pdEtleUV2ZW50O2FbImRlZmF1bHQiXS5kZWZhdWx0cyhuLHtjYW5jZWxhYmxlOiEwLGN0cmxLZXk6ITEsYWx0S2V5OiExLHNoaWZ0S2V5OiExLG1ldGFLZXk6ITEsa2V5Q29kZTp2b2lkIDAsY2hhckNvZGU6dm9pZCAwfSksZCh0LG4uYnViYmxlc3x8ITEsbi5jYW5jZWxhYmxlLHdpbmRvdyxuLmN0cmxLZXksbi5hbHRLZXksbi5zaGlmdEtleSxuLm1ldGFLZXksbi5rZXlDb2RlLG4uY2hhckNvZGUpO2JyZWFrO2RlZmF1bHQ6ci5pbml0RXZlbnQodCxuLmJ1YmJsZXN8fCExLG4uY2FuY2VsYWJsZXx8ITApfWFbImRlZmF1bHQiXS5kZWZhdWx0cyhyLG8pLGUuZGlzcGF0Y2hFdmVudChyKX0sYmluZDpmdW5jdGlvbihlLHQsbixvKXtyZXR1cm4gbz1vfHwhMSxlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKHQsbixvKTplLmF0dGFjaEV2ZW50JiZlLmF0dGFjaEV2ZW50KCJvbiIrdCxuKSxkfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0LG4sbyl7cmV0dXJuIG89b3x8ITEsZS5yZW1vdmVFdmVudExpc3RlbmVyP2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4sbyk6ZS5kZXRhY2hFdmVudCYmZS5kZXRhY2hFdmVudCgib24iK3QsbiksZH0sYWRkQ2xhc3M6ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lLmNsYXNzTmFtZSllLmNsYXNzTmFtZT10O2Vsc2UgaWYoZS5jbGFzc05hbWUhPT10KXt2YXIgbj1lLmNsYXNzTmFtZS5zcGxpdCgvICsvKTstMT09bi5pbmRleE9mKHQpJiYobi5wdXNoKHQpLGUuY2xhc3NOYW1lPW4uam9pbigiICIpLnJlcGxhY2UoL15ccysvLCIiKS5yZXBsYWNlKC9ccyskLywiIikpfXJldHVybiBkfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlLHQpe2lmKHQpaWYodm9pZCAwPT09ZS5jbGFzc05hbWUpO2Vsc2UgaWYoZS5jbGFzc05hbWU9PT10KWUucmVtb3ZlQXR0cmlidXRlKCJjbGFzcyIpO2Vsc2V7dmFyIG49ZS5jbGFzc05hbWUuc3BsaXQoLyArLyksbz1uLmluZGV4T2YodCk7LTEhPW8mJihuLnNwbGljZShvLDEpLGUuY2xhc3NOYW1lPW4uam9pbigiICIpKX1lbHNlIGUuY2xhc3NOYW1lPXZvaWQgMDtyZXR1cm4gZH0saGFzQ2xhc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFJlZ0V4cCgiKD86XnxcXHMrKSIrdCsiKD86XFxzK3wkKSIpLnRlc3QoZS5jbGFzc05hbWUpfHwhMX0sZ2V0V2lkdGg6ZnVuY3Rpb24oZSl7dmFyIHQ9Z2V0Q29tcHV0ZWRTdHlsZShlKTtyZXR1cm4gaSh0WyJib3JkZXItbGVmdC13aWR0aCJdKStpKHRbImJvcmRlci1yaWdodC13aWR0aCJdKStpKHRbInBhZGRpbmctbGVmdCJdKStpKHRbInBhZGRpbmctcmlnaHQiXSkraSh0LndpZHRoKX0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKGUpe3ZhciB0PWdldENvbXB1dGVkU3R5bGUoZSk7cmV0dXJuIGkodFsiYm9yZGVyLXRvcC13aWR0aCJdKStpKHRbImJvcmRlci1ib3R0b20td2lkdGgiXSkraSh0WyJwYWRkaW5nLXRvcCJdKStpKHRbInBhZGRpbmctYm90dG9tIl0pK2kodC5oZWlnaHQpfSxnZXRPZmZzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9e2xlZnQ6MCx0b3A6MH07aWYoZS5vZmZzZXRQYXJlbnQpZG8gdC5sZWZ0Kz1lLm9mZnNldExlZnQsdC50b3ArPWUub2Zmc2V0VG9wO3doaWxlKGU9ZS5vZmZzZXRQYXJlbnQpO3JldHVybiB0fSxpc0FjdGl2ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT09PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQmJihlLnR5cGV8fGUuaHJlZil9fTt0WyJkZWZhdWx0Il09ZCxlLmV4cG9ydHM9dFsiZGVmYXVsdCJdfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIHIoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfXQuX19lc01vZHVsZT0hMDt2YXIgYT1uKDcpLHM9byhhKSxsPW4oOSksdT1vKGwpLGQ9big1KSxjPW8oZCksZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KG4sbyxyKXtpKHRoaXMsdCksZS5jYWxsKHRoaXMsbixvKTt2YXIgYT10aGlzO2lmKHRoaXMuX19zZWxlY3Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0IiksY1siZGVmYXVsdCJdLmlzQXJyYXkocikpe3ZhciBzPXt9O2NbImRlZmF1bHQiXS5lYWNoKHIsZnVuY3Rpb24oZSl7c1tlXT1lfSkscj1zfWNbImRlZmF1bHQiXS5lYWNoKHIsZnVuY3Rpb24oZSx0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTtuLmlubmVySFRNTD10LG4uc2V0QXR0cmlidXRlKCJ2YWx1ZSIsZSksYS5fX3NlbGVjdC5hcHBlbmRDaGlsZChuKX0pLHRoaXMudXBkYXRlRGlzcGxheSgpLHVbImRlZmF1bHQiXS5iaW5kKHRoaXMuX19zZWxlY3QsImNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnNbdGhpcy5zZWxlY3RlZEluZGV4XS52YWx1ZTthLnNldFZhbHVlKGUpfSksdGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19zZWxlY3QpfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24odCl7dmFyIG49ZS5wcm90b3R5cGUuc2V0VmFsdWUuY2FsbCh0aGlzLHQpO3JldHVybiB0aGlzLl9fb25GaW5pc2hDaGFuZ2UmJnRoaXMuX19vbkZpbmlzaENoYW5nZS5jYWxsKHRoaXMsdGhpcy5nZXRWYWx1ZSgpKSxufSx0LnByb3RvdHlwZS51cGRhdGVEaXNwbGF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19zZWxlY3QudmFsdWU9dGhpcy5nZXRWYWx1ZSgpLGUucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKX0sdH0oc1siZGVmYXVsdCJdKTt0WyJkZWZhdWx0Il09ZixlLmV4cG9ydHM9dFsiZGVmYXVsdCJdfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIHIoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfXQuX19lc01vZHVsZT0hMDt2YXIgYT1uKDcpLHM9byhhKSxsPW4oOSksdT1vKGwpLGQ9big1KSxjPShvKGQpLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobixvKXtmdW5jdGlvbiByKCl7cy5zZXRWYWx1ZShzLl9faW5wdXQudmFsdWUpfWZ1bmN0aW9uIGEoKXtzLl9fb25GaW5pc2hDaGFuZ2UmJnMuX19vbkZpbmlzaENoYW5nZS5jYWxsKHMscy5nZXRWYWx1ZSgpKX1pKHRoaXMsdCksZS5jYWxsKHRoaXMsbixvKTt2YXIgcz10aGlzO3RoaXMuX19pbnB1dD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLHRoaXMuX19pbnB1dC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0IiksdVsiZGVmYXVsdCJdLmJpbmQodGhpcy5fX2lucHV0LCJrZXl1cCIsciksdVsiZGVmYXVsdCJdLmJpbmQodGhpcy5fX2lucHV0LCJjaGFuZ2UiLHIpLHVbImRlZmF1bHQiXS5iaW5kKHRoaXMuX19pbnB1dCwiYmx1ciIsYSksdVsiZGVmYXVsdCJdLmJpbmQodGhpcy5fX2lucHV0LCJrZXlkb3duIixmdW5jdGlvbihlKXsxMz09PWUua2V5Q29kZSYmdGhpcy5ibHVyKCl9KSx0aGlzLnVwZGF0ZURpc3BsYXkoKSx0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX2lucHV0KX1yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLnVwZGF0ZURpc3BsYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdVsiZGVmYXVsdCJdLmlzQWN0aXZlKHRoaXMuX19pbnB1dCl8fCh0aGlzLl9faW5wdXQudmFsdWU9dGhpcy5nZXRWYWx1ZSgpKSxlLnByb3RvdHlwZS51cGRhdGVEaXNwbGF5LmNhbGwodGhpcyl9LHR9KHNbImRlZmF1bHQiXSkpO3RbImRlZmF1bHQiXT1jLGUuZXhwb3J0cz10WyJkZWZhdWx0Il19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gcihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gZT1lLnRvU3RyaW5nKCksZS5pbmRleE9mKCIuIik+LTE/ZS5sZW5ndGgtZS5pbmRleE9mKCIuIiktMTowfXQuX19lc01vZHVsZT0hMDt2YXIgcz1uKDcpLGw9byhzKSx1PW4oNSksZD1vKHUpLGM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuLG8scil7aSh0aGlzLHQpLGUuY2FsbCh0aGlzLG4sbykscj1yfHx7fSx0aGlzLl9fbWluPXIubWluLHRoaXMuX19tYXg9ci5tYXgsdGhpcy5fX3N0ZXA9ci5zdGVwLGRbImRlZmF1bHQiXS5pc1VuZGVmaW5lZCh0aGlzLl9fc3RlcCk/MD09dGhpcy5pbml0aWFsVmFsdWU/dGhpcy5fX2ltcGxpZWRTdGVwPTE6dGhpcy5fX2ltcGxpZWRTdGVwPU1hdGgucG93KDEwLE1hdGguZmxvb3IoTWF0aC5sb2coTWF0aC5hYnModGhpcy5pbml0aWFsVmFsdWUpKS9NYXRoLkxOMTApKS8xMDp0aGlzLl9faW1wbGllZFN0ZXA9dGhpcy5fX3N0ZXAsdGhpcy5fX3ByZWNpc2lvbj1hKHRoaXMuX19pbXBsaWVkU3RlcCl9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dGhpcy5fX21pbiYmdDx0aGlzLl9fbWluP3Q9dGhpcy5fX21pbjp2b2lkIDAhPT10aGlzLl9fbWF4JiZ0PnRoaXMuX19tYXgmJih0PXRoaXMuX19tYXgpLHZvaWQgMCE9PXRoaXMuX19zdGVwJiZ0JXRoaXMuX19zdGVwIT0wJiYodD1NYXRoLnJvdW5kKHQvdGhpcy5fX3N0ZXApKnRoaXMuX19zdGVwKSxlLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsdCl9LHQucHJvdG90eXBlLm1pbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX21pbj1lLHRoaXN9LHQucHJvdG90eXBlLm1heD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX21heD1lLHRoaXN9LHQucHJvdG90eXBlLnN0ZXA9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX19zdGVwPWUsdGhpcy5fX2ltcGxpZWRTdGVwPWUsdGhpcy5fX3ByZWNpc2lvbj1hKGUpLHRoaXN9LHR9KGxbImRlZmF1bHQiXSk7dFsiZGVmYXVsdCJdPWMsZS5leHBvcnRzPXRbImRlZmF1bHQiXX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiByKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1mdW5jdGlvbiBhKGUsdCl7dmFyIG49TWF0aC5wb3coMTAsdCk7cmV0dXJuIE1hdGgucm91bmQoZSpuKS9ufXQuX19lc01vZHVsZT0hMDt2YXIgcz1uKDEyKSxsPW8ocyksdT1uKDkpLGQ9byh1KSxjPW4oNSksZj1vKGMpLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuLG8scil7ZnVuY3Rpb24gYSgpe3ZhciBlPXBhcnNlRmxvYXQocC5fX2lucHV0LnZhbHVlKTtmWyJkZWZhdWx0Il0uaXNOYU4oZSl8fHAuc2V0VmFsdWUoZSl9ZnVuY3Rpb24gcygpe2EoKSxwLl9fb25GaW5pc2hDaGFuZ2UmJnAuX19vbkZpbmlzaENoYW5nZS5jYWxsKHAscC5nZXRWYWx1ZSgpKX1mdW5jdGlvbiBsKGUpe2RbImRlZmF1bHQiXS5iaW5kKHdpbmRvdywibW91c2Vtb3ZlIix1KSxkWyJkZWZhdWx0Il0uYmluZCh3aW5kb3csIm1vdXNldXAiLGMpLGg9ZS5jbGllbnRZfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9aC1lLmNsaWVudFk7cC5zZXRWYWx1ZShwLmdldFZhbHVlKCkrdCpwLl9faW1wbGllZFN0ZXApLGg9ZS5jbGllbnRZfWZ1bmN0aW9uIGMoKXtkWyJkZWZhdWx0Il0udW5iaW5kKHdpbmRvdywibW91c2Vtb3ZlIix1KSxkWyJkZWZhdWx0Il0udW5iaW5kKHdpbmRvdywibW91c2V1cCIsYyl9aSh0aGlzLHQpLGUuY2FsbCh0aGlzLG4sbyxyKSx0aGlzLl9fdHJ1bmNhdGlvblN1c3BlbmRlZD0hMTt2YXIgaCxwPXRoaXM7dGhpcy5fX2lucHV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IiksdGhpcy5fX2lucHV0LnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQiKSxkWyJkZWZhdWx0Il0uYmluZCh0aGlzLl9faW5wdXQsImNoYW5nZSIsYSksZFsiZGVmYXVsdCJdLmJpbmQodGhpcy5fX2lucHV0LCJibHVyIixzKSxkWyJkZWZhdWx0Il0uYmluZCh0aGlzLl9faW5wdXQsIm1vdXNlZG93biIsbCksZFsiZGVmYXVsdCJdLmJpbmQodGhpcy5fX2lucHV0LCJrZXlkb3duIixmdW5jdGlvbihlKXsxMz09PWUua2V5Q29kZSYmKHAuX190cnVuY2F0aW9uU3VzcGVuZGVkPSEwLHRoaXMuYmx1cigpLHAuX190cnVuY2F0aW9uU3VzcGVuZGVkPSExKX0pLHRoaXMudXBkYXRlRGlzcGxheSgpLHRoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9faW5wdXQpfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUudXBkYXRlRGlzcGxheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9faW5wdXQudmFsdWU9dGhpcy5fX3RydW5jYXRpb25TdXNwZW5kZWQ/dGhpcy5nZXRWYWx1ZSgpOmEodGhpcy5nZXRWYWx1ZSgpLHRoaXMuX19wcmVjaXNpb24pLGUucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKX0sdH0obFsiZGVmYXVsdCJdKTt0WyJkZWZhdWx0Il09aCxlLmV4cG9ydHM9dFsiZGVmYXVsdCJdfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIHIoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfWZ1bmN0aW9uIGEoZSx0LG4sbyxpKXtyZXR1cm4gbysoaS1vKSooKGUtdCkvKG4tdCkpfXQuX19lc01vZHVsZT0hMDt2YXIgcz1uKDEyKSxsPW8ocyksdT1uKDkpLGQ9byh1KSxjPW4oMTUpLGY9byhjKSxoPW4oNSkscD0obyhoKSxuKDE2KSksXz1vKHApLG09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuLG8scixzLGwpe2Z1bmN0aW9uIHUoZSl7ZFsiZGVmYXVsdCJdLmJpbmQod2luZG93LCJtb3VzZW1vdmUiLGMpLGRbImRlZmF1bHQiXS5iaW5kKHdpbmRvdywibW91c2V1cCIsZiksYyhlKX1mdW5jdGlvbiBjKGUpe2UucHJldmVudERlZmF1bHQoKTt2YXIgdD1kWyJkZWZhdWx0Il0uZ2V0T2Zmc2V0KGguX19iYWNrZ3JvdW5kKSxuPWRbImRlZmF1bHQiXS5nZXRXaWR0aChoLl9fYmFja2dyb3VuZCk7cmV0dXJuIGguc2V0VmFsdWUoYShlLmNsaWVudFgsdC5sZWZ0LHQubGVmdCtuLGguX19taW4saC5fX21heCkpLCExfWZ1bmN0aW9uIGYoKXtkWyJkZWZhdWx0Il0udW5iaW5kKHdpbmRvdywibW91c2Vtb3ZlIixjKSxkWyJkZWZhdWx0Il0udW5iaW5kKHdpbmRvdywibW91c2V1cCIsZiksaC5fX29uRmluaXNoQ2hhbmdlJiZoLl9fb25GaW5pc2hDaGFuZ2UuY2FsbChoLGguZ2V0VmFsdWUoKSl9aSh0aGlzLHQpLGUuY2FsbCh0aGlzLG4sbyx7bWluOnIsbWF4OnMsc3RlcDpsfSk7dmFyIGg9dGhpczt0aGlzLl9fYmFja2dyb3VuZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLl9fZm9yZWdyb3VuZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxkWyJkZWZhdWx0Il0uYmluZCh0aGlzLl9fYmFja2dyb3VuZCwibW91c2Vkb3duIix1KSxkWyJkZWZhdWx0Il0uYWRkQ2xhc3ModGhpcy5fX2JhY2tncm91bmQsInNsaWRlciIpLGRbImRlZmF1bHQiXS5hZGRDbGFzcyh0aGlzLl9fZm9yZWdyb3VuZCwic2xpZGVyLWZnIiksdGhpcy51cGRhdGVEaXNwbGF5KCksdGhpcy5fX2JhY2tncm91bmQuYXBwZW5kQ2hpbGQodGhpcy5fX2ZvcmVncm91bmQpLHRoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fYmFja2dyb3VuZCl9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS51cGRhdGVEaXNwbGF5PWZ1bmN0aW9uKCl7dmFyIHQ9KHRoaXMuZ2V0VmFsdWUoKS10aGlzLl9fbWluKS8odGhpcy5fX21heC10aGlzLl9fbWluKTtyZXR1cm4gdGhpcy5fX2ZvcmVncm91bmQuc3R5bGUud2lkdGg9MTAwKnQrIiUiLGUucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKX0sdH0obFsiZGVmYXVsdCJdKTttLnVzZURlZmF1bHRTdHlsZXM9ZnVuY3Rpb24oKXtmWyJkZWZhdWx0Il0uaW5qZWN0KF9bImRlZmF1bHQiXSl9LHRbImRlZmF1bHQiXT1tLGUuZXhwb3J0cz10WyJkZWZhdWx0Il19LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz17bG9hZDpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fGRvY3VtZW50LG89bi5jcmVhdGVFbGVtZW50KCJsaW5rIik7by50eXBlPSJ0ZXh0L2NzcyIsby5yZWw9InN0eWxlc2hlZXQiLG8uaHJlZj1lLG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChvKX0saW5qZWN0OmZ1bmN0aW9uKGUsdCl7dmFyIG49dHx8ZG9jdW1lbnQsbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO28udHlwZT0idGV4dC9jc3MiLG8uaW5uZXJIVE1MPWUsbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKG8pfX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1uKDE3KTsic3RyaW5nIj09dHlwZW9mIG8mJihvPVtbZS5pZCxvLCIiXV0pO24oMTkpKG8se30pO28ubG9jYWxzJiYoZS5leHBvcnRzPW8ubG9jYWxzKX0sZnVuY3Rpb24oZSx0LG4pe3Q9ZS5leHBvcnRzPW4oMTgpKCksdC5wdXNoKFtlLmlkLCIuc2xpZGVye2JveC1zaGFkb3c6aW5zZXQgMCAycHggNHB4IHJnYmEoMCwwLDAsLjE1KTtoZWlnaHQ6MWVtO2JvcmRlci1yYWRpdXM6MWVtO2JhY2tncm91bmQtY29sb3I6I2VlZTtwYWRkaW5nOjAgLjVlbTtvdmVyZmxvdzpoaWRkZW59LnNsaWRlci1mZ3twYWRkaW5nOjFweCAwIDJweDtiYWNrZ3JvdW5kLWNvbG9yOiNhYWE7aGVpZ2h0OjFlbTttYXJnaW4tbGVmdDotLjVlbTtwYWRkaW5nLXJpZ2h0Oi41ZW07Ym9yZGVyLXJhZGl1czoxZW0gMCAwIDFlbX0uc2xpZGVyLWZnOmFmdGVye2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JvcmRlci1yYWRpdXM6MWVtO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICNhYWE7Y29udGVudDonJztmbG9hdDpyaWdodDttYXJnaW4tcmlnaHQ6LTFlbTttYXJnaW4tdG9wOi0xcHg7aGVpZ2h0Oi45ZW07d2lkdGg6LjllbX0iLCIiXSl9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8dGhpcy5sZW5ndGg7dCsrKXt2YXIgbj10aGlzW3RdO25bMl0/ZS5wdXNoKCJAbWVkaWEgIituWzJdKyJ7IituWzFdKyJ9Iik6ZS5wdXNoKG5bMV0pfXJldHVybiBlLmpvaW4oIiIpfSxlLmk9ZnVuY3Rpb24odCxuKXsic3RyaW5nIj09dHlwZW9mIHQmJih0PVtbbnVsbCx0LCIiXV0pO2Zvcih2YXIgbz17fSxpPTA7aTx0aGlzLmxlbmd0aDtpKyspe3ZhciByPXRoaXNbaV1bMF07Im51bWJlciI9PXR5cGVvZiByJiYob1tyXT0hMCl9Zm9yKGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIGE9dFtpXTsibnVtYmVyIj09dHlwZW9mIGFbMF0mJm9bYVswXV18fChuJiYhYVsyXT9hWzJdPW46biYmKGFbMl09IigiK2FbMl0rIikgYW5kICgiK24rIikiKSxlLnB1c2goYSkpfX0sZX19LGZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiBvKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBvPWVbbl0saT1jW28uaWRdO2lmKGkpe2kucmVmcysrO2Zvcih2YXIgcj0wO3I8aS5wYXJ0cy5sZW5ndGg7cisrKWkucGFydHNbcl0oby5wYXJ0c1tyXSk7Zm9yKDtyPG8ucGFydHMubGVuZ3RoO3IrKylpLnBhcnRzLnB1c2gocyhvLnBhcnRzW3JdLHQpKX1lbHNle2Zvcih2YXIgYT1bXSxyPTA7cjxvLnBhcnRzLmxlbmd0aDtyKyspYS5wdXNoKHMoby5wYXJ0c1tyXSx0KSk7Y1tvLmlkXT17aWQ6by5pZCxyZWZzOjEscGFydHM6YX19fX1mdW5jdGlvbiBpKGUpe2Zvcih2YXIgdD1bXSxuPXt9LG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGk9ZVtvXSxyPWlbMF0sYT1pWzFdLHM9aVsyXSxsPWlbM10sdT17Y3NzOmEsbWVkaWE6cyxzb3VyY2VNYXA6bH07bltyXT9uW3JdLnBhcnRzLnB1c2godSk6dC5wdXNoKG5bcl09e2lkOnIscGFydHM6W3VdfSl9cmV0dXJuIHR9ZnVuY3Rpb24gcigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksdD1wKCk7cmV0dXJuIGUudHlwZT0idGV4dC9jc3MiLHQuYXBwZW5kQ2hpbGQoZSksZX1mdW5jdGlvbiBhKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGluayIpLHQ9cCgpO3JldHVybiBlLnJlbD0ic3R5bGVzaGVldCIsdC5hcHBlbmRDaGlsZChlKSxlfWZ1bmN0aW9uIHMoZSx0KXt2YXIgbixvLGk7aWYodC5zaW5nbGV0b24pe3ZhciBzPW0rKztuPV98fChfPXIoKSksbz1sLmJpbmQobnVsbCxuLHMsITEpLGk9bC5iaW5kKG51bGwsbixzLCEwKX1lbHNlIGUuc291cmNlTWFwJiYiZnVuY3Rpb24iPT10eXBlb2YgVVJMJiYiZnVuY3Rpb24iPT10eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCYmImZ1bmN0aW9uIj09dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwmJiJmdW5jdGlvbiI9PXR5cGVvZiBCbG9iJiYiZnVuY3Rpb24iPT10eXBlb2YgYnRvYT8obj1hKCksbz1kLmJpbmQobnVsbCxuKSxpPWZ1bmN0aW9uKCl7bi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pLG4uaHJlZiYmVVJMLnJldm9rZU9iamVjdFVSTChuLmhyZWYpfSk6KG49cigpLG89dS5iaW5kKG51bGwsbiksaT1mdW5jdGlvbigpe24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKX0pO3JldHVybiBvKGUpLGZ1bmN0aW9uKHQpe2lmKHQpe2lmKHQuY3NzPT09ZS5jc3MmJnQubWVkaWE9PT1lLm1lZGlhJiZ0LnNvdXJjZU1hcD09PWUuc291cmNlTWFwKXJldHVybjtvKGU9dCl9ZWxzZSBpKCl9fWZ1bmN0aW9uIGwoZSx0LG4sbyl7dmFyIGk9bj8iIjpvLmNzcztpZihlLnN0eWxlU2hlZXQpZS5zdHlsZVNoZWV0LmNzc1RleHQ9Zyh0LGkpO2Vsc2V7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaSksYT1lLmNoaWxkTm9kZXM7YVt0XSYmZS5yZW1vdmVDaGlsZChhW3RdKSxhLmxlbmd0aD9lLmluc2VydEJlZm9yZShyLGFbdF0pOmUuYXBwZW5kQ2hpbGQocil9fWZ1bmN0aW9uIHUoZSx0KXt2YXIgbj10LmNzcyxvPXQubWVkaWE7dC5zb3VyY2VNYXA7aWYobyYmZS5zZXRBdHRyaWJ1dGUoIm1lZGlhIixvKSxlLnN0eWxlU2hlZXQpZS5zdHlsZVNoZWV0LmNzc1RleHQ9bjtlbHNle2Zvcig7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuKSl9fWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj10LmNzcyxvPSh0Lm1lZGlhLHQuc291cmNlTWFwKTtvJiYobis9IlxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KG8pKSkpKyIgKi8iKTt2YXIgaT1uZXcgQmxvYihbbl0se3R5cGU6InRleHQvY3NzIn0pLHI9ZS5ocmVmO2UuaHJlZj1VUkwuY3JlYXRlT2JqZWN0VVJMKGkpLHImJlVSTC5yZXZva2VPYmplY3RVUkwocil9dmFyIGM9e30sZj1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIHQmJih0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpKSx0fX0saD1mKGZ1bmN0aW9uKCl7cmV0dXJuL21zaWUgWzYtOV1cYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKX0pLHA9ZihmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5oZWFkfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfSksXz1udWxsLG09MDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt0PXR8fHt9LCJ1bmRlZmluZWQiPT10eXBlb2YgdC5zaW5nbGV0b24mJih0LnNpbmdsZXRvbj1oKCkpO3ZhciBuPWkoZSk7cmV0dXJuIG8obix0KSxmdW5jdGlvbihlKXtmb3IodmFyIHI9W10sYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgcz1uW2FdLGw9Y1tzLmlkXTtsLnJlZnMtLSxyLnB1c2gobCl9aWYoZSl7dmFyIHU9aShlKTtvKHUsdCl9Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBsPXJbYV07aWYoMD09PWwucmVmcyl7Zm9yKHZhciBkPTA7ZDxsLnBhcnRzLmxlbmd0aDtkKyspbC5wYXJ0c1tkXSgpO2RlbGV0ZSBjW2wuaWRdfX19fTt2YXIgZz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiBlW3RdPW4sZS5maWx0ZXIoQm9vbGVhbikuam9pbigiXG4iKX19KCl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gcihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9dC5fX2VzTW9kdWxlPSEwO3ZhciBhPW4oNykscz1vKGEpLGw9big5KSx1PW8obCksZD1uKDUpLGM9KG8oZCksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuLG8scil7aSh0aGlzLHQpLGUuY2FsbCh0aGlzLG4sbyk7dmFyIGE9dGhpczt0aGlzLl9fYnV0dG9uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuX19idXR0b24uaW5uZXJIVE1MPXZvaWQgMD09PXI/IkZpcmUiOnIsdVsiZGVmYXVsdCJdLmJpbmQodGhpcy5fX2J1dHRvbiwiY2xpY2siLGZ1bmN0aW9uKGUpe3JldHVybiBlLnByZXZlbnREZWZhdWx0KCksYS5maXJlKCksITF9KSx1WyJkZWZhdWx0Il0uYWRkQ2xhc3ModGhpcy5fX2J1dHRvbiwiYnV0dG9uIiksdGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19idXR0b24pfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuZmlyZT1mdW5jdGlvbigpe3RoaXMuX19vbkNoYW5nZSYmdGhpcy5fX29uQ2hhbmdlLmNhbGwodGhpcyksdGhpcy5nZXRWYWx1ZSgpLmNhbGwodGhpcy5vYmplY3QpLHRoaXMuX19vbkZpbmlzaENoYW5nZSYmdGhpcy5fX29uRmluaXNoQ2hhbmdlLmNhbGwodGhpcyx0aGlzLmdldFZhbHVlKCkpfSx0fShzWyJkZWZhdWx0Il0pKTt0WyJkZWZhdWx0Il09YyxlLmV4cG9ydHM9dFsiZGVmYXVsdCJdfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIHIoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfWZ1bmN0aW9uIGEoZSx0LG4sbyl7ZS5zdHlsZS5iYWNrZ3JvdW5kPSIiLGdbImRlZmF1bHQiXS5lYWNoKHYsZnVuY3Rpb24oaSl7ZS5zdHlsZS5jc3NUZXh0Kz0iYmFja2dyb3VuZDogIitpKyJsaW5lYXItZ3JhZGllbnQoIit0KyIsICIrbisiIDAlLCAiK28rIiAxMDAlKTsgIn0pfWZ1bmN0aW9uIHMoZSl7ZS5zdHlsZS5iYWNrZ3JvdW5kPSIiLGUuc3R5bGUuY3NzVGV4dCs9ImJhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgICNmZjAwMDAgMCUsICNmZjAwZmYgMTclLCAjMDAwMGZmIDM0JSwgIzAwZmZmZiA1MCUsICMwMGZmMDAgNjclLCAjZmZmZjAwIDg0JSwgI2ZmMDAwMCAxMDAlKTsiLGUuc3R5bGUuY3NzVGV4dCs9ImJhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgICNmZjAwMDAgMCUsI2ZmMDBmZiAxNyUsIzAwMDBmZiAzNCUsIzAwZmZmZiA1MCUsIzAwZmYwMCA2NyUsI2ZmZmYwMCA4NCUsI2ZmMDAwMCAxMDAlKTsiLGUuc3R5bGUuY3NzVGV4dCs9ImJhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCNmZjAwZmYgMTclLCMwMDAwZmYgMzQlLCMwMGZmZmYgNTAlLCMwMGZmMDAgNjclLCNmZmZmMDAgODQlLCNmZjAwMDAgMTAwJSk7IixlLnN0eWxlLmNzc1RleHQrPSJiYWNrZ3JvdW5kOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgICNmZjAwMDAgMCUsI2ZmMDBmZiAxNyUsIzAwMDBmZiAzNCUsIzAwZmZmZiA1MCUsIzAwZmYwMCA2NyUsI2ZmZmYwMCA4NCUsI2ZmMDAwMCAxMDAlKTsiLGUuc3R5bGUuY3NzVGV4dCs9ImJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCNmZjAwZmYgMTclLCMwMDAwZmYgMzQlLCMwMGZmZmYgNTAlLCMwMGZmMDAgNjclLCNmZmZmMDAgODQlLCNmZjAwMDAgMTAwJSk7In10Ll9fZXNNb2R1bGU9ITA7dmFyIGw9big3KSx1PW8obCksZD1uKDkpLGM9byhkKSxmPW4oMiksaD1vKGYpLHA9bigzKSxfPW8ocCksbT1uKDUpLGc9byhtKSxiPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobixvKXtmdW5jdGlvbiByKGUpe2YoZSksY1siZGVmYXVsdCJdLmJpbmQod2luZG93LCJtb3VzZW1vdmUiLGYpLGNbImRlZmF1bHQiXS5iaW5kKHdpbmRvdywibW91c2V1cCIsbCl9ZnVuY3Rpb24gbCgpe2NbImRlZmF1bHQiXS51bmJpbmQod2luZG93LCJtb3VzZW1vdmUiLGYpLGNbImRlZmF1bHQiXS51bmJpbmQod2luZG93LCJtb3VzZXVwIixsKX1mdW5jdGlvbiB1KCl7dmFyIGU9X1siZGVmYXVsdCJdKHRoaXMudmFsdWUpO2UhPT0hMT8obS5fX2NvbG9yLl9fc3RhdGU9ZSxtLnNldFZhbHVlKG0uX19jb2xvci50b09yaWdpbmFsKCkpKTp0aGlzLnZhbHVlPW0uX19jb2xvci50b1N0cmluZygpfWZ1bmN0aW9uIGQoKXtjWyJkZWZhdWx0Il0udW5iaW5kKHdpbmRvdywibW91c2Vtb3ZlIixwKSxjWyJkZWZhdWx0Il0udW5iaW5kKHdpbmRvdywibW91c2V1cCIsZCl9ZnVuY3Rpb24gZihlKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHQ9Y1siZGVmYXVsdCJdLmdldFdpZHRoKG0uX19zYXR1cmF0aW9uX2ZpZWxkKSxuPWNbImRlZmF1bHQiXS5nZXRPZmZzZXQobS5fX3NhdHVyYXRpb25fZmllbGQpLG89KGUuY2xpZW50WC1uLmxlZnQrZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0KS90LGk9MS0oZS5jbGllbnRZLW4udG9wK2RvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKS90O3JldHVybiBpPjE/aT0xOjA+aSYmKGk9MCksbz4xP289MTowPm8mJihvPTApLG0uX19jb2xvci52PWksbS5fX2NvbG9yLnM9byxtLnNldFZhbHVlKG0uX19jb2xvci50b09yaWdpbmFsKCkpLCExfWZ1bmN0aW9uIHAoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PWNbImRlZmF1bHQiXS5nZXRIZWlnaHQobS5fX2h1ZV9maWVsZCksbj1jWyJkZWZhdWx0Il0uZ2V0T2Zmc2V0KG0uX19odWVfZmllbGQpLG89MS0oZS5jbGllbnRZLW4udG9wK2RvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKS90O3JldHVybiBvPjE/bz0xOjA+byYmKG89MCksbS5fX2NvbG9yLmg9MzYwKm8sbS5zZXRWYWx1ZShtLl9fY29sb3IudG9PcmlnaW5hbCgpKSwhMX1pKHRoaXMsdCksZS5jYWxsKHRoaXMsbixvKSx0aGlzLl9fY29sb3I9bmV3IGhbImRlZmF1bHQiXSh0aGlzLmdldFZhbHVlKCkpLHRoaXMuX190ZW1wPW5ldyBoWyJkZWZhdWx0Il0oMCk7dmFyIG09dGhpczt0aGlzLmRvbUVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksY1siZGVmYXVsdCJdLm1ha2VTZWxlY3RhYmxlKHRoaXMuZG9tRWxlbWVudCwhMSksdGhpcy5fX3NlbGVjdG9yPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuX19zZWxlY3Rvci5jbGFzc05hbWU9InNlbGVjdG9yIix0aGlzLl9fc2F0dXJhdGlvbl9maWVsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLl9fc2F0dXJhdGlvbl9maWVsZC5jbGFzc05hbWU9InNhdHVyYXRpb24tZmllbGQiLHRoaXMuX19maWVsZF9rbm9iPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuX19maWVsZF9rbm9iLmNsYXNzTmFtZT0iZmllbGQta25vYiIsdGhpcy5fX2ZpZWxkX2tub2JfYm9yZGVyPSIycHggc29saWQgIix0aGlzLl9faHVlX2tub2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5fX2h1ZV9rbm9iLmNsYXNzTmFtZT0iaHVlLWtub2IiLHRoaXMuX19odWVfZmllbGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5fX2h1ZV9maWVsZC5jbGFzc05hbWU9Imh1ZS1maWVsZCIsdGhpcy5fX2lucHV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IiksdGhpcy5fX2lucHV0LnR5cGU9InRleHQiLHRoaXMuX19pbnB1dF90ZXh0U2hhZG93PSIwIDFweCAxcHggIixjWyJkZWZhdWx0Il0uYmluZCh0aGlzLl9faW5wdXQsImtleWRvd24iLGZ1bmN0aW9uKGUpezEzPT09ZS5rZXlDb2RlJiZ1LmNhbGwodGhpcyl9KSxjWyJkZWZhdWx0Il0uYmluZCh0aGlzLl9faW5wdXQsImJsdXIiLHUpLGNbImRlZmF1bHQiXS5iaW5kKHRoaXMuX19zZWxlY3RvciwibW91c2Vkb3duIixmdW5jdGlvbihlKXtjWyJkZWZhdWx0Il0uYWRkQ2xhc3ModGhpcywiZHJhZyIpLmJpbmQod2luZG93LCJtb3VzZXVwIixmdW5jdGlvbihlKXtjWyJkZWZhdWx0Il0ucmVtb3ZlQ2xhc3MobS5fX3NlbGVjdG9yLCJkcmFnIil9KX0pO3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2dbImRlZmF1bHQiXS5leHRlbmQodGhpcy5fX3NlbGVjdG9yLnN0eWxlLHt3aWR0aDoiMTIycHgiLGhlaWdodDoiMTAycHgiLHBhZGRpbmc6IjNweCIsYmFja2dyb3VuZENvbG9yOiIjMjIyIixib3hTaGFkb3c6IjBweCAxcHggM3B4IHJnYmEoMCwwLDAsMC4zKSJ9KSxnWyJkZWZhdWx0Il0uZXh0ZW5kKHRoaXMuX19maWVsZF9rbm9iLnN0eWxlLHtwb3NpdGlvbjoiYWJzb2x1dGUiLHdpZHRoOiIxMnB4IixoZWlnaHQ6IjEycHgiLGJvcmRlcjp0aGlzLl9fZmllbGRfa25vYl9ib3JkZXIrKHRoaXMuX19jb2xvci52PC41PyIjZmZmIjoiIzAwMCIpLGJveFNoYWRvdzoiMHB4IDFweCAzcHggcmdiYSgwLDAsMCwwLjUpIixib3JkZXJSYWRpdXM6IjEycHgiLHpJbmRleDoxfSksZ1siZGVmYXVsdCJdLmV4dGVuZCh0aGlzLl9faHVlX2tub2Iuc3R5bGUse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6IjE1cHgiLGhlaWdodDoiMnB4Iixib3JkZXJSaWdodDoiNHB4IHNvbGlkICNmZmYiLHpJbmRleDoxfSksZ1siZGVmYXVsdCJdLmV4dGVuZCh0aGlzLl9fc2F0dXJhdGlvbl9maWVsZC5zdHlsZSx7d2lkdGg6IjEwMHB4IixoZWlnaHQ6IjEwMHB4Iixib3JkZXI6IjFweCBzb2xpZCAjNTU1IixtYXJnaW5SaWdodDoiM3B4IixkaXNwbGF5OiJpbmxpbmUtYmxvY2siLGN1cnNvcjoicG9pbnRlciJ9KSxnWyJkZWZhdWx0Il0uZXh0ZW5kKGIuc3R5bGUse3dpZHRoOiIxMDAlIixoZWlnaHQ6IjEwMCUiLGJhY2tncm91bmQ6Im5vbmUifSksYShiLCJ0b3AiLCJyZ2JhKDAsMCwwLDApIiwiIzAwMCIpLGdbImRlZmF1bHQiXS5leHRlbmQodGhpcy5fX2h1ZV9maWVsZC5zdHlsZSx7d2lkdGg6IjE1cHgiLGhlaWdodDoiMTAwcHgiLGRpc3BsYXk6ImlubGluZS1ibG9jayIsYm9yZGVyOiIxcHggc29saWQgIzU1NSIsY3Vyc29yOiJucy1yZXNpemUifSkscyh0aGlzLl9faHVlX2ZpZWxkKSxnWyJkZWZhdWx0Il0uZXh0ZW5kKHRoaXMuX19pbnB1dC5zdHlsZSx7b3V0bGluZToibm9uZSIsdGV4dEFsaWduOiJjZW50ZXIiLGNvbG9yOiIjZmZmIixib3JkZXI6MCxmb250V2VpZ2h0OiJib2xkIix0ZXh0U2hhZG93OnRoaXMuX19pbnB1dF90ZXh0U2hhZG93KyJyZ2JhKDAsMCwwLDAuNykifSksY1siZGVmYXVsdCJdLmJpbmQodGhpcy5fX3NhdHVyYXRpb25fZmllbGQsIm1vdXNlZG93biIsciksY1siZGVmYXVsdCJdLmJpbmQodGhpcy5fX2ZpZWxkX2tub2IsIm1vdXNlZG93biIsciksY1siZGVmYXVsdCJdLmJpbmQodGhpcy5fX2h1ZV9maWVsZCwibW91c2Vkb3duIixmdW5jdGlvbihlKXtwKGUpLGNbImRlZmF1bHQiXS5iaW5kKHdpbmRvdywibW91c2Vtb3ZlIixwKSxjWyJkZWZhdWx0Il0uYmluZCh3aW5kb3csIm1vdXNldXAiLGQpfSksdGhpcy5fX3NhdHVyYXRpb25fZmllbGQuYXBwZW5kQ2hpbGQoYiksdGhpcy5fX3NlbGVjdG9yLmFwcGVuZENoaWxkKHRoaXMuX19maWVsZF9rbm9iKSx0aGlzLl9fc2VsZWN0b3IuYXBwZW5kQ2hpbGQodGhpcy5fX3NhdHVyYXRpb25fZmllbGQpLHRoaXMuX19zZWxlY3Rvci5hcHBlbmRDaGlsZCh0aGlzLl9faHVlX2ZpZWxkKSx0aGlzLl9faHVlX2ZpZWxkLmFwcGVuZENoaWxkKHRoaXMuX19odWVfa25vYiksCgl0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX2lucHV0KSx0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX3NlbGVjdG9yKSx0aGlzLnVwZGF0ZURpc3BsYXkoKX1yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLnVwZGF0ZURpc3BsYXk9ZnVuY3Rpb24oKXt2YXIgZT1fWyJkZWZhdWx0Il0odGhpcy5nZXRWYWx1ZSgpKTtpZihlIT09ITEpe3ZhciB0PSExO2dbImRlZmF1bHQiXS5lYWNoKGhbImRlZmF1bHQiXS5DT01QT05FTlRTLGZ1bmN0aW9uKG4pe3JldHVybiBnWyJkZWZhdWx0Il0uaXNVbmRlZmluZWQoZVtuXSl8fGdbImRlZmF1bHQiXS5pc1VuZGVmaW5lZCh0aGlzLl9fY29sb3IuX19zdGF0ZVtuXSl8fGVbbl09PT10aGlzLl9fY29sb3IuX19zdGF0ZVtuXT92b2lkIDA6KHQ9ITAse30pfSx0aGlzKSx0JiZnWyJkZWZhdWx0Il0uZXh0ZW5kKHRoaXMuX19jb2xvci5fX3N0YXRlLGUpfWdbImRlZmF1bHQiXS5leHRlbmQodGhpcy5fX3RlbXAuX19zdGF0ZSx0aGlzLl9fY29sb3IuX19zdGF0ZSksdGhpcy5fX3RlbXAuYT0xO3ZhciBuPXRoaXMuX19jb2xvci52PC41fHx0aGlzLl9fY29sb3Iucz4uNT8yNTU6MCxvPTI1NS1uO2dbImRlZmF1bHQiXS5leHRlbmQodGhpcy5fX2ZpZWxkX2tub2Iuc3R5bGUse21hcmdpbkxlZnQ6MTAwKnRoaXMuX19jb2xvci5zLTcrInB4IixtYXJnaW5Ub3A6MTAwKigxLXRoaXMuX19jb2xvci52KS03KyJweCIsYmFja2dyb3VuZENvbG9yOnRoaXMuX190ZW1wLnRvU3RyaW5nKCksYm9yZGVyOnRoaXMuX19maWVsZF9rbm9iX2JvcmRlcisicmdiKCIrbisiLCIrbisiLCIrbisiKSJ9KSx0aGlzLl9faHVlX2tub2Iuc3R5bGUubWFyZ2luVG9wPTEwMCooMS10aGlzLl9fY29sb3IuaC8zNjApKyJweCIsdGhpcy5fX3RlbXAucz0xLHRoaXMuX190ZW1wLnY9MSxhKHRoaXMuX19zYXR1cmF0aW9uX2ZpZWxkLCJsZWZ0IiwiI2ZmZiIsdGhpcy5fX3RlbXAudG9TdHJpbmcoKSksZ1siZGVmYXVsdCJdLmV4dGVuZCh0aGlzLl9faW5wdXQuc3R5bGUse2JhY2tncm91bmRDb2xvcjp0aGlzLl9faW5wdXQudmFsdWU9dGhpcy5fX2NvbG9yLnRvU3RyaW5nKCksY29sb3I6InJnYigiK24rIiwiK24rIiwiK24rIikiLHRleHRTaGFkb3c6dGhpcy5fX2lucHV0X3RleHRTaGFkb3crInJnYmEoIitvKyIsIitvKyIsIitvKyIsLjcpIn0pfSx0fSh1WyJkZWZhdWx0Il0pLHY9WyItbW96LSIsIi1vLSIsIi13ZWJraXQtIiwiLW1zLSIsIiJdO3RbImRlZmF1bHQiXT1iLGUuZXhwb3J0cz10WyJkZWZhdWx0Il19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBpKGUsdCxuKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaSIpO3JldHVybiB0JiZvLmFwcGVuZENoaWxkKHQpLG4/ZS5fX3VsLmluc2VydEJlZm9yZShvLHBhcmFtcy5iZWZvcmUpOmUuX191bC5hcHBlbmRDaGlsZChvKSxlLm9uUmVzaXplKCksb31mdW5jdGlvbiByKGUsdCl7dmFyIG49ZS5fX3ByZXNldF9zZWxlY3RbZS5fX3ByZXNldF9zZWxlY3Quc2VsZWN0ZWRJbmRleF07dD9uLmlubmVySFRNTD1uLnZhbHVlKyIqIjpuLmlubmVySFRNTD1uLnZhbHVlfWZ1bmN0aW9uIGEoZSx0LG4pe2lmKG4uX19saT10LG4uX19ndWk9ZSxLWyJkZWZhdWx0Il0uZXh0ZW5kKG4se29wdGlvbnM6ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MT8obi5yZW1vdmUoKSxsKGUsbi5vYmplY3Qsbi5wcm9wZXJ0eSx7YmVmb3JlOm4uX19saS5uZXh0RWxlbWVudFNpYmxpbmcsZmFjdG9yeUFyZ3M6W0tbImRlZmF1bHQiXS50b0FycmF5KGFyZ3VtZW50cyldfSkpOktbImRlZmF1bHQiXS5pc0FycmF5KHQpfHxLWyJkZWZhdWx0Il0uaXNPYmplY3QodCk/KG4ucmVtb3ZlKCksbChlLG4ub2JqZWN0LG4ucHJvcGVydHkse2JlZm9yZTpuLl9fbGkubmV4dEVsZW1lbnRTaWJsaW5nLGZhY3RvcnlBcmdzOlt0XX0pKTp2b2lkIDB9LG5hbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uX19saS5maXJzdEVsZW1lbnRDaGlsZC5maXJzdEVsZW1lbnRDaGlsZC5pbm5lckhUTUw9ZSxufSxsaXN0ZW46ZnVuY3Rpb24oKXtyZXR1cm4gbi5fX2d1aS5saXN0ZW4obiksbn0scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uX19ndWkucmVtb3ZlKG4pLG59fSksbiBpbnN0YW5jZW9mIGpbImRlZmF1bHQiXSkhZnVuY3Rpb24oKXt2YXIgZT1uZXcgTVsiZGVmYXVsdCJdKG4ub2JqZWN0LG4ucHJvcGVydHkse21pbjpuLl9fbWluLG1heDpuLl9fbWF4LHN0ZXA6bi5fX3N0ZXB9KTtLWyJkZWZhdWx0Il0uZWFjaChbInVwZGF0ZURpc3BsYXkiLCJvbkNoYW5nZSIsIm9uRmluaXNoQ2hhbmdlIl0sZnVuY3Rpb24odCl7dmFyIG89blt0XSxpPWVbdF07blt0XT1lW3RdPWZ1bmN0aW9uKCl7dmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gby5hcHBseShuLHQpLGkuYXBwbHkoZSx0KX19KSxHWyJkZWZhdWx0Il0uYWRkQ2xhc3ModCwiaGFzLXNsaWRlciIpLG4uZG9tRWxlbWVudC5pbnNlcnRCZWZvcmUoZS5kb21FbGVtZW50LG4uZG9tRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCl9KCk7ZWxzZSBpZihuIGluc3RhbmNlb2YgTVsiZGVmYXVsdCJdKXt2YXIgbz1mdW5jdGlvbih0KXtyZXR1cm4gS1siZGVmYXVsdCJdLmlzTnVtYmVyKG4uX19taW4pJiZLWyJkZWZhdWx0Il0uaXNOdW1iZXIobi5fX21heCk/KG4ucmVtb3ZlKCksbChlLG4ub2JqZWN0LG4ucHJvcGVydHkse2JlZm9yZTpuLl9fbGkubmV4dEVsZW1lbnRTaWJsaW5nLGZhY3RvcnlBcmdzOltuLl9fbWluLG4uX19tYXgsbi5fX3N0ZXBdfSkpOnR9O24ubWluPUtbImRlZmF1bHQiXS5jb21wb3NlKG8sbi5taW4pLG4ubWF4PUtbImRlZmF1bHQiXS5jb21wb3NlKG8sbi5tYXgpfWVsc2UgbiBpbnN0YW5jZW9mIFRbImRlZmF1bHQiXT8oR1siZGVmYXVsdCJdLmJpbmQodCwiY2xpY2siLGZ1bmN0aW9uKCl7R1siZGVmYXVsdCJdLmZha2VFdmVudChuLl9fY2hlY2tib3gsImNsaWNrIil9KSxHWyJkZWZhdWx0Il0uYmluZChuLl9fY2hlY2tib3gsImNsaWNrIixmdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpfSkpOm4gaW5zdGFuY2VvZiBSWyJkZWZhdWx0Il0/KEdbImRlZmF1bHQiXS5iaW5kKHQsImNsaWNrIixmdW5jdGlvbigpe0dbImRlZmF1bHQiXS5mYWtlRXZlbnQobi5fX2J1dHRvbiwiY2xpY2siKX0pLEdbImRlZmF1bHQiXS5iaW5kKHQsIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXtHWyJkZWZhdWx0Il0uYWRkQ2xhc3Mobi5fX2J1dHRvbiwiaG92ZXIiKX0pLEdbImRlZmF1bHQiXS5iaW5kKHQsIm1vdXNlb3V0IixmdW5jdGlvbigpe0dbImRlZmF1bHQiXS5yZW1vdmVDbGFzcyhuLl9fYnV0dG9uLCJob3ZlciIpfSkpOm4gaW5zdGFuY2VvZiBEWyJkZWZhdWx0Il0mJihHWyJkZWZhdWx0Il0uYWRkQ2xhc3ModCwiY29sb3IiKSxuLnVwZGF0ZURpc3BsYXk9S1siZGVmYXVsdCJdLmNvbXBvc2UoZnVuY3Rpb24oZSl7cmV0dXJuIHQuc3R5bGUuYm9yZGVyTGVmdENvbG9yPW4uX19jb2xvci50b1N0cmluZygpLGV9LG4udXBkYXRlRGlzcGxheSksbi51cGRhdGVEaXNwbGF5KCkpO24uc2V0VmFsdWU9S1siZGVmYXVsdCJdLmNvbXBvc2UoZnVuY3Rpb24odCl7cmV0dXJuIGUuZ2V0Um9vdCgpLl9fcHJlc2V0X3NlbGVjdCYmbi5pc01vZGlmaWVkKCkmJnIoZS5nZXRSb290KCksITApLHR9LG4uc2V0VmFsdWUpfWZ1bmN0aW9uIHMoZSx0KXt2YXIgbj1lLmdldFJvb3QoKSxvPW4uX19yZW1lbWJlcmVkT2JqZWN0cy5pbmRleE9mKHQub2JqZWN0KTtpZigtMSE9PW8pe3ZhciBpPW4uX19yZW1lbWJlcmVkT2JqZWN0SW5kZWNlc1RvQ29udHJvbGxlcnNbb107aWYodm9pZCAwPT09aSYmKGk9e30sbi5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVyc1tvXT1pKSxpW3QucHJvcGVydHldPXQsbi5sb2FkJiZuLmxvYWQucmVtZW1iZXJlZCl7dmFyIHI9bi5sb2FkLnJlbWVtYmVyZWQsYT12b2lkIDA7aWYocltlLnByZXNldF0pYT1yW2UucHJlc2V0XTtlbHNle2lmKCFyW1pdKXJldHVybjthPXJbWl19aWYoYVtvXSYmdm9pZCAwIT09YVtvXVt0LnByb3BlcnR5XSl7dmFyIHM9YVtvXVt0LnByb3BlcnR5XTt0LmluaXRpYWxWYWx1ZT1zLHQuc2V0VmFsdWUocyl9fX19ZnVuY3Rpb24gbChlLHQsbixvKXtpZih2b2lkIDA9PT10W25dKXRocm93IG5ldyBFcnJvcignT2JqZWN0ICInK3QrJyIgaGFzIG5vIHByb3BlcnR5ICInK24rJyInKTt2YXIgcj12b2lkIDA7aWYoby5jb2xvcilyPW5ldyBEWyJkZWZhdWx0Il0odCxuKTtlbHNle3ZhciBsPVt0LG5dLmNvbmNhdChvLmZhY3RvcnlBcmdzKTtyPUFbImRlZmF1bHQiXS5hcHBseShlLGwpfW8uYmVmb3JlIGluc3RhbmNlb2Yga1siZGVmYXVsdCJdJiYoby5iZWZvcmU9by5iZWZvcmUuX19saSkscyhlLHIpLEdbImRlZmF1bHQiXS5hZGRDbGFzcyhyLmRvbUVsZW1lbnQsImMiKTt2YXIgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7R1siZGVmYXVsdCJdLmFkZENsYXNzKHUsInByb3BlcnR5LW5hbWUiKSx1LmlubmVySFRNTD1yLnByb3BlcnR5O3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2QuYXBwZW5kQ2hpbGQodSksZC5hcHBlbmRDaGlsZChyLmRvbUVsZW1lbnQpO3ZhciBjPWkoZSxkLG8uYmVmb3JlKTtyZXR1cm4gR1siZGVmYXVsdCJdLmFkZENsYXNzKGMsb2UuQ0xBU1NfQ09OVFJPTExFUl9ST1cpLHIgaW5zdGFuY2VvZiBEWyJkZWZhdWx0Il0/R1siZGVmYXVsdCJdLmFkZENsYXNzKGMsImNvbG9yIik6R1siZGVmYXVsdCJdLmFkZENsYXNzKGMsdHlwZW9mIHIuZ2V0VmFsdWUoKSksYShlLGMsciksZS5fX2NvbnRyb2xsZXJzLnB1c2gocikscn1mdW5jdGlvbiB1KGUsdCl7cmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYrIi4iK3R9ZnVuY3Rpb24gZChlLHQsbil7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7by5pbm5lckhUTUw9dCxvLnZhbHVlPXQsZS5fX3ByZXNldF9zZWxlY3QuYXBwZW5kQ2hpbGQobyksbiYmKGUuX19wcmVzZXRfc2VsZWN0LnNlbGVjdGVkSW5kZXg9ZS5fX3ByZXNldF9zZWxlY3QubGVuZ3RoLTEpfWZ1bmN0aW9uIGMoZSl7ZS5zdHlsZS5kaXNwbGF5PWd1aS51c2VMb2NhbFN0b3JhZ2U/ImJsb2NrIjoibm9uZSJ9ZnVuY3Rpb24gZihlKXt2YXIgdD1lLl9fc2F2ZV9yb3c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGkiKTtHWyJkZWZhdWx0Il0uYWRkQ2xhc3MoZS5kb21FbGVtZW50LCJoYXMtc2F2ZSIpLGUuX191bC5pbnNlcnRCZWZvcmUodCxlLl9fdWwuZmlyc3RDaGlsZCksR1siZGVmYXVsdCJdLmFkZENsYXNzKHQsInNhdmUtcm93Iik7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO24uaW5uZXJIVE1MPSImbmJzcDsiLEdbImRlZmF1bHQiXS5hZGRDbGFzcyhuLCJidXR0b24gZ2VhcnMiKTt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7by5pbm5lckhUTUw9IlNhdmUiLEdbImRlZmF1bHQiXS5hZGRDbGFzcyhvLCJidXR0b24iKSxHWyJkZWZhdWx0Il0uYWRkQ2xhc3Mobywic2F2ZSIpO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtpLmlubmVySFRNTD0iTmV3IixHWyJkZWZhdWx0Il0uYWRkQ2xhc3MoaSwiYnV0dG9uIiksR1siZGVmYXVsdCJdLmFkZENsYXNzKGksInNhdmUtYXMiKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7ci5pbm5lckhUTUw9IlJldmVydCIsR1siZGVmYXVsdCJdLmFkZENsYXNzKHIsImJ1dHRvbiIpLEdbImRlZmF1bHQiXS5hZGRDbGFzcyhyLCJyZXZlcnQiKTt2YXIgYT1lLl9fcHJlc2V0X3NlbGVjdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTtlLmxvYWQmJmUubG9hZC5yZW1lbWJlcmVkP0tbImRlZmF1bHQiXS5lYWNoKGUubG9hZC5yZW1lbWJlcmVkLGZ1bmN0aW9uKHQsbil7ZChlLG4sbj09PWUucHJlc2V0KX0pOmQoZSxaLCExKSxHWyJkZWZhdWx0Il0uYmluZChhLCJjaGFuZ2UiLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDxlLl9fcHJlc2V0X3NlbGVjdC5sZW5ndGg7dCsrKWUuX19wcmVzZXRfc2VsZWN0W3RdLmlubmVySFRNTD1lLl9fcHJlc2V0X3NlbGVjdFt0XS52YWx1ZTtlLnByZXNldD10aGlzLnZhbHVlfSksdC5hcHBlbmRDaGlsZChhKSx0LmFwcGVuZENoaWxkKG4pLHQuYXBwZW5kQ2hpbGQobyksdC5hcHBlbmRDaGlsZChpKSx0LmFwcGVuZENoaWxkKHIpLCQmJiFmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkZy1sb2NhbC1leHBsYWluIiksbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGctbG9jYWwtc3RvcmFnZSIpLG89ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRnLXNhdmUtbG9jYWxseSIpO28uc3R5bGUuZGlzcGxheT0iYmxvY2siLCJ0cnVlIj09PWxvY2FsU3RvcmFnZS5nZXRJdGVtKHUoZSwiaXNMb2NhbCIpKSYmbi5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksYyh0KSxHWyJkZWZhdWx0Il0uYmluZChuLCJjaGFuZ2UiLGZ1bmN0aW9uKCl7ZS51c2VMb2NhbFN0b3JhZ2U9IWUudXNlTG9jYWxTdG9yYWdlLGModCl9KX0oKTt2YXIgcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGctbmV3LWNvbnN0cnVjdG9yIik7R1siZGVmYXVsdCJdLmJpbmQocywia2V5ZG93biIsZnVuY3Rpb24oZSl7IWUubWV0YUtleXx8NjchPT1lLndoaWNoJiY2NyE9PWUua2V5Q29kZXx8Vy5oaWRlKCl9KSxHWyJkZWZhdWx0Il0uYmluZChuLCJjbGljayIsZnVuY3Rpb24oKXtzLmlubmVySFRNTD1KU09OLnN0cmluZ2lmeShlLmdldFNhdmVPYmplY3QoKSx2b2lkIDAsMiksVy5zaG93KCkscy5mb2N1cygpLHMuc2VsZWN0KCl9KSxHWyJkZWZhdWx0Il0uYmluZChvLCJjbGljayIsZnVuY3Rpb24oKXtlLnNhdmUoKX0pLEdbImRlZmF1bHQiXS5iaW5kKGksImNsaWNrIixmdW5jdGlvbigpe3ZhciB0PXByb21wdCgiRW50ZXIgYSBuZXcgcHJlc2V0IG5hbWUuIik7dCYmZS5zYXZlQXModCl9KSxHWyJkZWZhdWx0Il0uYmluZChyLCJjbGljayIsZnVuY3Rpb24oKXtlLnJldmVydCgpfSl9ZnVuY3Rpb24gaChlKXtmdW5jdGlvbiB0KHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCksZS53aWR0aCs9aS10LmNsaWVudFgsZS5vblJlc2l6ZSgpLGk9dC5jbGllbnRYLCExfWZ1bmN0aW9uIG4oKXtHWyJkZWZhdWx0Il0ucmVtb3ZlQ2xhc3MoZS5fX2Nsb3NlQnV0dG9uLG9lLkNMQVNTX0RSQUcpLEdbImRlZmF1bHQiXS51bmJpbmQod2luZG93LCJtb3VzZW1vdmUiLHQpLEdbImRlZmF1bHQiXS51bmJpbmQod2luZG93LCJtb3VzZXVwIixuKX1mdW5jdGlvbiBvKG8pe3JldHVybiBvLnByZXZlbnREZWZhdWx0KCksaT1vLmNsaWVudFgsR1siZGVmYXVsdCJdLmFkZENsYXNzKGUuX19jbG9zZUJ1dHRvbixvZS5DTEFTU19EUkFHKSxHWyJkZWZhdWx0Il0uYmluZCh3aW5kb3csIm1vdXNlbW92ZSIsdCksR1siZGVmYXVsdCJdLmJpbmQod2luZG93LCJtb3VzZXVwIixuKSwhMX12YXIgaT12b2lkIDA7ZS5fX3Jlc2l6ZV9oYW5kbGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksS1siZGVmYXVsdCJdLmV4dGVuZChlLl9fcmVzaXplX2hhbmRsZS5zdHlsZSx7d2lkdGg6IjZweCIsbWFyZ2luTGVmdDoiLTNweCIsaGVpZ2h0OiIyMDBweCIsY3Vyc29yOiJldy1yZXNpemUiLHBvc2l0aW9uOiJhYnNvbHV0ZSJ9KSxHWyJkZWZhdWx0Il0uYmluZChlLl9fcmVzaXplX2hhbmRsZSwibW91c2Vkb3duIixvKSxHWyJkZWZhdWx0Il0uYmluZChlLl9fY2xvc2VCdXR0b24sIm1vdXNlZG93biIsbyksZS5kb21FbGVtZW50Lmluc2VydEJlZm9yZShlLl9fcmVzaXplX2hhbmRsZSxlLmRvbUVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQpfWZ1bmN0aW9uIHAoZSx0KXtlLmRvbUVsZW1lbnQuc3R5bGUud2lkdGg9dCsicHgiLGUuX19zYXZlX3JvdyYmZS5hdXRvUGxhY2UmJihlLl9fc2F2ZV9yb3cuc3R5bGUud2lkdGg9dCsicHgiKSxlLl9fY2xvc2VCdXR0b24mJihlLl9fY2xvc2VCdXR0b24uc3R5bGUud2lkdGg9dCsicHgiKX1mdW5jdGlvbiBfKGUsdCl7dmFyIG49e307cmV0dXJuIEtbImRlZmF1bHQiXS5lYWNoKGUuX19yZW1lbWJlcmVkT2JqZWN0cyxmdW5jdGlvbihvLGkpe3ZhciByPXt9LGE9ZS5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVyc1tpXTtLWyJkZWZhdWx0Il0uZWFjaChhLGZ1bmN0aW9uKGUsbil7cltuXT10P2UuaW5pdGlhbFZhbHVlOmUuZ2V0VmFsdWUoKX0pLG5baV09cn0pLG59ZnVuY3Rpb24gbShlKXtmb3IodmFyIHQ9MDt0PGUuX19wcmVzZXRfc2VsZWN0Lmxlbmd0aDt0KyspZS5fX3ByZXNldF9zZWxlY3RbdF0udmFsdWU9PT1lLnByZXNldCYmKGUuX19wcmVzZXRfc2VsZWN0LnNlbGVjdGVkSW5kZXg9dCl9ZnVuY3Rpb24gZyhlKXswIT09ZS5sZW5ndGgmJkZbImRlZmF1bHQiXShmdW5jdGlvbigpe2coZSl9KSxLWyJkZWZhdWx0Il0uZWFjaChlLGZ1bmN0aW9uKGUpe2UudXBkYXRlRGlzcGxheSgpfSl9dmFyIGI9bigxNSksdj1vKGIpLHk9bigyMykseD1vKHkpLHc9bigyNCksRT1vKHcpLEM9bigyNiksQT1vKEMpLFM9big3KSxrPW8oUyksTz1uKDgpLFQ9byhPKSxMPW4oMjApLFI9byhMKSxOPW4oMTMpLE09byhOKSxCPW4oMTQpLGo9byhCKSxQPW4oMTApLFY9KG8oUCksbigyMSkpLEQ9byhWKSxIPW4oMjcpLEY9byhIKSxJPW4oMjgpLFU9byhJKSx6PW4oOSksRz1vKHopLFg9big1KSxLPW8oWCk7dlsiZGVmYXVsdCJdLmluamVjdChFWyJkZWZhdWx0Il0pO3ZhciBXLFksSj0iZGciLFE9NzIscT0yMCxaPSJEZWZhdWx0IiwkPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiJsb2NhbFN0b3JhZ2UiaW4gd2luZG93JiZudWxsIT09d2luZG93LmxvY2FsU3RvcmFnZX1jYXRjaChlKXtyZXR1cm4hMX19KCksZWU9ITAsdGU9ITEsbmU9W10sb2U9ZnVuY3Rpb24gaWUoZSl7ZnVuY3Rpb24gdCgpe3ZhciBlPW4uZ2V0Um9vdCgpO2Uud2lkdGgrPTEsS1siZGVmYXVsdCJdLmRlZmVyKGZ1bmN0aW9uKCl7ZS53aWR0aC09MX0pfXZhciBuPXRoaXM7dGhpcy5kb21FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuX191bD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ1bCIpLHRoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fdWwpLEdbImRlZmF1bHQiXS5hZGRDbGFzcyh0aGlzLmRvbUVsZW1lbnQsSiksdGhpcy5fX2ZvbGRlcnM9e30sdGhpcy5fX2NvbnRyb2xsZXJzPVtdLHRoaXMuX19yZW1lbWJlcmVkT2JqZWN0cz1bXSx0aGlzLl9fcmVtZW1iZXJlZE9iamVjdEluZGVjZXNUb0NvbnRyb2xsZXJzPVtdLHRoaXMuX19saXN0ZW5pbmc9W10sZT1lfHx7fSxlPUtbImRlZmF1bHQiXS5kZWZhdWx0cyhlLHthdXRvUGxhY2U6ITAsd2lkdGg6aWUuREVGQVVMVF9XSURUSH0pLGU9S1siZGVmYXVsdCJdLmRlZmF1bHRzKGUse3Jlc2l6YWJsZTplLmF1dG9QbGFjZSxoaWRlYWJsZTplLmF1dG9QbGFjZX0pLEtbImRlZmF1bHQiXS5pc1VuZGVmaW5lZChlLmxvYWQpP2UubG9hZD17cHJlc2V0Olp9OmUucHJlc2V0JiYoZS5sb2FkLnByZXNldD1lLnByZXNldCksS1siZGVmYXVsdCJdLmlzVW5kZWZpbmVkKGUucGFyZW50KSYmZS5oaWRlYWJsZSYmbmUucHVzaCh0aGlzKSxlLnJlc2l6YWJsZT1LWyJkZWZhdWx0Il0uaXNVbmRlZmluZWQoZS5wYXJlbnQpJiZlLnJlc2l6YWJsZSxlLmF1dG9QbGFjZSYmS1siZGVmYXVsdCJdLmlzVW5kZWZpbmVkKGUuc2Nyb2xsYWJsZSkmJihlLnNjcm9sbGFibGU9ITApO3ZhciBvLHI9JCYmInRydWUiPT09bG9jYWxTdG9yYWdlLmdldEl0ZW0odSh0aGlzLCJpc0xvY2FsIikpO2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse3BhcmVudDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUucGFyZW50fX0sc2Nyb2xsYWJsZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuc2Nyb2xsYWJsZX19LGF1dG9QbGFjZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuYXV0b1BsYWNlfX0scHJlc2V0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wYXJlbnQ/bi5nZXRSb290KCkucHJlc2V0OmUubG9hZC5wcmVzZXR9LHNldDpmdW5jdGlvbih0KXtuLnBhcmVudD9uLmdldFJvb3QoKS5wcmVzZXQ9dDplLmxvYWQucHJlc2V0PXQsbSh0aGlzKSxuLnJldmVydCgpfX0sd2lkdGg6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLndpZHRofSxzZXQ6ZnVuY3Rpb24odCl7ZS53aWR0aD10LHAobix0KX19LG5hbWU6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLm5hbWV9LHNldDpmdW5jdGlvbih0KXtlLm5hbWU9dCxzJiYocy5pbm5lckhUTUw9ZS5uYW1lKX19LGNsb3NlZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuY2xvc2VkfSxzZXQ6ZnVuY3Rpb24odCl7ZS5jbG9zZWQ9dCxlLmNsb3NlZD9HWyJkZWZhdWx0Il0uYWRkQ2xhc3Mobi5fX3VsLGllLkNMQVNTX0NMT1NFRCk6R1siZGVmYXVsdCJdLnJlbW92ZUNsYXNzKG4uX191bCxpZS5DTEFTU19DTE9TRUQpLHRoaXMub25SZXNpemUoKSxuLl9fY2xvc2VCdXR0b24mJihuLl9fY2xvc2VCdXR0b24uaW5uZXJIVE1MPXQ/aWUuVEVYVF9PUEVOOmllLlRFWFRfQ0xPU0VEKX19LGxvYWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLmxvYWR9fSx1c2VMb2NhbFN0b3JhZ2U6e2dldDpmdW5jdGlvbigpe3JldHVybiByfSxzZXQ6ZnVuY3Rpb24oZSl7JCYmKHI9ZSxlP0dbImRlZmF1bHQiXS5iaW5kKHdpbmRvdywidW5sb2FkIixvKTpHWyJkZWZhdWx0Il0udW5iaW5kKHdpbmRvdywidW5sb2FkIixvKSxsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh1KG4sImlzTG9jYWwiKSxlKSl9fX0pLEtbImRlZmF1bHQiXS5pc1VuZGVmaW5lZChlLnBhcmVudCkpe2lmKGUuY2xvc2VkPSExLEdbImRlZmF1bHQiXS5hZGRDbGFzcyh0aGlzLmRvbUVsZW1lbnQsaWUuQ0xBU1NfTUFJTiksR1siZGVmYXVsdCJdLm1ha2VTZWxlY3RhYmxlKHRoaXMuZG9tRWxlbWVudCwhMSksJCYmcil7bi51c2VMb2NhbFN0b3JhZ2U9ITA7dmFyIGE9bG9jYWxTdG9yYWdlLmdldEl0ZW0odSh0aGlzLCJndWkiKSk7YSYmKGUubG9hZD1KU09OLnBhcnNlKGEpKX10aGlzLl9fY2xvc2VCdXR0b249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5fX2Nsb3NlQnV0dG9uLmlubmVySFRNTD1pZS5URVhUX0NMT1NFRCxHWyJkZWZhdWx0Il0uYWRkQ2xhc3ModGhpcy5fX2Nsb3NlQnV0dG9uLGllLkNMQVNTX0NMT1NFX0JVVFRPTiksdGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19jbG9zZUJ1dHRvbiksR1siZGVmYXVsdCJdLmJpbmQodGhpcy5fX2Nsb3NlQnV0dG9uLCJjbGljayIsZnVuY3Rpb24oKXtuLmNsb3NlZD0hbi5jbG9zZWR9KX1lbHNle3ZvaWQgMD09PWUuY2xvc2VkJiYoZS5jbG9zZWQ9ITApO3ZhciBzPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUubmFtZSk7R1siZGVmYXVsdCJdLmFkZENsYXNzKHMsImNvbnRyb2xsZXItbmFtZSIpO3ZhciBsPWkobixzKSxkPWZ1bmN0aW9uKGUpe3JldHVybiBlLnByZXZlbnREZWZhdWx0KCksbi5jbG9zZWQ9IW4uY2xvc2VkLCExfTtHWyJkZWZhdWx0Il0uYWRkQ2xhc3ModGhpcy5fX3VsLGllLkNMQVNTX0NMT1NFRCksR1siZGVmYXVsdCJdLmFkZENsYXNzKGwsInRpdGxlIiksR1siZGVmYXVsdCJdLmJpbmQobCwiY2xpY2siLGQpLGUuY2xvc2VkfHwodGhpcy5jbG9zZWQ9ITEpfWUuYXV0b1BsYWNlJiYoS1siZGVmYXVsdCJdLmlzVW5kZWZpbmVkKGUucGFyZW50KSYmKGVlJiYoWT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxHWyJkZWZhdWx0Il0uYWRkQ2xhc3MoWSxKKSxHWyJkZWZhdWx0Il0uYWRkQ2xhc3MoWSxpZS5DTEFTU19BVVRPX1BMQUNFX0NPTlRBSU5FUiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChZKSxlZT0hMSksWS5hcHBlbmRDaGlsZCh0aGlzLmRvbUVsZW1lbnQpLEdbImRlZmF1bHQiXS5hZGRDbGFzcyh0aGlzLmRvbUVsZW1lbnQsaWUuQ0xBU1NfQVVUT19QTEFDRSkpLHRoaXMucGFyZW50fHxwKG4sZS53aWR0aCkpLEdbImRlZmF1bHQiXS5iaW5kKHdpbmRvdywicmVzaXplIixmdW5jdGlvbigpe24ub25SZXNpemUoKX0pLEdbImRlZmF1bHQiXS5iaW5kKHRoaXMuX191bCwid2Via2l0VHJhbnNpdGlvbkVuZCIsZnVuY3Rpb24oKXtuLm9uUmVzaXplKCl9KSxHWyJkZWZhdWx0Il0uYmluZCh0aGlzLl9fdWwsInRyYW5zaXRpb25lbmQiLGZ1bmN0aW9uKCl7bi5vblJlc2l6ZSgpfSksR1siZGVmYXVsdCJdLmJpbmQodGhpcy5fX3VsLCJvVHJhbnNpdGlvbkVuZCIsZnVuY3Rpb24oKXtuLm9uUmVzaXplKCl9KSx0aGlzLm9uUmVzaXplKCksZS5yZXNpemFibGUmJmgodGhpcyksbz1mdW5jdGlvbigpeyQmJiJ0cnVlIj09PWxvY2FsU3RvcmFnZS5nZXRJdGVtKHUobiwiaXNMb2NhbCIpKSYmbG9jYWxTdG9yYWdlLnNldEl0ZW0odShuLCJndWkiKSxKU09OLnN0cmluZ2lmeShuLmdldFNhdmVPYmplY3QoKSkpfSx0aGlzLnNhdmVUb0xvY2FsU3RvcmFnZUlmUG9zc2libGU9bztuLmdldFJvb3QoKTtlLnBhcmVudHx8dCgpfTtvZS50b2dnbGVIaWRlPWZ1bmN0aW9uKCl7dGU9IXRlLEtbImRlZmF1bHQiXS5lYWNoKG5lLGZ1bmN0aW9uKGUpe2UuZG9tRWxlbWVudC5zdHlsZS56SW5kZXg9dGU/LTk5OTo5OTksZS5kb21FbGVtZW50LnN0eWxlLm9wYWNpdHk9dGU/MDoxfSl9LG9lLkNMQVNTX0FVVE9fUExBQ0U9ImEiLG9lLkNMQVNTX0FVVE9fUExBQ0VfQ09OVEFJTkVSPSJhYyIsb2UuQ0xBU1NfTUFJTj0ibWFpbiIsb2UuQ0xBU1NfQ09OVFJPTExFUl9ST1c9ImNyIixvZS5DTEFTU19UT09fVEFMTD0idGFsbGVyLXRoYW4td2luZG93IixvZS5DTEFTU19DTE9TRUQ9ImNsb3NlZCIsb2UuQ0xBU1NfQ0xPU0VfQlVUVE9OPSJjbG9zZS1idXR0b24iLG9lLkNMQVNTX0RSQUc9ImRyYWciLG9lLkRFRkFVTFRfV0lEVEg9MjQ1LG9lLlRFWFRfQ0xPU0VEPSJDbG9zZSBDb250cm9scyIsb2UuVEVYVF9PUEVOPSJPcGVuIENvbnRyb2xzIixHWyJkZWZhdWx0Il0uYmluZCh3aW5kb3csImtleWRvd24iLGZ1bmN0aW9uKGUpeyJ0ZXh0Ij09PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQudHlwZXx8ZS53aGljaCE9PVEmJmUua2V5Q29kZSE9UXx8b2UudG9nZ2xlSGlkZSgpfSwhMSksS1siZGVmYXVsdCJdLmV4dGVuZChvZS5wcm90b3R5cGUse2FkZDpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiB0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGUudG9TdHJpbmcoKX0sdH0oZnVuY3Rpb24oZSx0KXtyZXR1cm4gbCh0aGlzLGUsdCx7ZmFjdG9yeUFyZ3M6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpfSl9KSxhZGRDb2xvcjpmdW5jdGlvbihlLHQpe3JldHVybiBsKHRoaXMsZSx0LHtjb2xvcjohMH0pfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dGhpcy5fX3VsLnJlbW92ZUNoaWxkKGUuX19saSksdGhpcy5fX2NvbnRyb2xsZXJzLnNwbGljZSh0aGlzLl9fY29udHJvbGxlcnMuaW5kZXhPZihlKSwxKTt2YXIgdD10aGlzO0tbImRlZmF1bHQiXS5kZWZlcihmdW5jdGlvbigpe3Qub25SZXNpemUoKX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5hdXRvUGxhY2UmJlkucmVtb3ZlQ2hpbGQodGhpcy5kb21FbGVtZW50KX0sYWRkRm9sZGVyOmZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PXRoaXMuX19mb2xkZXJzW2VdKXRocm93IG5ldyBFcnJvcignWW91IGFscmVhZHkgaGF2ZSBhIGZvbGRlciBpbiB0aGlzIEdVSSBieSB0aGUgbmFtZSAiJytlKyciJyk7dmFyIHQ9e25hbWU6ZSxwYXJlbnQ6dGhpc307dC5hdXRvUGxhY2U9dGhpcy5hdXRvUGxhY2UsdGhpcy5sb2FkJiZ0aGlzLmxvYWQuZm9sZGVycyYmdGhpcy5sb2FkLmZvbGRlcnNbZV0mJih0LmNsb3NlZD10aGlzLmxvYWQuZm9sZGVyc1tlXS5jbG9zZWQsdC5sb2FkPXRoaXMubG9hZC5mb2xkZXJzW2VdKTt2YXIgbj1uZXcgb2UodCk7dGhpcy5fX2ZvbGRlcnNbZV09bjt2YXIgbz1pKHRoaXMsbi5kb21FbGVtZW50KTtyZXR1cm4gR1siZGVmYXVsdCJdLmFkZENsYXNzKG8sImZvbGRlciIpLG59LG9wZW46ZnVuY3Rpb24oKXt0aGlzLmNsb3NlZD0hMX0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlZD0hMH0sb25SZXNpemU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFJvb3QoKTtpZihlLnNjcm9sbGFibGUpe3ZhciB0PUdbImRlZmF1bHQiXS5nZXRPZmZzZXQoZS5fX3VsKS50b3Asbj0wO0tbImRlZmF1bHQiXS5lYWNoKGUuX191bC5jaGlsZE5vZGVzLGZ1bmN0aW9uKHQpe2UuYXV0b1BsYWNlJiZ0PT09ZS5fX3NhdmVfcm93fHwobis9R1siZGVmYXVsdCJdLmdldEhlaWdodCh0KSl9KSx3aW5kb3cuaW5uZXJIZWlnaHQtdC1xPG4/KEdbImRlZmF1bHQiXS5hZGRDbGFzcyhlLmRvbUVsZW1lbnQsb2UuQ0xBU1NfVE9PX1RBTEwpLGUuX191bC5zdHlsZS5oZWlnaHQ9d2luZG93LmlubmVySGVpZ2h0LXQtcSsicHgiKTooR1siZGVmYXVsdCJdLnJlbW92ZUNsYXNzKGUuZG9tRWxlbWVudCxvZS5DTEFTU19UT09fVEFMTCksZS5fX3VsLnN0eWxlLmhlaWdodD0iYXV0byIpfWUuX19yZXNpemVfaGFuZGxlJiZLWyJkZWZhdWx0Il0uZGVmZXIoZnVuY3Rpb24oKXtlLl9fcmVzaXplX2hhbmRsZS5zdHlsZS5oZWlnaHQ9ZS5fX3VsLm9mZnNldEhlaWdodCsicHgifSksZS5fX2Nsb3NlQnV0dG9uJiYoZS5fX2Nsb3NlQnV0dG9uLnN0eWxlLndpZHRoPWUud2lkdGgrInB4Iil9LHJlbWVtYmVyOmZ1bmN0aW9uKCl7aWYoS1siZGVmYXVsdCJdLmlzVW5kZWZpbmVkKFcpJiYoVz1uZXcgVVsiZGVmYXVsdCJdLFcuZG9tRWxlbWVudC5pbm5lckhUTUw9eFsiZGVmYXVsdCJdKSx0aGlzLnBhcmVudCl0aHJvdyBuZXcgRXJyb3IoIllvdSBjYW4gb25seSBjYWxsIHJlbWVtYmVyIG9uIGEgdG9wIGxldmVsIEdVSS4iKTt2YXIgZT10aGlzO0tbImRlZmF1bHQiXS5lYWNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksZnVuY3Rpb24odCl7MD09ZS5fX3JlbWVtYmVyZWRPYmplY3RzLmxlbmd0aCYmZihlKSwtMT09ZS5fX3JlbWVtYmVyZWRPYmplY3RzLmluZGV4T2YodCkmJmUuX19yZW1lbWJlcmVkT2JqZWN0cy5wdXNoKHQpfSksdGhpcy5hdXRvUGxhY2UmJnAodGhpcyx0aGlzLndpZHRoKX0sZ2V0Um9vdDpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzO2UucGFyZW50OyllPWUucGFyZW50O3JldHVybiBlfSxnZXRTYXZlT2JqZWN0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sb2FkO3JldHVybiBlLmNsb3NlZD10aGlzLmNsb3NlZCx0aGlzLl9fcmVtZW1iZXJlZE9iamVjdHMubGVuZ3RoPjAmJihlLnByZXNldD10aGlzLnByZXNldCxlLnJlbWVtYmVyZWR8fChlLnJlbWVtYmVyZWQ9e30pLGUucmVtZW1iZXJlZFt0aGlzLnByZXNldF09Xyh0aGlzKSksZS5mb2xkZXJzPXt9LEtbImRlZmF1bHQiXS5lYWNoKHRoaXMuX19mb2xkZXJzLGZ1bmN0aW9uKHQsbil7ZS5mb2xkZXJzW25dPXQuZ2V0U2F2ZU9iamVjdCgpfSksZX0sc2F2ZTpmdW5jdGlvbigpe3RoaXMubG9hZC5yZW1lbWJlcmVkfHwodGhpcy5sb2FkLnJlbWVtYmVyZWQ9e30pLHRoaXMubG9hZC5yZW1lbWJlcmVkW3RoaXMucHJlc2V0XT1fKHRoaXMpLHIodGhpcywhMSksdGhpcy5zYXZlVG9Mb2NhbFN0b3JhZ2VJZlBvc3NpYmxlKCl9LHNhdmVBczpmdW5jdGlvbihlKXt0aGlzLmxvYWQucmVtZW1iZXJlZHx8KHRoaXMubG9hZC5yZW1lbWJlcmVkPXt9LHRoaXMubG9hZC5yZW1lbWJlcmVkW1pdPV8odGhpcywhMCkpLHRoaXMubG9hZC5yZW1lbWJlcmVkW2VdPV8odGhpcyksdGhpcy5wcmVzZXQ9ZSxkKHRoaXMsZSwhMCksdGhpcy5zYXZlVG9Mb2NhbFN0b3JhZ2VJZlBvc3NpYmxlKCl9LHJldmVydDpmdW5jdGlvbihlKXtLWyJkZWZhdWx0Il0uZWFjaCh0aGlzLl9fY29udHJvbGxlcnMsZnVuY3Rpb24odCl7dGhpcy5nZXRSb290KCkubG9hZC5yZW1lbWJlcmVkP3MoZXx8dGhpcy5nZXRSb290KCksdCk6dC5zZXRWYWx1ZSh0LmluaXRpYWxWYWx1ZSl9LHRoaXMpLEtbImRlZmF1bHQiXS5lYWNoKHRoaXMuX19mb2xkZXJzLGZ1bmN0aW9uKGUpe2UucmV2ZXJ0KGUpfSksZXx8cih0aGlzLmdldFJvb3QoKSwhMSl9LGxpc3RlbjpmdW5jdGlvbihlKXt2YXIgdD0wPT10aGlzLl9fbGlzdGVuaW5nLmxlbmd0aDt0aGlzLl9fbGlzdGVuaW5nLnB1c2goZSksdCYmZyh0aGlzLl9fbGlzdGVuaW5nKX19KSxlLmV4cG9ydHM9b2V9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSc8ZGl2IGlkPWRnLXNhdmUgY2xhc3M9ImRnIGRpYWxvZ3VlIj5IZXJlXCdzIHRoZSBuZXcgbG9hZCBwYXJhbWV0ZXIgZm9yIHlvdXIgPGNvZGU+R1VJPC9jb2RlPlwncyBjb25zdHJ1Y3Rvcjo8dGV4dGFyZWEgaWQ9ZGctbmV3LWNvbnN0cnVjdG9yPjwvdGV4dGFyZWE+PGRpdiBpZD1kZy1zYXZlLWxvY2FsbHk+PGlucHV0IGlkPWRnLWxvY2FsLXN0b3JhZ2UgdHlwZT0iY2hlY2tib3giPiBBdXRvbWF0aWNhbGx5IHNhdmUgdmFsdWVzIHRvIDxjb2RlPmxvY2FsU3RvcmFnZTwvY29kZT4gb24gZXhpdC48ZGl2IGlkPWRnLWxvY2FsLWV4cGxhaW4+VGhlIHZhbHVlcyBzYXZlZCB0byA8Y29kZT5sb2NhbFN0b3JhZ2U8L2NvZGU+IHdpbGwgb3ZlcnJpZGUgdGhvc2UgcGFzc2VkIHRvIDxjb2RlPmRhdC5HVUk8L2NvZGU+XCdzIGNvbnN0cnVjdG9yLiBUaGlzIG1ha2VzIGl0IGVhc2llciB0byB3b3JrIGluY3JlbWVudGFsbHksIGJ1dCA8Y29kZT5sb2NhbFN0b3JhZ2U8L2NvZGU+IGlzIGZyYWdpbGUsIGFuZCB5b3VyIGZyaWVuZHMgbWF5IG5vdCBzZWUgdGhlIHNhbWUgdmFsdWVzIHlvdSBkby48L2Rpdj48L2Rpdj48L2Rpdj4nfSxmdW5jdGlvbihlLHQsbil7dmFyIG89bigyNSk7InN0cmluZyI9PXR5cGVvZiBvJiYobz1bW2UuaWQsbywiIl1dKTtuKDE5KShvLHt9KTtvLmxvY2FscyYmKGUuZXhwb3J0cz1vLmxvY2Fscyl9LGZ1bmN0aW9uKGUsdCxuKXt0PWUuZXhwb3J0cz1uKDE4KSgpLHQucHVzaChbZS5pZCwiLmRnIHVse2xpc3Qtc3R5bGU6bm9uZTttYXJnaW46MDtwYWRkaW5nOjA7d2lkdGg6MTAwJTtjbGVhcjpib3RofS5kZy5hY3twb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtoZWlnaHQ6MDt6LWluZGV4OjB9LmRnOm5vdCguYWMpIC5tYWlue292ZXJmbG93OmhpZGRlbn0uZGcubWFpbnstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuMXMgbGluZWFyO3RyYW5zaXRpb246b3BhY2l0eSAuMXMgbGluZWFyfS5kZy5tYWluLnRhbGxlci10aGFuLXdpbmRvd3tvdmVyZmxvdy15OmF1dG99LmRnLm1haW4udGFsbGVyLXRoYW4td2luZG93IC5jbG9zZS1idXR0b257b3BhY2l0eToxO21hcmdpbi10b3A6LTFweDtib3JkZXItdG9wOjFweCBzb2xpZCAjMmMyYzJjfS5kZy5tYWluIHVsLmNsb3NlZCAuY2xvc2UtYnV0dG9ue29wYWNpdHk6MSFpbXBvcnRhbnR9LmRnLm1haW4gLmNsb3NlLWJ1dHRvbi5kcmFnLC5kZy5tYWluOmhvdmVyIC5jbG9zZS1idXR0b257b3BhY2l0eToxfS5kZy5tYWluIC5jbG9zZS1idXR0b257LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGxpbmVhcjt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGxpbmVhcjtib3JkZXI6MDtwb3NpdGlvbjphYnNvbHV0ZTtsaW5lLWhlaWdodDoxOXB4O2hlaWdodDoyMHB4O2N1cnNvcjpwb2ludGVyO3RleHQtYWxpZ246Y2VudGVyO2JhY2tncm91bmQtY29sb3I6IzAwMH0uZGcubWFpbiAuY2xvc2UtYnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzExMX0uZGcuYXtmbG9hdDpyaWdodDttYXJnaW4tcmlnaHQ6MTVweDtvdmVyZmxvdy14OmhpZGRlbn0uZGcuYS5oYXMtc2F2ZT51bHttYXJnaW4tdG9wOjI3cHh9LmRnLmEuaGFzLXNhdmU+dWwuY2xvc2Vke21hcmdpbi10b3A6MH0uZGcuYSAuc2F2ZS1yb3d7cG9zaXRpb246Zml4ZWQ7dG9wOjA7ei1pbmRleDoxMDAyfS5kZyBsaXstd2Via2l0LXRyYW5zaXRpb246aGVpZ2h0IC4xcyBlYXNlLW91dDt0cmFuc2l0aW9uOmhlaWdodCAuMXMgZWFzZS1vdXR9LmRnIGxpOm5vdCguZm9sZGVyKXtjdXJzb3I6YXV0bztoZWlnaHQ6MjdweDtsaW5lLWhlaWdodDoyN3B4O292ZXJmbG93OmhpZGRlbjtwYWRkaW5nOjAgNHB4IDAgNXB4fS5kZyBsaS5mb2xkZXJ7cGFkZGluZzowO2JvcmRlci1sZWZ0OjRweCBzb2xpZCB0cmFuc3BhcmVudH0uZGcgbGkudGl0bGV7Y3Vyc29yOnBvaW50ZXI7bWFyZ2luLWxlZnQ6LTRweH0uZGcgLmNsb3NlZCBsaTpub3QoLnRpdGxlKSwuZGcgLmNsb3NlZCB1bCBsaSwuZGcgLmNsb3NlZCB1bCBsaT4qe2hlaWdodDowO292ZXJmbG93OmhpZGRlbjtib3JkZXI6MH0uZGcgLmNye2NsZWFyOmJvdGg7cGFkZGluZy1sZWZ0OjNweDtoZWlnaHQ6MjdweH0uZGcgLnByb3BlcnR5LW5hbWV7Y3Vyc29yOmRlZmF1bHQ7ZmxvYXQ6bGVmdDtjbGVhcjpsZWZ0O3dpZHRoOjQwJTtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpc30uZGcgLmN7ZmxvYXQ6bGVmdDt3aWR0aDo2MCV9LmRnIC5jIGlucHV0W3R5cGU9dGV4dF17Ym9yZGVyOjA7bWFyZ2luLXRvcDo0cHg7cGFkZGluZzozcHg7d2lkdGg6MTAwJTtmbG9hdDpyaWdodH0uZGcgLmhhcy1zbGlkZXIgaW5wdXRbdHlwZT10ZXh0XXt3aWR0aDozMCU7bWFyZ2luLWxlZnQ6MH0uZGcgLnNsaWRlcntmbG9hdDpsZWZ0O3dpZHRoOjY2JTttYXJnaW4tbGVmdDotNXB4O21hcmdpbi1yaWdodDowO2hlaWdodDoxOXB4O21hcmdpbi10b3A6NHB4fS5kZyAuc2xpZGVyLWZne2hlaWdodDoxMDAlfS5kZyAuYyBpbnB1dFt0eXBlPWNoZWNrYm94XXttYXJnaW4tdG9wOjlweH0uZGcgLmMgc2VsZWN0e21hcmdpbi10b3A6NXB4fS5kZyAuY3IuYm9vbGVhbiwuZGcgLmNyLmJvb2xlYW4gKiwuZGcgLmNyLmZ1bmN0aW9uLC5kZyAuY3IuZnVuY3Rpb24gKiwuZGcgLmNyLmZ1bmN0aW9uIC5wcm9wZXJ0eS1uYW1le2N1cnNvcjpwb2ludGVyfS5kZyAuc2VsZWN0b3J7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi1sZWZ0Oi05cHg7bWFyZ2luLXRvcDoyM3B4O3otaW5kZXg6MTB9LmRnIC5jOmhvdmVyIC5zZWxlY3RvciwuZGcgLnNlbGVjdG9yLmRyYWd7ZGlzcGxheTpibG9ja30uZGcgbGkuc2F2ZS1yb3d7cGFkZGluZzowfS5kZyBsaS5zYXZlLXJvdyAuYnV0dG9ue2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmc6MCA2cHh9LmRnLmRpYWxvZ3Vle2JhY2tncm91bmQtY29sb3I6IzIyMjt3aWR0aDo0NjBweDtwYWRkaW5nOjE1cHg7Zm9udC1zaXplOjEzcHg7bGluZS1oZWlnaHQ6MTVweH0jZGctbmV3LWNvbnN0cnVjdG9ye3BhZGRpbmc6MTBweDtjb2xvcjojMjIyO2ZvbnQtZmFtaWx5Ok1vbmFjbyxtb25vc3BhY2U7Zm9udC1zaXplOjEwcHg7Ym9yZGVyOjA7cmVzaXplOm5vbmU7Ym94LXNoYWRvdzppbnNldCAxcHggMXB4IDFweCAjODg4O3dvcmQtd3JhcDpicmVhay13b3JkO21hcmdpbjo5cHQgMDtkaXNwbGF5OmJsb2NrO3dpZHRoOjQ0MHB4O292ZXJmbG93LXk6c2Nyb2xsO2hlaWdodDo3NXB0O3Bvc2l0aW9uOnJlbGF0aXZlfSNkZy1sb2NhbC1leHBsYWlue2Rpc3BsYXk6bm9uZTtmb250LXNpemU6MTFweDtsaW5lLWhlaWdodDoxN3B4O2JvcmRlci1yYWRpdXM6M3B4O2JhY2tncm91bmQtY29sb3I6IzMzMztwYWRkaW5nOjhweDttYXJnaW4tdG9wOjEwcHh9I2RnLWxvY2FsLWV4cGxhaW4gY29kZXtmb250LXNpemU6MTBweH0jZGF0LWd1aS1zYXZlLWxvY2FsbHl7ZGlzcGxheTpub25lfS5kZ3tjb2xvcjojZWVlO2ZvbnQ6MTFweCAnTHVjaWRhIEdyYW5kZScsc2Fucy1zZXJpZjt0ZXh0LXNoYWRvdzowIC0xcHggMCAjMTExfS5kZy5tYWluOjotd2Via2l0LXNjcm9sbGJhcnt3aWR0aDo1cHg7YmFja2dyb3VuZDojMWExYTFhfS5kZy5tYWluOjotd2Via2l0LXNjcm9sbGJhci1jb3JuZXJ7aGVpZ2h0OjA7ZGlzcGxheTpub25lfS5kZy5tYWluOjotd2Via2l0LXNjcm9sbGJhci10aHVtYntib3JkZXItcmFkaXVzOjVweDtiYWNrZ3JvdW5kOiM2NzY3Njd9LmRnIGxpOm5vdCguZm9sZGVyKXtiYWNrZ3JvdW5kOiMxYTFhMWE7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzJjMmMyY30uZGcgbGkuc2F2ZS1yb3d7bGluZS1oZWlnaHQ6MjVweDtiYWNrZ3JvdW5kOiNkYWQ1Y2I7Ym9yZGVyOjB9LmRnIGxpLnNhdmUtcm93IHNlbGVjdHttYXJnaW4tbGVmdDo1cHg7d2lkdGg6ODFwdH0uZGcgbGkuc2F2ZS1yb3cgLmJ1dHRvbnttYXJnaW4tbGVmdDo1cHg7bWFyZ2luLXRvcDoxcHg7Ym9yZGVyLXJhZGl1czoycHg7Zm9udC1zaXplOjlweDtsaW5lLWhlaWdodDo3cHg7cGFkZGluZzo0cHggNHB4IDVweDtiYWNrZ3JvdW5kOiNjNWJkYWQ7Y29sb3I6I2ZmZjt0ZXh0LXNoYWRvdzowIDFweCAwICNiMGE1OGY7Ym94LXNoYWRvdzowIC0xcHggMCAjYjBhNThmO2N1cnNvcjpwb2ludGVyfS5kZyBsaS5zYXZlLXJvdyAuYnV0dG9uLmdlYXJze2JhY2tncm91bmQ6I2M1YmRhZCB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBc0FBQUFOQ0FZQUFBQi85WlE3QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFRSkpSRUZVZU5waVlLQVUvUC8vUHdHSUMvQXBDQUJpQlNBVytJOEFDbEFjZ0t4UTRUOWhvTUFFVXJ4eDJRU0dONitlZ0RYKy92V1Q0ZTdOODJBTVlvUEF4L2V2d1dvWW9TWWJBQ1gyczdLeEN4emNzZXpEaDNldkZvREVCWVRFRXF5Y2dnV0F6QTlBdVVTUVFnZVlQYTlmUHY2L1lXbS9BY3g1SVBiN3R5L2Z3K1FaYmx3Njd2RHM4UjBZSHlRaGdPYngreUFKa0JxbUc1ZFBQRGgxYVBPR1IvZXVnVzBHNHZsSW9USWZ5RmNBK1Fla2hoSEpoUGRReGJpQUlndU1CVFFaclBENzEwOE02cm9XWURGUWlJQUF2NkFvdy8xYkZ3WGdpcytmMkxVQXlud29JYU5jejhYTngzRGw3TUVKVURHUXB4OWd0UThZQ3VlQitEMjZPRUNBQVFEYWR0N2U0NkQ0MlFBQUFBQkpSVTVFcmtKZ2dnPT0pIDJweCAxcHggbm8tcmVwZWF0O2hlaWdodDo3cHg7d2lkdGg6OHB4fS5kZyBsaS5zYXZlLXJvdyAuYnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2JhYjE5ZTtib3gtc2hhZG93OjAgLTFweCAwICNiMGE1OGZ9LmRnIGxpLmZvbGRlcntib3JkZXItYm90dG9tOjB9LmRnIGxpLnRpdGxle3BhZGRpbmctbGVmdDoxcGM7YmFja2dyb3VuZDojMDAwIHVybChkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhCUUFGQUpFQUFQLy8vL1B6OC8vLy8vLy8veUg1QkFFQUFBSUFMQUFBQUFBRkFBVUFBQUlJbEkraEtnRnhvQ2dBT3c9PSkgNnB4IDEwcHggbm8tcmVwZWF0O2N1cnNvcjpwb2ludGVyO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIGhzbGEoMCwwJSwxMDAlLC4yKX0uZGcgLmNsb3NlZCBsaS50aXRsZXtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhCUUFGQUpFQUFQLy8vL1B6OC8vLy8vLy8veUg1QkFFQUFBSUFMQUFBQUFBRkFBVUFBQUlJbEdJV3FNQ2JXQUVBT3c9PSl9LmRnIC5jci5ib29sZWFue2JvcmRlci1sZWZ0OjNweCBzb2xpZCAjODA2Nzg3fS5kZyAuY3IuY29sb3J7Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkfS5kZyAuY3IuZnVuY3Rpb257Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkICNlNjFkNWZ9LmRnIC5jci5udW1iZXJ7Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkICMyZmExZDZ9LmRnIC5jci5udW1iZXIgaW5wdXRbdHlwZT10ZXh0XXtjb2xvcjojMmZhMWQ2fS5kZyAuY3Iuc3RyaW5ne2JvcmRlci1sZWZ0OjNweCBzb2xpZCAjMWVkMzZmfS5kZyAuY3Iuc3RyaW5nIGlucHV0W3R5cGU9dGV4dF17Y29sb3I6IzFlZDM2Zn0uZGcgLmNyLmJvb2xlYW46aG92ZXIsLmRnIC5jci5mdW5jdGlvbjpob3ZlcntiYWNrZ3JvdW5kOiMxMTF9LmRnIC5jIGlucHV0W3R5cGU9dGV4dF17YmFja2dyb3VuZDojMzAzMDMwO291dGxpbmU6MH0uZGcgLmMgaW5wdXRbdHlwZT10ZXh0XTpob3ZlcntiYWNrZ3JvdW5kOiMzYzNjM2N9LmRnIC5jIGlucHV0W3R5cGU9dGV4dF06Zm9jdXN7YmFja2dyb3VuZDojNDk0OTQ5O2NvbG9yOiNmZmZ9LmRnIC5jIC5zbGlkZXJ7YmFja2dyb3VuZDojMzAzMDMwO2N1cnNvcjpldy1yZXNpemV9LmRnIC5jIC5zbGlkZXItZmd7YmFja2dyb3VuZDojMmZhMWQ2fS5kZyAuYyAuc2xpZGVyOmhvdmVye2JhY2tncm91bmQ6IzNjM2MzY30uZGcgLmMgLnNsaWRlcjpob3ZlciAuc2xpZGVyLWZne2JhY2tncm91bmQ6IzQ0YWJkYX0iLCIiXSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIGk9bigxMCkscj1vKGkpLGE9bigxMykscz1vKGEpLGw9bigxNCksdT1vKGwpLGQ9bigxMSksYz1vKGQpLGY9bigyMCksaD1vKGYpLHA9big4KSxfPW8ocCksbT1uKDUpLGc9byhtKSxiPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZVt0XTtyZXR1cm4gZ1siZGVmYXVsdCJdLmlzQXJyYXkoYXJndW1lbnRzWzJdKXx8Z1siZGVmYXVsdCJdLmlzT2JqZWN0KGFyZ3VtZW50c1syXSk/bmV3IHJbImRlZmF1bHQiXShlLHQsYXJndW1lbnRzWzJdKTpnWyJkZWZhdWx0Il0uaXNOdW1iZXIobik/Z1siZGVmYXVsdCJdLmlzTnVtYmVyKGFyZ3VtZW50c1syXSkmJmdbImRlZmF1bHQiXS5pc051bWJlcihhcmd1bWVudHNbM10pP2dbImRlZmF1bHQiXS5pc051bWJlcihhcmd1bWVudHNbNF0pP25ldyB1WyJkZWZhdWx0Il0oZSx0LGFyZ3VtZW50c1syXSxhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdKTpuZXcgdVsiZGVmYXVsdCJdKGUsdCxhcmd1bWVudHNbMl0sYXJndW1lbnRzWzNdKTpuZXcgc1siZGVmYXVsdCJdKGUsdCx7bWluOmFyZ3VtZW50c1syXSxtYXg6YXJndW1lbnRzWzNdfSk6Z1siZGVmYXVsdCJdLmlzU3RyaW5nKG4pP25ldyBjWyJkZWZhdWx0Il0oZSx0KTpnWyJkZWZhdWx0Il0uaXNGdW5jdGlvbihuKT9uZXcgaFsiZGVmYXVsdCJdKGUsdCwiIik6Z1siZGVmYXVsdCJdLmlzQm9vbGVhbihuKT9uZXcgX1siZGVmYXVsdCJdKGUsdCk6dm9pZCAwfTt0WyJkZWZhdWx0Il09YixlLmV4cG9ydHM9dFsiZGVmYXVsdCJdfSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdFsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt3aW5kb3cuc2V0VGltZW91dChlLDFlMy82MCl9cmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGV9LGUuZXhwb3J0cz10WyJkZWZhdWx0Il19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9dC5fX2VzTW9kdWxlPSEwO3ZhciByPW4oOSksYT1vKHIpLHM9big1KSxsPW8ocyksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpKHRoaXMsZSksdGhpcy5iYWNrZ3JvdW5kRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxsWyJkZWZhdWx0Il0uZXh0ZW5kKHRoaXMuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUse2JhY2tncm91bmRDb2xvcjoicmdiYSgwLDAsMCwwLjgpIix0b3A6MCxsZWZ0OjAsZGlzcGxheToibm9uZSIsekluZGV4OiIxMDAwIixvcGFjaXR5OjAsV2Via2l0VHJhbnNpdGlvbjoib3BhY2l0eSAwLjJzIGxpbmVhciIsdHJhbnNpdGlvbjoib3BhY2l0eSAwLjJzIGxpbmVhciJ9KSxhWyJkZWZhdWx0Il0ubWFrZUZ1bGxzY3JlZW4odGhpcy5iYWNrZ3JvdW5kRWxlbWVudCksdGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5wb3NpdGlvbj0iZml4ZWQiLHRoaXMuZG9tRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxsWyJkZWZhdWx0Il0uZXh0ZW5kKHRoaXMuZG9tRWxlbWVudC5zdHlsZSx7cG9zaXRpb246ImZpeGVkIixkaXNwbGF5OiJub25lIix6SW5kZXg6IjEwMDEiLG9wYWNpdHk6MCxXZWJraXRUcmFuc2l0aW9uOiItd2Via2l0LXRyYW5zZm9ybSAwLjJzIGVhc2Utb3V0LCBvcGFjaXR5IDAuMnMgbGluZWFyIix0cmFuc2l0aW9uOiJ0cmFuc2Zvcm0gMC4ycyBlYXNlLW91dCwgb3BhY2l0eSAwLjJzIGxpbmVhciJ9KSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuYmFja2dyb3VuZEVsZW1lbnQpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kb21FbGVtZW50KTt2YXIgdD10aGlzO2FbImRlZmF1bHQiXS5iaW5kKHRoaXMuYmFja2dyb3VuZEVsZW1lbnQsImNsaWNrIixmdW5jdGlvbigpe3QuaGlkZSgpfSl9cmV0dXJuIGUucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUuZGlzcGxheT0iYmxvY2siLHRoaXMuZG9tRWxlbWVudC5zdHlsZS5kaXNwbGF5PSJibG9jayIsdGhpcy5kb21FbGVtZW50LnN0eWxlLm9wYWNpdHk9MCx0aGlzLmRvbUVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtPSJzY2FsZSgxLjEpIix0aGlzLmxheW91dCgpLGxbImRlZmF1bHQiXS5kZWZlcihmdW5jdGlvbigpe2UuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUub3BhY2l0eT0xLGUuZG9tRWxlbWVudC5zdHlsZS5vcGFjaXR5PTEsZS5kb21FbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zZm9ybT0ic2NhbGUoMSkifSl9LGUucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXMsdD1mdW5jdGlvbiBuKCl7ZS5kb21FbGVtZW50LnN0eWxlLmRpc3BsYXk9Im5vbmUiLGUuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUuZGlzcGxheT0ibm9uZSIsYVsiZGVmYXVsdCJdLnVuYmluZChlLmRvbUVsZW1lbnQsIndlYmtpdFRyYW5zaXRpb25FbmQiLG4pLGFbImRlZmF1bHQiXS51bmJpbmQoZS5kb21FbGVtZW50LCJ0cmFuc2l0aW9uZW5kIixuKSxhWyJkZWZhdWx0Il0udW5iaW5kKGUuZG9tRWxlbWVudCwib1RyYW5zaXRpb25FbmQiLG4pfTthWyJkZWZhdWx0Il0uYmluZCh0aGlzLmRvbUVsZW1lbnQsIndlYmtpdFRyYW5zaXRpb25FbmQiLHQpLGFbImRlZmF1bHQiXS5iaW5kKHRoaXMuZG9tRWxlbWVudCwidHJhbnNpdGlvbmVuZCIsdCksYVsiZGVmYXVsdCJdLmJpbmQodGhpcy5kb21FbGVtZW50LCJvVHJhbnNpdGlvbkVuZCIsdCksdGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5vcGFjaXR5PTAsdGhpcy5kb21FbGVtZW50LnN0eWxlLm9wYWNpdHk9MCx0aGlzLmRvbUVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtPSJzY2FsZSgxLjEpIn0sZS5wcm90b3R5cGUubGF5b3V0PWZ1bmN0aW9uKCl7dGhpcy5kb21FbGVtZW50LnN0eWxlLmxlZnQ9d2luZG93LmlubmVyV2lkdGgvMi1hWyJkZWZhdWx0Il0uZ2V0V2lkdGgodGhpcy5kb21FbGVtZW50KS8yKyJweCIsdGhpcy5kb21FbGVtZW50LnN0eWxlLnRvcD13aW5kb3cuaW5uZXJIZWlnaHQvMi1hWyJkZWZhdWx0Il0uZ2V0SGVpZ2h0KHRoaXMuZG9tRWxlbWVudCkvMisicHgifSxlfSgpO3RbImRlZmF1bHQiXT11LGUuZXhwb3J0cz10WyJkZWZhdWx0Il19XSl9KTsKCi8qKiovIH0sCi8qIDYgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJbW9kdWxlLmV4cG9ydHMgPSAiLypcbipcdE1hdHRlclRvb2xzLkd1aVxuKi9cblxuYm9keSAuZGcgLmMsXG5ib2R5IC5kZyAuY3IuZnVuY3Rpb24sXG5ib2R5IC5kZyAuYyBzZWxlY3QsXG5ib2R5IC5kZyAucHJvcGVydHktbmFtZSxcbmJvZHkgLmRnIC50aXRsZSB7XG4gIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lO1xuICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XG4gIHVzZXItc2VsZWN0OiBub25lO1xufVxuXG5ib2R5IC5kZy5tYWluIHtcbiAgei1pbmRleDogMTA7XG4gIGJveC1zaGFkb3c6IDAgMCAzMHB4IHJnYmEoMCwwLDAsMC4yKTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kOiByZ2IoMjgsIDI5LCA0Nyk7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbn1cblxuYm9keSAuZGcuYWMge1xuICBwb3NpdGlvbjogc3RhdGljO1xuICB0b3A6IGluaGVyaXQ7XG4gIGxlZnQ6IGluaGVyaXQ7XG4gIGJvdHRvbTogaW5oZXJpdDtcbiAgcmlnaHQ6IGluaGVyaXQ7XG59XG5cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aCA6IDE1MDBweCkge1xuICBib2R5IC5kZy5tYWluIHtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgyMzBweCwgMCk7XG4gIH1cblxuICBib2R5IC5kZy5tYWluOmhvdmVyIHtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAwKTtcbiAgfVxuXG4gIGJvZHkgLmRnLm1haW4ge1xuICAgIC13ZWJraXQtdHJhbnNpdGlvbjogdHJhbnNmb3JtIDUwMG1zIGN1YmljLWJlemllcigwLjk2NSwgMC4wMjUsIDAuNzM1LCAwLjQxNSk7IFxuICAgICAgICAtbW96LXRyYW5zaXRpb246IHRyYW5zZm9ybSA1MDBtcyBjdWJpYy1iZXppZXIoMC45NjUsIDAuMDI1LCAwLjczNSwgMC40MTUpOyBcbiAgICAgICAgLW8tdHJhbnNpdGlvbjogdHJhbnNmb3JtIDUwMG1zIGN1YmljLWJlemllcigwLjk2NSwgMC4wMjUsIDAuNzM1LCAwLjQxNSk7IFxuICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gNTAwbXMgY3ViaWMtYmV6aWVyKDAuOTY1LCAwLjAyNSwgMC43MzUsIDAuNDE1KTtcblxuICAgIC13ZWJraXQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjk2NSwgMC4wMjUsIDAuNzM1LCAwLjQxNSk7IFxuICAgICAgICAtbW96LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC45NjUsIDAuMDI1LCAwLjczNSwgMC40MTUpOyBcbiAgICAgICAgLW8tdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjk2NSwgMC4wMjUsIDAuNzM1LCAwLjQxNSk7IFxuICAgICAgICB0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuOTY1LCAwLjAyNSwgMC43MzUsIDAuNDE1KTtcbiAgICBcbiAgICB0cmFuc2l0aW9uLWRlbGF5OiAycztcbiAgICAtd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6IDJzO1xuICB9XG5cbiAgYm9keSAuZGcubWFpbjpob3ZlciB7XG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOiB0cmFuc2Zvcm0gNTAwbXMgY3ViaWMtYmV6aWVyKDAuMDk1LCAwLjY2NSwgMC40MDAsIDAuODM1KTsgXG4gICAgICAgIC1tb3otdHJhbnNpdGlvbjogdHJhbnNmb3JtIDUwMG1zIGN1YmljLWJlemllcigwLjA5NSwgMC42NjUsIDAuNDAwLCAwLjgzNSk7IFxuICAgICAgICAtby10cmFuc2l0aW9uOiB0cmFuc2Zvcm0gNTAwbXMgY3ViaWMtYmV6aWVyKDAuMDk1LCAwLjY2NSwgMC40MDAsIDAuODM1KTsgXG4gICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSA1MDBtcyBjdWJpYy1iZXppZXIoMC4wOTUsIDAuNjY1LCAwLjQwMCwgMC44MzUpO1xuXG4gICAgLXdlYmtpdC10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMDk1LCAwLjY2NSwgMC40MDAsIDAuODM1KTsgXG4gICAgICAgIC1tb3otdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjA5NSwgMC42NjUsIDAuNDAwLCAwLjgzNSk7IFxuICAgICAgICAtby10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMDk1LCAwLjY2NSwgMC40MDAsIDAuODM1KTsgXG4gICAgICAgIHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4wOTUsIDAuNjY1LCAwLjQwMCwgMC44MzUpO1xuXG4gICAgdHJhbnNpdGlvbi1kZWxheTogMDtcbiAgICAtd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6IDA7XG4gIH1cbn1cblxuYm9keSAuZGcubWFpbiAuY2xvc2UtYnV0dG9uIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cblxuYm9keSAuZGcubWFpbjo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICBiYWNrZ3JvdW5kOiAjMWMxYzI1O1xuICB3aWR0aDogMTJweDtcbn1cblxuYm9keSAuZGcubWFpbjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgd2lkdGg6IDVweDtcbiAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgYm9yZGVyLXJpZ2h0OiA2cHggc29saWQgIzJhMmEzMTtcbiAgYm9yZGVyLXJhZGl1czogMDtcbn1cbiBcbmJvZHkgLmRnIHtcbiAgY29sb3I6ICM5MTk2YWQ7XG4gIHRleHQtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG59XG5cbmJvZHkgLmRnIGxpOm5vdCguZm9sZGVyKSB7XG4gIGhlaWdodDogMjhweDtcbiAgYmFja2dyb3VuZDogIzFjMWMyNTtcbiAgYm9yZGVyLWJvdHRvbTogMHB4O1xuICBwYWRkaW5nOiAwIDAgMCAxMnB4O1xufVxuIFxuYm9keSAuZGcgbGkuc2F2ZS1yb3cgLmJ1dHRvbiB7XG4gIHRleHQtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG59XG5cbmJvZHkgLmRnIGxpLnRpdGxlIHtcbiAgcGFkZGluZy1sZWZ0OiAyMnB4O1xuICBjb2xvcjogIzZmNzM4ODtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMyOTI5MmQ7XG4gIGJhY2tncm91bmQ6ICMwZDBmMWIgdXJsKGRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEJRQUZBSkVBQVAvLy8vUHo4Ly8vLy8vLy95SDVCQUVBQUFJQUxBQUFBQUFGQUFVQUFBSUlsSStoS2dGeG9DZ0FPdz09KSAxMHB4IDEwcHggbm8tcmVwZWF0O1xufVxuXG5ib2R5IC5kZyAuY3IuYm9vbGVhbjpob3ZlciB7XG4gIGJhY2tncm91bmQ6ICMyMzI0MzE7XG59XG5cbmJvZHkgLmRnIC5jci5mdW5jdGlvbiB7XG4gIGJhY2tncm91bmQ6ICMyNjI3MzE7XG4gIGNvbG9yOiAjNmQ3MDgyO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzIyMjUzNTtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMzYzNlNDg7XG59XG5cbmJvZHkgLmRnIC5jci5mdW5jdGlvbjpob3ZlciB7XG4gIGJhY2tncm91bmQ6ICMzMDMxM2U7XG59XG5cbmJvZHkgLmRnIC5jci5mdW5jdGlvbjphY3RpdmUge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMXB4KTtcbn1cblxuYm9keSAuZGcgLmMsXG5ib2R5IC5kZyAucHJvcGVydHktbmFtZSB7XG4gIHdpZHRoOiA1MCU7XG59XG5cbmJvZHkgLmRnIC5jIHNlbGVjdCB7XG4gIG1hcmdpbi10b3A6IDJweDtcbiAgbWFyZ2luLWxlZnQ6IC01cHg7XG4gIHBhZGRpbmc6IDNweCA1cHg7XG59XG5cbmJvZHkgLmRnIC5jIHNlbGVjdCxcbmJvZHkgLmRnIC5jIGlucHV0W3R5cGU9dGV4dF0sXG5ib2R5IC5kZyAuY3IubnVtYmVyIGlucHV0W3R5cGU9dGV4dF0ge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgYmFja2dyb3VuZDogIzE5MWEyMztcbiAgY29sb3I6ICM2ODZjN2I7XG4gIGJvcmRlcjogMDtcbiAgZm9udC1zaXplOiAxMHB4O1xufVxuXG5ib2R5IC5kZyAuY3IubnVtYmVyLFxuYm9keSAuZGcgLmNyLmJvb2xlYW4sXG5ib2R5IC5kZyAuY3IuZnVuY3Rpb24ge1xuICBib3JkZXItbGVmdDogMDtcbn1cblxuYm9keSAuZGcgLmMgc2VsZWN0LFxuYm9keSAuZGcgLmMgc2VsZWN0OmZvY3VzIHtcbiAgd2lkdGg6IDg4cHg7XG4gIG91dGxpbmU6IDA7XG59XG4gXG5ib2R5IC5kZyAuYyBpbnB1dFt0eXBlPXRleHRdOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogIzFjMWQyZjtcbn1cbiBcbmJvZHkgLmRnIC5jIGlucHV0W3R5cGU9dGV4dF06Zm9jdXMge1xuICBiYWNrZ3JvdW5kOiAjMWMxZDJmO1xuICBjb2xvcjogI2ZmZjtcbn1cblxuYm9keSAuZGcgLmMgaW5wdXRbdHlwZT1jaGVja2JveF0ge1xuICBtYXJnaW4tdG9wOiA5cHg7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBhcHBlYXJhbmNlOiBub25lO1xuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XG4gIC1tb3otYXBwZWFyYW5jZTogbm9uZTtcbiAgYmFja2dyb3VuZDogIzM1MzYzZTtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMHB4O1xuICBoZWlnaHQ6IDEwcHg7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuYm9keSAuZGcgLmMgaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCB7XG4gIGJhY2tncm91bmQ6ICM1YjVlNmI7XG59XG5cbmJvZHkgLmRnIC5jIGlucHV0W3R5cGU9Y2hlY2tib3hdOmZvY3VzIHtcbiAgb3V0bGluZTogbm9uZTtcbn1cbiBcbmJvZHkgLmRnIC5jIC5zbGlkZXIge1xuICBiYWNrZ3JvdW5kOiAjMjUyNzMxO1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBib3gtc2hhZG93OiBub25lO1xuICBwYWRkaW5nOiAwO1xufVxuXG5ib2R5IC5kZyAuYyAuc2xpZGVyOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogIzI4MmIzYTtcbn1cblxuYm9keSAuZGcgLmMgLnNsaWRlci1mZyB7XG4gIGJhY2tncm91bmQ6ICMzMjM2NGE7XG4gIGJvcmRlci1yYWRpdXM6IDA7XG4gIG1hcmdpbi1sZWZ0OiAwO1xuICBwYWRkaW5nLXJpZ2h0OiAwO1xufVxuXG5ib2R5IC5kZyAuYyAuc2xpZGVyLWZnOmFmdGVyIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cblxuYm9keSAuZGcgLmMgLnNsaWRlcjpob3ZlciAuc2xpZGVyLWZnIHtcbiAgYmFja2dyb3VuZDogIzRkNTI2Yjtcbn1cblxuYm9keSAuZGcgbGkuZm9sZGVyIHtcbiAgYm9yZGVyLWxlZnQ6IDA7XG59XG5cbmJvZHkgLmRnLmEge1xuICBtYXJnaW4tcmlnaHQ6IDA7XG59IgoKLyoqKi8gfQovKioqKioqLyBdKQp9KTsKOw==","options":{"isTrashed":false},"credits":[]},{"name":"lib/matter-tools.inspector.js","type":"application/javascript","lastModified":1492756455000,"composed":"LyohCiAqIG1hdHRlci10b29scyAwLjkuMSBieSBMaWFtIEJydW1taXR0IDIwMTctMDEtMjYKICogaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItdG9vbHMKICogTGljZW5zZSBNSVQKICovCihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7CglpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpCgkJbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoIk1hdHRlciIpLCByZXF1aXJlKCJNYXR0ZXJUb29scyIpLCByZXF1aXJlKCJqUXVlcnkiKSk7CgllbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkKCQlkZWZpbmUoWyJNYXR0ZXIiLCAiTWF0dGVyVG9vbHMiLCAialF1ZXJ5Il0sIGZhY3RvcnkpOwoJZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpCgkJZXhwb3J0c1siSW5zcGVjdG9yIl0gPSBmYWN0b3J5KHJlcXVpcmUoIk1hdHRlciIpLCByZXF1aXJlKCJNYXR0ZXJUb29scyIpLCByZXF1aXJlKCJqUXVlcnkiKSk7CgllbHNlCgkJcm9vdFsiTWF0dGVyVG9vbHMiXSA9IHJvb3RbIk1hdHRlclRvb2xzIl0gfHwge30sIHJvb3RbIk1hdHRlclRvb2xzIl1bIkluc3BlY3RvciJdID0gZmFjdG9yeShyb290WyJNYXR0ZXIiXSwgcm9vdFsiTWF0dGVyVG9vbHMiXSwgcm9vdFsialF1ZXJ5Il0pOwp9KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8yX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfN19fKSB7CnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwCi8qKioqKiovIAkvLyBUaGUgbW9kdWxlIGNhY2hlCi8qKioqKiovIAl2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9OwoKLyoqKioqKi8gCS8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uCi8qKioqKiovIAlmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7CgovKioqKioqLyAJCS8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZQovKioqKioqLyAJCWlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKQovKioqKioqLyAJCQlyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0czsKCi8qKioqKiovIAkJLy8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSkKLyoqKioqKi8gCQl2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7Ci8qKioqKiovIAkJCWV4cG9ydHM6IHt9LAovKioqKioqLyAJCQlpZDogbW9kdWxlSWQsCi8qKioqKiovIAkJCWxvYWRlZDogZmFsc2UKLyoqKioqKi8gCQl9OwoKLyoqKioqKi8gCQkvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb24KLyoqKioqKi8gCQltb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTsKCi8qKioqKiovIAkJLy8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZAovKioqKioqLyAJCW1vZHVsZS5sb2FkZWQgPSB0cnVlOwoKLyoqKioqKi8gCQkvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZQovKioqKioqLyAJCXJldHVybiBtb2R1bGUuZXhwb3J0czsKLyoqKioqKi8gCX0KCgovKioqKioqLyAJLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXykKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7CgovKioqKioqLyAJLy8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGUKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7CgovKioqKioqLyAJLy8gX193ZWJwYWNrX3B1YmxpY19wYXRoX18KLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ucCA9ICIvZGVtby9saWIiOwoKLyoqKioqKi8gCS8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0cwovKioqKioqLyAJcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7Ci8qKioqKiovIH0pCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qKioqKiovIChbCi8qIDAgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJInVzZSBzdHJpY3QiOwoKCS8qKgoJICogQSB0b29sIGZvciBpbnNwZWN0aW5nIHdvcmxkcy4KCSAqIEBtb2R1bGUgSW5zcGVjdG9yCgkgKi8KCgl2YXIgSW5zcGVjdG9yID0gbW9kdWxlLmV4cG9ydHMgPSB7fTsKCXZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTsKCV9fd2VicGFja19yZXF1aXJlX18oOCk7Cgl2YXIgVG9vbHNDb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpOwoJdmFyIFNlcmlhbGl6ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpLlNlcmlhbGl6ZXI7Cgl2YXIga20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpOwoJdmFyIE1hdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7Cgl2YXIgQm9keSA9IE1hdHRlci5Cb2R5OwoJdmFyIEJvdW5kcyA9IE1hdHRlci5Cb3VuZHM7Cgl2YXIgQ29tcG9zaXRlID0gTWF0dGVyLkNvbXBvc2l0ZTsKCXZhciBDb21tb24gPSBNYXR0ZXIuQ29tbW9uOwoJdmFyIEV2ZW50cyA9IE1hdHRlci5FdmVudHM7Cgl2YXIgTW91c2UgPSBNYXR0ZXIuTW91c2U7Cgl2YXIgUXVlcnkgPSBNYXR0ZXIuUXVlcnk7Cgl2YXIgVmVydGljZXMgPSBNYXR0ZXIuVmVydGljZXM7Cgl2YXIgVmVjdG9yID0gTWF0dGVyLlZlY3RvcjsKCXZhciBNb3VzZUNvbnN0cmFpbnQgPSBNYXR0ZXIuTW91c2VDb25zdHJhaW50OwoKCXZhciAkYm9keTsKCgkvKioKCSAqIENyZWF0ZXMgYW4gaW5zcGVjdG9yCgkgKiBAZnVuY3Rpb24gR3VpLmNyZWF0ZQoJICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZQoJICogQHBhcmFtIHtyZW5kZXJ9IFtyZW5kZXJdCgkgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucwoJICogQHJldHVybiB7aW5zcGVjdG9yfSBUaGUgY3JlYXRlZCBpbnNwZWN0b3IgaW5zdGFuY2UuCgkgKi8KCUluc3BlY3Rvci5jcmVhdGUgPSBmdW5jdGlvbiAoZW5naW5lLCByZW5kZXIsIG9wdGlvbnMpIHsKCSAgaWYgKCEkKSB7CgkgICAgY29uc29sZS5sb2coJ0NvdWxkIG5vdCBjcmVhdGUgaW5zcGVjdG9yLCBtaXNzaW5nIGpRdWVyeS4nKTsKCSAgICByZXR1cm47CgkgIH0KCgkgIHZhciBpbnNwZWN0b3IgPSB7CgkgICAgZW5naW5lOiBudWxsLAoJICAgIHJlbmRlcjogbnVsbCwKCSAgICBpc1BhdXNlZDogZmFsc2UsCgkgICAgc2VsZWN0ZWQ6IFtdLAoJICAgIHNlbGVjdFN0YXJ0OiBudWxsLAoJICAgIHNlbGVjdEVuZDogbnVsbCwKCSAgICBzZWxlY3RCb3VuZHM6IEJvdW5kcy5jcmVhdGUoKSwKCSAgICBtb3VzZVByZXZQb3NpdGlvbjogeyB4OiAwLCB5OiAwIH0sCgkgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSwKCSAgICBhdXRvSGlkZTogdHJ1ZSwKCSAgICBhdXRvUmV3aW5kOiB0cnVlLAoJICAgIGJvZHlDbGFzczogJycsCgkgICAgZXhwb3J0SW5kZW50OiAwLAoJICAgIGNsaXBib2FyZDogW10sCgkgICAgY29udHJvbHM6IHsKCSAgICAgIGNvbnRhaW5lcjogbnVsbCwKCSAgICAgIHdvcmxkVHJlZTogbnVsbAoJICAgIH0sCgkgICAgcm9vdDogQ29tcG9zaXRlLmNyZWF0ZSh7CgkgICAgICBsYWJlbDogJ1Jvb3QnCgkgICAgfSksCgkgICAga2V5QmluZGluZ3M6IFtdCgkgIH07CgoJICBpbnNwZWN0b3IgPSBDb21tb24uZXh0ZW5kKGluc3BlY3Rvciwgb3B0aW9ucyk7CgkgIEluc3BlY3Rvci5pbnN0YW5jZSA9IGluc3BlY3RvcjsKCgkgIGluc3BlY3Rvci5lbmdpbmUgPSBlbmdpbmU7CgkgIGluc3BlY3Rvci5yZW5kZXIgPSByZW5kZXI7CgoJICBpZiAoaW5zcGVjdG9yLnJlbmRlcikgewoJICAgIGluc3BlY3Rvci5tb3VzZSA9IE1vdXNlLmNyZWF0ZShpbnNwZWN0b3IucmVuZGVyLmNhbnZhcyk7CgkgICAgaW5zcGVjdG9yLm1vdXNlQ29uc3RyYWludCA9IE1vdXNlQ29uc3RyYWludC5jcmVhdGUoZW5naW5lLCB7IG1vdXNlOiBpbnNwZWN0b3IubW91c2UgfSk7CgkgIH0gZWxzZSB7CgkgICAgaW5zcGVjdG9yLm1vdXNlID0gewoJICAgICAgcG9zaXRpb246IHsKCSAgICAgICAgeDogMCwKCSAgICAgICAgeTogMAoJICAgICAgfQoJICAgIH07CgkgIH0KCgkgIGlmIChTZXJpYWxpemVyKSB7CgkgICAgaW5zcGVjdG9yLnNlcmlhbGl6ZXIgPSBTZXJpYWxpemVyLmNyZWF0ZSgpOwoJICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdwYXVzZVN0YXRlJyk7CgkgIH0KCgkgICRib2R5ID0gJCgnYm9keScpOwoKCSAgQ29tcG9zaXRlLmFkZChpbnNwZWN0b3Iucm9vdCwgZW5naW5lLndvcmxkKTsKCSAgZW5naW5lLndvcmxkLmlzTW9kaWZpZWQgPSB0cnVlOwoJICBlbmdpbmUud29ybGQucGFyZW50ID0gbnVsbDsKCgkgIHZhciBzdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTsKCSAgVG9vbHNDb21tb24uaW5qZWN0U3R5bGVzKHN0eWxlcywgJ2pzLXRyZWUtc3R5bGUnKTsKCgkgIHN0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpOwoJICBUb29sc0NvbW1vbi5pbmplY3RTdHlsZXMoc3R5bGVzLCAnbWF0dGVyLWluc3BlY3Rvci1zdHlsZScpOwoKCSAgaW5zcGVjdG9yLmtleUJpbmQgPSBDb21tb24uY2hhaW4oa20sIGZ1bmN0aW9uIChrZXkpIHsKCSAgICBpbnNwZWN0b3Iua2V5QmluZGluZ3MucHVzaChrZXkpOwoJICB9KTsKCgkgIF9pbml0Q29udHJvbHMoaW5zcGVjdG9yKTsKCSAgX2luaXRFbmdpbmVFdmVudHMoaW5zcGVjdG9yKTsKCSAgX2luaXRUcmVlKGluc3BlY3Rvcik7CgkgIF9pbml0S2V5YmluZHMoaW5zcGVjdG9yKTsKCgkgIHJldHVybiBpbnNwZWN0b3I7Cgl9OwoKCS8qKgoJICogRGVzdHJveXMgdGhlIGluc3BlY3RvcgoJICogQGZ1bmN0aW9uIEd1aS5kZXN0cm95CgkgKiBAcGFyYW0ge0luc3BlY3Rvcn0gaW5zcGVjdG9yCgkgKi8KCUluc3BlY3Rvci5kZXN0cm95ID0gZnVuY3Rpb24gKGluc3BlY3RvcikgewoJICBpbnNwZWN0b3IuY29udHJvbHMud29ybGRUcmVlLmRhdGEoJ2pzdHJlZScpLmRlc3Ryb3koKTsKCgkgIHZhciBpbnNwZWN0b3JFbGVtZW50cyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKCcuaW5zLWNvbnRhaW5lcicsICcudmFrYXRhLWNvbnRleHQnLCAnLmpzdHJlZS1tYXJrZXInKSk7CgoJICBpbnNwZWN0b3JFbGVtZW50cy5mb3JFYWNoKFRvb2xzQ29tbW9uLmRvbVJlbW92ZSk7CgoJICBpbnNwZWN0b3Iua2V5QmluZGluZ3MuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CgkgICAga20udW5iaW5kKGtleSk7CgkgIH0pOwoKCSAgRXZlbnRzLm9mZihpbnNwZWN0b3IuZW5naW5lLCAnYmVmb3JlVXBkYXRlJywgaW5zcGVjdG9yLmJlZm9yZUVuZ2luZVVwZGF0ZSk7CgoJICBpZiAoaW5zcGVjdG9yLnJlbmRlcikgewoJICAgIEV2ZW50cy5vZmYoaW5zcGVjdG9yLnJlbmRlciwgJ2FmdGVyUmVuZGVyJywgaW5zcGVjdG9yLmFmdGVyUmVuZGVyKTsKCSAgICBFdmVudHMub2ZmKGluc3BlY3Rvci5tb3VzZUNvbnN0cmFpbnQpOwoJICB9Cgl9OwoKCXZhciBfaW5pdENvbnRyb2xzID0gZnVuY3Rpb24gX2luaXRDb250cm9scyhpbnNwZWN0b3IpIHsKCSAgdmFyIGNvbnRyb2xzID0gaW5zcGVjdG9yLmNvbnRyb2xzOwoKCSAgdmFyICRpbnNwZWN0b3JDb250YWluZXIgPSAkKCc8ZGl2IGNsYXNzPSJpbnMtY29udGFpbmVyIj4nKSwKCSAgICAgICRidXR0b25Hcm91cCA9ICQoJzxkaXYgY2xhc3M9Imlucy1jb250cm9sLWdyb3VwIj4nKSwKCSAgICAgICRzZWFyY2hCb3ggPSAkKCc8aW5wdXQgY2xhc3M9Imlucy1zZWFyY2gtYm94IiB0eXBlPSJzZWFyY2giIHBsYWNlaG9sZGVyPSJzZWFyY2giPicpLAoJICAgICAgJGltcG9ydEJ1dHRvbiA9ICQoJzxidXR0b24gY2xhc3M9Imlucy1pbXBvcnQtYnV0dG9uIGlucy1idXR0b24iPkltcG9ydDwvYnV0dG9uPicpLAoJICAgICAgJGV4cG9ydEJ1dHRvbiA9ICQoJzxidXR0b24gY2xhc3M9Imlucy1leHBvcnQtYnV0dG9uIGlucy1idXR0b24iPkV4cG9ydDwvYnV0dG9uPicpLAoJICAgICAgJHBhdXNlQnV0dG9uID0gJCgnPGJ1dHRvbiBjbGFzcz0iaW5zLXBhdXNlLWJ1dHRvbiBpbnMtYnV0dG9uIj5QYXVzZTwvYnV0dG9uPicpLAoJICAgICAgJGhlbHBCdXR0b24gPSAkKCc8YnV0dG9uIGNsYXNzPSJpbnMtaGVscC1idXR0b24gaW5zLWJ1dHRvbiI+SGVscDwvYnV0dG9uPicpLAoJICAgICAgJGFkZENvbXBvc2l0ZUJ1dHRvbiA9ICQoJzxidXR0b24gY2xhc3M9Imlucy1hZGQtYnV0dG9uIGlucy1idXR0b24iPis8L2J1dHRvbj4nKTsKCgkgIGlmIChTZXJpYWxpemVyKSB7CgkgICAgJGJ1dHRvbkdyb3VwLmFwcGVuZCgkcGF1c2VCdXR0b24sICRpbXBvcnRCdXR0b24sICRleHBvcnRCdXR0b24sICRoZWxwQnV0dG9uKTsKCSAgfSBlbHNlIHsKCSAgICAkYnV0dG9uR3JvdXAuYXBwZW5kKCRwYXVzZUJ1dHRvbiwgJGhlbHBCdXR0b24pOwoJICB9CgoJICAkaW5zcGVjdG9yQ29udGFpbmVyLnByZXBlbmQoJHNlYXJjaEJveCwgJGFkZENvbXBvc2l0ZUJ1dHRvbik7CgkgICRib2R5LnByZXBlbmQoJGluc3BlY3RvckNvbnRhaW5lcik7CgoJICBjb250cm9scy5wYXVzZUJ1dHRvbiA9ICRwYXVzZUJ1dHRvbjsKCSAgY29udHJvbHMuaW1wb3J0QnV0dG9uID0gJGltcG9ydEJ1dHRvbjsKCSAgY29udHJvbHMuZXhwb3J0QnV0dG9uID0gJGV4cG9ydEJ1dHRvbjsKCSAgY29udHJvbHMuaGVscEJ1dHRvbiA9ICRoZWxwQnV0dG9uOwoJICBjb250cm9scy5zZWFyY2hCb3ggPSAkc2VhcmNoQm94OwoJICBjb250cm9scy5jb250YWluZXIgPSAkaW5zcGVjdG9yQ29udGFpbmVyOwoJICBjb250cm9scy5hZGRDb21wb3NpdGVCdXR0b24gPSAkYWRkQ29tcG9zaXRlQnV0dG9uOwoKCSAgY29udHJvbHMucGF1c2VCdXR0b24uY2xpY2soZnVuY3Rpb24gKCkgewoJICAgIF9zZXRQYXVzZWQoaW5zcGVjdG9yLCAhaW5zcGVjdG9yLmlzUGF1c2VkKTsKCSAgfSk7CgoJICBjb250cm9scy5leHBvcnRCdXR0b24uY2xpY2soZnVuY3Rpb24gKCkgewoJICAgIF9leHBvcnRGaWxlKGluc3BlY3Rvcik7CgkgIH0pOwoKCSAgY29udHJvbHMuaW1wb3J0QnV0dG9uLmNsaWNrKGZ1bmN0aW9uICgpIHsKCSAgICBfaW1wb3J0RmlsZShpbnNwZWN0b3IpOwoJICB9KTsKCgkgIGNvbnRyb2xzLmhlbHBCdXR0b24uY2xpY2soZnVuY3Rpb24gKCkgewoJICAgIF9zaG93SGVscChpbnNwZWN0b3IpOwoJICB9KTsKCgkgIGNvbnRyb2xzLmFkZENvbXBvc2l0ZUJ1dHRvbi5jbGljayhmdW5jdGlvbiAoKSB7CgkgICAgX2FkZE5ld0NvbXBvc2l0ZShpbnNwZWN0b3IpOwoJICB9KTsKCgkgIHZhciBzZWFyY2hUaW1lb3V0OwoJICBjb250cm9scy5zZWFyY2hCb3gua2V5dXAoZnVuY3Rpb24gKCkgewoJICAgIGNsZWFyVGltZW91dChzZWFyY2hUaW1lb3V0KTsKCSAgICBzZWFyY2hUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkgICAgICB2YXIgdmFsdWUgPSBjb250cm9scy5zZWFyY2hCb3gudmFsKCksCgkgICAgICAgICAgd29ybGRUcmVlID0gY29udHJvbHMud29ybGRUcmVlLmRhdGEoJ2pzdHJlZScpOwoJICAgICAgd29ybGRUcmVlLnNlYXJjaCh2YWx1ZSk7CgkgICAgfSwgMjUwKTsKCSAgfSk7Cgl9OwoKCXZhciBfc2hvd0hlbHAgPSBmdW5jdGlvbiBfc2hvd0hlbHAoKSB7CgkgIHZhciBoZWxwID0gIk1hdHRlciBUb29sc1xuXG4iOwoKCSAgaGVscCArPSAiRHJhZyBub2RlcyBpbiB0aGUgdHJlZSB0byBtb3ZlIHRoZW0gYmV0d2VlbiBjb21wb3NpdGVzLlxuIjsKCSAgaGVscCArPSAiVXNlIGJyb3dzZXIncyBkZXZlbG9wZXIgY29uc29sZSB0byBpbnNwZWN0IHNlbGVjdGVkIG9iamVjdHMuXG4iOwoJICBoZWxwICs9ICJOb3RlOiBzZWxlY3Rpb25zIG9ubHkgcmVuZGVyIGlmIHJlbmRlcmVyIHN1cHBvcnRzIGl0LlxuXG4iOwoKCSAgaGVscCArPSAiW3NoaWZ0ICsgc3BhY2VdIHBhdXNlIG9yIHBsYXkgc2ltdWxhdGlvbi5cbiI7CgkgIGhlbHAgKz0gIltyaWdodCBjbGlja10gYW5kIGRyYWcgb24gZW1wdHkgc3BhY2UgdG8gc2VsZWN0IGEgcmVnaW9uLlxuIjsKCSAgaGVscCArPSAiW3JpZ2h0IGNsaWNrXSBhbmQgZHJhZyBvbiBhbiBvYmplY3QgdG8gbW92ZSBpdC5cbiI7CgkgIGhlbHAgKz0gIltyaWdodCBjbGljayArIHNoaWZ0XSBhbmQgZHJhZyB0byBtb3ZlIHdob2xlIHNlbGVjdGlvbi5cblxuIjsKCgkgIGhlbHAgKz0gIltjdHJsLWNdIHRvIGNvcHkgc2VsZWN0ZWQgd29ybGQgb2JqZWN0cy5cbiI7CgkgIGhlbHAgKz0gIltjdHJsLXZdIHRvIHBhc3RlIGNvcGllZCB3b3JsZCBvYmplY3RzIHRvIG1vdXNlIHBvc2l0aW9uLlxuIjsKCSAgaGVscCArPSAiW2RlbF0gb3IgW2JhY2tzcGFjZV0gZGVsZXRlIHNlbGVjdGVkIG9iamVjdHMuXG5cbiI7CgoJICBoZWxwICs9ICJbc2hpZnQgKyBzXSBzY2FsZS14eSBzZWxlY3RlZCBvYmplY3RzIHdpdGggbW91c2Ugb3IgYXJyb3dzLlxuIjsKCSAgaGVscCArPSAiW3NoaWZ0ICsgcyArIGRdIHNjYWxlLXggc2VsZWN0ZWQgb2JqZWN0cyB3aXRoIG1vdXNlIG9yIGFycm93cy5cbiI7CgkgIGhlbHAgKz0gIltzaGlmdCArIHMgKyBmXSBzY2FsZS15IHNlbGVjdGVkIG9iamVjdHMgd2l0aCBtb3VzZSBvciBhcnJvd3MuXG4iOwoJICBoZWxwICs9ICJbc2hpZnQgKyByXSByb3RhdGUgc2VsZWN0ZWQgb2JqZWN0cyB3aXRoIG1vdXNlIG9yIGFycm93cy5cblxuIjsKCgkgIGhlbHAgKz0gIltzaGlmdCArIHFdIHNldCBzZWxlY3RlZCBvYmplY3RzIGFzIHN0YXRpYyAoY2FuJ3QgYmUgdW5kb25lKS5cbiI7CgkgIGhlbHAgKz0gIltzaGlmdCArIGldIGltcG9ydCBvYmplY3RzLlxuIjsKCSAgaGVscCArPSAiW3NoaWZ0ICsgb10gZXhwb3J0IHNlbGVjdGVkIG9iamVjdHMuXG4iOwoJICBoZWxwICs9ICJbc2hpZnQgKyBoXSB0b2dnbGUgTWF0dGVyLkd1aS5cbiI7CgkgIGhlbHAgKz0gIltzaGlmdCArIHldIHRvZ2dsZSBhdXRvLWhpZGUuXG4iOwoJICBoZWxwICs9ICJbc2hpZnQgKyByXSB0b2dnbGUgYXV0by1yZXdpbmQgb24gcGxheS9wYXVzZS5cblxuIjsKCgkgIGhlbHAgKz0gIltzaGlmdCArIGpdIHNob3cgdGhpcyBoZWxwIG1lc3NhZ2UuIjsKCgkgIGFsZXJ0KGhlbHApOwoJfTsKCgl2YXIgX2luaXRLZXliaW5kcyA9IGZ1bmN0aW9uIF9pbml0S2V5YmluZHMoaW5zcGVjdG9yKSB7CgkgIGluc3BlY3Rvci5rZXlCaW5kKCdzaGlmdCtzcGFjZScsIGZ1bmN0aW9uICgpIHsKCSAgICBfc2V0UGF1c2VkKGluc3BlY3RvciwgIWluc3BlY3Rvci5pc1BhdXNlZCk7CgkgIH0pOwoKCSAgaWYgKGluc3BlY3Rvci5zZXJpYWxpemVyKSB7CgkgICAgaW5zcGVjdG9yLmtleUJpbmQoJ3NoaWZ0K28nLCBmdW5jdGlvbiAoKSB7CgkgICAgICBfZXhwb3J0RmlsZShpbnNwZWN0b3IpOwoJICAgIH0pOwoKCSAgICBpbnNwZWN0b3Iua2V5QmluZCgnc2hpZnQraScsIGZ1bmN0aW9uICgpIHsKCSAgICAgIF9pbXBvcnRGaWxlKGluc3BlY3Rvcik7CgkgICAgfSk7CgkgIH0KCgkgIGluc3BlY3Rvci5rZXlCaW5kKCdzaGlmdCtqJywgZnVuY3Rpb24gKCkgewoJICAgIF9zaG93SGVscChpbnNwZWN0b3IpOwoJICB9KTsKCgkgIGluc3BlY3Rvci5rZXlCaW5kKCdzaGlmdCt5JywgZnVuY3Rpb24gKCkgewoJICAgIGluc3BlY3Rvci5hdXRvSGlkZSA9ICFpbnNwZWN0b3IuYXV0b0hpZGU7CgkgICAgJGJvZHkudG9nZ2xlQ2xhc3MoJ2lucy1hdXRvLWhpZGUgZ3VpLWF1dG8taGlkZScsIGluc3BlY3Rvci5hdXRvSGlkZSk7CgkgIH0pOwoKCSAgaW5zcGVjdG9yLmtleUJpbmQoJ3NoaWZ0K3InLCBmdW5jdGlvbiAoKSB7CgkgICAgaW5zcGVjdG9yLmF1dG9SZXdpbmQgPSAhaW5zcGVjdG9yLmF1dG9SZXdpbmQ7CgkgICAgaWYgKCFpbnNwZWN0b3IuYXV0b1Jld2luZCkgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3BhdXNlU3RhdGUnKTsKCSAgfSk7CgoJICBpbnNwZWN0b3Iua2V5QmluZCgnc2hpZnQrcScsIGZ1bmN0aW9uICgpIHsKCSAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluc3BlY3Rvci5zZWxlY3RlZC5sZW5ndGg7IGkrKykgewoJICAgICAgdmFyIG9iamVjdCA9IGluc3BlY3Rvci5zZWxlY3RlZFtpXS5kYXRhOwoJICAgICAgaWYgKG9iamVjdC50eXBlID09PSAnYm9keScgJiYgIW9iamVjdC5pc1N0YXRpYykgQm9keS5zZXRTdGF0aWMob2JqZWN0LCB0cnVlKTsKCSAgICB9CgkgIH0pOwoKCSAgaW5zcGVjdG9yLmtleUJpbmQoJ2RlbCcsIGZ1bmN0aW9uICgpIHsKCSAgICBfZGVsZXRlU2VsZWN0ZWRPYmplY3RzKGluc3BlY3Rvcik7CgkgIH0pOwoKCSAgaW5zcGVjdG9yLmtleUJpbmQoJ2JhY2tzcGFjZScsIGZ1bmN0aW9uICgpIHsKCSAgICBfZGVsZXRlU2VsZWN0ZWRPYmplY3RzKGluc3BlY3Rvcik7CgkgIH0pOwoKCSAgaWYgKGluc3BlY3Rvci5zZXJpYWxpemVyKSB7CgkgICAgaW5zcGVjdG9yLmtleUJpbmQoJ2N0cmwrYycsIGZ1bmN0aW9uICgpIHsKCSAgICAgIF9jb3B5U2VsZWN0ZWRPYmplY3RzKGluc3BlY3Rvcik7CgkgICAgfSk7CgoJICAgIGluc3BlY3Rvci5rZXlCaW5kKCdjdHJsK3YnLCBmdW5jdGlvbiAoKSB7CgkgICAgICBfcGFzdGVTZWxlY3RlZE9iamVjdHMoaW5zcGVjdG9yKTsKCSAgICB9KTsKCSAgfQoKCSAgLy8gcHJldmVudCB0aGUgYmFja3NwYWNlIGtleSBmcm9tIG5hdmlnYXRpbmcgYmFjawoJICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE0OTUyMTkvaG93LWNhbi1pLXByZXZlbnQtdGhlLWJhY2tzcGFjZS1rZXktZnJvbS1uYXZpZ2F0aW5nLWJhY2sKCSAgJChkb2N1bWVudCkudW5iaW5kKCdrZXlkb3duJykuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkgewoJICAgIHZhciBkb1ByZXZlbnQgPSBmYWxzZTsKCSAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gOCkgewoJICAgICAgdmFyIGQgPSBldmVudC5zcmNFbGVtZW50IHx8IGV2ZW50LnRhcmdldDsKCSAgICAgIGlmIChkLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ0lOUFVUJyAmJiAoZC50eXBlLnRvVXBwZXJDYXNlKCkgPT09ICdURVhUJyB8fCBkLnR5cGUudG9VcHBlckNhc2UoKSA9PT0gJ1BBU1NXT1JEJyB8fCBkLnR5cGUudG9VcHBlckNhc2UoKSA9PT0gJ0ZJTEUnIHx8IGQudHlwZS50b1VwcGVyQ2FzZSgpID09PSAnRU1BSUwnIHx8IGQudHlwZS50b1VwcGVyQ2FzZSgpID09PSAnU0VBUkNIJykgfHwgZC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdURVhUQVJFQScpIHsKCSAgICAgICAgZG9QcmV2ZW50ID0gZC5yZWFkT25seSB8fCBkLmRpc2FibGVkOwoJICAgICAgfSBlbHNlIHsKCSAgICAgICAgZG9QcmV2ZW50ID0gdHJ1ZTsKCSAgICAgIH0KCSAgICB9CgoJICAgIGlmIChkb1ByZXZlbnQpIHsKCSAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkgICAgfQoJICB9KTsKCX07CgoJdmFyIF9pbml0VHJlZSA9IGZ1bmN0aW9uIF9pbml0VHJlZShpbnNwZWN0b3IpIHsKCSAgdmFyIGVuZ2luZSA9IGluc3BlY3Rvci5lbmdpbmUsCgkgICAgICBjb250cm9scyA9IGluc3BlY3Rvci5jb250cm9scywKCSAgICAgIGRlZmVyVGltZW91dDsKCgkgIHZhciB3b3JsZFRyZWVPcHRpb25zID0gewoJICAgICdjb3JlJzogewoJICAgICAgJ2NoZWNrX2NhbGxiYWNrJzogdHJ1ZQoJICAgIH0sCgkgICAgJ2RuZCc6IHsKCSAgICAgICdjb3B5JzogZmFsc2UKCSAgICB9LAoJICAgICdzZWFyY2gnOiB7CgkgICAgICAnc2hvd19vbmx5X21hdGNoZXMnOiB0cnVlLAoJICAgICAgJ2Z1enp5JzogZmFsc2UKCSAgICB9LAoJICAgICd0eXBlcyc6IHsKCSAgICAgICcjJzogewoJICAgICAgICAndmFsaWRfY2hpbGRyZW4nOiBbXQoJICAgICAgfSwKCSAgICAgICdib2R5JzogewoJICAgICAgICAndmFsaWRfY2hpbGRyZW4nOiBbXQoJICAgICAgfSwKCSAgICAgICdjb25zdHJhaW50JzogewoJICAgICAgICAndmFsaWRfY2hpbGRyZW4nOiBbXQoJICAgICAgfSwKCSAgICAgICdjb21wb3NpdGUnOiB7CgkgICAgICAgICd2YWxpZF9jaGlsZHJlbic6IFtdCgkgICAgICB9LAoJICAgICAgJ2JvZGllcyc6IHsKCSAgICAgICAgJ3ZhbGlkX2NoaWxkcmVuJzogWydib2R5J10KCSAgICAgIH0sCgkgICAgICAnY29uc3RyYWludHMnOiB7CgkgICAgICAgICd2YWxpZF9jaGlsZHJlbic6IFsnY29uc3RyYWludCddCgkgICAgICB9LAoJICAgICAgJ2NvbXBvc2l0ZXMnOiB7CgkgICAgICAgICd2YWxpZF9jaGlsZHJlbic6IFsnY29tcG9zaXRlJ10KCSAgICAgIH0KCSAgICB9LAoJICAgICdwbHVnaW5zJzogWydkbmQnLCAndHlwZXMnLCAndW5pcXVlJywgJ3NlYXJjaCddCgkgIH07CgoJICBjb250cm9scy53b3JsZFRyZWUgPSAkKCc8ZGl2IGNsYXNzPSJpbnMtd29ybGQtdHJlZSI+JykuanN0cmVlKHdvcmxkVHJlZU9wdGlvbnMpOwoJICBjb250cm9scy5jb250YWluZXIuYXBwZW5kKGNvbnRyb2xzLndvcmxkVHJlZSk7CgoJICBjb250cm9scy53b3JsZFRyZWUub24oJ2NoYW5nZWQuanN0cmVlJywgZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7CgkgICAgdmFyIHNlbGVjdGVkID0gW10sCgkgICAgICAgIHdvcmxkVHJlZSA9IGNvbnRyb2xzLndvcmxkVHJlZS5kYXRhKCdqc3RyZWUnKTsKCgkgICAgaWYgKGRhdGEuYWN0aW9uICE9PSAnc2VsZWN0X25vZGUnKSByZXR1cm47CgoJICAgIC8vIGRlZmVyIHNlbGVjdGlvbiB1cGRhdGUgdW50aWwgc2VsZWN0aW9uIGhhcyBmaW5pc2hlZCBwcm9wYWdhdGluZwoJICAgIGNsZWFyVGltZW91dChkZWZlclRpbWVvdXQpOwoJICAgIGRlZmVyVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewoJICAgICAgZGF0YS5zZWxlY3RlZCA9IHdvcmxkVHJlZS5nZXRfc2VsZWN0ZWQoKTsKCgkgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgdmFyIG5vZGVJZCA9IGRhdGEuc2VsZWN0ZWRbaV0sCgkgICAgICAgICAgICBvYmplY3RUeXBlID0gbm9kZUlkLnNwbGl0KCdfJylbMF0sCgkgICAgICAgICAgICBvYmplY3RJZCA9IG5vZGVJZC5zcGxpdCgnXycpWzFdLAoJICAgICAgICAgICAgd29ybGRPYmplY3QgPSBDb21wb3NpdGUuZ2V0KGVuZ2luZS53b3JsZCwgb2JqZWN0SWQsIG9iamVjdFR5cGUpOwoKCSAgICAgICAgc3dpdGNoIChvYmplY3RUeXBlKSB7CgkgICAgICAgICAgY2FzZSAnYm9keSc6CgkgICAgICAgICAgY2FzZSAnY29uc3RyYWludCc6CgkgICAgICAgICAgY2FzZSAnY29tcG9zaXRlJzoKCSAgICAgICAgICAgIHNlbGVjdGVkLnB1c2god29ybGRPYmplY3QpOwoJICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgIH0KCSAgICAgIH0KCgkgICAgICBfc2V0U2VsZWN0ZWRPYmplY3RzKGluc3BlY3Rvciwgc2VsZWN0ZWQpOwoJICAgIH0sIDEpOwoJICB9KTsKCgkgICQoZG9jdW1lbnQpLm9uKCdkbmRfc3RvcC52YWthdGEnLCBmdW5jdGlvbiAoZXZlbnQsIGRhdGEpIHsKCSAgICB2YXIgd29ybGRUcmVlID0gY29udHJvbHMud29ybGRUcmVlLmRhdGEoJ2pzdHJlZScpLAoJICAgICAgICBub2RlcyA9IGRhdGEuZGF0YS5ub2RlczsKCgkgICAgLy8gaGFuZGxlIGRyYWcgYW5kIGRyb3AKCSAgICAvLyBtb3ZlIGl0ZW1zIGJldHdlZW4gY29tcG9zaXRlcwoJICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHsKCSAgICAgIHZhciBub2RlID0gd29ybGRUcmVlLmdldF9ub2RlKG5vZGVzW2ldKSwKCSAgICAgICAgICBwYXJlbnROb2RlID0gd29ybGRUcmVlLmdldF9ub2RlKHdvcmxkVHJlZS5nZXRfcGFyZW50KG5vZGVzW2ldKSksCgkgICAgICAgICAgcHJldkNvbXBvc2l0ZUlkID0gbm9kZS5kYXRhLmNvbXBvc2l0ZUlkLAoJICAgICAgICAgIG5ld0NvbXBvc2l0ZUlkID0gcGFyZW50Tm9kZS5kYXRhLmNvbXBvc2l0ZUlkOwoKCSAgICAgIGlmIChwcmV2Q29tcG9zaXRlSWQgPT09IG5ld0NvbXBvc2l0ZUlkKSBjb250aW51ZTsKCgkgICAgICB2YXIgbm9kZUlkID0gbm9kZXNbaV0sCgkgICAgICAgICAgb2JqZWN0VHlwZSA9IG5vZGVJZC5zcGxpdCgnXycpWzBdLAoJICAgICAgICAgIG9iamVjdElkID0gbm9kZUlkLnNwbGl0KCdfJylbMV0sCgkgICAgICAgICAgd29ybGRPYmplY3QgPSBDb21wb3NpdGUuZ2V0KGluc3BlY3Rvci5yb290LCBvYmplY3RJZCwgb2JqZWN0VHlwZSksCgkgICAgICAgICAgcHJldkNvbXBvc2l0ZSA9IENvbXBvc2l0ZS5nZXQoaW5zcGVjdG9yLnJvb3QsIHByZXZDb21wb3NpdGVJZCwgJ2NvbXBvc2l0ZScpLAoJICAgICAgICAgIG5ld0NvbXBvc2l0ZSA9IENvbXBvc2l0ZS5nZXQoaW5zcGVjdG9yLnJvb3QsIG5ld0NvbXBvc2l0ZUlkLCAnY29tcG9zaXRlJyk7CgoJICAgICAgQ29tcG9zaXRlLm1vdmUocHJldkNvbXBvc2l0ZSwgd29ybGRPYmplY3QsIG5ld0NvbXBvc2l0ZSk7CgkgICAgfQoJICB9KTsKCgkgIGNvbnRyb2xzLndvcmxkVHJlZS5vbignZGJsY2xpY2suanN0cmVlJywgZnVuY3Rpb24gKCkgewoJICAgIHZhciB3b3JsZFRyZWUgPSBjb250cm9scy53b3JsZFRyZWUuZGF0YSgnanN0cmVlJyksCgkgICAgICAgIHNlbGVjdGVkID0gd29ybGRUcmVlLmdldF9zZWxlY3RlZCgpOwoKCSAgICAvLyBzZWxlY3QgYWxsIGNoaWxkcmVuIG9mIGRvdWJsZSBjbGlja2VkIG5vZGUKCSAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGVjdGVkLmxlbmd0aDsgaSsrKSB7CgkgICAgICB2YXIgbm9kZUlkID0gc2VsZWN0ZWRbaV0sCgkgICAgICAgICAgb2JqZWN0VHlwZSA9IG5vZGVJZC5zcGxpdCgnXycpWzBdOwoKCSAgICAgIHN3aXRjaCAob2JqZWN0VHlwZSkgewoJICAgICAgICBjYXNlICdjb21wb3NpdGUnOgoJICAgICAgICBjYXNlICdjb21wb3NpdGVzJzoKCSAgICAgICAgY2FzZSAnYm9kaWVzJzoKCSAgICAgICAgY2FzZSAnY29uc3RyYWludHMnOgoJICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHdvcmxkVHJlZS5nZXRfbm9kZShub2RlSWQpLmNoaWxkcmVuOwoKCSAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoaWxkcmVuLmxlbmd0aDsgaisrKSB7CgkgICAgICAgICAgICB3b3JsZFRyZWUuc2VsZWN0X25vZGUoY2hpbGRyZW5bal0sIGZhbHNlKTsKCSAgICAgICAgICB9YnJlYWs7CgkgICAgICB9CgkgICAgfQoJICB9KTsKCX07CgoJdmFyIF9hZGRCb2R5Q2xhc3MgPSBmdW5jdGlvbiBfYWRkQm9keUNsYXNzKGluc3BlY3RvciwgY2xhc3NOYW1lcykgewoJICAvLyBvbmx5IGFwcGx5IGNoYW5nZXMgdG8gcHJldmVudCBET00gbGFnCgkgIGlmIChpbnNwZWN0b3IuYm9keUNsYXNzLmluZGV4T2YoJyAnICsgY2xhc3NOYW1lcykgPT09IC0xKSB7CgkgICAgJGJvZHkuYWRkQ2xhc3MoY2xhc3NOYW1lcyk7CgkgICAgaW5zcGVjdG9yLmJvZHlDbGFzcyA9ICcgJyArICRib2R5LmF0dHIoJ2NsYXNzJyk7CgkgIH0KCX07CgoJdmFyIF9yZW1vdmVCb2R5Q2xhc3MgPSBmdW5jdGlvbiBfcmVtb3ZlQm9keUNsYXNzKGluc3BlY3RvciwgY2xhc3NOYW1lcykgewoJICAvLyBvbmx5IGFwcGx5IGNoYW5nZXMgdG8gcHJldmVudCBET00gbGFnCgkgIHZhciB1cGRhdGVSZXF1aXJlZCA9IGZhbHNlLAoJICAgICAgY2xhc3NlcyA9IGNsYXNzTmFtZXMuc3BsaXQoJyAnKTsKCgkgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xhc3Nlcy5sZW5ndGg7IGkrKykgewoJICAgIHVwZGF0ZVJlcXVpcmVkID0gaW5zcGVjdG9yLmJvZHlDbGFzcy5pbmRleE9mKCcgJyArIGNsYXNzZXNbaV0pICE9PSAtMTsKCSAgICBpZiAodXBkYXRlUmVxdWlyZWQpIGJyZWFrOwoJICB9CgoJICBpZiAodXBkYXRlUmVxdWlyZWQpIHsKCSAgICAkYm9keS5yZW1vdmVDbGFzcyhjbGFzc05hbWVzKTsKCSAgICBpbnNwZWN0b3IuYm9keUNsYXNzID0gJyAnICsgJGJvZHkuYXR0cignY2xhc3MnKTsKCSAgfQoJfTsKCgl2YXIgX2dldE1vdXNlUG9zaXRpb24gPSBmdW5jdGlvbiBfZ2V0TW91c2VQb3NpdGlvbihpbnNwZWN0b3IpIHsKCSAgcmV0dXJuIFZlY3Rvci5hZGQoaW5zcGVjdG9yLm1vdXNlLnBvc2l0aW9uLCBpbnNwZWN0b3Iub2Zmc2V0KTsKCX07CgoJdmFyIF9pbml0RW5naW5lRXZlbnRzID0gZnVuY3Rpb24gX2luaXRFbmdpbmVFdmVudHMoaW5zcGVjdG9yKSB7CgkgIHZhciBlbmdpbmUgPSBpbnNwZWN0b3IuZW5naW5lLAoJICAgICAgbW91c2UgPSBpbnNwZWN0b3IubW91c2UsCgkgICAgICBtb3VzZVBvc2l0aW9uID0gX2dldE1vdXNlUG9zaXRpb24oaW5zcGVjdG9yKSwKCSAgICAgIGNvbnRyb2xzID0gaW5zcGVjdG9yLmNvbnRyb2xzOwoKCSAgaW5zcGVjdG9yLmJlZm9yZUVuZ2luZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAvLyB1cGRhdGUgbW91c2UgcG9zaXRpb24gcmVmZXJlbmNlCgkgICAgbW91c2VQb3NpdGlvbiA9IF9nZXRNb3VzZVBvc2l0aW9uKGluc3BlY3Rvcik7CgoJICAgIHZhciBtb3VzZURlbHRhID0gbW91c2VQb3NpdGlvbi54IC0gaW5zcGVjdG9yLm1vdXNlUHJldlBvc2l0aW9uLngsCgkgICAgICAgIGtleURlbHRhID0ga20uaXNQcmVzc2VkKCd1cCcpICsga20uaXNQcmVzc2VkKCdyaWdodCcpIC0ga20uaXNQcmVzc2VkKCdkb3duJykgLSBrbS5pc1ByZXNzZWQoJ2xlZnQnKSwKCSAgICAgICAgZGVsdGEgPSBtb3VzZURlbHRhICsga2V5RGVsdGE7CgoJICAgIC8vIHVwZGF0ZSBpbnRlcmZhY2Ugd2hlbiB3b3JsZCBjaGFuZ2VzCgkgICAgaWYgKGVuZ2luZS53b3JsZC5pc01vZGlmaWVkKSB7CgkgICAgICB2YXIgZGF0YSA9IF9nZW5lcmF0ZUNvbXBvc2l0ZVRyZWVOb2RlKGluc3BlY3Rvci5yb290LCBudWxsLCB0cnVlKTsKCSAgICAgIF91cGRhdGVUcmVlKGNvbnRyb2xzLndvcmxkVHJlZS5kYXRhKCdqc3RyZWUnKSwgZGF0YSk7CgkgICAgICBfc2V0U2VsZWN0ZWRPYmplY3RzKGluc3BlY3RvciwgW10pOwoJICAgIH0KCgkgICAgLy8gdXBkYXRlIHJlZ2lvbiBzZWxlY3Rpb24KCSAgICBpZiAoaW5zcGVjdG9yLnNlbGVjdFN0YXJ0ICE9PSBudWxsKSB7CgkgICAgICBpbnNwZWN0b3Iuc2VsZWN0RW5kLnggPSBtb3VzZVBvc2l0aW9uLng7CgkgICAgICBpbnNwZWN0b3Iuc2VsZWN0RW5kLnkgPSBtb3VzZVBvc2l0aW9uLnk7CgkgICAgICBCb3VuZHMudXBkYXRlKGluc3BlY3Rvci5zZWxlY3RCb3VuZHMsIFtpbnNwZWN0b3Iuc2VsZWN0U3RhcnQsIGluc3BlY3Rvci5zZWxlY3RFbmRdKTsKCSAgICB9CgoJICAgIC8vIHJvdGF0ZSBtb2RlCgkgICAgaWYgKGttLnNoaWZ0ICYmIGttLmlzUHJlc3NlZCgncicpKSB7CgkgICAgICB2YXIgcm90YXRlU3BlZWQgPSAwLjAzLAoJICAgICAgICAgIGFuZ2xlID0gTWF0aC5tYXgoLTIsIE1hdGgubWluKDIsIGRlbHRhKSkgKiByb3RhdGVTcGVlZDsKCgkgICAgICBfYWRkQm9keUNsYXNzKGluc3BlY3RvciwgJ2lucy1jdXJzb3Itcm90YXRlJyk7CgkgICAgICBfcm90YXRlU2VsZWN0ZWRPYmplY3RzKGluc3BlY3RvciwgYW5nbGUpOwoJICAgIH0gZWxzZSB7CgkgICAgICBfcmVtb3ZlQm9keUNsYXNzKGluc3BlY3RvciwgJ2lucy1jdXJzb3Itcm90YXRlJyk7CgkgICAgfQoKCSAgICAvLyBzY2FsZSBtb2RlCgkgICAgaWYgKGttLnNoaWZ0ICYmIGttLmlzUHJlc3NlZCgncycpKSB7CgkgICAgICB2YXIgc2NhbGVTcGVlZCA9IDAuMDIsCgkgICAgICAgICAgc2NhbGUgPSAxICsgTWF0aC5tYXgoLTIsIE1hdGgubWluKDIsIGRlbHRhKSkgKiBzY2FsZVNwZWVkOwoKCSAgICAgIF9hZGRCb2R5Q2xhc3MoaW5zcGVjdG9yLCAnaW5zLWN1cnNvci1zY2FsZScpOwoKCSAgICAgIHZhciBzY2FsZVgsIHNjYWxlWTsKCgkgICAgICBpZiAoa20uaXNQcmVzc2VkKCdkJykpIHsKCSAgICAgICAgc2NhbGVYID0gc2NhbGU7CgkgICAgICAgIHNjYWxlWSA9IDE7CgkgICAgICB9IGVsc2UgaWYgKGttLmlzUHJlc3NlZCgnZicpKSB7CgkgICAgICAgIHNjYWxlWCA9IDE7CgkgICAgICAgIHNjYWxlWSA9IHNjYWxlOwoJICAgICAgfSBlbHNlIHsKCSAgICAgICAgc2NhbGVYID0gc2NhbGVZID0gc2NhbGU7CgkgICAgICB9CgoJICAgICAgX3NjYWxlU2VsZWN0ZWRPYmplY3RzKGluc3BlY3Rvciwgc2NhbGVYLCBzY2FsZVkpOwoJICAgIH0gZWxzZSB7CgkgICAgICBfcmVtb3ZlQm9keUNsYXNzKGluc3BlY3RvciwgJ2lucy1jdXJzb3Itc2NhbGUnKTsKCSAgICB9CgoJICAgIC8vIHRyYW5zbGF0ZSBtb2RlCgkgICAgaWYgKG1vdXNlLmJ1dHRvbiA9PT0gMikgewoJICAgICAgX2FkZEJvZHlDbGFzcyhpbnNwZWN0b3IsICdpbnMtY3Vyc29yLW1vdmUnKTsKCSAgICAgIF9tb3ZlU2VsZWN0ZWRPYmplY3RzKGluc3BlY3RvciwgbW91c2VQb3NpdGlvbi54LCBtb3VzZVBvc2l0aW9uLnkpOwoJICAgIH0gZWxzZSB7CgkgICAgICBfcmVtb3ZlQm9keUNsYXNzKGluc3BlY3RvciwgJ2lucy1jdXJzb3ItbW92ZScpOwoJICAgIH0KCgkgICAgaW5zcGVjdG9yLm1vdXNlUHJldlBvc2l0aW9uID0gQ29tbW9uLmNsb25lKG1vdXNlUG9zaXRpb24pOwoJICB9OwoKCSAgRXZlbnRzLm9uKGluc3BlY3Rvci5lbmdpbmUsICdiZWZvcmVVcGRhdGUnLCBpbnNwZWN0b3IuYmVmb3JlRW5naW5lVXBkYXRlKTsKCgkgIGlmIChpbnNwZWN0b3IubW91c2VDb25zdHJhaW50KSB7CgkgICAgRXZlbnRzLm9uKGluc3BlY3Rvci5tb3VzZUNvbnN0cmFpbnQsICdtb3VzZXVwJywgZnVuY3Rpb24gKCkgewoJICAgICAgLy8gc2VsZWN0IG9iamVjdHMgaW4gcmVnaW9uIGlmIG1ha2luZyBhIHJlZ2lvbiBzZWxlY3Rpb24KCSAgICAgIGlmIChpbnNwZWN0b3Iuc2VsZWN0U3RhcnQgIT09IG51bGwpIHsKCSAgICAgICAgdmFyIHNlbGVjdGVkID0gUXVlcnkucmVnaW9uKENvbXBvc2l0ZS5hbGxCb2RpZXMoZW5naW5lLndvcmxkKSwgaW5zcGVjdG9yLnNlbGVjdEJvdW5kcyk7CgkgICAgICAgIF9zZXRTZWxlY3RlZE9iamVjdHMoaW5zcGVjdG9yLCBzZWxlY3RlZCk7CgkgICAgICB9CgoJICAgICAgLy8gY2xlYXIgc2VsZWN0aW9uIHJlZ2lvbgoJICAgICAgaW5zcGVjdG9yLnNlbGVjdFN0YXJ0ID0gbnVsbDsKCSAgICAgIGluc3BlY3Rvci5zZWxlY3RFbmQgPSBudWxsOwoJICAgICAgRXZlbnRzLnRyaWdnZXIoaW5zcGVjdG9yLCAnc2VsZWN0RW5kJyk7CgkgICAgfSk7CgoJICAgIEV2ZW50cy5vbihpbnNwZWN0b3IubW91c2VDb25zdHJhaW50LCAnbW91c2Vkb3duJywgZnVuY3Rpb24gKCkgewoJICAgICAgdmFyIGJvZGllcyA9IENvbXBvc2l0ZS5hbGxCb2RpZXMoZW5naW5lLndvcmxkKSwKCSAgICAgICAgICBjb25zdHJhaW50cyA9IENvbXBvc2l0ZS5hbGxDb25zdHJhaW50cyhlbmdpbmUud29ybGQpLAoJICAgICAgICAgIGlzVW5pb25TZWxlY3QgPSBrbS5zaGlmdCB8fCBrbS5jb250cm9sLAoJICAgICAgICAgIHdvcmxkVHJlZSA9IGluc3BlY3Rvci5jb250cm9scy53b3JsZFRyZWUuZGF0YSgnanN0cmVlJyksCgkgICAgICAgICAgaTsKCgkgICAgICBpZiAobW91c2UuYnV0dG9uID09PSAyKSB7CgkgICAgICAgIHZhciBoYXNTZWxlY3RlZCA9IGZhbHNlOwoKCSAgICAgICAgZm9yIChpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykgewoJICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldOwoKCSAgICAgICAgICBpZiAoQm91bmRzLmNvbnRhaW5zKGJvZHkuYm91bmRzLCBtb3VzZVBvc2l0aW9uKSAmJiBWZXJ0aWNlcy5jb250YWlucyhib2R5LnZlcnRpY2VzLCBtb3VzZVBvc2l0aW9uKSkgewoKCSAgICAgICAgICAgIGlmIChpc1VuaW9uU2VsZWN0KSB7CgkgICAgICAgICAgICAgIF9hZGRTZWxlY3RlZE9iamVjdChpbnNwZWN0b3IsIGJvZHkpOwoJICAgICAgICAgICAgfSBlbHNlIHsKCSAgICAgICAgICAgICAgX3NldFNlbGVjdGVkT2JqZWN0cyhpbnNwZWN0b3IsIFtib2R5XSk7CgkgICAgICAgICAgICB9CgoJICAgICAgICAgICAgaGFzU2VsZWN0ZWQgPSB0cnVlOwoJICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgfQoJICAgICAgICB9CgoJICAgICAgICBpZiAoIWhhc1NlbGVjdGVkKSB7CgkgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnN0cmFpbnRzLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgY29uc3RyYWludCA9IGNvbnN0cmFpbnRzW2ldLAoJICAgICAgICAgICAgICAgIGJvZHlBID0gY29uc3RyYWludC5ib2R5QSwKCSAgICAgICAgICAgICAgICBib2R5QiA9IGNvbnN0cmFpbnQuYm9keUI7CgoJICAgICAgICAgICAgaWYgKGNvbnN0cmFpbnQubGFiZWwuaW5kZXhPZignTW91c2UgQ29uc3RyYWludCcpICE9PSAtMSkgY29udGludWU7CgoJICAgICAgICAgICAgdmFyIHBvaW50QVdvcmxkID0gY29uc3RyYWludC5wb2ludEEsCgkgICAgICAgICAgICAgICAgcG9pbnRCV29ybGQgPSBjb25zdHJhaW50LnBvaW50QjsKCgkgICAgICAgICAgICBpZiAoYm9keUEpIHBvaW50QVdvcmxkID0gVmVjdG9yLmFkZChib2R5QS5wb3NpdGlvbiwgY29uc3RyYWludC5wb2ludEEpOwoJICAgICAgICAgICAgaWYgKGJvZHlCKSBwb2ludEJXb3JsZCA9IFZlY3Rvci5hZGQoYm9keUIucG9zaXRpb24sIGNvbnN0cmFpbnQucG9pbnRCKTsKCgkgICAgICAgICAgICBpZiAoIXBvaW50QVdvcmxkIHx8ICFwb2ludEJXb3JsZCkgY29udGludWU7CgoJICAgICAgICAgICAgdmFyIGRpc3RBID0gVmVjdG9yLm1hZ25pdHVkZVNxdWFyZWQoVmVjdG9yLnN1Yihtb3VzZVBvc2l0aW9uLCBwb2ludEFXb3JsZCkpLAoJICAgICAgICAgICAgICAgIGRpc3RCID0gVmVjdG9yLm1hZ25pdHVkZVNxdWFyZWQoVmVjdG9yLnN1Yihtb3VzZVBvc2l0aW9uLCBwb2ludEJXb3JsZCkpOwoKCSAgICAgICAgICAgIGlmIChkaXN0QSA8IDEwMCB8fCBkaXN0QiA8IDEwMCkgewoJICAgICAgICAgICAgICBpZiAoaXNVbmlvblNlbGVjdCkgewoJICAgICAgICAgICAgICAgIF9hZGRTZWxlY3RlZE9iamVjdChpbnNwZWN0b3IsIGNvbnN0cmFpbnQpOwoJICAgICAgICAgICAgICB9IGVsc2UgewoJICAgICAgICAgICAgICAgIF9zZXRTZWxlY3RlZE9iamVjdHMoaW5zcGVjdG9yLCBbY29uc3RyYWludF0pOwoJICAgICAgICAgICAgICB9CgoJICAgICAgICAgICAgICBoYXNTZWxlY3RlZCA9IHRydWU7CgkgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgIH0KCgkgICAgICAgICAgaWYgKCFoYXNTZWxlY3RlZCkgewoJICAgICAgICAgICAgd29ybGRUcmVlLmRlc2VsZWN0X2FsbCh0cnVlKTsKCSAgICAgICAgICAgIF9zZXRTZWxlY3RlZE9iamVjdHMoaW5zcGVjdG9yLCBbXSk7CgoJICAgICAgICAgICAgaW5zcGVjdG9yLnNlbGVjdFN0YXJ0ID0gQ29tbW9uLmNsb25lKG1vdXNlUG9zaXRpb24pOwoJICAgICAgICAgICAgaW5zcGVjdG9yLnNlbGVjdEVuZCA9IENvbW1vbi5jbG9uZShtb3VzZVBvc2l0aW9uKTsKCSAgICAgICAgICAgIEJvdW5kcy51cGRhdGUoaW5zcGVjdG9yLnNlbGVjdEJvdW5kcywgW2luc3BlY3Rvci5zZWxlY3RTdGFydCwgaW5zcGVjdG9yLnNlbGVjdEVuZF0pOwoKCSAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKGluc3BlY3RvciwgJ3NlbGVjdFN0YXJ0Jyk7CgkgICAgICAgICAgfSBlbHNlIHsKCSAgICAgICAgICAgIGluc3BlY3Rvci5zZWxlY3RTdGFydCA9IG51bGw7CgkgICAgICAgICAgICBpbnNwZWN0b3Iuc2VsZWN0RW5kID0gbnVsbDsKCSAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgIH0KCgkgICAgICBpZiAobW91c2UuYnV0dG9uID09PSAyICYmIGluc3BlY3Rvci5zZWxlY3RlZC5sZW5ndGggPiAwKSB7CgkgICAgICAgIF9hZGRCb2R5Q2xhc3MoaW5zcGVjdG9yLCAnaW5zLWN1cnNvci1tb3ZlJyk7CgoJICAgICAgICBfdXBkYXRlU2VsZWN0ZWRNb3VzZURvd25PZmZzZXQoaW5zcGVjdG9yKTsKCSAgICAgIH0KCSAgICB9KTsKCSAgfQoKCSAgaWYgKGluc3BlY3Rvci5yZW5kZXIpIHsKCSAgICBpbnNwZWN0b3IuYWZ0ZXJSZW5kZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICB2YXIgcmVuZGVyQ29udHJvbGxlciA9IGluc3BlY3Rvci5yZW5kZXIuY29udHJvbGxlciwKCSAgICAgICAgICBjb250ZXh0ID0gaW5zcGVjdG9yLnJlbmRlci5jb250ZXh0OwoJICAgICAgaWYgKHJlbmRlckNvbnRyb2xsZXIuaW5zcGVjdG9yKSByZW5kZXJDb250cm9sbGVyLmluc3BlY3RvcihpbnNwZWN0b3IsIGNvbnRleHQpOwoJICAgIH07CgoJICAgIEV2ZW50cy5vbihpbnNwZWN0b3IucmVuZGVyLCAnYWZ0ZXJSZW5kZXInLCBpbnNwZWN0b3IuYWZ0ZXJSZW5kZXIpOwoJICB9Cgl9OwoKCXZhciBfZGVsZXRlU2VsZWN0ZWRPYmplY3RzID0gZnVuY3Rpb24gX2RlbGV0ZVNlbGVjdGVkT2JqZWN0cyhpbnNwZWN0b3IpIHsKCSAgdmFyIG9iamVjdHMgPSBbXSwKCSAgICAgIG9iamVjdCwKCSAgICAgIHdvcmxkVHJlZSA9IGluc3BlY3Rvci5jb250cm9scy53b3JsZFRyZWUuZGF0YSgnanN0cmVlJyksCgkgICAgICBpOwoKCSAgLy8gZGVsZXRlIG9iamVjdHMgaW4gd29ybGQKCSAgZm9yIChpID0gMDsgaSA8IGluc3BlY3Rvci5zZWxlY3RlZC5sZW5ndGg7IGkrKykgewoJICAgIG9iamVjdCA9IGluc3BlY3Rvci5zZWxlY3RlZFtpXS5kYXRhOwoJICAgIGlmIChvYmplY3QgIT09IGluc3BlY3Rvci5lbmdpbmUud29ybGQpIG9iamVjdHMucHVzaChvYmplY3QpOwoJICB9CgoJICAvLyBhbHNvIGRlbGV0ZSBub24td29ybGQgY29tcG9zaXRlcyAoc2VsZWN0ZWQgb25seSBpbiB0aGUgVUkgdHJlZSkKCSAgdmFyIHNlbGVjdGVkTm9kZXMgPSB3b3JsZFRyZWUuZ2V0X3NlbGVjdGVkKCk7CgkgIGZvciAoaSA9IDA7IGkgPCBzZWxlY3RlZE5vZGVzLmxlbmd0aDsgaSsrKSB7CgkgICAgdmFyIG5vZGUgPSB3b3JsZFRyZWUuZ2V0X25vZGUoc2VsZWN0ZWROb2Rlc1tpXSk7CgkgICAgaWYgKG5vZGUudHlwZSA9PT0gJ2NvbXBvc2l0ZScpIHsKCSAgICAgIG5vZGUgPSB3b3JsZFRyZWUuZ2V0X25vZGUobm9kZS5jaGlsZHJlblswXSk7CgkgICAgICBpZiAobm9kZS5kYXRhKSB7CgkgICAgICAgIHZhciBjb21wb3NpdGVJZCA9IG5vZGUuZGF0YS5jb21wb3NpdGVJZDsKCSAgICAgICAgb2JqZWN0ID0gQ29tcG9zaXRlLmdldChpbnNwZWN0b3Iucm9vdCwgY29tcG9zaXRlSWQsICdjb21wb3NpdGUnKTsKCSAgICAgICAgaWYgKG9iamVjdCAmJiBvYmplY3QgIT09IGluc3BlY3Rvci5lbmdpbmUud29ybGQpIHsKCSAgICAgICAgICBvYmplY3RzLnB1c2gob2JqZWN0KTsKCSAgICAgICAgICB3b3JsZFRyZWUuZGVsZXRlX25vZGUoc2VsZWN0ZWROb2Rlc1tpXSk7CgkgICAgICAgIH0KCSAgICAgIH0KCSAgICB9CgkgIH0KCgkgIENvbXBvc2l0ZS5yZW1vdmUoaW5zcGVjdG9yLnJvb3QsIG9iamVjdHMsIHRydWUpOwoJICBfc2V0U2VsZWN0ZWRPYmplY3RzKGluc3BlY3RvciwgW10pOwoJfTsKCgl2YXIgX2NvcHlTZWxlY3RlZE9iamVjdHMgPSBmdW5jdGlvbiBfY29weVNlbGVjdGVkT2JqZWN0cyhpbnNwZWN0b3IpIHsKCSAgaW5zcGVjdG9yLmNsaXBib2FyZC5sZW5ndGggPSAwOwoKCSAgLy8gcHV0IHNlbGVjdGVkIG9iamVjdHMgaW50byBjbGlwYm9hcmQKCSAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnNwZWN0b3Iuc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHsKCSAgICB2YXIgb2JqZWN0ID0gaW5zcGVjdG9yLnNlbGVjdGVkW2ldLmRhdGE7CgoJICAgIGlmIChvYmplY3QudHlwZSAhPT0gJ2JvZHknKSBjb250aW51ZTsKCgkgICAgaW5zcGVjdG9yLmNsaXBib2FyZC5wdXNoKG9iamVjdCk7CgkgIH0KCX07CgoJdmFyIF9wYXN0ZVNlbGVjdGVkT2JqZWN0cyA9IGZ1bmN0aW9uIF9wYXN0ZVNlbGVjdGVkT2JqZWN0cyhpbnNwZWN0b3IpIHsKCSAgaWYgKCFpbnNwZWN0b3Iuc2VyaWFsaXplcikgewoJICAgIHJldHVybjsKCSAgfQoKCSAgdmFyIG9iamVjdHMgPSBbXSwKCSAgICAgIHdvcmxkVHJlZSA9IGluc3BlY3Rvci5jb250cm9scy53b3JsZFRyZWUuZGF0YSgnanN0cmVlJyk7CgoJICAvLyBjb3B5IG9iamVjdHMgaW4gd29ybGQKCSAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnNwZWN0b3IuY2xpcGJvYXJkLmxlbmd0aDsgaSsrKSB7CgkgICAgdmFyIG9iamVjdCA9IGluc3BlY3Rvci5jbGlwYm9hcmRbaV0sCgkgICAgICAgIGNsb25lID0gU2VyaWFsaXplci5jbG9uZShpbnNwZWN0b3Iuc2VyaWFsaXplciwgb2JqZWN0KTsKCSAgICBCb2R5LnRyYW5zbGF0ZShjbG9uZSwgeyB4OiA1MCwgeTogNTAgfSk7CgoJICAgIC8vIGFkZCB0aGUgY2xvbmUgdG8gdGhlIHNhbWUgY29tcG9zaXRlIGFzIG9yaWdpbmFsCgkgICAgdmFyIG5vZGUgPSB3b3JsZFRyZWUuZ2V0X25vZGUob2JqZWN0LnR5cGUgKyAnXycgKyBvYmplY3QuaWQsIGZhbHNlKSwKCSAgICAgICAgY29tcG9zaXRlSWQgPSBub2RlLmRhdGEuY29tcG9zaXRlSWQsCgkgICAgICAgIGNvbXBvc2l0ZSA9IENvbXBvc2l0ZS5nZXQoaW5zcGVjdG9yLmVuZ2luZS53b3JsZCwgY29tcG9zaXRlSWQsICdjb21wb3NpdGUnKTsKCgkgICAgQ29tcG9zaXRlLmFkZChjb21wb3NpdGUsIGNsb25lKTsKCgkgICAgb2JqZWN0cy5wdXNoKGNsb25lKTsKCSAgfQoKCSAgLy8gc2VsZWN0IGNsb25lcyBhZnRlciB3YWl0aW5nIGZvciB0cmVlIHRvIHVwZGF0ZQoJICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKCSAgICBfc2V0U2VsZWN0ZWRPYmplY3RzKGluc3BlY3Rvciwgb2JqZWN0cyk7CgkgIH0sIDIwMCk7Cgl9OwoKCXZhciBfdXBkYXRlU2VsZWN0ZWRNb3VzZURvd25PZmZzZXQgPSBmdW5jdGlvbiBfdXBkYXRlU2VsZWN0ZWRNb3VzZURvd25PZmZzZXQoaW5zcGVjdG9yKSB7CgkgIHZhciBzZWxlY3RlZCA9IGluc3BlY3Rvci5zZWxlY3RlZCwKCSAgICAgIG1vdXNlUG9zaXRpb24gPSBfZ2V0TW91c2VQb3NpdGlvbihpbnNwZWN0b3IpLAoJICAgICAgaXRlbSwKCSAgICAgIGRhdGE7CgoJICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGVjdGVkLmxlbmd0aDsgaSsrKSB7CgkgICAgaXRlbSA9IHNlbGVjdGVkW2ldOwoJICAgIGRhdGEgPSBpdGVtLmRhdGE7CgoJICAgIGlmIChkYXRhLnBvc2l0aW9uKSB7CgkgICAgICBpdGVtLm1vdXNlZG93bk9mZnNldCA9IHsKCSAgICAgICAgeDogbW91c2VQb3NpdGlvbi54IC0gZGF0YS5wb3NpdGlvbi54LAoJICAgICAgICB5OiBtb3VzZVBvc2l0aW9uLnkgLSBkYXRhLnBvc2l0aW9uLnkKCSAgICAgIH07CgkgICAgfSBlbHNlIGlmIChkYXRhLnBvaW50QSAmJiAhZGF0YS5ib2R5QSkgewoJICAgICAgaXRlbS5tb3VzZWRvd25PZmZzZXQgPSB7CgkgICAgICAgIHg6IG1vdXNlUG9zaXRpb24ueCAtIGRhdGEucG9pbnRBLngsCgkgICAgICAgIHk6IG1vdXNlUG9zaXRpb24ueSAtIGRhdGEucG9pbnRBLnkKCSAgICAgIH07CgkgICAgfSBlbHNlIGlmIChkYXRhLnBvaW50QiAmJiAhZGF0YS5ib2R5QikgewoJICAgICAgaXRlbS5tb3VzZWRvd25PZmZzZXQgPSB7CgkgICAgICAgIHg6IG1vdXNlUG9zaXRpb24ueCAtIGRhdGEucG9pbnRCLngsCgkgICAgICAgIHk6IG1vdXNlUG9zaXRpb24ueSAtIGRhdGEucG9pbnRCLnkKCSAgICAgIH07CgkgICAgfQoJICB9Cgl9OwoKCXZhciBfbW92ZVNlbGVjdGVkT2JqZWN0cyA9IGZ1bmN0aW9uIF9tb3ZlU2VsZWN0ZWRPYmplY3RzKGluc3BlY3RvciwgeCwgeSkgewoJICB2YXIgc2VsZWN0ZWQgPSBpbnNwZWN0b3Iuc2VsZWN0ZWQsCgkgICAgICBpdGVtLAoJICAgICAgZGF0YTsKCgkgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHsKCSAgICBpdGVtID0gc2VsZWN0ZWRbaV07CgkgICAgZGF0YSA9IGl0ZW0uZGF0YTsKCgkgICAgaWYgKCFpdGVtLm1vdXNlZG93bk9mZnNldCkgY29udGludWU7CgoJICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7CgoJICAgICAgY2FzZSAnYm9keSc6CgkgICAgICAgIHZhciBkZWx0YSA9IHsKCSAgICAgICAgICB4OiB4IC0gZGF0YS5wb3NpdGlvbi54IC0gaXRlbS5tb3VzZWRvd25PZmZzZXQueCwKCSAgICAgICAgICB5OiB5IC0gZGF0YS5wb3NpdGlvbi55IC0gaXRlbS5tb3VzZWRvd25PZmZzZXQueQoJICAgICAgICB9OwoKCSAgICAgICAgQm9keS50cmFuc2xhdGUoZGF0YSwgZGVsdGEpOwoJICAgICAgICBkYXRhLnBvc2l0aW9uUHJldi54ID0gZGF0YS5wb3NpdGlvbi54OwoJICAgICAgICBkYXRhLnBvc2l0aW9uUHJldi55ID0gZGF0YS5wb3NpdGlvbi55OwoKCSAgICAgICAgYnJlYWs7CgoJICAgICAgY2FzZSAnY29uc3RyYWludCc6CgkgICAgICAgIHZhciBwb2ludCA9IGRhdGEucG9pbnRBOwoJICAgICAgICBpZiAoZGF0YS5ib2R5QSkgcG9pbnQgPSBkYXRhLnBvaW50QjsKCgkgICAgICAgIHBvaW50LnggPSB4IC0gaXRlbS5tb3VzZWRvd25PZmZzZXQueDsKCSAgICAgICAgcG9pbnQueSA9IHkgLSBpdGVtLm1vdXNlZG93bk9mZnNldC55OwoKCSAgICAgICAgdmFyIGluaXRpYWxQb2ludEEgPSBkYXRhLmJvZHlBID8gVmVjdG9yLmFkZChkYXRhLmJvZHlBLnBvc2l0aW9uLCBkYXRhLnBvaW50QSkgOiBkYXRhLnBvaW50QSwKCSAgICAgICAgICAgIGluaXRpYWxQb2ludEIgPSBkYXRhLmJvZHlCID8gVmVjdG9yLmFkZChkYXRhLmJvZHlCLnBvc2l0aW9uLCBkYXRhLnBvaW50QikgOiBkYXRhLnBvaW50QjsKCgkgICAgICAgIGRhdGEubGVuZ3RoID0gVmVjdG9yLm1hZ25pdHVkZShWZWN0b3Iuc3ViKGluaXRpYWxQb2ludEEsIGluaXRpYWxQb2ludEIpKTsKCgkgICAgICAgIGJyZWFrOwoKCSAgICB9CgkgIH0KCX07CgoJdmFyIF9zY2FsZVNlbGVjdGVkT2JqZWN0cyA9IGZ1bmN0aW9uIF9zY2FsZVNlbGVjdGVkT2JqZWN0cyhpbnNwZWN0b3IsIHNjYWxlWCwgc2NhbGVZKSB7CgkgIHZhciBzZWxlY3RlZCA9IGluc3BlY3Rvci5zZWxlY3RlZCwKCSAgICAgIGl0ZW0sCgkgICAgICBkYXRhOwoKCSAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RlZC5sZW5ndGg7IGkrKykgewoJICAgIGl0ZW0gPSBzZWxlY3RlZFtpXTsKCSAgICBkYXRhID0gaXRlbS5kYXRhOwoKCSAgICBzd2l0Y2ggKGRhdGEudHlwZSkgewoJICAgICAgY2FzZSAnYm9keSc6CgkgICAgICAgIEJvZHkuc2NhbGUoZGF0YSwgc2NhbGVYLCBzY2FsZVksIGRhdGEucG9zaXRpb24pOwoKCSAgICAgICAgaWYgKGRhdGEuY2lyY2xlUmFkaXVzKSBkYXRhLmNpcmNsZVJhZGl1cyAqPSBzY2FsZVg7CgoJICAgICAgICBicmVhazsKCSAgICB9CgkgIH0KCX07CgoJdmFyIF9yb3RhdGVTZWxlY3RlZE9iamVjdHMgPSBmdW5jdGlvbiBfcm90YXRlU2VsZWN0ZWRPYmplY3RzKGluc3BlY3RvciwgYW5nbGUpIHsKCSAgdmFyIHNlbGVjdGVkID0gaW5zcGVjdG9yLnNlbGVjdGVkLAoJICAgICAgaXRlbSwKCSAgICAgIGRhdGE7CgoJICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGVjdGVkLmxlbmd0aDsgaSsrKSB7CgkgICAgaXRlbSA9IHNlbGVjdGVkW2ldOwoJICAgIGRhdGEgPSBpdGVtLmRhdGE7CgoJICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7CgkgICAgICBjYXNlICdib2R5JzoKCSAgICAgICAgQm9keS5yb3RhdGUoZGF0YSwgYW5nbGUpOwoJICAgICAgICBicmVhazsKCSAgICB9CgkgIH0KCX07CgoJdmFyIF9zZXRQYXVzZWQgPSBmdW5jdGlvbiBfc2V0UGF1c2VkKGluc3BlY3RvciwgaXNQYXVzZWQpIHsKCSAgaWYgKGlzUGF1c2VkKSB7CgkgICAgaWYgKGluc3BlY3Rvci5hdXRvUmV3aW5kICYmIGluc3BlY3Rvci5zZXJpYWxpemVyKSB7CgkgICAgICBfc2V0U2VsZWN0ZWRPYmplY3RzKGluc3BlY3RvciwgW10pOwoJICAgICAgU2VyaWFsaXplci5sb2FkU3RhdGUoaW5zcGVjdG9yLnNlcmlhbGl6ZXIsIGluc3BlY3Rvci5lbmdpbmUsICdwYXVzZVN0YXRlJyk7CgkgICAgfQoKCSAgICBpbnNwZWN0b3IuZW5naW5lLnRpbWluZy50aW1lU2NhbGUgPSAwOwoJICAgIGluc3BlY3Rvci5pc1BhdXNlZCA9IHRydWU7CgkgICAgaW5zcGVjdG9yLmNvbnRyb2xzLnBhdXNlQnV0dG9uLnRleHQoJ1BsYXknKTsKCgkgICAgRXZlbnRzLnRyaWdnZXIoaW5zcGVjdG9yLCAncGF1c2VkJyk7CgkgIH0gZWxzZSB7CgkgICAgaWYgKGluc3BlY3Rvci5hdXRvUmV3aW5kICYmIGluc3BlY3Rvci5zZXJpYWxpemVyKSB7CgkgICAgICBTZXJpYWxpemVyLnNhdmVTdGF0ZShpbnNwZWN0b3Iuc2VyaWFsaXplciwgaW5zcGVjdG9yLmVuZ2luZSwgJ3BhdXNlU3RhdGUnKTsKCSAgICB9CgoJICAgIGluc3BlY3Rvci5lbmdpbmUudGltaW5nLnRpbWVTY2FsZSA9IDE7CgkgICAgaW5zcGVjdG9yLmlzUGF1c2VkID0gZmFsc2U7CgkgICAgaW5zcGVjdG9yLmNvbnRyb2xzLnBhdXNlQnV0dG9uLnRleHQoJ1BhdXNlJyk7CgoJICAgIEV2ZW50cy50cmlnZ2VyKGluc3BlY3RvciwgJ3BsYXknKTsKCSAgfQoJfTsKCgl2YXIgX3NldFNlbGVjdGVkT2JqZWN0cyA9IGZ1bmN0aW9uIF9zZXRTZWxlY3RlZE9iamVjdHMoaW5zcGVjdG9yLCBvYmplY3RzKSB7CgkgIHZhciB3b3JsZFRyZWUgPSBpbnNwZWN0b3IuY29udHJvbHMud29ybGRUcmVlLmRhdGEoJ2pzdHJlZScpLAoJICAgICAgZGF0YSwKCSAgICAgIGk7CgoJICBmb3IgKGkgPSAwOyBpIDwgaW5zcGVjdG9yLnNlbGVjdGVkLmxlbmd0aDsgaSsrKSB7CgkgICAgZGF0YSA9IGluc3BlY3Rvci5zZWxlY3RlZFtpXS5kYXRhOwoJICAgIHdvcmxkVHJlZS5kZXNlbGVjdF9ub2RlKGRhdGEudHlwZSArICdfJyArIGRhdGEuaWQsIHRydWUpOwoJICB9CgoJICBpbnNwZWN0b3Iuc2VsZWN0ZWQgPSBbXTsKCgkgIGlmIChvYmplY3RzLmxlbmd0aCA+IDApIHsKCSAgICBjb25zb2xlLmNsZWFyKCk7CgkgIH0KCgkgIGZvciAoaSA9IDA7IGkgPCBvYmplY3RzLmxlbmd0aDsgaSsrKSB7CgkgICAgZGF0YSA9IG9iamVjdHNbaV07CgoJICAgIGlmIChkYXRhKSB7CgkgICAgICAvLyBhZGQgdGhlIG9iamVjdCB0byB0aGUgc2VsZWN0aW9uCgkgICAgICBfYWRkU2VsZWN0ZWRPYmplY3QoaW5zcGVjdG9yLCBkYXRhKTsKCgkgICAgICAvLyBsb2cgc2VsZWN0ZWQgb2JqZWN0cyB0byBjb25zb2xlIGZvciBwcm9wZXJ0eSBpbnNwZWN0aW9uCgkgICAgICBpZiAoaSA8IDUpIHsKCSAgICAgICAgY29uc29sZS5sb2coZGF0YS5sYWJlbCArICcgJyArIGRhdGEuaWQgKyAnOiAlTycsIGRhdGEpOwoJICAgICAgfSBlbHNlIGlmIChpID09PSA2KSB7CgkgICAgICAgIGNvbnNvbGUud2FybignT21pdHRlZCBpbnNwZWN0aW5nICcgKyAob2JqZWN0cy5sZW5ndGggLSA1KSArICcgbW9yZSBvYmplY3RzJyk7CgkgICAgICB9CgkgICAgfQoJICB9Cgl9OwoKCXZhciBfYWRkU2VsZWN0ZWRPYmplY3QgPSBmdW5jdGlvbiBfYWRkU2VsZWN0ZWRPYmplY3QoaW5zcGVjdG9yLCBvYmplY3QpIHsKCSAgaWYgKCFvYmplY3QpIHJldHVybjsKCgkgIHZhciB3b3JsZFRyZWUgPSBpbnNwZWN0b3IuY29udHJvbHMud29ybGRUcmVlLmRhdGEoJ2pzdHJlZScpOwoJICBpbnNwZWN0b3Iuc2VsZWN0ZWQucHVzaCh7IGRhdGE6IG9iamVjdCB9KTsKCSAgd29ybGRUcmVlLnNlbGVjdF9ub2RlKG9iamVjdC50eXBlICsgJ18nICsgb2JqZWN0LmlkLCB0cnVlKTsKCX07CgoJdmFyIF91cGRhdGVUcmVlID0gZnVuY3Rpb24gX3VwZGF0ZVRyZWUodHJlZSwgZGF0YSkgewoJICBkYXRhWzBdLnN0YXRlID0gZGF0YVswXS5zdGF0ZSB8fCB7IG9wZW5lZDogdHJ1ZSB9OwoJICB0cmVlLnNldHRpbmdzLmNvcmUuZGF0YSA9IGRhdGE7CgkgIHRyZWUucmVmcmVzaCgtMSk7Cgl9OwoKCXZhciBfZ2VuZXJhdGVDb21wb3NpdGVUcmVlTm9kZSA9IGZ1bmN0aW9uIF9nZW5lcmF0ZUNvbXBvc2l0ZVRyZWVOb2RlKGNvbXBvc2l0ZSwgY29tcG9zaXRlSWQsIGlzUm9vdCkgewoJICB2YXIgY2hpbGRyZW4gPSBbXSwKCSAgICAgIG5vZGUgPSB7CgkgICAgaWQ6ICdjb21wb3NpdGVfJyArIGNvbXBvc2l0ZS5pZCwKCSAgICBkYXRhOiB7CgkgICAgICBjb21wb3NpdGVJZDogY29tcG9zaXRlSWQKCSAgICB9LAoJICAgIHR5cGU6ICdjb21wb3NpdGUnLAoJICAgIHRleHQ6IChjb21wb3NpdGUubGFiZWwgPyBjb21wb3NpdGUubGFiZWwgOiAnQ29tcG9zaXRlJykgKyAnICcgKyBjb21wb3NpdGUuaWQsCgkgICAgJ2xpX2F0dHInOiB7CgkgICAgICAnY2xhc3MnOiAnanN0cmVlLW5vZGUtdHlwZS1jb21wb3NpdGUnCgkgICAgfQoJICB9OwoKCSAgdmFyIGNoaWxkTm9kZSA9IF9nZW5lcmF0ZUNvbXBvc2l0ZXNUcmVlTm9kZShjb21wb3NpdGUuY29tcG9zaXRlcywgY29tcG9zaXRlLmlkKTsKCSAgY2hpbGROb2RlLmlkID0gJ2NvbXBvc2l0ZXNfJyArIGNvbXBvc2l0ZS5pZDsKCSAgY2hpbGRyZW4ucHVzaChjaGlsZE5vZGUpOwoKCSAgaWYgKGlzUm9vdCkgcmV0dXJuIGNoaWxkTm9kZS5jaGlsZHJlbjsKCgkgIGNoaWxkTm9kZSA9IF9nZW5lcmF0ZUJvZGllc1RyZWVOb2RlKGNvbXBvc2l0ZS5ib2RpZXMsIGNvbXBvc2l0ZS5pZCk7CgkgIGNoaWxkTm9kZS5pZCA9ICdib2RpZXNfJyArIGNvbXBvc2l0ZS5pZDsKCSAgY2hpbGRyZW4ucHVzaChjaGlsZE5vZGUpOwoKCSAgY2hpbGROb2RlID0gX2dlbmVyYXRlQ29uc3RyYWludHNUcmVlTm9kZShjb21wb3NpdGUuY29uc3RyYWludHMsIGNvbXBvc2l0ZS5pZCk7CgkgIGNoaWxkTm9kZS5pZCA9ICdjb25zdHJhaW50c18nICsgY29tcG9zaXRlLmlkOwoJICBjaGlsZHJlbi5wdXNoKGNoaWxkTm9kZSk7CgoJICBub2RlLmNoaWxkcmVuID0gY2hpbGRyZW47CgoJICByZXR1cm4gbm9kZTsKCX07CgoJdmFyIF9nZW5lcmF0ZUNvbXBvc2l0ZXNUcmVlTm9kZSA9IGZ1bmN0aW9uIF9nZW5lcmF0ZUNvbXBvc2l0ZXNUcmVlTm9kZShjb21wb3NpdGVzLCBjb21wb3NpdGVJZCkgewoJICB2YXIgbm9kZSA9IHsKCSAgICB0eXBlOiAnY29tcG9zaXRlcycsCgkgICAgdGV4dDogJ0NvbXBvc2l0ZXMnLAoJICAgIGRhdGE6IHsKCSAgICAgIGNvbXBvc2l0ZUlkOiBjb21wb3NpdGVJZAoJICAgIH0sCgkgICAgY2hpbGRyZW46IFtdLAoJICAgICdsaV9hdHRyJzogewoJICAgICAgJ2NsYXNzJzogJ2pzdHJlZS1ub2RlLXR5cGUtY29tcG9zaXRlcycKCSAgICB9CgkgIH07CgoJICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspIHsKCSAgICB2YXIgY29tcG9zaXRlID0gY29tcG9zaXRlc1tpXTsKCSAgICBub2RlLmNoaWxkcmVuLnB1c2goX2dlbmVyYXRlQ29tcG9zaXRlVHJlZU5vZGUoY29tcG9zaXRlLCBjb21wb3NpdGVJZCkpOwoJICB9CgoJICByZXR1cm4gbm9kZTsKCX07CgoJdmFyIF9nZW5lcmF0ZUJvZGllc1RyZWVOb2RlID0gZnVuY3Rpb24gX2dlbmVyYXRlQm9kaWVzVHJlZU5vZGUoYm9kaWVzLCBjb21wb3NpdGVJZCkgewoJICB2YXIgbm9kZSA9IHsKCSAgICB0eXBlOiAnYm9kaWVzJywKCSAgICB0ZXh0OiAnQm9kaWVzJywKCSAgICBkYXRhOiB7CgkgICAgICBjb21wb3NpdGVJZDogY29tcG9zaXRlSWQKCSAgICB9LAoJICAgIGNoaWxkcmVuOiBbXSwKCSAgICAnbGlfYXR0cic6IHsKCSAgICAgICdjbGFzcyc6ICdqc3RyZWUtbm9kZS10eXBlLWJvZGllcycKCSAgICB9CgkgIH07CgoJICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykgewoJICAgIHZhciBib2R5ID0gYm9kaWVzW2ldOwoJICAgIG5vZGUuY2hpbGRyZW4ucHVzaCh7CgkgICAgICB0eXBlOiAnYm9keScsCgkgICAgICBpZDogJ2JvZHlfJyArIGJvZHkuaWQsCgkgICAgICBkYXRhOiB7CgkgICAgICAgIGNvbXBvc2l0ZUlkOiBjb21wb3NpdGVJZAoJICAgICAgfSwKCSAgICAgIHRleHQ6IChib2R5LmxhYmVsID8gYm9keS5sYWJlbCA6ICdCb2R5JykgKyAnICcgKyBib2R5LmlkLAoJICAgICAgJ2xpX2F0dHInOiB7CgkgICAgICAgICdjbGFzcyc6ICdqc3RyZWUtbm9kZS10eXBlLWJvZHknCgkgICAgICB9CgkgICAgfSk7CgkgIH0KCgkgIHJldHVybiBub2RlOwoJfTsKCgl2YXIgX2dlbmVyYXRlQ29uc3RyYWludHNUcmVlTm9kZSA9IGZ1bmN0aW9uIF9nZW5lcmF0ZUNvbnN0cmFpbnRzVHJlZU5vZGUoY29uc3RyYWludHMsIGNvbXBvc2l0ZUlkKSB7CgkgIHZhciBub2RlID0gewoJICAgIHR5cGU6ICdjb25zdHJhaW50cycsCgkgICAgdGV4dDogJ0NvbnN0cmFpbnRzJywKCSAgICBkYXRhOiB7CgkgICAgICBjb21wb3NpdGVJZDogY29tcG9zaXRlSWQKCSAgICB9LAoJICAgIGNoaWxkcmVuOiBbXSwKCSAgICAnbGlfYXR0cic6IHsKCSAgICAgICdjbGFzcyc6ICdqc3RyZWUtbm9kZS10eXBlLWNvbnN0cmFpbnRzJwoJICAgIH0KCSAgfTsKCgkgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uc3RyYWludHMubGVuZ3RoOyBpKyspIHsKCSAgICB2YXIgY29uc3RyYWludCA9IGNvbnN0cmFpbnRzW2ldOwoJICAgIG5vZGUuY2hpbGRyZW4ucHVzaCh7CgkgICAgICB0eXBlOiAnY29uc3RyYWludCcsCgkgICAgICBpZDogJ2NvbnN0cmFpbnRfJyArIGNvbnN0cmFpbnQuaWQsCgkgICAgICBkYXRhOiB7CgkgICAgICAgIGNvbXBvc2l0ZUlkOiBjb21wb3NpdGVJZAoJICAgICAgfSwKCSAgICAgIHRleHQ6IChjb25zdHJhaW50LmxhYmVsID8gY29uc3RyYWludC5sYWJlbCA6ICdDb25zdHJhaW50JykgKyAnICcgKyBjb25zdHJhaW50LmlkLAoJICAgICAgJ2xpX2F0dHInOiB7CgkgICAgICAgICdjbGFzcyc6ICdqc3RyZWUtbm9kZS10eXBlLWNvbnN0cmFpbnQnCgkgICAgICB9CgkgICAgfSk7CgkgIH0KCgkgIHJldHVybiBub2RlOwoJfTsKCgl2YXIgX2FkZE5ld0NvbXBvc2l0ZSA9IGZ1bmN0aW9uIF9hZGROZXdDb21wb3NpdGUoaW5zcGVjdG9yKSB7CgkgIHZhciBuZXdDb21wb3NpdGUgPSBDb21wb3NpdGUuY3JlYXRlKCk7CgoJICBDb21wb3NpdGUuYWRkKGluc3BlY3Rvci5yb290LCBuZXdDb21wb3NpdGUpOwoKCSAgLy8gbW92ZSBuZXcgY29tcG9zaXRlIHRvIHRoZSBzdGFydCBzbyB0aGF0IGl0IGFwcGVhcnMgdG9wIG9mIHRyZWUKCSAgaW5zcGVjdG9yLnJvb3QuY29tcG9zaXRlcy5zcGxpY2UoaW5zcGVjdG9yLnJvb3QuY29tcG9zaXRlcy5sZW5ndGggLSAxLCAxKTsKCSAgaW5zcGVjdG9yLnJvb3QuY29tcG9zaXRlcy51bnNoaWZ0KG5ld0NvbXBvc2l0ZSk7CgoJICBDb21wb3NpdGUuc2V0TW9kaWZpZWQoaW5zcGVjdG9yLmVuZ2luZS53b3JsZCwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpOwoJfTsKCgl2YXIgX2V4cG9ydEZpbGUgPSBmdW5jdGlvbiBfZXhwb3J0RmlsZShpbnNwZWN0b3IpIHsKCSAgaWYgKCFpbnNwZWN0b3Iuc2VyaWFsaXplcikgewoJICAgIGFsZXJ0KCdObyBzZXJpYWxpemVyLicpOwoJICAgIHJldHVybjsKCSAgfQoKCSAgaWYgKGluc3BlY3Rvci5zZWxlY3RlZC5sZW5ndGggPT09IDApIHsKCSAgICBhbGVydCgnTm8gb2JqZWN0cyB3ZXJlIHNlbGVjdGVkLCBzbyBleHBvcnQgY291bGQgbm90IGJlIGNyZWF0ZWQuIENhbiBvbmx5IGV4cG9ydCBvYmplY3RzIHRoYXQgYXJlIGluIHRoZSBXb3JsZCBjb21wb3NpdGUuJyk7CgkgICAgcmV0dXJuOwoJICB9CgoJICB2YXIgZmlsZU5hbWUgPSAnZXhwb3J0LW9iamVjdHMnLAoJICAgICAgZXhwb3J0Q29tcG9zaXRlID0gQ29tcG9zaXRlLmNyZWF0ZSh7CgkgICAgbGFiZWw6ICdFeHBvcnRlZCBPYmplY3RzJwoJICB9KTsKCgkgIC8vIGFkZCBldmVyeXRoaW5nIGVsc2UsIG11c3QgYmUgaW4gdG9wLWRvd24gb3JkZXIKCSAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnNwZWN0b3Iuc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHsKCSAgICB2YXIgb2JqZWN0ID0gaW5zcGVjdG9yLnNlbGVjdGVkW2ldLmRhdGE7CgoJICAgIC8vIHNraXAgaWYgaXQncyBhbHJlYWR5IGluIHRoZSBjb21wb3NpdGUgdHJlZQoJICAgIC8vIHRoaXMgbWVhbnMgb3JwaGFucyB3aWxsIGJlIGFkZGVkIGluIHRoZSByb290CgkgICAgaWYgKENvbXBvc2l0ZS5nZXQoZXhwb3J0Q29tcG9zaXRlLCBvYmplY3QuaWQsIG9iamVjdC50eXBlKSkgY29udGludWU7CgoJICAgIENvbXBvc2l0ZS5hZGQoZXhwb3J0Q29tcG9zaXRlLCBvYmplY3QpOwoKCSAgICAvLyBiZXR0ZXIgZmlsZW5hbWUgZm9yIHNtYWxsIGV4cG9ydHMKCSAgICBpZiAoaW5zcGVjdG9yLnNlbGVjdGVkLmxlbmd0aCA9PT0gMSkgZmlsZU5hbWUgPSAnZXhwb3J0LScgKyBvYmplY3QubGFiZWwgKyAnLScgKyBvYmplY3QuaWQ7CgkgIH0KCgkgIC8vIHNhbnRpc2UgZmlsZW5hbWUKCSAgZmlsZU5hbWUgPSBmaWxlTmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1teXHdcLV0vZywgJycpICsgJy5qc29uJzsKCgkgIC8vIHNlcmlhbGlzZQoJICB2YXIganNvbiA9IFNlcmlhbGl6ZXIuc2VyaWFsaXNlKGluc3BlY3Rvci5zZXJpYWxpemVyLCBleHBvcnRDb21wb3NpdGUsIGluc3BlY3Rvci5leHBvcnRJbmRlbnQpOwoKCSAgLy8gbGF1bmNoIGV4cG9ydCBkb3dubG9hZAoJICB2YXIgX2lzV2Via2l0ID0gJ1dlYmtpdEFwcGVhcmFuY2UnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTsKCgkgIGlmIChfaXNXZWJraXQpIHsKCSAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtqc29uXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSksCgkgICAgICAgIGFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKCSAgICBhbmNob3IuZG93bmxvYWQgPSBmaWxlTmFtZTsKCSAgICBhbmNob3IuaHJlZiA9ICh3aW5kb3cud2Via2l0VVJMIHx8IHdpbmRvdy5VUkwpLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKCSAgICBhbmNob3IuZGF0YXNldC5kb3dubG9hZHVybCA9IFsnYXBwbGljYXRpb24vanNvbicsIGFuY2hvci5kb3dubG9hZCwgYW5jaG9yLmhyZWZdLmpvaW4oJzonKTsKCSAgICBhbmNob3IuY2xpY2soKTsKCSAgfSBlbHNlIHsKCSAgICB3aW5kb3cub3BlbignZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgsJyArIGVzY2FwZShqc29uKSk7CgkgIH0KCgkgIEV2ZW50cy50cmlnZ2VyKGluc3BlY3RvciwgJ2V4cG9ydCcpOwoJfTsKCgl2YXIgX2ltcG9ydEZpbGUgPSBmdW5jdGlvbiBfaW1wb3J0RmlsZShpbnNwZWN0b3IpIHsKCSAgaWYgKCFpbnNwZWN0b3Iuc2VyaWFsaXplcikgewoJICAgIGFsZXJ0KCdObyBzZXJpYWxpemVyLicpOwoJICAgIHJldHVybjsKCSAgfQoKCSAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwKCSAgICAgIGZpbGVJbnB1dDsKCgkgIGVsZW1lbnQuaW5uZXJIVE1MID0gJzxpbnB1dCB0eXBlPSJmaWxlIj4nOwoJICBmaWxlSW5wdXQgPSBlbGVtZW50LmZpcnN0Q2hpbGQ7CgoJICBmaWxlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkgewoJICAgIHZhciBmaWxlID0gZmlsZUlucHV0LmZpbGVzWzBdOwoKCSAgICBpZiAoZmlsZS5uYW1lLm1hdGNoKC9cLih0eHR8anNvbikkLykpIHsKCSAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKCSAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBpbXBvcnRlZENvbXBvc2l0ZSA9IGluc3BlY3Rvci5zZXJpYWxpemVyLnBhcnNlKHJlYWRlci5yZXN1bHQpOwoKCSAgICAgICAgaWYgKGltcG9ydGVkQ29tcG9zaXRlKSB7CgkgICAgICAgICAgaW1wb3J0ZWRDb21wb3NpdGUubGFiZWwgPSAnSW1wb3J0ZWQgT2JqZWN0cyc7CgoJICAgICAgICAgIENvbXBvc2l0ZS5yZWJhc2UoaW1wb3J0ZWRDb21wb3NpdGUpOwoJICAgICAgICAgIENvbXBvc2l0ZS5hZGQoaW5zcGVjdG9yLnJvb3QsIGltcG9ydGVkQ29tcG9zaXRlKTsKCgkgICAgICAgICAgLy8gbW92ZSBpbXBvcnRlZCBjb21wb3NpdGUgdG8gdGhlIHN0YXJ0IHNvIHRoYXQgaXQgYXBwZWFycyB0b3Agb2YgdHJlZQoJICAgICAgICAgIGluc3BlY3Rvci5yb290LmNvbXBvc2l0ZXMuc3BsaWNlKGluc3BlY3Rvci5yb290LmNvbXBvc2l0ZXMubGVuZ3RoIC0gMSwgMSk7CgkgICAgICAgICAgaW5zcGVjdG9yLnJvb3QuY29tcG9zaXRlcy51bnNoaWZ0KGltcG9ydGVkQ29tcG9zaXRlKTsKCgkgICAgICAgICAgdmFyIHdvcmxkVHJlZSA9IGluc3BlY3Rvci5jb250cm9scy53b3JsZFRyZWUuZGF0YSgnanN0cmVlJyksCgkgICAgICAgICAgICAgIGRhdGEgPSBfZ2VuZXJhdGVDb21wb3NpdGVUcmVlTm9kZShpbnNwZWN0b3Iucm9vdCwgbnVsbCwgdHJ1ZSk7CgkgICAgICAgICAgX3VwZGF0ZVRyZWUod29ybGRUcmVlLCBkYXRhKTsKCSAgICAgICAgfQoJICAgICAgfTsKCgkgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTsKCSAgICB9IGVsc2UgewoJICAgICAgYWxlcnQoJ0ZpbGUgbm90IHN1cHBvcnRlZCwgLmpzb24gb3IgLnR4dCBKU09OIGZpbGVzIG9ubHknKTsKCSAgICB9CgkgIH0pOwoKCSAgZmlsZUlucHV0LmNsaWNrKCk7Cgl9OwoKCS8qCgkqCgkqICBFdmVudHMgRG9jdW1lbnRhdGlvbgoJKgoJKi8KCgkvKioKCSogRmlyZWQgYWZ0ZXIgdGhlIGluc3BlY3RvcidzIGltcG9ydCBidXR0b24gcHJlc3NlZAoJKgoJKiBAZXZlbnQgZXhwb3J0CgkqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3QKCSogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnQKCSogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50CgkqLwoKCS8qKgoJKiBGaXJlZCBhZnRlciB0aGUgaW5zcGVjdG9yJ3MgZXhwb3J0IGJ1dHRvbiBwcmVzc2VkCgkqCgkqIEBldmVudCBpbXBvcnQKCSogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdAoJKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAoJKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKCSovCgoJLyoqCgkqIEZpcmVkIGFmdGVyIHRoZSBpbnNwZWN0b3IgdXNlciBzdGFydHMgbWFraW5nIGEgc2VsZWN0aW9uCgkqCgkqIEBldmVudCBzZWxlY3RTdGFydAoJKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0CgkqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50CgkqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudAoJKi8KCgkvKioKCSogRmlyZWQgYWZ0ZXIgdGhlIGluc3BlY3RvciB1c2VyIGVuZHMgbWFraW5nIGEgc2VsZWN0aW9uCgkqCgkqIEBldmVudCBzZWxlY3RFbmQKCSogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdAoJKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAoJKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKCSovCgoJLyoqCgkqIEZpcmVkIGFmdGVyIHRoZSBpbnNwZWN0b3IgaXMgcGF1c2VkCgkqCgkqIEBldmVudCBwYXVzZQoJKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0CgkqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50CgkqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudAoJKi8KCgkvKioKCSogRmlyZWQgYWZ0ZXIgdGhlIGluc3BlY3RvciBpcyBwbGF5ZWQKCSoKCSogQGV2ZW50IHBsYXkKCSogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdAoJKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAoJKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKCSovCgoJLyoqKiBFWFBPUlRTIEZST00gZXhwb3J0cy1sb2FkZXIgKioqLwoKLyoqKi8gfSwKLyogMSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCgltb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fOwoKLyoqKi8gfSwKLyogMiAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCgltb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fOwoKLyoqKi8gfSwKLyogMyAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCgkidXNlIHN0cmljdCI7CgoJLyoqCgkqIEBjbGFzcyBDb21tb24KCSovCgoJdmFyIENvbW1vbiA9IG1vZHVsZS5leHBvcnRzID0ge307CgoJQ29tbW9uLmluamVjdFN0eWxlcyA9IGZ1bmN0aW9uIChzdHlsZXMsIGlkKSB7CgkgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpIHsKCSAgICByZXR1cm47CgkgIH0KCgkgIHZhciByb290ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgkgIHJvb3QuaW5uZXJIVE1MID0gJzxzdHlsZSBpZD0iJyArIGlkICsgJyIgdHlwZT0idGV4dC9jc3MiPicgKyBzdHlsZXMgKyAnPC9zdHlsZT4nOwoKCSAgdmFyIGxhc3RTdHlsZSA9IGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3Rvcignc3R5bGU6bGFzdC1vZi10eXBlJyk7CgkgIENvbW1vbi5kb21JbnNlcnRCZWZvcmUocm9vdC5maXJzdEVsZW1lbnRDaGlsZCwgbGFzdFN0eWxlKTsKCX07CgoJQ29tbW9uLmluamVjdFNjcmlwdCA9IGZ1bmN0aW9uICh1cmwsIGlkLCBjYWxsYmFjaykgewoJICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKSB7CgkgICAgcmV0dXJuOwoJICB9CgoJICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CgkgIHNjcmlwdC5pZCA9IGlkOwoJICBzY3JpcHQuc3JjID0gdXJsOwoJICBzY3JpcHQub25sb2FkID0gY2FsbGJhY2s7CgoJICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7Cgl9OwoKCUNvbW1vbi5kb21SZW1vdmUgPSBmdW5jdGlvbiAoZWxlbWVudCkgewoJICByZXR1cm4gZWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpOwoJfTsKCglDb21tb24uZG9tSW5zZXJ0QmVmb3JlID0gZnVuY3Rpb24gKGVsZW1lbnQsIGJlZm9yZSkgewoJICByZXR1cm4gYmVmb3JlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIGJlZm9yZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKTsKCX07CgoJLyoqKiBFWFBPUlRTIEZST00gZXhwb3J0cy1sb2FkZXIgKioqLwoKLyoqKi8gfSwKLyogNCAqLywKLyogNSAqLywKLyogNiAqLywKLyogNyAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCgltb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfN19fOwoKLyoqKi8gfSwKLyogOCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgl2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiEganNUcmVlIC0gdjMuMy4zIC0gMjAxNi0xMC0zMSAtIChNSVQpICovCgkhZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiOyB0cnVlPyEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtfX3dlYnBhY2tfcmVxdWlyZV9fKDcpXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGEpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk6InVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWEocmVxdWlyZSgianF1ZXJ5IikpOmEoalF1ZXJ5KX0oZnVuY3Rpb24oYSxiKXsidXNlIHN0cmljdCI7aWYoIWEuanN0cmVlKXt2YXIgYz0wLGQ9ITEsZT0hMSxmPSExLGc9W10saD1hKCJzY3JpcHQ6bGFzdCIpLmF0dHIoInNyYyIpLGk9d2luZG93LmRvY3VtZW50O2EuanN0cmVlPXt2ZXJzaW9uOiIzLjMuMyIsZGVmYXVsdHM6e3BsdWdpbnM6W119LHBsdWdpbnM6e30scGF0aDpoJiYtMSE9PWguaW5kZXhPZigiLyIpP2gucmVwbGFjZSgvXC9bXlwvXSskLywiIik6IiIsaWRyZWdleDovW1xcOiYhXnwoKVxbXF08PkAqJyt+IyI7Liw9XC0gXC8ke30lP2BdL2cscm9vdDoiIyJ9LGEuanN0cmVlLmNyZWF0ZT1mdW5jdGlvbihiLGQpe3ZhciBlPW5ldyBhLmpzdHJlZS5jb3JlKCsrYyksZj1kO3JldHVybiBkPWEuZXh0ZW5kKCEwLHt9LGEuanN0cmVlLmRlZmF1bHRzLGQpLGYmJmYucGx1Z2lucyYmKGQucGx1Z2lucz1mLnBsdWdpbnMpLGEuZWFjaChkLnBsdWdpbnMsZnVuY3Rpb24oYSxiKXsiY29yZSIhPT1hJiYoZT1lLnBsdWdpbihiLGRbYl0pKX0pLGEoYikuZGF0YSgianN0cmVlIixlKSxlLmluaXQoYixkKSxlfSxhLmpzdHJlZS5kZXN0cm95PWZ1bmN0aW9uKCl7YSgiLmpzdHJlZTpqc3RyZWUiKS5qc3RyZWUoImRlc3Ryb3kiKSxhKGkpLm9mZigiLmpzdHJlZSIpfSxhLmpzdHJlZS5jb3JlPWZ1bmN0aW9uKGEpe3RoaXMuX2lkPWEsdGhpcy5fY250PTAsdGhpcy5fd3JrPW51bGwsdGhpcy5fZGF0YT17Y29yZTp7dGhlbWVzOntuYW1lOiExLGRvdHM6ITEsaWNvbnM6ITEsZWxsaXBzaXM6ITF9LHNlbGVjdGVkOltdLGxhc3RfZXJyb3I6e30sd29ya2luZzohMSx3b3JrZXJfcXVldWU6W10sZm9jdXNlZDpudWxsfX19LGEuanN0cmVlLnJlZmVyZW5jZT1mdW5jdGlvbihiKXt2YXIgYz1udWxsLGQ9bnVsbDtpZighYnx8IWIuaWR8fGIudGFnTmFtZSYmYi5ub2RlVHlwZXx8KGI9Yi5pZCksIWR8fCFkLmxlbmd0aCl0cnl7ZD1hKGIpfWNhdGNoKGUpe31pZighZHx8IWQubGVuZ3RoKXRyeXtkPWEoIiMiK2IucmVwbGFjZShhLmpzdHJlZS5pZHJlZ2V4LCJcXCQmIikpfWNhdGNoKGUpe31yZXR1cm4gZCYmZC5sZW5ndGgmJihkPWQuY2xvc2VzdCgiLmpzdHJlZSIpKS5sZW5ndGgmJihkPWQuZGF0YSgianN0cmVlIikpP2M9ZDphKCIuanN0cmVlIikuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcykuZGF0YSgianN0cmVlIik7cmV0dXJuIGQmJmQuX21vZGVsLmRhdGFbYl0/KGM9ZCwhMSk6dm9pZCAwfSksY30sYS5mbi5qc3RyZWU9ZnVuY3Rpb24oYyl7dmFyIGQ9InN0cmluZyI9PXR5cGVvZiBjLGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGY9bnVsbDtyZXR1cm4gYyE9PSEwfHx0aGlzLmxlbmd0aD8odGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGc9YS5qc3RyZWUucmVmZXJlbmNlKHRoaXMpLGg9ZCYmZz9nW2NdOm51bGw7cmV0dXJuIGY9ZCYmaD9oLmFwcGx5KGcsZSk6bnVsbCxnfHxkfHxjIT09YiYmIWEuaXNQbGFpbk9iamVjdChjKXx8YS5qc3RyZWUuY3JlYXRlKHRoaXMsYyksKGcmJiFkfHxjPT09ITApJiYoZj1nfHwhMSksbnVsbCE9PWYmJmYhPT1iPyExOnZvaWQgMH0pLG51bGwhPT1mJiZmIT09Yj9mOnRoaXMpOiExfSxhLmV4cHIucHNldWRvcy5qc3RyZWU9YS5leHByLmNyZWF0ZVBzZXVkbyhmdW5jdGlvbihjKXtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGEoYykuaGFzQ2xhc3MoImpzdHJlZSIpJiZhKGMpLmRhdGEoImpzdHJlZSIpIT09Yn19KSxhLmpzdHJlZS5kZWZhdWx0cy5jb3JlPXtkYXRhOiExLHN0cmluZ3M6ITEsY2hlY2tfY2FsbGJhY2s6ITEsZXJyb3I6YS5ub29wLGFuaW1hdGlvbjoyMDAsbXVsdGlwbGU6ITAsdGhlbWVzOntuYW1lOiExLHVybDohMSxkaXI6ITEsZG90czohMCxpY29uczohMCxlbGxpcHNpczohMSxzdHJpcGVzOiExLHZhcmlhbnQ6ITEscmVzcG9uc2l2ZTohMX0sZXhwYW5kX3NlbGVjdGVkX29ubG9hZDohMCx3b3JrZXI6ITAsZm9yY2VfdGV4dDohMSxkYmxjbGlja190b2dnbGU6ITB9LGEuanN0cmVlLmNvcmUucHJvdG90eXBlPXtwbHVnaW46ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmpzdHJlZS5wbHVnaW5zW2JdO3JldHVybiBkPyh0aGlzLl9kYXRhW2JdPXt9LGQucHJvdG90eXBlPXRoaXMsbmV3IGQoYyx0aGlzKSk6dGhpc30saW5pdDpmdW5jdGlvbihiLGMpe3RoaXMuX21vZGVsPXtkYXRhOnt9LGNoYW5nZWQ6W10sZm9yY2VfZnVsbF9yZWRyYXc6ITEscmVkcmF3X3RpbWVvdXQ6ITEsZGVmYXVsdF9zdGF0ZTp7bG9hZGVkOiEwLG9wZW5lZDohMSxzZWxlY3RlZDohMSxkaXNhYmxlZDohMX19LHRoaXMuX21vZGVsLmRhdGFbYS5qc3RyZWUucm9vdF09e2lkOmEuanN0cmVlLnJvb3QscGFyZW50Om51bGwscGFyZW50czpbXSxjaGlsZHJlbjpbXSxjaGlsZHJlbl9kOltdLHN0YXRlOntsb2FkZWQ6ITF9fSx0aGlzLmVsZW1lbnQ9YShiKS5hZGRDbGFzcygianN0cmVlIGpzdHJlZS0iK3RoaXMuX2lkKSx0aGlzLnNldHRpbmdzPWMsdGhpcy5fZGF0YS5jb3JlLnJlYWR5PSExLHRoaXMuX2RhdGEuY29yZS5sb2FkZWQ9ITEsdGhpcy5fZGF0YS5jb3JlLnJ0bD0icnRsIj09PXRoaXMuZWxlbWVudC5jc3MoImRpcmVjdGlvbiIpLHRoaXMuZWxlbWVudFt0aGlzLl9kYXRhLmNvcmUucnRsPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oImpzdHJlZS1ydGwiKSx0aGlzLmVsZW1lbnQuYXR0cigicm9sZSIsInRyZWUiKSx0aGlzLnNldHRpbmdzLmNvcmUubXVsdGlwbGUmJnRoaXMuZWxlbWVudC5hdHRyKCJhcmlhLW11bHRpc2VsZWN0YWJsZSIsITApLHRoaXMuZWxlbWVudC5hdHRyKCJ0YWJpbmRleCIpfHx0aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiLCIwIiksdGhpcy5iaW5kKCksdGhpcy50cmlnZ2VyKCJpbml0IiksdGhpcy5fZGF0YS5jb3JlLm9yaWdpbmFsX2NvbnRhaW5lcl9odG1sPXRoaXMuZWxlbWVudC5maW5kKCIgPiB1bCA+IGxpIikuY2xvbmUoITApLHRoaXMuX2RhdGEuY29yZS5vcmlnaW5hbF9jb250YWluZXJfaHRtbC5maW5kKCJsaSIpLmFkZEJhY2soKS5jb250ZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAzPT09dGhpcy5ub2RlVHlwZSYmKCF0aGlzLm5vZGVWYWx1ZXx8L15ccyskLy50ZXN0KHRoaXMubm9kZVZhbHVlKSl9KS5yZW1vdmUoKSx0aGlzLmVsZW1lbnQuaHRtbCgiPHVsIGNsYXNzPSdqc3RyZWUtY29udGFpbmVyLXVsIGpzdHJlZS1jaGlsZHJlbicgcm9sZT0nZ3JvdXAnPjxsaSBpZD0naiIrdGhpcy5faWQrIl9sb2FkaW5nJyBjbGFzcz0nanN0cmVlLWluaXRpYWwtbm9kZSBqc3RyZWUtbG9hZGluZyBqc3RyZWUtbGVhZiBqc3RyZWUtbGFzdCcgcm9sZT0ndHJlZS1pdGVtJz48aSBjbGFzcz0nanN0cmVlLWljb24ganN0cmVlLW9jbCc+PC9pPjxhIGNsYXNzPSdqc3RyZWUtYW5jaG9yJyBocmVmPScjJz48aSBjbGFzcz0nanN0cmVlLWljb24ganN0cmVlLXRoZW1laWNvbi1oaWRkZW4nPjwvaT4iK3RoaXMuZ2V0X3N0cmluZygiTG9hZGluZyAuLi4iKSsiPC9hPjwvbGk+PC91bD4iKSx0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IiwiaiIrdGhpcy5faWQrIl9sb2FkaW5nIiksdGhpcy5fZGF0YS5jb3JlLmxpX2hlaWdodD10aGlzLmdldF9jb250YWluZXJfdWwoKS5jaGlsZHJlbigibGkiKS5maXJzdCgpLmhlaWdodCgpfHwyNCx0aGlzLl9kYXRhLmNvcmUubm9kZT10aGlzLl9jcmVhdGVfcHJvdG90eXBlX25vZGUoKSx0aGlzLnRyaWdnZXIoImxvYWRpbmciKSx0aGlzLmxvYWRfbm9kZShhLmpzdHJlZS5yb290KX0sZGVzdHJveTpmdW5jdGlvbihhKXtpZih0aGlzLl93cmspdHJ5e3dpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMuX3dyayksdGhpcy5fd3JrPW51bGx9Y2F0Y2goYil7fWF8fHRoaXMuZWxlbWVudC5lbXB0eSgpLHRoaXMudGVhcmRvd24oKX0sX2NyZWF0ZV9wcm90b3R5cGVfbm9kZTpmdW5jdGlvbigpe3ZhciBhPWkuY3JlYXRlRWxlbWVudCgiTEkiKSxiLGM7cmV0dXJuIGEuc2V0QXR0cmlidXRlKCJyb2xlIiwidHJlZWl0ZW0iKSxiPWkuY3JlYXRlRWxlbWVudCgiSSIpLGIuY2xhc3NOYW1lPSJqc3RyZWUtaWNvbiBqc3RyZWUtb2NsIixiLnNldEF0dHJpYnV0ZSgicm9sZSIsInByZXNlbnRhdGlvbiIpLGEuYXBwZW5kQ2hpbGQoYiksYj1pLmNyZWF0ZUVsZW1lbnQoIkEiKSxiLmNsYXNzTmFtZT0ianN0cmVlLWFuY2hvciIsYi5zZXRBdHRyaWJ1dGUoImhyZWYiLCIjIiksYi5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKSxjPWkuY3JlYXRlRWxlbWVudCgiSSIpLGMuY2xhc3NOYW1lPSJqc3RyZWUtaWNvbiBqc3RyZWUtdGhlbWVpY29uIixjLnNldEF0dHJpYnV0ZSgicm9sZSIsInByZXNlbnRhdGlvbiIpLGIuYXBwZW5kQ2hpbGQoYyksYS5hcHBlbmRDaGlsZChiKSxiPWM9bnVsbCxhfSx0ZWFyZG93bjpmdW5jdGlvbigpe3RoaXMudW5iaW5kKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJqc3RyZWUiKS5yZW1vdmVEYXRhKCJqc3RyZWUiKS5maW5kKCJbY2xhc3NePSdqc3RyZWUnXSIpLmFkZEJhY2soKS5hdHRyKCJjbGFzcyIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbGFzc05hbWUucmVwbGFjZSgvanN0cmVlW14gXSp8JC9naSwiIil9KSx0aGlzLmVsZW1lbnQ9bnVsbH0sYmluZDpmdW5jdGlvbigpe3ZhciBiPSIiLGM9bnVsbCxkPTA7dGhpcy5lbGVtZW50Lm9uKCJkYmxjbGljay5qc3RyZWUiLGZ1bmN0aW9uKGEpe2lmKGEudGFyZ2V0LnRhZ05hbWUmJiJpbnB1dCI9PT1hLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuITA7aWYoaS5zZWxlY3Rpb24mJmkuc2VsZWN0aW9uLmVtcHR5KWkuc2VsZWN0aW9uLmVtcHR5KCk7ZWxzZSBpZih3aW5kb3cuZ2V0U2VsZWN0aW9uKXt2YXIgYj13aW5kb3cuZ2V0U2VsZWN0aW9uKCk7dHJ5e2IucmVtb3ZlQWxsUmFuZ2VzKCksYi5jb2xsYXBzZSgpfWNhdGNoKGMpe319fSkub24oIm1vdXNlZG93bi5qc3RyZWUiLGEucHJveHkoZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT10aGlzLmVsZW1lbnRbMF0mJihhLnByZXZlbnREZWZhdWx0KCksZD0rbmV3IERhdGUpfSx0aGlzKSkub24oIm1vdXNlZG93bi5qc3RyZWUiLCIuanN0cmVlLW9jbCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpfSkub24oImNsaWNrLmpzdHJlZSIsIi5qc3RyZWUtb2NsIixhLnByb3h5KGZ1bmN0aW9uKGEpe3RoaXMudG9nZ2xlX25vZGUoYS50YXJnZXQpfSx0aGlzKSkub24oImRibGNsaWNrLmpzdHJlZSIsIi5qc3RyZWUtYW5jaG9yIixhLnByb3h5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnRhcmdldC50YWdOYW1lJiYiaW5wdXQiPT09YS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPyEwOnZvaWQodGhpcy5zZXR0aW5ncy5jb3JlLmRibGNsaWNrX3RvZ2dsZSYmdGhpcy50b2dnbGVfbm9kZShhLnRhcmdldCkpfSx0aGlzKSkub24oImNsaWNrLmpzdHJlZSIsIi5qc3RyZWUtYW5jaG9yIixhLnByb3h5KGZ1bmN0aW9uKGIpe2IucHJldmVudERlZmF1bHQoKSxiLmN1cnJlbnRUYXJnZXQhPT1pLmFjdGl2ZUVsZW1lbnQmJmEoYi5jdXJyZW50VGFyZ2V0KS5mb2N1cygpLHRoaXMuYWN0aXZhdGVfbm9kZShiLmN1cnJlbnRUYXJnZXQsYil9LHRoaXMpKS5vbigia2V5ZG93bi5qc3RyZWUiLCIuanN0cmVlLWFuY2hvciIsYS5wcm94eShmdW5jdGlvbihiKXtpZihiLnRhcmdldC50YWdOYW1lJiYiaW5wdXQiPT09Yi50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiEwO2lmKDMyIT09Yi53aGljaCYmMTMhPT1iLndoaWNoJiYoYi5zaGlmdEtleXx8Yi5jdHJsS2V5fHxiLmFsdEtleXx8Yi5tZXRhS2V5KSlyZXR1cm4hMDt2YXIgYz1udWxsO3N3aXRjaCh0aGlzLl9kYXRhLmNvcmUucnRsJiYoMzc9PT1iLndoaWNoP2Iud2hpY2g9Mzk6Mzk9PT1iLndoaWNoJiYoYi53aGljaD0zNykpLGIud2hpY2gpe2Nhc2UgMzI6Yi5jdHJsS2V5JiYoYi50eXBlPSJjbGljayIsYShiLmN1cnJlbnRUYXJnZXQpLnRyaWdnZXIoYikpO2JyZWFrO2Nhc2UgMTM6Yi50eXBlPSJjbGljayIsYShiLmN1cnJlbnRUYXJnZXQpLnRyaWdnZXIoYik7YnJlYWs7Y2FzZSAzNzpiLnByZXZlbnREZWZhdWx0KCksdGhpcy5pc19vcGVuKGIuY3VycmVudFRhcmdldCk/dGhpcy5jbG9zZV9ub2RlKGIuY3VycmVudFRhcmdldCk6KGM9dGhpcy5nZXRfcGFyZW50KGIuY3VycmVudFRhcmdldCksYyYmYy5pZCE9PWEuanN0cmVlLnJvb3QmJnRoaXMuZ2V0X25vZGUoYywhMCkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuZm9jdXMoKSk7YnJlYWs7Y2FzZSAzODpiLnByZXZlbnREZWZhdWx0KCksYz10aGlzLmdldF9wcmV2X2RvbShiLmN1cnJlbnRUYXJnZXQpLGMmJmMubGVuZ3RoJiZjLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmZvY3VzKCk7YnJlYWs7Y2FzZSAzOTpiLnByZXZlbnREZWZhdWx0KCksdGhpcy5pc19jbG9zZWQoYi5jdXJyZW50VGFyZ2V0KT90aGlzLm9wZW5fbm9kZShiLmN1cnJlbnRUYXJnZXQsZnVuY3Rpb24oYSl7dGhpcy5nZXRfbm9kZShhLCEwKS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5mb2N1cygpfSk6dGhpcy5pc19vcGVuKGIuY3VycmVudFRhcmdldCkmJihjPXRoaXMuZ2V0X25vZGUoYi5jdXJyZW50VGFyZ2V0LCEwKS5jaGlsZHJlbigiLmpzdHJlZS1jaGlsZHJlbiIpWzBdLGMmJmEodGhpcy5fZmlyc3RDaGlsZChjKSkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuZm9jdXMoKSk7YnJlYWs7Y2FzZSA0MDpiLnByZXZlbnREZWZhdWx0KCksYz10aGlzLmdldF9uZXh0X2RvbShiLmN1cnJlbnRUYXJnZXQpLGMmJmMubGVuZ3RoJiZjLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmZvY3VzKCk7YnJlYWs7Y2FzZSAxMDY6dGhpcy5vcGVuX2FsbCgpO2JyZWFrO2Nhc2UgMzY6Yi5wcmV2ZW50RGVmYXVsdCgpLGM9dGhpcy5fZmlyc3RDaGlsZCh0aGlzLmdldF9jb250YWluZXJfdWwoKVswXSksYyYmYShjKS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5maWx0ZXIoIjp2aXNpYmxlIikuZm9jdXMoKTticmVhaztjYXNlIDM1OmIucHJldmVudERlZmF1bHQoKSx0aGlzLmVsZW1lbnQuZmluZCgiLmpzdHJlZS1hbmNob3IiKS5maWx0ZXIoIjp2aXNpYmxlIikubGFzdCgpLmZvY3VzKCk7YnJlYWs7Y2FzZSAxMTM6Yi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuZWRpdChiLmN1cnJlbnRUYXJnZXQpfX0sdGhpcykpLm9uKCJsb2FkX25vZGUuanN0cmVlIixhLnByb3h5KGZ1bmN0aW9uKGIsYyl7Yy5zdGF0dXMmJihjLm5vZGUuaWQhPT1hLmpzdHJlZS5yb290fHx0aGlzLl9kYXRhLmNvcmUubG9hZGVkfHwodGhpcy5fZGF0YS5jb3JlLmxvYWRlZD0hMCx0aGlzLl9maXJzdENoaWxkKHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdKSYmdGhpcy5lbGVtZW50LmF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsdGhpcy5fZmlyc3RDaGlsZCh0aGlzLmdldF9jb250YWluZXJfdWwoKVswXSkuaWQpLHRoaXMudHJpZ2dlcigibG9hZGVkIikpLHRoaXMuX2RhdGEuY29yZS5yZWFkeXx8c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50JiYhdGhpcy5nZXRfY29udGFpbmVyX3VsKCkuZmluZCgiLmpzdHJlZS1sb2FkaW5nIikubGVuZ3RoKXtpZih0aGlzLl9kYXRhLmNvcmUucmVhZHk9ITAsdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aCl7aWYodGhpcy5zZXR0aW5ncy5jb3JlLmV4cGFuZF9zZWxlY3RlZF9vbmxvYWQpe3ZhciBiPVtdLGMsZDtmb3IoYz0wLGQ9dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aDtkPmM7YysrKWI9Yi5jb25jYXQodGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWRbY11dLnBhcmVudHMpO2ZvcihiPWEudmFrYXRhLmFycmF5X3VuaXF1ZShiKSxjPTAsZD1iLmxlbmd0aDtkPmM7YysrKXRoaXMub3Blbl9ub2RlKGJbY10sITEsMCl9dGhpcy50cmlnZ2VyKCJjaGFuZ2VkIix7YWN0aW9uOiJyZWFkeSIsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkfSl9dGhpcy50cmlnZ2VyKCJyZWFkeSIpfX0sdGhpcyksMCkpfSx0aGlzKSkub24oImtleXByZXNzLmpzdHJlZSIsYS5wcm94eShmdW5jdGlvbihkKXtpZihkLnRhcmdldC50YWdOYW1lJiYiaW5wdXQiPT09ZC50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiEwO2MmJmNsZWFyVGltZW91dChjKSxjPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtiPSIifSw1MDApO3ZhciBlPVN0cmluZy5mcm9tQ2hhckNvZGUoZC53aGljaCkudG9Mb3dlckNhc2UoKSxmPXRoaXMuZWxlbWVudC5maW5kKCIuanN0cmVlLWFuY2hvciIpLmZpbHRlcigiOnZpc2libGUiKSxnPWYuaW5kZXgoaS5hY3RpdmVFbGVtZW50KXx8MCxoPSExO2lmKGIrPWUsYi5sZW5ndGg+MSl7aWYoZi5zbGljZShnKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYyxkKXtyZXR1cm4gMD09PWEoZCkudGV4dCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihiKT8oYShkKS5mb2N1cygpLGg9ITAsITEpOnZvaWQgMH0sdGhpcykpLGgpcmV0dXJuO2lmKGYuc2xpY2UoMCxnKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYyxkKXtyZXR1cm4gMD09PWEoZCkudGV4dCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihiKT8oYShkKS5mb2N1cygpLGg9ITAsITEpOnZvaWQgMH0sdGhpcykpLGgpcmV0dXJufWlmKG5ldyBSZWdFeHAoIl4iK2UucmVwbGFjZSgvWy1cL1xcXiQqKz8uKCl8W1xde31dL2csIlxcJCYiKSsiKyQiKS50ZXN0KGIpKXtpZihmLnNsaWNlKGcrMSkuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEoYykudGV4dCgpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApPT09ZT8oYShjKS5mb2N1cygpLGg9ITAsITEpOnZvaWQgMH0sdGhpcykpLGgpcmV0dXJuO2lmKGYuc2xpY2UoMCxnKzEpLmVhY2goYS5wcm94eShmdW5jdGlvbihiLGMpe3JldHVybiBhKGMpLnRleHQoKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKT09PWU/KGEoYykuZm9jdXMoKSxoPSEwLCExKTp2b2lkIDB9LHRoaXMpKSxoKXJldHVybn19LHRoaXMpKS5vbigiaW5pdC5qc3RyZWUiLGEucHJveHkoZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNldHRpbmdzLmNvcmUudGhlbWVzO3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZG90cz1hLmRvdHMsdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5zdHJpcGVzPWEuc3RyaXBlcyx0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmljb25zPWEuaWNvbnMsdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5lbGxpcHNpcz1hLmVsbGlwc2lzLHRoaXMuc2V0X3RoZW1lKGEubmFtZXx8ImRlZmF1bHQiLGEudXJsKSx0aGlzLnNldF90aGVtZV92YXJpYW50KGEudmFyaWFudCl9LHRoaXMpKS5vbigibG9hZGluZy5qc3RyZWUiLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzW3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZG90cz8ic2hvd19kb3RzIjoiaGlkZV9kb3RzIl0oKSx0aGlzW3RoaXMuX2RhdGEuY29yZS50aGVtZXMuaWNvbnM/InNob3dfaWNvbnMiOiJoaWRlX2ljb25zIl0oKSx0aGlzW3RoaXMuX2RhdGEuY29yZS50aGVtZXMuc3RyaXBlcz8ic2hvd19zdHJpcGVzIjoiaGlkZV9zdHJpcGVzIl0oKSx0aGlzW3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZWxsaXBzaXM/InNob3dfZWxsaXBzaXMiOiJoaWRlX2VsbGlwc2lzIl0oKX0sdGhpcykpLm9uKCJibHVyLmpzdHJlZSIsIi5qc3RyZWUtYW5jaG9yIixhLnByb3h5KGZ1bmN0aW9uKGIpe3RoaXMuX2RhdGEuY29yZS5mb2N1c2VkPW51bGwsYShiLmN1cnJlbnRUYXJnZXQpLmZpbHRlcigiLmpzdHJlZS1ob3ZlcmVkIikubW91c2VsZWF2ZSgpLHRoaXMuZWxlbWVudC5hdHRyKCJ0YWJpbmRleCIsIjAiKX0sdGhpcykpLm9uKCJmb2N1cy5qc3RyZWUiLCIuanN0cmVlLWFuY2hvciIsYS5wcm94eShmdW5jdGlvbihiKXt2YXIgYz10aGlzLmdldF9ub2RlKGIuY3VycmVudFRhcmdldCk7YyYmYy5pZCYmKHRoaXMuX2RhdGEuY29yZS5mb2N1c2VkPWMuaWQpLHRoaXMuZWxlbWVudC5maW5kKCIuanN0cmVlLWhvdmVyZWQiKS5ub3QoYi5jdXJyZW50VGFyZ2V0KS5tb3VzZWxlYXZlKCksYShiLmN1cnJlbnRUYXJnZXQpLm1vdXNlZW50ZXIoKSx0aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiLCItMSIpfSx0aGlzKSkub24oImZvY3VzLmpzdHJlZSIsYS5wcm94eShmdW5jdGlvbigpe2lmKCtuZXcgRGF0ZS1kPjUwMCYmIXRoaXMuX2RhdGEuY29yZS5mb2N1c2VkKXtkPTA7dmFyIGE9dGhpcy5nZXRfbm9kZSh0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IiksITApO2EmJmEuZmluZCgiPiAuanN0cmVlLWFuY2hvciIpLmZvY3VzKCl9fSx0aGlzKSkub24oIm1vdXNlZW50ZXIuanN0cmVlIiwiLmpzdHJlZS1hbmNob3IiLGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5ob3Zlcl9ub2RlKGEuY3VycmVudFRhcmdldCl9LHRoaXMpKS5vbigibW91c2VsZWF2ZS5qc3RyZWUiLCIuanN0cmVlLWFuY2hvciIsYS5wcm94eShmdW5jdGlvbihhKXt0aGlzLmRlaG92ZXJfbm9kZShhLmN1cnJlbnRUYXJnZXQpfSx0aGlzKSl9LHVuYmluZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5vZmYoIi5qc3RyZWUiKSxhKGkpLm9mZigiLmpzdHJlZS0iK3RoaXMuX2lkKX0sdHJpZ2dlcjpmdW5jdGlvbihhLGIpe2J8fChiPXt9KSxiLmluc3RhbmNlPXRoaXMsdGhpcy5lbGVtZW50LnRyaWdnZXJIYW5kbGVyKGEucmVwbGFjZSgiLmpzdHJlZSIsIiIpKyIuanN0cmVlIixiKX0sZ2V0X2NvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnR9LGdldF9jb250YWluZXJfdWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikuZmlyc3QoKX0sZ2V0X3N0cmluZzpmdW5jdGlvbihiKXt2YXIgYz10aGlzLnNldHRpbmdzLmNvcmUuc3RyaW5ncztyZXR1cm4gYS5pc0Z1bmN0aW9uKGMpP2MuY2FsbCh0aGlzLGIpOmMmJmNbYl0/Y1tiXTpifSxfZmlyc3RDaGlsZDpmdW5jdGlvbihhKXthPWE/YS5maXJzdENoaWxkOm51bGw7d2hpbGUobnVsbCE9PWEmJjEhPT1hLm5vZGVUeXBlKWE9YS5uZXh0U2libGluZztyZXR1cm4gYX0sX25leHRTaWJsaW5nOmZ1bmN0aW9uKGEpe2E9YT9hLm5leHRTaWJsaW5nOm51bGw7d2hpbGUobnVsbCE9PWEmJjEhPT1hLm5vZGVUeXBlKWE9YS5uZXh0U2libGluZztyZXR1cm4gYX0sX3ByZXZpb3VzU2libGluZzpmdW5jdGlvbihhKXthPWE/YS5wcmV2aW91c1NpYmxpbmc6bnVsbDt3aGlsZShudWxsIT09YSYmMSE9PWEubm9kZVR5cGUpYT1hLnByZXZpb3VzU2libGluZztyZXR1cm4gYX0sZ2V0X25vZGU6ZnVuY3Rpb24oYixjKXtiJiZiLmlkJiYoYj1iLmlkKTt2YXIgZDt0cnl7aWYodGhpcy5fbW9kZWwuZGF0YVtiXSliPXRoaXMuX21vZGVsLmRhdGFbYl07ZWxzZSBpZigic3RyaW5nIj09dHlwZW9mIGImJnRoaXMuX21vZGVsLmRhdGFbYi5yZXBsYWNlKC9eIy8sIiIpXSliPXRoaXMuX21vZGVsLmRhdGFbYi5yZXBsYWNlKC9eIy8sIiIpXTtlbHNlIGlmKCJzdHJpbmciPT10eXBlb2YgYiYmKGQ9YSgiIyIrYi5yZXBsYWNlKGEuanN0cmVlLmlkcmVnZXgsIlxcJCYiKSx0aGlzLmVsZW1lbnQpKS5sZW5ndGgmJnRoaXMuX21vZGVsLmRhdGFbZC5jbG9zZXN0KCIuanN0cmVlLW5vZGUiKS5hdHRyKCJpZCIpXSliPXRoaXMuX21vZGVsLmRhdGFbZC5jbG9zZXN0KCIuanN0cmVlLW5vZGUiKS5hdHRyKCJpZCIpXTtlbHNlIGlmKChkPWEoYix0aGlzLmVsZW1lbnQpKS5sZW5ndGgmJnRoaXMuX21vZGVsLmRhdGFbZC5jbG9zZXN0KCIuanN0cmVlLW5vZGUiKS5hdHRyKCJpZCIpXSliPXRoaXMuX21vZGVsLmRhdGFbZC5jbG9zZXN0KCIuanN0cmVlLW5vZGUiKS5hdHRyKCJpZCIpXTtlbHNle2lmKCEoZD1hKGIsdGhpcy5lbGVtZW50KSkubGVuZ3RofHwhZC5oYXNDbGFzcygianN0cmVlIikpcmV0dXJuITE7Yj10aGlzLl9tb2RlbC5kYXRhW2EuanN0cmVlLnJvb3RdfXJldHVybiBjJiYoYj1iLmlkPT09YS5qc3RyZWUucm9vdD90aGlzLmVsZW1lbnQ6YSgiIyIrYi5pZC5yZXBsYWNlKGEuanN0cmVlLmlkcmVnZXgsIlxcJCYiKSx0aGlzLmVsZW1lbnQpKSxifWNhdGNoKGUpe3JldHVybiExfX0sZ2V0X3BhdGg6ZnVuY3Rpb24oYixjLGQpe2lmKGI9Yi5wYXJlbnRzP2I6dGhpcy5nZXRfbm9kZShiKSwhYnx8Yi5pZD09PWEuanN0cmVlLnJvb3R8fCFiLnBhcmVudHMpcmV0dXJuITE7dmFyIGUsZixnPVtdO2ZvcihnLnB1c2goZD9iLmlkOmIudGV4dCksZT0wLGY9Yi5wYXJlbnRzLmxlbmd0aDtmPmU7ZSsrKWcucHVzaChkP2IucGFyZW50c1tlXTp0aGlzLmdldF90ZXh0KGIucGFyZW50c1tlXSkpO3JldHVybiBnPWcucmV2ZXJzZSgpLnNsaWNlKDEpLGM/Zy5qb2luKGMpOmd9LGdldF9uZXh0X2RvbTpmdW5jdGlvbihiLGMpe3ZhciBkO2lmKGI9dGhpcy5nZXRfbm9kZShiLCEwKSxiWzBdPT09dGhpcy5lbGVtZW50WzBdKXtkPXRoaXMuX2ZpcnN0Q2hpbGQodGhpcy5nZXRfY29udGFpbmVyX3VsKClbMF0pO3doaWxlKGQmJjA9PT1kLm9mZnNldEhlaWdodClkPXRoaXMuX25leHRTaWJsaW5nKGQpO3JldHVybiBkP2EoZCk6ITF9aWYoIWJ8fCFiLmxlbmd0aClyZXR1cm4hMTtpZihjKXtkPWJbMF07ZG8gZD10aGlzLl9uZXh0U2libGluZyhkKTt3aGlsZShkJiYwPT09ZC5vZmZzZXRIZWlnaHQpO3JldHVybiBkP2EoZCk6ITF9aWYoYi5oYXNDbGFzcygianN0cmVlLW9wZW4iKSl7ZD10aGlzLl9maXJzdENoaWxkKGIuY2hpbGRyZW4oIi5qc3RyZWUtY2hpbGRyZW4iKVswXSk7d2hpbGUoZCYmMD09PWQub2Zmc2V0SGVpZ2h0KWQ9dGhpcy5fbmV4dFNpYmxpbmcoZCk7aWYobnVsbCE9PWQpcmV0dXJuIGEoZCl9ZD1iWzBdO2RvIGQ9dGhpcy5fbmV4dFNpYmxpbmcoZCk7d2hpbGUoZCYmMD09PWQub2Zmc2V0SGVpZ2h0KTtyZXR1cm4gbnVsbCE9PWQ/YShkKTpiLnBhcmVudHNVbnRpbCgiLmpzdHJlZSIsIi5qc3RyZWUtbm9kZSIpLm5leHRBbGwoIi5qc3RyZWUtbm9kZTp2aXNpYmxlIikuZmlyc3QoKX0sZ2V0X3ByZXZfZG9tOmZ1bmN0aW9uKGIsYyl7dmFyIGQ7aWYoYj10aGlzLmdldF9ub2RlKGIsITApLGJbMF09PT10aGlzLmVsZW1lbnRbMF0pe2Q9dGhpcy5nZXRfY29udGFpbmVyX3VsKClbMF0ubGFzdENoaWxkO3doaWxlKGQmJjA9PT1kLm9mZnNldEhlaWdodClkPXRoaXMuX3ByZXZpb3VzU2libGluZyhkKTtyZXR1cm4gZD9hKGQpOiExfWlmKCFifHwhYi5sZW5ndGgpcmV0dXJuITE7aWYoYyl7ZD1iWzBdO2RvIGQ9dGhpcy5fcHJldmlvdXNTaWJsaW5nKGQpO3doaWxlKGQmJjA9PT1kLm9mZnNldEhlaWdodCk7cmV0dXJuIGQ/YShkKTohMX1kPWJbMF07ZG8gZD10aGlzLl9wcmV2aW91c1NpYmxpbmcoZCk7d2hpbGUoZCYmMD09PWQub2Zmc2V0SGVpZ2h0KTtpZihudWxsIT09ZCl7Yj1hKGQpO3doaWxlKGIuaGFzQ2xhc3MoImpzdHJlZS1vcGVuIikpYj1iLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikuZmlyc3QoKS5jaGlsZHJlbigiLmpzdHJlZS1ub2RlOnZpc2libGU6bGFzdCIpO3JldHVybiBifXJldHVybiBkPWJbMF0ucGFyZW50Tm9kZS5wYXJlbnROb2RlLGQmJmQuY2xhc3NOYW1lJiYtMSE9PWQuY2xhc3NOYW1lLmluZGV4T2YoImpzdHJlZS1ub2RlIik/YShkKTohMX0sZ2V0X3BhcmVudDpmdW5jdGlvbihiKXtyZXR1cm4gYj10aGlzLmdldF9ub2RlKGIpLGImJmIuaWQhPT1hLmpzdHJlZS5yb290P2IucGFyZW50OiExfSxnZXRfY2hpbGRyZW5fZG9tOmZ1bmN0aW9uKGEpe3JldHVybiBhPXRoaXMuZ2V0X25vZGUoYSwhMCksYVswXT09PXRoaXMuZWxlbWVudFswXT90aGlzLmdldF9jb250YWluZXJfdWwoKS5jaGlsZHJlbigiLmpzdHJlZS1ub2RlIik6YSYmYS5sZW5ndGg/YS5jaGlsZHJlbigiLmpzdHJlZS1jaGlsZHJlbiIpLmNoaWxkcmVuKCIuanN0cmVlLW5vZGUiKTohMX0saXNfcGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybiBhPXRoaXMuZ2V0X25vZGUoYSksYSYmKGEuc3RhdGUubG9hZGVkPT09ITF8fGEuY2hpbGRyZW4ubGVuZ3RoPjApfSxpc19sb2FkZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9dGhpcy5nZXRfbm9kZShhKSxhJiZhLnN0YXRlLmxvYWRlZH0saXNfbG9hZGluZzpmdW5jdGlvbihhKXtyZXR1cm4gYT10aGlzLmdldF9ub2RlKGEpLGEmJmEuc3RhdGUmJmEuc3RhdGUubG9hZGluZ30saXNfb3BlbjpmdW5jdGlvbihhKXtyZXR1cm4gYT10aGlzLmdldF9ub2RlKGEpLGEmJmEuc3RhdGUub3BlbmVkfSxpc19jbG9zZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9dGhpcy5nZXRfbm9kZShhKSxhJiZ0aGlzLmlzX3BhcmVudChhKSYmIWEuc3RhdGUub3BlbmVkfSxpc19sZWFmOmZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmlzX3BhcmVudChhKX0sbG9hZF9ub2RlOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGcsaDtpZihhLmlzQXJyYXkoYikpcmV0dXJuIHRoaXMuX2xvYWRfbm9kZXMoYi5zbGljZSgpLGMpLCEwO2lmKGI9dGhpcy5nZXRfbm9kZShiKSwhYilyZXR1cm4gYyYmYy5jYWxsKHRoaXMsYiwhMSksITE7aWYoYi5zdGF0ZS5sb2FkZWQpe2ZvcihiLnN0YXRlLmxvYWRlZD0hMSxmPTAsZz1iLnBhcmVudHMubGVuZ3RoO2c+ZjtmKyspdGhpcy5fbW9kZWwuZGF0YVtiLnBhcmVudHNbZl1dLmNoaWxkcmVuX2Q9YS52YWthdGEuYXJyYXlfZmlsdGVyKHRoaXMuX21vZGVsLmRhdGFbYi5wYXJlbnRzW2ZdXS5jaGlsZHJlbl9kLGZ1bmN0aW9uKGMpe3JldHVybi0xPT09YS5pbkFycmF5KGMsYi5jaGlsZHJlbl9kKX0pO2ZvcihkPTAsZT1iLmNoaWxkcmVuX2QubGVuZ3RoO2U+ZDtkKyspdGhpcy5fbW9kZWwuZGF0YVtiLmNoaWxkcmVuX2RbZF1dLnN0YXRlLnNlbGVjdGVkJiYoaD0hMCksZGVsZXRlIHRoaXMuX21vZGVsLmRhdGFbYi5jaGlsZHJlbl9kW2RdXTtoJiYodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkPWEudmFrYXRhLmFycmF5X2ZpbHRlcih0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsZnVuY3Rpb24oYyl7cmV0dXJuLTE9PT1hLmluQXJyYXkoYyxiLmNoaWxkcmVuX2QpfSkpLGIuY2hpbGRyZW49W10sYi5jaGlsZHJlbl9kPVtdLGgmJnRoaXMudHJpZ2dlcigiY2hhbmdlZCIse2FjdGlvbjoibG9hZF9ub2RlIixub2RlOmIsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkfSl9cmV0dXJuIGIuc3RhdGUuZmFpbGVkPSExLGIuc3RhdGUubG9hZGluZz0hMCx0aGlzLmdldF9ub2RlKGIsITApLmFkZENsYXNzKCJqc3RyZWUtbG9hZGluZyIpLmF0dHIoImFyaWEtYnVzeSIsITApLHRoaXMuX2xvYWRfbm9kZShiLGEucHJveHkoZnVuY3Rpb24oYSl7Yj10aGlzLl9tb2RlbC5kYXRhW2IuaWRdLGIuc3RhdGUubG9hZGluZz0hMSxiLnN0YXRlLmxvYWRlZD1hLGIuc3RhdGUuZmFpbGVkPSFiLnN0YXRlLmxvYWRlZDt2YXIgZD10aGlzLmdldF9ub2RlKGIsITApLGU9MCxmPTAsZz10aGlzLl9tb2RlbC5kYXRhLGg9ITE7Zm9yKGU9MCxmPWIuY2hpbGRyZW4ubGVuZ3RoO2Y+ZTtlKyspaWYoZ1tiLmNoaWxkcmVuW2VdXSYmIWdbYi5jaGlsZHJlbltlXV0uc3RhdGUuaGlkZGVuKXtoPSEwO2JyZWFrfWIuc3RhdGUubG9hZGVkJiZkJiZkLmxlbmd0aCYmKGQucmVtb3ZlQ2xhc3MoImpzdHJlZS1jbG9zZWQganN0cmVlLW9wZW4ganN0cmVlLWxlYWYiKSxoPyIjIiE9PWIuaWQmJmQuYWRkQ2xhc3MoYi5zdGF0ZS5vcGVuZWQ/ImpzdHJlZS1vcGVuIjoianN0cmVlLWNsb3NlZCIpOmQuYWRkQ2xhc3MoImpzdHJlZS1sZWFmIikpLGQucmVtb3ZlQ2xhc3MoImpzdHJlZS1sb2FkaW5nIikuYXR0cigiYXJpYS1idXN5IiwhMSksdGhpcy50cmlnZ2VyKCJsb2FkX25vZGUiLHtub2RlOmIsc3RhdHVzOmF9KSxjJiZjLmNhbGwodGhpcyxiLGEpfSx0aGlzKSksITB9LF9sb2FkX25vZGVzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPSEwLGY9ZnVuY3Rpb24oKXt0aGlzLl9sb2FkX25vZGVzKGEsYiwhMCl9LGc9dGhpcy5fbW9kZWwuZGF0YSxoLGksaj1bXTtmb3IoaD0wLGk9YS5sZW5ndGg7aT5oO2grKylnW2FbaF1dJiYoIWdbYVtoXV0uc3RhdGUubG9hZGVkJiYhZ1thW2hdXS5zdGF0ZS5mYWlsZWR8fCFjJiZkKSYmKHRoaXMuaXNfbG9hZGluZyhhW2hdKXx8dGhpcy5sb2FkX25vZGUoYVtoXSxmKSxlPSExKTtpZihlKXtmb3IoaD0wLGk9YS5sZW5ndGg7aT5oO2grKylnW2FbaF1dJiZnW2FbaF1dLnN0YXRlLmxvYWRlZCYmai5wdXNoKGFbaF0pO2ImJiFiLmRvbmUmJihiLmNhbGwodGhpcyxqKSxiLmRvbmU9ITApfX0sbG9hZF9hbGw6ZnVuY3Rpb24oYixjKXtpZihifHwoYj1hLmpzdHJlZS5yb290KSxiPXRoaXMuZ2V0X25vZGUoYiksIWIpcmV0dXJuITE7dmFyIGQ9W10sZT10aGlzLl9tb2RlbC5kYXRhLGY9ZVtiLmlkXS5jaGlsZHJlbl9kLGcsaDtmb3IoYi5zdGF0ZSYmIWIuc3RhdGUubG9hZGVkJiZkLnB1c2goYi5pZCksZz0wLGg9Zi5sZW5ndGg7aD5nO2crKyllW2ZbZ11dJiZlW2ZbZ11dLnN0YXRlJiYhZVtmW2ddXS5zdGF0ZS5sb2FkZWQmJmQucHVzaChmW2ddKTtkLmxlbmd0aD90aGlzLl9sb2FkX25vZGVzKGQsZnVuY3Rpb24oKXt0aGlzLmxvYWRfYWxsKGIsYyl9KTooYyYmYy5jYWxsKHRoaXMsYiksdGhpcy50cmlnZ2VyKCJsb2FkX2FsbCIse25vZGU6Yn0pKX0sX2xvYWRfbm9kZTpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMuc2V0dGluZ3MuY29yZS5kYXRhLGUsZj1mdW5jdGlvbiBnKCl7cmV0dXJuIDMhPT10aGlzLm5vZGVUeXBlJiY4IT09dGhpcy5ub2RlVHlwZX07cmV0dXJuIGQ/YS5pc0Z1bmN0aW9uKGQpP2QuY2FsbCh0aGlzLGIsYS5wcm94eShmdW5jdGlvbihkKXtkPT09ITE/Yy5jYWxsKHRoaXMsITEpOnRoaXNbInN0cmluZyI9PXR5cGVvZiBkPyJfYXBwZW5kX2h0bWxfZGF0YSI6Il9hcHBlbmRfanNvbl9kYXRhIl0oYiwic3RyaW5nIj09dHlwZW9mIGQ/YShhLnBhcnNlSFRNTChkKSkuZmlsdGVyKGYpOmQsZnVuY3Rpb24oYSl7Yy5jYWxsKHRoaXMsYSl9KX0sdGhpcykpOiJvYmplY3QiPT10eXBlb2YgZD9kLnVybD8oZD1hLmV4dGVuZCghMCx7fSxkKSxhLmlzRnVuY3Rpb24oZC51cmwpJiYoZC51cmw9ZC51cmwuY2FsbCh0aGlzLGIpKSxhLmlzRnVuY3Rpb24oZC5kYXRhKSYmKGQuZGF0YT1kLmRhdGEuY2FsbCh0aGlzLGIpKSxhLmFqYXgoZCkuZG9uZShhLnByb3h5KGZ1bmN0aW9uKGQsZSxnKXt2YXIgaD1nLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKTtyZXR1cm4gaCYmLTEhPT1oLmluZGV4T2YoImpzb24iKXx8Im9iamVjdCI9PXR5cGVvZiBkP3RoaXMuX2FwcGVuZF9qc29uX2RhdGEoYixkLGZ1bmN0aW9uKGEpe2MuY2FsbCh0aGlzLGEpfSk6aCYmLTEhPT1oLmluZGV4T2YoImh0bWwiKXx8InN0cmluZyI9PXR5cGVvZiBkP3RoaXMuX2FwcGVuZF9odG1sX2RhdGEoYixhKGEucGFyc2VIVE1MKGQpKS5maWx0ZXIoZiksZnVuY3Rpb24oYSl7Yy5jYWxsKHRoaXMsYSl9KToodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOiJhamF4IixwbHVnaW46ImNvcmUiLGlkOiJjb3JlXzA0IixyZWFzb246IkNvdWxkIG5vdCBsb2FkIG5vZGUiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2lkOmIuaWQseGhyOmd9KX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksYy5jYWxsKHRoaXMsITEpKX0sdGhpcykpLmZhaWwoYS5wcm94eShmdW5jdGlvbihhKXtjLmNhbGwodGhpcywhMSksdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOiJhamF4IixwbHVnaW46ImNvcmUiLGlkOiJjb3JlXzA0IixyZWFzb246IkNvdWxkIG5vdCBsb2FkIG5vZGUiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2lkOmIuaWQseGhyOmF9KX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcil9LHRoaXMpKSk6KGU9YS5pc0FycmF5KGQpfHxhLmlzUGxhaW5PYmplY3QoZCk/SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkKSk6ZCxiLmlkPT09YS5qc3RyZWUucm9vdD90aGlzLl9hcHBlbmRfanNvbl9kYXRhKGIsZSxmdW5jdGlvbihhKXtjLmNhbGwodGhpcyxhKX0pOih0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6Im5vZGF0YSIscGx1Z2luOiJjb3JlIixpZDoiY29yZV8wNSIscmVhc29uOiJDb3VsZCBub3QgbG9hZCBub2RlIixkYXRhOkpTT04uc3RyaW5naWZ5KHtpZDpiLmlkfSl9LHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLGMuY2FsbCh0aGlzLCExKSkpOiJzdHJpbmciPT10eXBlb2YgZD9iLmlkPT09YS5qc3RyZWUucm9vdD90aGlzLl9hcHBlbmRfaHRtbF9kYXRhKGIsYShhLnBhcnNlSFRNTChkKSkuZmlsdGVyKGYpLGZ1bmN0aW9uKGEpe2MuY2FsbCh0aGlzLGEpfSk6KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoibm9kYXRhIixwbHVnaW46ImNvcmUiLGlkOiJjb3JlXzA2IixyZWFzb246IkNvdWxkIG5vdCBsb2FkIG5vZGUiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2lkOmIuaWR9KX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksYy5jYWxsKHRoaXMsITEpKTpjLmNhbGwodGhpcywhMSk6Yi5pZD09PWEuanN0cmVlLnJvb3Q/dGhpcy5fYXBwZW5kX2h0bWxfZGF0YShiLHRoaXMuX2RhdGEuY29yZS5vcmlnaW5hbF9jb250YWluZXJfaHRtbC5jbG9uZSghMCksZnVuY3Rpb24oYSl7Yy5jYWxsKHRoaXMsYSl9KTpjLmNhbGwodGhpcywhMSl9LF9ub2RlX2NoYW5nZWQ6ZnVuY3Rpb24oYSl7YT10aGlzLmdldF9ub2RlKGEpLGEmJnRoaXMuX21vZGVsLmNoYW5nZWQucHVzaChhLmlkKX0sX2FwcGVuZF9odG1sX2RhdGE6ZnVuY3Rpb24oYixjLGQpe2I9dGhpcy5nZXRfbm9kZShiKSxiLmNoaWxkcmVuPVtdLGIuY2hpbGRyZW5fZD1bXTt2YXIgZT1jLmlzKCJ1bCIpP2MuY2hpbGRyZW4oKTpjLGY9Yi5pZCxnPVtdLGg9W10saT10aGlzLl9tb2RlbC5kYXRhLGo9aVtmXSxrPXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGgsbCxtLG47Zm9yKGUuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGIsYyl7bD10aGlzLl9wYXJzZV9tb2RlbF9mcm9tX2h0bWwoYShjKSxmLGoucGFyZW50cy5jb25jYXQoKSksbCYmKGcucHVzaChsKSxoLnB1c2gobCksaVtsXS5jaGlsZHJlbl9kLmxlbmd0aCYmKGg9aC5jb25jYXQoaVtsXS5jaGlsZHJlbl9kKSkpfSx0aGlzKSksai5jaGlsZHJlbj1nLGouY2hpbGRyZW5fZD1oLG09MCxuPWoucGFyZW50cy5sZW5ndGg7bj5tO20rKylpW2oucGFyZW50c1ttXV0uY2hpbGRyZW5fZD1pW2oucGFyZW50c1ttXV0uY2hpbGRyZW5fZC5jb25jYXQoaCk7dGhpcy50cmlnZ2VyKCJtb2RlbCIse25vZGVzOmgscGFyZW50OmZ9KSxmIT09YS5qc3RyZWUucm9vdD8odGhpcy5fbm9kZV9jaGFuZ2VkKGYpLHRoaXMucmVkcmF3KCkpOih0aGlzLmdldF9jb250YWluZXJfdWwoKS5jaGlsZHJlbigiLmpzdHJlZS1pbml0aWFsLW5vZGUiKS5yZW1vdmUoKSx0aGlzLnJlZHJhdyghMCkpLHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGghPT1rJiZ0aGlzLnRyaWdnZXIoImNoYW5nZWQiLHthY3Rpb246Im1vZGVsIixzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KSxkLmNhbGwodGhpcywhMCl9LF9hcHBlbmRfanNvbl9kYXRhOmZ1bmN0aW9uKGIsYyxkLGUpe2lmKG51bGwhPT10aGlzLmVsZW1lbnQpe2I9dGhpcy5nZXRfbm9kZShiKSxiLmNoaWxkcmVuPVtdLGIuY2hpbGRyZW5fZD1bXSxjLmQmJihjPWMuZCwic3RyaW5nIj09dHlwZW9mIGMmJihjPUpTT04ucGFyc2UoYykpKSxhLmlzQXJyYXkoYyl8fChjPVtjXSk7dmFyIGY9bnVsbCxnPXtkZjp0aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlLGRhdDpjLHBhcjpiLmlkLG06dGhpcy5fbW9kZWwuZGF0YSx0X2lkOnRoaXMuX2lkLHRfY250OnRoaXMuX2NudCxzZWw6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkfSxoPWZ1bmN0aW9uKGEsYil7YS5kYXRhJiYoYT1hLmRhdGEpO3ZhciBjPWEuZGF0LGQ9YS5wYXIsZT1bXSxmPVtdLGc9W10saD1hLmRmLGk9YS50X2lkLGo9YS50X2NudCxrPWEubSxsPWtbZF0sbT1hLnNlbCxuLG8scCxxLHI9ZnVuY3Rpb24oYSxjLGQpe2Q9ZD9kLmNvbmNhdCgpOltdLGMmJmQudW5zaGlmdChjKTt2YXIgZT1hLmlkLnRvU3RyaW5nKCksZixpLGosbCxtPXtpZDplLHRleHQ6YS50ZXh0fHwiIixpY29uOmEuaWNvbiE9PWI/YS5pY29uOiEwLHBhcmVudDpjLHBhcmVudHM6ZCxjaGlsZHJlbjphLmNoaWxkcmVufHxbXSxjaGlsZHJlbl9kOmEuY2hpbGRyZW5fZHx8W10sZGF0YTphLmRhdGEsc3RhdGU6e30sbGlfYXR0cjp7aWQ6ITF9LGFfYXR0cjp7aHJlZjoiIyJ9LG9yaWdpbmFsOiExfTtmb3IoZiBpbiBoKWguaGFzT3duUHJvcGVydHkoZikmJihtLnN0YXRlW2ZdPWhbZl0pO2lmKGEmJmEuZGF0YSYmYS5kYXRhLmpzdHJlZSYmYS5kYXRhLmpzdHJlZS5pY29uJiYobS5pY29uPWEuZGF0YS5qc3RyZWUuaWNvbiksKG0uaWNvbj09PWJ8fG51bGw9PT1tLmljb258fCIiPT09bS5pY29uKSYmKG0uaWNvbj0hMCksYSYmYS5kYXRhJiYobS5kYXRhPWEuZGF0YSxhLmRhdGEuanN0cmVlKSlmb3IoZiBpbiBhLmRhdGEuanN0cmVlKWEuZGF0YS5qc3RyZWUuaGFzT3duUHJvcGVydHkoZikmJihtLnN0YXRlW2ZdPWEuZGF0YS5qc3RyZWVbZl0pO2lmKGEmJiJvYmplY3QiPT10eXBlb2YgYS5zdGF0ZSlmb3IoZiBpbiBhLnN0YXRlKWEuc3RhdGUuaGFzT3duUHJvcGVydHkoZikmJihtLnN0YXRlW2ZdPWEuc3RhdGVbZl0pO2lmKGEmJiJvYmplY3QiPT10eXBlb2YgYS5saV9hdHRyKWZvcihmIGluIGEubGlfYXR0cilhLmxpX2F0dHIuaGFzT3duUHJvcGVydHkoZikmJihtLmxpX2F0dHJbZl09YS5saV9hdHRyW2ZdKTtpZihtLmxpX2F0dHIuaWR8fChtLmxpX2F0dHIuaWQ9ZSksYSYmIm9iamVjdCI9PXR5cGVvZiBhLmFfYXR0cilmb3IoZiBpbiBhLmFfYXR0cilhLmFfYXR0ci5oYXNPd25Qcm9wZXJ0eShmKSYmKG0uYV9hdHRyW2ZdPWEuYV9hdHRyW2ZdKTtmb3IoYSYmYS5jaGlsZHJlbiYmYS5jaGlsZHJlbj09PSEwJiYobS5zdGF0ZS5sb2FkZWQ9ITEsbS5jaGlsZHJlbj1bXSxtLmNoaWxkcmVuX2Q9W10pLGtbbS5pZF09bSxmPTAsaT1tLmNoaWxkcmVuLmxlbmd0aDtpPmY7ZisrKWo9cihrW20uY2hpbGRyZW5bZl1dLG0uaWQsZCksbD1rW2pdLG0uY2hpbGRyZW5fZC5wdXNoKGopLGwuY2hpbGRyZW5fZC5sZW5ndGgmJihtLmNoaWxkcmVuX2Q9bS5jaGlsZHJlbl9kLmNvbmNhdChsLmNoaWxkcmVuX2QpKTtyZXR1cm4gZGVsZXRlIGEuZGF0YSxkZWxldGUgYS5jaGlsZHJlbixrW20uaWRdLm9yaWdpbmFsPWEsbS5zdGF0ZS5zZWxlY3RlZCYmZy5wdXNoKG0uaWQpLG0uaWR9LHM9ZnVuY3Rpb24oYSxjLGQpe2Q9ZD9kLmNvbmNhdCgpOltdLGMmJmQudW5zaGlmdChjKTt2YXIgZT0hMSxmLGwsbSxuLG87ZG8gZT0iaiIraSsiXyIrICsrajt3aGlsZShrW2VdKTtvPXtpZDohMSx0ZXh0OiJzdHJpbmciPT10eXBlb2YgYT9hOiIiLGljb246Im9iamVjdCI9PXR5cGVvZiBhJiZhLmljb24hPT1iP2EuaWNvbjohMCxwYXJlbnQ6YyxwYXJlbnRzOmQsY2hpbGRyZW46W10sY2hpbGRyZW5fZDpbXSxkYXRhOm51bGwsc3RhdGU6e30sbGlfYXR0cjp7aWQ6ITF9LGFfYXR0cjp7aHJlZjoiIyJ9LG9yaWdpbmFsOiExfTtmb3IoZiBpbiBoKWguaGFzT3duUHJvcGVydHkoZikmJihvLnN0YXRlW2ZdPWhbZl0pO2lmKGEmJmEuaWQmJihvLmlkPWEuaWQudG9TdHJpbmcoKSksYSYmYS50ZXh0JiYoby50ZXh0PWEudGV4dCksYSYmYS5kYXRhJiZhLmRhdGEuanN0cmVlJiZhLmRhdGEuanN0cmVlLmljb24mJihvLmljb249YS5kYXRhLmpzdHJlZS5pY29uKSwoby5pY29uPT09Ynx8bnVsbD09PW8uaWNvbnx8IiI9PT1vLmljb24pJiYoby5pY29uPSEwKSxhJiZhLmRhdGEmJihvLmRhdGE9YS5kYXRhLGEuZGF0YS5qc3RyZWUpKWZvcihmIGluIGEuZGF0YS5qc3RyZWUpYS5kYXRhLmpzdHJlZS5oYXNPd25Qcm9wZXJ0eShmKSYmKG8uc3RhdGVbZl09YS5kYXRhLmpzdHJlZVtmXSk7aWYoYSYmIm9iamVjdCI9PXR5cGVvZiBhLnN0YXRlKWZvcihmIGluIGEuc3RhdGUpYS5zdGF0ZS5oYXNPd25Qcm9wZXJ0eShmKSYmKG8uc3RhdGVbZl09YS5zdGF0ZVtmXSk7aWYoYSYmIm9iamVjdCI9PXR5cGVvZiBhLmxpX2F0dHIpZm9yKGYgaW4gYS5saV9hdHRyKWEubGlfYXR0ci5oYXNPd25Qcm9wZXJ0eShmKSYmKG8ubGlfYXR0cltmXT1hLmxpX2F0dHJbZl0pO2lmKG8ubGlfYXR0ci5pZCYmIW8uaWQmJihvLmlkPW8ubGlfYXR0ci5pZC50b1N0cmluZygpKSxvLmlkfHwoby5pZD1lKSxvLmxpX2F0dHIuaWR8fChvLmxpX2F0dHIuaWQ9by5pZCksYSYmIm9iamVjdCI9PXR5cGVvZiBhLmFfYXR0cilmb3IoZiBpbiBhLmFfYXR0cilhLmFfYXR0ci5oYXNPd25Qcm9wZXJ0eShmKSYmKG8uYV9hdHRyW2ZdPWEuYV9hdHRyW2ZdKTtpZihhJiZhLmNoaWxkcmVuJiZhLmNoaWxkcmVuLmxlbmd0aCl7Zm9yKGY9MCxsPWEuY2hpbGRyZW4ubGVuZ3RoO2w+ZjtmKyspbT1zKGEuY2hpbGRyZW5bZl0sby5pZCxkKSxuPWtbbV0sby5jaGlsZHJlbi5wdXNoKG0pLG4uY2hpbGRyZW5fZC5sZW5ndGgmJihvLmNoaWxkcmVuX2Q9by5jaGlsZHJlbl9kLmNvbmNhdChuLmNoaWxkcmVuX2QpKTtvLmNoaWxkcmVuX2Q9by5jaGlsZHJlbl9kLmNvbmNhdChvLmNoaWxkcmVuKX1yZXR1cm4gYSYmYS5jaGlsZHJlbiYmYS5jaGlsZHJlbj09PSEwJiYoby5zdGF0ZS5sb2FkZWQ9ITEsby5jaGlsZHJlbj1bXSxvLmNoaWxkcmVuX2Q9W10pLGRlbGV0ZSBhLmRhdGEsZGVsZXRlIGEuY2hpbGRyZW4sby5vcmlnaW5hbD1hLGtbby5pZF09byxvLnN0YXRlLnNlbGVjdGVkJiZnLnB1c2goby5pZCksby5pZH07aWYoYy5sZW5ndGgmJmNbMF0uaWQhPT1iJiZjWzBdLnBhcmVudCE9PWIpe2ZvcihvPTAscD1jLmxlbmd0aDtwPm87bysrKWNbb10uY2hpbGRyZW58fChjW29dLmNoaWxkcmVuPVtdKSxrW2Nbb10uaWQudG9TdHJpbmcoKV09Y1tvXTtmb3Iobz0wLHA9Yy5sZW5ndGg7cD5vO28rKylrW2Nbb10ucGFyZW50LnRvU3RyaW5nKCldLmNoaWxkcmVuLnB1c2goY1tvXS5pZC50b1N0cmluZygpKSxsLmNoaWxkcmVuX2QucHVzaChjW29dLmlkLnRvU3RyaW5nKCkpO2ZvcihvPTAscD1sLmNoaWxkcmVuLmxlbmd0aDtwPm87bysrKW49cihrW2wuY2hpbGRyZW5bb11dLGQsbC5wYXJlbnRzLmNvbmNhdCgpKSxmLnB1c2gobiksa1tuXS5jaGlsZHJlbl9kLmxlbmd0aCYmKGY9Zi5jb25jYXQoa1tuXS5jaGlsZHJlbl9kKSk7Zm9yKG89MCxwPWwucGFyZW50cy5sZW5ndGg7cD5vO28rKylrW2wucGFyZW50c1tvXV0uY2hpbGRyZW5fZD1rW2wucGFyZW50c1tvXV0uY2hpbGRyZW5fZC5jb25jYXQoZik7cT17Y250OmosbW9kOmssc2VsOm0scGFyOmQsZHBjOmYsYWRkOmd9fWVsc2V7Zm9yKG89MCxwPWMubGVuZ3RoO3A+bztvKyspbj1zKGNbb10sZCxsLnBhcmVudHMuY29uY2F0KCkpLG4mJihlLnB1c2gobiksZi5wdXNoKG4pLGtbbl0uY2hpbGRyZW5fZC5sZW5ndGgmJihmPWYuY29uY2F0KGtbbl0uY2hpbGRyZW5fZCkpKTtmb3IobC5jaGlsZHJlbj1lLGwuY2hpbGRyZW5fZD1mLG89MCxwPWwucGFyZW50cy5sZW5ndGg7cD5vO28rKylrW2wucGFyZW50c1tvXV0uY2hpbGRyZW5fZD1rW2wucGFyZW50c1tvXV0uY2hpbGRyZW5fZC5jb25jYXQoZik7cT17Y250OmosbW9kOmssc2VsOm0scGFyOmQsZHBjOmYsYWRkOmd9fXJldHVybiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5kb2N1bWVudD9xOnZvaWQgcG9zdE1lc3NhZ2UocSl9LGk9ZnVuY3Rpb24oYixjKXtpZihudWxsIT09dGhpcy5lbGVtZW50KXt0aGlzLl9jbnQ9Yi5jbnQ7dmFyIGUsZj10aGlzLl9tb2RlbC5kYXRhO2ZvcihlIGluIGYpZi5oYXNPd25Qcm9wZXJ0eShlKSYmZltlXS5zdGF0ZSYmZltlXS5zdGF0ZS5sb2FkaW5nJiZiLm1vZFtlXSYmKGIubW9kW2VdLnN0YXRlLmxvYWRpbmc9ITApO2lmKHRoaXMuX21vZGVsLmRhdGE9Yi5tb2QsYyl7dmFyIGcsaD1iLmFkZCxpPWIuc2VsLGo9dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnNsaWNlKCk7aWYoZj10aGlzLl9tb2RlbC5kYXRhLGkubGVuZ3RoIT09ai5sZW5ndGh8fGEudmFrYXRhLmFycmF5X3VuaXF1ZShpLmNvbmNhdChqKSkubGVuZ3RoIT09aS5sZW5ndGgpe2ZvcihlPTAsZz1pLmxlbmd0aDtnPmU7ZSsrKS0xPT09YS5pbkFycmF5KGlbZV0saCkmJi0xPT09YS5pbkFycmF5KGlbZV0saikmJihmW2lbZV1dLnN0YXRlLnNlbGVjdGVkPSExKTtmb3IoZT0wLGc9ai5sZW5ndGg7Zz5lO2UrKyktMT09PWEuaW5BcnJheShqW2VdLGkpJiYoZltqW2VdXS5zdGF0ZS5zZWxlY3RlZD0hMCl9fWIuYWRkLmxlbmd0aCYmKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZD10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuY29uY2F0KGIuYWRkKSksdGhpcy50cmlnZ2VyKCJtb2RlbCIse25vZGVzOmIuZHBjLHBhcmVudDpiLnBhcn0pLGIucGFyIT09YS5qc3RyZWUucm9vdD8odGhpcy5fbm9kZV9jaGFuZ2VkKGIucGFyKSx0aGlzLnJlZHJhdygpKTp0aGlzLnJlZHJhdyghMCksYi5hZGQubGVuZ3RoJiZ0aGlzLnRyaWdnZXIoImNoYW5nZWQiLHthY3Rpb246Im1vZGVsIixzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KSxkLmNhbGwodGhpcywhMCl9fTtpZih0aGlzLnNldHRpbmdzLmNvcmUud29ya2VyJiZ3aW5kb3cuQmxvYiYmd2luZG93LlVSTCYmd2luZG93Lldvcmtlcil0cnl7bnVsbD09PXRoaXMuX3dyayYmKHRoaXMuX3dyaz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgd2luZG93LkJsb2IoWyJzZWxmLm9ubWVzc2FnZSA9ICIraC50b1N0cmluZygpXSx7dHlwZToidGV4dC9qYXZhc2NyaXB0In0pKSksIXRoaXMuX2RhdGEuY29yZS53b3JraW5nfHxlPyh0aGlzLl9kYXRhLmNvcmUud29ya2luZz0hMCxmPW5ldyB3aW5kb3cuV29ya2VyKHRoaXMuX3dyayksZi5vbm1lc3NhZ2U9YS5wcm94eShmdW5jdGlvbihhKXtpLmNhbGwodGhpcyxhLmRhdGEsITApO3RyeXtmLnRlcm1pbmF0ZSgpLGY9bnVsbH1jYXRjaChiKXt9dGhpcy5fZGF0YS5jb3JlLndvcmtlcl9xdWV1ZS5sZW5ndGg/dGhpcy5fYXBwZW5kX2pzb25fZGF0YS5hcHBseSh0aGlzLHRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUuc2hpZnQoKSk6dGhpcy5fZGF0YS5jb3JlLndvcmtpbmc9ITF9LHRoaXMpLGcucGFyP2YucG9zdE1lc3NhZ2UoZyk6dGhpcy5fZGF0YS5jb3JlLndvcmtlcl9xdWV1ZS5sZW5ndGg/dGhpcy5fYXBwZW5kX2pzb25fZGF0YS5hcHBseSh0aGlzLHRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUuc2hpZnQoKSk6dGhpcy5fZGF0YS5jb3JlLndvcmtpbmc9ITEpOnRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUucHVzaChbYixjLGQsITBdKX1jYXRjaChqKXtpLmNhbGwodGhpcyxoKGcpLCExKSx0aGlzLl9kYXRhLmNvcmUud29ya2VyX3F1ZXVlLmxlbmd0aD90aGlzLl9hcHBlbmRfanNvbl9kYXRhLmFwcGx5KHRoaXMsdGhpcy5fZGF0YS5jb3JlLndvcmtlcl9xdWV1ZS5zaGlmdCgpKTp0aGlzLl9kYXRhLmNvcmUud29ya2luZz0hMX1lbHNlIGkuY2FsbCh0aGlzLGgoZyksITEpfX0sX3BhcnNlX21vZGVsX2Zyb21faHRtbDpmdW5jdGlvbihjLGQsZSl7ZT1lP1tdLmNvbmNhdChlKTpbXSxkJiZlLnVuc2hpZnQoZCk7dmFyIGYsZyxoPXRoaXMuX21vZGVsLmRhdGEsaT17aWQ6ITEsdGV4dDohMSxpY29uOiEwLHBhcmVudDpkLHBhcmVudHM6ZSxjaGlsZHJlbjpbXSxjaGlsZHJlbl9kOltdLGRhdGE6bnVsbCxzdGF0ZTp7fSxsaV9hdHRyOntpZDohMX0sYV9hdHRyOntocmVmOiIjIn0sb3JpZ2luYWw6ITF9LGosayxsO2ZvcihqIGluIHRoaXMuX21vZGVsLmRlZmF1bHRfc3RhdGUpdGhpcy5fbW9kZWwuZGVmYXVsdF9zdGF0ZS5oYXNPd25Qcm9wZXJ0eShqKSYmKGkuc3RhdGVbal09dGhpcy5fbW9kZWwuZGVmYXVsdF9zdGF0ZVtqXSk7aWYoaz1hLnZha2F0YS5hdHRyaWJ1dGVzKGMsITApLGEuZWFjaChrLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGM9YS50cmltKGMpLGMubGVuZ3RoPyhpLmxpX2F0dHJbYl09Yyx2b2lkKCJpZCI9PT1iJiYoaS5pZD1jLnRvU3RyaW5nKCkpKSk6ITB9KSxrPWMuY2hpbGRyZW4oImEiKS5maXJzdCgpLGsubGVuZ3RoJiYoaz1hLnZha2F0YS5hdHRyaWJ1dGVzKGssITApLGEuZWFjaChrLGZ1bmN0aW9uKGIsYyl7Yz1hLnRyaW0oYyksYy5sZW5ndGgmJihpLmFfYXR0cltiXT1jKX0pKSxrPWMuY2hpbGRyZW4oImEiKS5maXJzdCgpLmxlbmd0aD9jLmNoaWxkcmVuKCJhIikuZmlyc3QoKS5jbG9uZSgpOmMuY2xvbmUoKSxrLmNoaWxkcmVuKCJpbnMsIGksIHVsIikucmVtb3ZlKCksaz1rLmh0bWwoKSxrPWEoIjxkaXYgLz4iKS5odG1sKGspLGkudGV4dD10aGlzLnNldHRpbmdzLmNvcmUuZm9yY2VfdGV4dD9rLnRleHQoKTprLmh0bWwoKSxrPWMuZGF0YSgpLGkuZGF0YT1rP2EuZXh0ZW5kKCEwLHt9LGspOm51bGwsaS5zdGF0ZS5vcGVuZWQ9Yy5oYXNDbGFzcygianN0cmVlLW9wZW4iKSxpLnN0YXRlLnNlbGVjdGVkPWMuY2hpbGRyZW4oImEiKS5oYXNDbGFzcygianN0cmVlLWNsaWNrZWQiKSxpLnN0YXRlLmRpc2FibGVkPWMuY2hpbGRyZW4oImEiKS5oYXNDbGFzcygianN0cmVlLWRpc2FibGVkIiksaS5kYXRhJiZpLmRhdGEuanN0cmVlKWZvcihqIGluIGkuZGF0YS5qc3RyZWUpaS5kYXRhLmpzdHJlZS5oYXNPd25Qcm9wZXJ0eShqKSYmKGkuc3RhdGVbal09aS5kYXRhLmpzdHJlZVtqXSk7az1jLmNoaWxkcmVuKCJhIikuY2hpbGRyZW4oIi5qc3RyZWUtdGhlbWVpY29uIiksay5sZW5ndGgmJihpLmljb249ay5oYXNDbGFzcygianN0cmVlLXRoZW1laWNvbi1oaWRkZW4iKT8hMTprLmF0dHIoInJlbCIpKSxpLnN0YXRlLmljb24hPT1iJiYoaS5pY29uPWkuc3RhdGUuaWNvbiksKGkuaWNvbj09PWJ8fG51bGw9PT1pLmljb258fCIiPT09aS5pY29uKSYmKGkuaWNvbj0hMCksaz1jLmNoaWxkcmVuKCJ1bCIpLmNoaWxkcmVuKCJsaSIpO2RvIGw9ImoiK3RoaXMuX2lkKyJfIisgKyt0aGlzLl9jbnQ7d2hpbGUoaFtsXSk7cmV0dXJuIGkuaWQ9aS5saV9hdHRyLmlkP2kubGlfYXR0ci5pZC50b1N0cmluZygpOmwsay5sZW5ndGg/KGsuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGIsYyl7Zj10aGlzLl9wYXJzZV9tb2RlbF9mcm9tX2h0bWwoYShjKSxpLmlkLGUpLGc9dGhpcy5fbW9kZWwuZGF0YVtmXSxpLmNoaWxkcmVuLnB1c2goZiksZy5jaGlsZHJlbl9kLmxlbmd0aCYmKGkuY2hpbGRyZW5fZD1pLmNoaWxkcmVuX2QuY29uY2F0KGcuY2hpbGRyZW5fZCkpfSx0aGlzKSksaS5jaGlsZHJlbl9kPWkuY2hpbGRyZW5fZC5jb25jYXQoaS5jaGlsZHJlbikpOmMuaGFzQ2xhc3MoImpzdHJlZS1jbG9zZWQiKSYmKGkuc3RhdGUubG9hZGVkPSExKSxpLmxpX2F0dHJbImNsYXNzIl0mJihpLmxpX2F0dHJbImNsYXNzIl09aS5saV9hdHRyWyJjbGFzcyJdLnJlcGxhY2UoImpzdHJlZS1jbG9zZWQiLCIiKS5yZXBsYWNlKCJqc3RyZWUtb3BlbiIsIiIpKSxpLmFfYXR0clsiY2xhc3MiXSYmKGkuYV9hdHRyWyJjbGFzcyJdPWkuYV9hdHRyWyJjbGFzcyJdLnJlcGxhY2UoImpzdHJlZS1jbGlja2VkIiwiIikucmVwbGFjZSgianN0cmVlLWRpc2FibGVkIiwiIikpLGhbaS5pZF09aSxpLnN0YXRlLnNlbGVjdGVkJiZ0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQucHVzaChpLmlkKSxpLmlkfSxfcGFyc2VfbW9kZWxfZnJvbV9mbGF0X2pzb246ZnVuY3Rpb24oYSxjLGQpe2Q9ZD9kLmNvbmNhdCgpOltdLGMmJmQudW5zaGlmdChjKTt2YXIgZT1hLmlkLnRvU3RyaW5nKCksZj10aGlzLl9tb2RlbC5kYXRhLGc9dGhpcy5fbW9kZWwuZGVmYXVsdF9zdGF0ZSxoLGksaixrLGw9e2lkOmUsdGV4dDphLnRleHR8fCIiLGljb246YS5pY29uIT09Yj9hLmljb246ITAscGFyZW50OmMscGFyZW50czpkLGNoaWxkcmVuOmEuY2hpbGRyZW58fFtdLGNoaWxkcmVuX2Q6YS5jaGlsZHJlbl9kfHxbXSxkYXRhOmEuZGF0YSxzdGF0ZTp7fSxsaV9hdHRyOntpZDohMX0sYV9hdHRyOntocmVmOiIjIn0sb3JpZ2luYWw6ITF9O2ZvcihoIGluIGcpZy5oYXNPd25Qcm9wZXJ0eShoKSYmKGwuc3RhdGVbaF09Z1toXSk7aWYoYSYmYS5kYXRhJiZhLmRhdGEuanN0cmVlJiZhLmRhdGEuanN0cmVlLmljb24mJihsLmljb249YS5kYXRhLmpzdHJlZS5pY29uKSwobC5pY29uPT09Ynx8bnVsbD09PWwuaWNvbnx8IiI9PT1sLmljb24pJiYobC5pY29uPSEwKSxhJiZhLmRhdGEmJihsLmRhdGE9YS5kYXRhLGEuZGF0YS5qc3RyZWUpKWZvcihoIGluIGEuZGF0YS5qc3RyZWUpYS5kYXRhLmpzdHJlZS5oYXNPd25Qcm9wZXJ0eShoKSYmKGwuc3RhdGVbaF09YS5kYXRhLmpzdHJlZVtoXSk7aWYoYSYmIm9iamVjdCI9PXR5cGVvZiBhLnN0YXRlKWZvcihoIGluIGEuc3RhdGUpYS5zdGF0ZS5oYXNPd25Qcm9wZXJ0eShoKSYmKGwuc3RhdGVbaF09YS5zdGF0ZVtoXSk7aWYoYSYmIm9iamVjdCI9PXR5cGVvZiBhLmxpX2F0dHIpZm9yKGggaW4gYS5saV9hdHRyKWEubGlfYXR0ci5oYXNPd25Qcm9wZXJ0eShoKSYmKGwubGlfYXR0cltoXT1hLmxpX2F0dHJbaF0pO2lmKGwubGlfYXR0ci5pZHx8KGwubGlfYXR0ci5pZD1lKSxhJiYib2JqZWN0Ij09dHlwZW9mIGEuYV9hdHRyKWZvcihoIGluIGEuYV9hdHRyKWEuYV9hdHRyLmhhc093blByb3BlcnR5KGgpJiYobC5hX2F0dHJbaF09YS5hX2F0dHJbaF0pO2ZvcihhJiZhLmNoaWxkcmVuJiZhLmNoaWxkcmVuPT09ITAmJihsLnN0YXRlLmxvYWRlZD0hMSxsLmNoaWxkcmVuPVtdLGwuY2hpbGRyZW5fZD1bXSksZltsLmlkXT1sLGg9MCxpPWwuY2hpbGRyZW4ubGVuZ3RoO2k+aDtoKyspaj10aGlzLl9wYXJzZV9tb2RlbF9mcm9tX2ZsYXRfanNvbihmW2wuY2hpbGRyZW5baF1dLGwuaWQsZCksaz1mW2pdLGwuY2hpbGRyZW5fZC5wdXNoKGopLGsuY2hpbGRyZW5fZC5sZW5ndGgmJihsLmNoaWxkcmVuX2Q9bC5jaGlsZHJlbl9kLmNvbmNhdChrLmNoaWxkcmVuX2QpKTtyZXR1cm4gZGVsZXRlIGEuZGF0YSxkZWxldGUgYS5jaGlsZHJlbixmW2wuaWRdLm9yaWdpbmFsPWEsbC5zdGF0ZS5zZWxlY3RlZCYmdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnB1c2gobC5pZCksbC5pZH0sX3BhcnNlX21vZGVsX2Zyb21fanNvbjpmdW5jdGlvbihhLGMsZCl7ZD1kP2QuY29uY2F0KCk6W10sYyYmZC51bnNoaWZ0KGMpO3ZhciBlPSExLGYsZyxoLGksaj10aGlzLl9tb2RlbC5kYXRhLGs9dGhpcy5fbW9kZWwuZGVmYXVsdF9zdGF0ZSxsO2RvIGU9ImoiK3RoaXMuX2lkKyJfIisgKyt0aGlzLl9jbnQ7d2hpbGUoaltlXSk7bD17aWQ6ITEsdGV4dDoic3RyaW5nIj09dHlwZW9mIGE/YToiIixpY29uOiJvYmplY3QiPT10eXBlb2YgYSYmYS5pY29uIT09Yj9hLmljb246ITAscGFyZW50OmMscGFyZW50czpkLGNoaWxkcmVuOltdLGNoaWxkcmVuX2Q6W10sZGF0YTpudWxsLHN0YXRlOnt9LGxpX2F0dHI6e2lkOiExfSxhX2F0dHI6e2hyZWY6IiMifSxvcmlnaW5hbDohMX07Zm9yKGYgaW4gaylrLmhhc093blByb3BlcnR5KGYpJiYobC5zdGF0ZVtmXT1rW2ZdKTtpZihhJiZhLmlkJiYobC5pZD1hLmlkLnRvU3RyaW5nKCkpLGEmJmEudGV4dCYmKGwudGV4dD1hLnRleHQpLGEmJmEuZGF0YSYmYS5kYXRhLmpzdHJlZSYmYS5kYXRhLmpzdHJlZS5pY29uJiYobC5pY29uPWEuZGF0YS5qc3RyZWUuaWNvbiksKGwuaWNvbj09PWJ8fG51bGw9PT1sLmljb258fCIiPT09bC5pY29uKSYmKGwuaWNvbj0hMCksYSYmYS5kYXRhJiYobC5kYXRhPWEuZGF0YSxhLmRhdGEuanN0cmVlKSlmb3IoZiBpbiBhLmRhdGEuanN0cmVlKWEuZGF0YS5qc3RyZWUuaGFzT3duUHJvcGVydHkoZikmJihsLnN0YXRlW2ZdPWEuZGF0YS5qc3RyZWVbZl0pO2lmKGEmJiJvYmplY3QiPT10eXBlb2YgYS5zdGF0ZSlmb3IoZiBpbiBhLnN0YXRlKWEuc3RhdGUuaGFzT3duUHJvcGVydHkoZikmJihsLnN0YXRlW2ZdPWEuc3RhdGVbZl0pO2lmKGEmJiJvYmplY3QiPT10eXBlb2YgYS5saV9hdHRyKWZvcihmIGluIGEubGlfYXR0cilhLmxpX2F0dHIuaGFzT3duUHJvcGVydHkoZikmJihsLmxpX2F0dHJbZl09YS5saV9hdHRyW2ZdKTtpZihsLmxpX2F0dHIuaWQmJiFsLmlkJiYobC5pZD1sLmxpX2F0dHIuaWQudG9TdHJpbmcoKSksbC5pZHx8KGwuaWQ9ZSksbC5saV9hdHRyLmlkfHwobC5saV9hdHRyLmlkPWwuaWQpLGEmJiJvYmplY3QiPT10eXBlb2YgYS5hX2F0dHIpZm9yKGYgaW4gYS5hX2F0dHIpYS5hX2F0dHIuaGFzT3duUHJvcGVydHkoZikmJihsLmFfYXR0cltmXT1hLmFfYXR0cltmXSk7aWYoYSYmYS5jaGlsZHJlbiYmYS5jaGlsZHJlbi5sZW5ndGgpe2ZvcihmPTAsZz1hLmNoaWxkcmVuLmxlbmd0aDtnPmY7ZisrKWg9dGhpcy5fcGFyc2VfbW9kZWxfZnJvbV9qc29uKGEuY2hpbGRyZW5bZl0sbC5pZCxkKSxpPWpbaF0sbC5jaGlsZHJlbi5wdXNoKGgpLGkuY2hpbGRyZW5fZC5sZW5ndGgmJihsLmNoaWxkcmVuX2Q9bC5jaGlsZHJlbl9kLmNvbmNhdChpLmNoaWxkcmVuX2QpKTtsLmNoaWxkcmVuX2Q9bC5jaGlsZHJlbl9kLmNvbmNhdChsLmNoaWxkcmVuKX1yZXR1cm4gYSYmYS5jaGlsZHJlbiYmYS5jaGlsZHJlbj09PSEwJiYobC5zdGF0ZS5sb2FkZWQ9ITEsbC5jaGlsZHJlbj1bXSxsLmNoaWxkcmVuX2Q9W10pLGRlbGV0ZSBhLmRhdGEsZGVsZXRlIGEuY2hpbGRyZW4sbC5vcmlnaW5hbD1hLGpbbC5pZF09bCxsLnN0YXRlLnNlbGVjdGVkJiZ0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQucHVzaChsLmlkKSxsLmlkfSxfcmVkcmF3OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXc/dGhpcy5fbW9kZWwuZGF0YVthLmpzdHJlZS5yb290XS5jaGlsZHJlbi5jb25jYXQoW10pOnRoaXMuX21vZGVsLmNoYW5nZWQuY29uY2F0KFtdKSxjPWkuY3JlYXRlRWxlbWVudCgiVUwiKSxkLGUsZixnPXRoaXMuX2RhdGEuY29yZS5mb2N1c2VkO2ZvcihlPTAsZj1iLmxlbmd0aDtmPmU7ZSsrKWQ9dGhpcy5yZWRyYXdfbm9kZShiW2VdLCEwLHRoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3KSxkJiZ0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdyYmYy5hcHBlbmRDaGlsZChkKTt0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdyYmKGMuY2xhc3NOYW1lPXRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdLmNsYXNzTmFtZSxjLnNldEF0dHJpYnV0ZSgicm9sZSIsImdyb3VwIiksdGhpcy5lbGVtZW50LmVtcHR5KCkuYXBwZW5kKGMpKSxudWxsIT09ZyYmKGQ9dGhpcy5nZXRfbm9kZShnLCEwKSxkJiZkLmxlbmd0aCYmZC5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKVswXSE9PWkuYWN0aXZlRWxlbWVudD9kLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmZvY3VzKCk6dGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ9bnVsbCksdGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXc9ITEsdGhpcy5fbW9kZWwuY2hhbmdlZD1bXSx0aGlzLnRyaWdnZXIoInJlZHJhdyIse25vZGVzOmJ9KX0scmVkcmF3OmZ1bmN0aW9uKGEpe2EmJih0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdz0hMCksdGhpcy5fcmVkcmF3KCl9LGRyYXdfY2hpbGRyZW46ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5nZXRfbm9kZShiKSxkPSExLGU9ITEsZj0hMSxnPWk7aWYoIWMpcmV0dXJuITE7aWYoYy5pZD09PWEuanN0cmVlLnJvb3QpcmV0dXJuIHRoaXMucmVkcmF3KCEwKTtpZihiPXRoaXMuZ2V0X25vZGUoYiwhMCksIWJ8fCFiLmxlbmd0aClyZXR1cm4hMTtpZihiLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikucmVtb3ZlKCksYj1iWzBdLGMuY2hpbGRyZW4ubGVuZ3RoJiZjLnN0YXRlLmxvYWRlZCl7Zm9yKGY9Zy5jcmVhdGVFbGVtZW50KCJVTCIpLGYuc2V0QXR0cmlidXRlKCJyb2xlIiwiZ3JvdXAiKSxmLmNsYXNzTmFtZT0ianN0cmVlLWNoaWxkcmVuIixkPTAsZT1jLmNoaWxkcmVuLmxlbmd0aDtlPmQ7ZCsrKWYuYXBwZW5kQ2hpbGQodGhpcy5yZWRyYXdfbm9kZShjLmNoaWxkcmVuW2RdLCEwLCEwKSk7Yi5hcHBlbmRDaGlsZChmKX19LHJlZHJhd19ub2RlOmZ1bmN0aW9uKGIsYyxkLGUpe3ZhciBmPXRoaXMuZ2V0X25vZGUoYiksZz0hMSxoPSExLGo9ITEsaz0hMSxsPSExLG09ITEsbj0iIixvPWkscD10aGlzLl9tb2RlbC5kYXRhLHE9ITEscj0hMSxzPW51bGwsdD0wLHU9MCx2PSExLHc9ITE7CglpZighZilyZXR1cm4hMTtpZihmLmlkPT09YS5qc3RyZWUucm9vdClyZXR1cm4gdGhpcy5yZWRyYXcoITApO2lmKGM9Y3x8MD09PWYuY2hpbGRyZW4ubGVuZ3RoLGI9aS5xdWVyeVNlbGVjdG9yP3RoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCIjIisoLTEhPT0iMDEyMzQ1Njc4OSIuaW5kZXhPZihmLmlkWzBdKT8iXFwzIitmLmlkWzBdKyIgIitmLmlkLnN1YnN0cigxKS5yZXBsYWNlKGEuanN0cmVlLmlkcmVnZXgsIlxcJCYiKTpmLmlkLnJlcGxhY2UoYS5qc3RyZWUuaWRyZWdleCwiXFwkJiIpKSk6aS5nZXRFbGVtZW50QnlJZChmLmlkKSliPWEoYiksZHx8KGc9Yi5wYXJlbnQoKS5wYXJlbnQoKVswXSxnPT09dGhpcy5lbGVtZW50WzBdJiYoZz1udWxsKSxoPWIuaW5kZXgoKSksY3x8IWYuY2hpbGRyZW4ubGVuZ3RofHxiLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikubGVuZ3RofHwoYz0hMCksY3x8KGo9Yi5jaGlsZHJlbigiLmpzdHJlZS1jaGlsZHJlbiIpWzBdKSxxPWIuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIilbMF09PT1pLmFjdGl2ZUVsZW1lbnQsYi5yZW1vdmUoKTtlbHNlIGlmKGM9ITAsIWQpe2lmKGc9Zi5wYXJlbnQhPT1hLmpzdHJlZS5yb290P2EoIiMiK2YucGFyZW50LnJlcGxhY2UoYS5qc3RyZWUuaWRyZWdleCwiXFwkJiIpLHRoaXMuZWxlbWVudClbMF06bnVsbCwhKG51bGw9PT1nfHxnJiZwW2YucGFyZW50XS5zdGF0ZS5vcGVuZWQpKXJldHVybiExO2g9YS5pbkFycmF5KGYuaWQsbnVsbD09PWc/cFthLmpzdHJlZS5yb290XS5jaGlsZHJlbjpwW2YucGFyZW50XS5jaGlsZHJlbil9Yj10aGlzLl9kYXRhLmNvcmUubm9kZS5jbG9uZU5vZGUoITApLG49ImpzdHJlZS1ub2RlICI7Zm9yKGsgaW4gZi5saV9hdHRyKWlmKGYubGlfYXR0ci5oYXNPd25Qcm9wZXJ0eShrKSl7aWYoImlkIj09PWspY29udGludWU7ImNsYXNzIiE9PWs/Yi5zZXRBdHRyaWJ1dGUoayxmLmxpX2F0dHJba10pOm4rPWYubGlfYXR0cltrXX1mb3IoZi5hX2F0dHIuaWR8fChmLmFfYXR0ci5pZD1mLmlkKyJfYW5jaG9yIiksYi5zZXRBdHRyaWJ1dGUoImFyaWEtc2VsZWN0ZWQiLCEhZi5zdGF0ZS5zZWxlY3RlZCksYi5zZXRBdHRyaWJ1dGUoImFyaWEtbGV2ZWwiLGYucGFyZW50cy5sZW5ndGgpLGIuc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsbGVkYnkiLGYuYV9hdHRyLmlkKSxmLnN0YXRlLmRpc2FibGVkJiZiLnNldEF0dHJpYnV0ZSgiYXJpYS1kaXNhYmxlZCIsITApLGs9MCxsPWYuY2hpbGRyZW4ubGVuZ3RoO2w+aztrKyspaWYoIXBbZi5jaGlsZHJlbltrXV0uc3RhdGUuaGlkZGVuKXt2PSEwO2JyZWFrfWlmKG51bGwhPT1mLnBhcmVudCYmcFtmLnBhcmVudF0mJiFmLnN0YXRlLmhpZGRlbiYmKGs9YS5pbkFycmF5KGYuaWQscFtmLnBhcmVudF0uY2hpbGRyZW4pLHc9Zi5pZCwtMSE9PWspKWZvcihrKyssbD1wW2YucGFyZW50XS5jaGlsZHJlbi5sZW5ndGg7bD5rO2srKylpZihwW3BbZi5wYXJlbnRdLmNoaWxkcmVuW2tdXS5zdGF0ZS5oaWRkZW58fCh3PXBbZi5wYXJlbnRdLmNoaWxkcmVuW2tdKSx3IT09Zi5pZClicmVhaztmLnN0YXRlLmhpZGRlbiYmKG4rPSIganN0cmVlLWhpZGRlbiIpLGYuc3RhdGUubG9hZGVkJiYhdj9uKz0iIGpzdHJlZS1sZWFmIjoobis9Zi5zdGF0ZS5vcGVuZWQmJmYuc3RhdGUubG9hZGVkPyIganN0cmVlLW9wZW4iOiIganN0cmVlLWNsb3NlZCIsYi5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLGYuc3RhdGUub3BlbmVkJiZmLnN0YXRlLmxvYWRlZCkpLHc9PT1mLmlkJiYobis9IiBqc3RyZWUtbGFzdCIpLGIuaWQ9Zi5pZCxiLmNsYXNzTmFtZT1uLG49KGYuc3RhdGUuc2VsZWN0ZWQ/IiBqc3RyZWUtY2xpY2tlZCI6IiIpKyhmLnN0YXRlLmRpc2FibGVkPyIganN0cmVlLWRpc2FibGVkIjoiIik7Zm9yKGwgaW4gZi5hX2F0dHIpaWYoZi5hX2F0dHIuaGFzT3duUHJvcGVydHkobCkpe2lmKCJocmVmIj09PWwmJiIjIj09PWYuYV9hdHRyW2xdKWNvbnRpbnVlOyJjbGFzcyIhPT1sP2IuY2hpbGROb2Rlc1sxXS5zZXRBdHRyaWJ1dGUobCxmLmFfYXR0cltsXSk6bis9IiAiK2YuYV9hdHRyW2xdfWlmKG4ubGVuZ3RoJiYoYi5jaGlsZE5vZGVzWzFdLmNsYXNzTmFtZT0ianN0cmVlLWFuY2hvciAiK24pLChmLmljb24mJmYuaWNvbiE9PSEwfHxmLmljb249PT0hMSkmJihmLmljb249PT0hMT9iLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5jbGFzc05hbWUrPSIganN0cmVlLXRoZW1laWNvbi1oaWRkZW4iOi0xPT09Zi5pY29uLmluZGV4T2YoIi8iKSYmLTE9PT1mLmljb24uaW5kZXhPZigiLiIpP2IuY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLmNsYXNzTmFtZSs9IiAiK2YuaWNvbisiIGpzdHJlZS10aGVtZWljb24tY3VzdG9tIjooYi5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0uc3R5bGUuYmFja2dyb3VuZEltYWdlPSd1cmwoIicrZi5pY29uKyciKScsYi5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0uc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPSJjZW50ZXIgY2VudGVyIixiLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5zdHlsZS5iYWNrZ3JvdW5kU2l6ZT0iYXV0byIsYi5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0uY2xhc3NOYW1lKz0iIGpzdHJlZS10aGVtZWljb24tY3VzdG9tIikpLHRoaXMuc2V0dGluZ3MuY29yZS5mb3JjZV90ZXh0P2IuY2hpbGROb2Rlc1sxXS5hcHBlbmRDaGlsZChvLmNyZWF0ZVRleHROb2RlKGYudGV4dCkpOmIuY2hpbGROb2Rlc1sxXS5pbm5lckhUTUwrPWYudGV4dCxjJiZmLmNoaWxkcmVuLmxlbmd0aCYmKGYuc3RhdGUub3BlbmVkfHxlKSYmZi5zdGF0ZS5sb2FkZWQpe2ZvcihtPW8uY3JlYXRlRWxlbWVudCgiVUwiKSxtLnNldEF0dHJpYnV0ZSgicm9sZSIsImdyb3VwIiksbS5jbGFzc05hbWU9ImpzdHJlZS1jaGlsZHJlbiIsaz0wLGw9Zi5jaGlsZHJlbi5sZW5ndGg7bD5rO2srKyltLmFwcGVuZENoaWxkKHRoaXMucmVkcmF3X25vZGUoZi5jaGlsZHJlbltrXSxjLCEwKSk7Yi5hcHBlbmRDaGlsZChtKX1pZihqJiZiLmFwcGVuZENoaWxkKGopLCFkKXtmb3IoZ3x8KGc9dGhpcy5lbGVtZW50WzBdKSxrPTAsbD1nLmNoaWxkTm9kZXMubGVuZ3RoO2w+aztrKyspaWYoZy5jaGlsZE5vZGVzW2tdJiZnLmNoaWxkTm9kZXNba10uY2xhc3NOYW1lJiYtMSE9PWcuY2hpbGROb2Rlc1trXS5jbGFzc05hbWUuaW5kZXhPZigianN0cmVlLWNoaWxkcmVuIikpe3M9Zy5jaGlsZE5vZGVzW2tdO2JyZWFrfXN8fChzPW8uY3JlYXRlRWxlbWVudCgiVUwiKSxzLnNldEF0dHJpYnV0ZSgicm9sZSIsImdyb3VwIikscy5jbGFzc05hbWU9ImpzdHJlZS1jaGlsZHJlbiIsZy5hcHBlbmRDaGlsZChzKSksZz1zLGg8Zy5jaGlsZE5vZGVzLmxlbmd0aD9nLmluc2VydEJlZm9yZShiLGcuY2hpbGROb2Rlc1toXSk6Zy5hcHBlbmRDaGlsZChiKSxxJiYodD10aGlzLmVsZW1lbnRbMF0uc2Nyb2xsVG9wLHU9dGhpcy5lbGVtZW50WzBdLnNjcm9sbExlZnQsYi5jaGlsZE5vZGVzWzFdLmZvY3VzKCksdGhpcy5lbGVtZW50WzBdLnNjcm9sbFRvcD10LHRoaXMuZWxlbWVudFswXS5zY3JvbGxMZWZ0PXUpfXJldHVybiBmLnN0YXRlLm9wZW5lZCYmIWYuc3RhdGUubG9hZGVkJiYoZi5zdGF0ZS5vcGVuZWQ9ITEsc2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5vcGVuX25vZGUoZi5pZCwhMSwwKX0sdGhpcyksMCkpLGJ9LG9wZW5fbm9kZTpmdW5jdGlvbihjLGQsZSl7dmFyIGYsZyxoLGk7aWYoYS5pc0FycmF5KGMpKXtmb3IoYz1jLnNsaWNlKCksZj0wLGc9Yy5sZW5ndGg7Zz5mO2YrKyl0aGlzLm9wZW5fbm9kZShjW2ZdLGQsZSk7cmV0dXJuITB9cmV0dXJuIGM9dGhpcy5nZXRfbm9kZShjKSxjJiZjLmlkIT09YS5qc3RyZWUucm9vdD8oZT1lPT09Yj90aGlzLnNldHRpbmdzLmNvcmUuYW5pbWF0aW9uOmUsdGhpcy5pc19jbG9zZWQoYyk/dGhpcy5pc19sb2FkZWQoYyk/KGg9dGhpcy5nZXRfbm9kZShjLCEwKSxpPXRoaXMsaC5sZW5ndGgmJihlJiZoLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikubGVuZ3RoJiZoLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikuc3RvcCghMCwhMCksYy5jaGlsZHJlbi5sZW5ndGgmJiF0aGlzLl9maXJzdENoaWxkKGguY2hpbGRyZW4oIi5qc3RyZWUtY2hpbGRyZW4iKVswXSkmJnRoaXMuZHJhd19jaGlsZHJlbihjKSxlPyh0aGlzLnRyaWdnZXIoImJlZm9yZV9vcGVuIix7bm9kZTpjfSksaC5jaGlsZHJlbigiLmpzdHJlZS1jaGlsZHJlbiIpLmNzcygiZGlzcGxheSIsIm5vbmUiKS5lbmQoKS5yZW1vdmVDbGFzcygianN0cmVlLWNsb3NlZCIpLmFkZENsYXNzKCJqc3RyZWUtb3BlbiIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCEwKS5jaGlsZHJlbigiLmpzdHJlZS1jaGlsZHJlbiIpLnN0b3AoITAsITApLnNsaWRlRG93bihlLGZ1bmN0aW9uKCl7dGhpcy5zdHlsZS5kaXNwbGF5PSIiLGkuZWxlbWVudCYmaS50cmlnZ2VyKCJhZnRlcl9vcGVuIix7bm9kZTpjfSl9KSk6KHRoaXMudHJpZ2dlcigiYmVmb3JlX29wZW4iLHtub2RlOmN9KSxoWzBdLmNsYXNzTmFtZT1oWzBdLmNsYXNzTmFtZS5yZXBsYWNlKCJqc3RyZWUtY2xvc2VkIiwianN0cmVlLW9wZW4iKSxoWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsITApKSksYy5zdGF0ZS5vcGVuZWQ9ITAsZCYmZC5jYWxsKHRoaXMsYywhMCksaC5sZW5ndGh8fHRoaXMudHJpZ2dlcigiYmVmb3JlX29wZW4iLHtub2RlOmN9KSx0aGlzLnRyaWdnZXIoIm9wZW5fbm9kZSIse25vZGU6Y30pLGUmJmgubGVuZ3RofHx0aGlzLnRyaWdnZXIoImFmdGVyX29wZW4iLHtub2RlOmN9KSwhMCk6dGhpcy5pc19sb2FkaW5nKGMpP3NldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe3RoaXMub3Blbl9ub2RlKGMsZCxlKX0sdGhpcyksNTAwKTp2b2lkIHRoaXMubG9hZF9ub2RlKGMsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj90aGlzLm9wZW5fbm9kZShhLGQsZSk6ZD9kLmNhbGwodGhpcyxhLCExKTohMX0pOihkJiZkLmNhbGwodGhpcyxjLCExKSwhMSkpOiExfSxfb3Blbl90bzpmdW5jdGlvbihiKXtpZihiPXRoaXMuZ2V0X25vZGUoYiksIWJ8fGIuaWQ9PT1hLmpzdHJlZS5yb290KXJldHVybiExO3ZhciBjLGQsZT1iLnBhcmVudHM7Zm9yKGM9MCxkPWUubGVuZ3RoO2Q+YztjKz0xKWMhPT1hLmpzdHJlZS5yb290JiZ0aGlzLm9wZW5fbm9kZShlW2NdLCExLDApO3JldHVybiBhKCIjIitiLmlkLnJlcGxhY2UoYS5qc3RyZWUuaWRyZWdleCwiXFwkJiIpLHRoaXMuZWxlbWVudCl9LGNsb3NlX25vZGU6ZnVuY3Rpb24oYyxkKXt2YXIgZSxmLGcsaDtpZihhLmlzQXJyYXkoYykpe2ZvcihjPWMuc2xpY2UoKSxlPTAsZj1jLmxlbmd0aDtmPmU7ZSsrKXRoaXMuY2xvc2Vfbm9kZShjW2VdLGQpO3JldHVybiEwfXJldHVybiBjPXRoaXMuZ2V0X25vZGUoYyksYyYmYy5pZCE9PWEuanN0cmVlLnJvb3Q/dGhpcy5pc19jbG9zZWQoYyk/ITE6KGQ9ZD09PWI/dGhpcy5zZXR0aW5ncy5jb3JlLmFuaW1hdGlvbjpkLGc9dGhpcyxoPXRoaXMuZ2V0X25vZGUoYywhMCksYy5zdGF0ZS5vcGVuZWQ9ITEsdGhpcy50cmlnZ2VyKCJjbG9zZV9ub2RlIix7bm9kZTpjfSksdm9pZChoLmxlbmd0aD9kP2guY2hpbGRyZW4oIi5qc3RyZWUtY2hpbGRyZW4iKS5hdHRyKCJzdHlsZSIsImRpc3BsYXk6YmxvY2sgIWltcG9ydGFudCIpLmVuZCgpLnJlbW92ZUNsYXNzKCJqc3RyZWUtb3BlbiIpLmFkZENsYXNzKCJqc3RyZWUtY2xvc2VkIikuYXR0cigiYXJpYS1leHBhbmRlZCIsITEpLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikuc3RvcCghMCwhMCkuc2xpZGVVcChkLGZ1bmN0aW9uKCl7dGhpcy5zdHlsZS5kaXNwbGF5PSIiLGguY2hpbGRyZW4oIi5qc3RyZWUtY2hpbGRyZW4iKS5yZW1vdmUoKSxnLmVsZW1lbnQmJmcudHJpZ2dlcigiYWZ0ZXJfY2xvc2UiLHtub2RlOmN9KX0pOihoWzBdLmNsYXNzTmFtZT1oWzBdLmNsYXNzTmFtZS5yZXBsYWNlKCJqc3RyZWUtb3BlbiIsImpzdHJlZS1jbG9zZWQiKSxoLmF0dHIoImFyaWEtZXhwYW5kZWQiLCExKS5jaGlsZHJlbigiLmpzdHJlZS1jaGlsZHJlbiIpLnJlbW92ZSgpLHRoaXMudHJpZ2dlcigiYWZ0ZXJfY2xvc2UiLHtub2RlOmN9KSk6dGhpcy50cmlnZ2VyKCJhZnRlcl9jbG9zZSIse25vZGU6Y30pKSk6ITF9LHRvZ2dsZV9ub2RlOmZ1bmN0aW9uKGIpe3ZhciBjLGQ7aWYoYS5pc0FycmF5KGIpKXtmb3IoYj1iLnNsaWNlKCksYz0wLGQ9Yi5sZW5ndGg7ZD5jO2MrKyl0aGlzLnRvZ2dsZV9ub2RlKGJbY10pO3JldHVybiEwfXJldHVybiB0aGlzLmlzX2Nsb3NlZChiKT90aGlzLm9wZW5fbm9kZShiKTp0aGlzLmlzX29wZW4oYik/dGhpcy5jbG9zZV9ub2RlKGIpOnZvaWQgMH0sb3Blbl9hbGw6ZnVuY3Rpb24oYixjLGQpe2lmKGJ8fChiPWEuanN0cmVlLnJvb3QpLGI9dGhpcy5nZXRfbm9kZShiKSwhYilyZXR1cm4hMTt2YXIgZT1iLmlkPT09YS5qc3RyZWUucm9vdD90aGlzLmdldF9jb250YWluZXJfdWwoKTp0aGlzLmdldF9ub2RlKGIsITApLGYsZyxoO2lmKCFlLmxlbmd0aCl7Zm9yKGY9MCxnPWIuY2hpbGRyZW5fZC5sZW5ndGg7Zz5mO2YrKyl0aGlzLmlzX2Nsb3NlZCh0aGlzLl9tb2RlbC5kYXRhW2IuY2hpbGRyZW5fZFtmXV0pJiYodGhpcy5fbW9kZWwuZGF0YVtiLmNoaWxkcmVuX2RbZl1dLnN0YXRlLm9wZW5lZD0hMCk7cmV0dXJuIHRoaXMudHJpZ2dlcigib3Blbl9hbGwiLHtub2RlOmJ9KX1kPWR8fGUsaD10aGlzLGU9dGhpcy5pc19jbG9zZWQoYik/ZS5maW5kKCIuanN0cmVlLWNsb3NlZCIpLmFkZEJhY2soKTplLmZpbmQoIi5qc3RyZWUtY2xvc2VkIiksZS5lYWNoKGZ1bmN0aW9uKCl7aC5vcGVuX25vZGUodGhpcyxmdW5jdGlvbihhLGIpe2ImJnRoaXMuaXNfcGFyZW50KGEpJiZ0aGlzLm9wZW5fYWxsKGEsYyxkKX0sY3x8MCl9KSwwPT09ZC5maW5kKCIuanN0cmVlLWNsb3NlZCIpLmxlbmd0aCYmdGhpcy50cmlnZ2VyKCJvcGVuX2FsbCIse25vZGU6dGhpcy5nZXRfbm9kZShkKX0pfSxjbG9zZV9hbGw6ZnVuY3Rpb24oYixjKXtpZihifHwoYj1hLmpzdHJlZS5yb290KSxiPXRoaXMuZ2V0X25vZGUoYiksIWIpcmV0dXJuITE7dmFyIGQ9Yi5pZD09PWEuanN0cmVlLnJvb3Q/dGhpcy5nZXRfY29udGFpbmVyX3VsKCk6dGhpcy5nZXRfbm9kZShiLCEwKSxlPXRoaXMsZixnO2ZvcihkLmxlbmd0aCYmKGQ9dGhpcy5pc19vcGVuKGIpP2QuZmluZCgiLmpzdHJlZS1vcGVuIikuYWRkQmFjaygpOmQuZmluZCgiLmpzdHJlZS1vcGVuIiksYShkLmdldCgpLnJldmVyc2UoKSkuZWFjaChmdW5jdGlvbigpe2UuY2xvc2Vfbm9kZSh0aGlzLGN8fDApfSkpLGY9MCxnPWIuY2hpbGRyZW5fZC5sZW5ndGg7Zz5mO2YrKyl0aGlzLl9tb2RlbC5kYXRhW2IuY2hpbGRyZW5fZFtmXV0uc3RhdGUub3BlbmVkPSExO3RoaXMudHJpZ2dlcigiY2xvc2VfYWxsIix7bm9kZTpifSl9LGlzX2Rpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhPXRoaXMuZ2V0X25vZGUoYSksYSYmYS5zdGF0ZSYmYS5zdGF0ZS5kaXNhYmxlZH0sZW5hYmxlX25vZGU6ZnVuY3Rpb24oYil7dmFyIGMsZDtpZihhLmlzQXJyYXkoYikpe2ZvcihiPWIuc2xpY2UoKSxjPTAsZD1iLmxlbmd0aDtkPmM7YysrKXRoaXMuZW5hYmxlX25vZGUoYltjXSk7cmV0dXJuITB9cmV0dXJuIGI9dGhpcy5nZXRfbm9kZShiKSxiJiZiLmlkIT09YS5qc3RyZWUucm9vdD8oYi5zdGF0ZS5kaXNhYmxlZD0hMSx0aGlzLmdldF9ub2RlKGIsITApLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLnJlbW92ZUNsYXNzKCJqc3RyZWUtZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMSksdm9pZCB0aGlzLnRyaWdnZXIoImVuYWJsZV9ub2RlIix7bm9kZTpifSkpOiExfSxkaXNhYmxlX25vZGU6ZnVuY3Rpb24oYil7dmFyIGMsZDtpZihhLmlzQXJyYXkoYikpe2ZvcihiPWIuc2xpY2UoKSxjPTAsZD1iLmxlbmd0aDtkPmM7YysrKXRoaXMuZGlzYWJsZV9ub2RlKGJbY10pO3JldHVybiEwfXJldHVybiBiPXRoaXMuZ2V0X25vZGUoYiksYiYmYi5pZCE9PWEuanN0cmVlLnJvb3Q/KGIuc3RhdGUuZGlzYWJsZWQ9ITAsdGhpcy5nZXRfbm9kZShiLCEwKS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5hZGRDbGFzcygianN0cmVlLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITApLHZvaWQgdGhpcy50cmlnZ2VyKCJkaXNhYmxlX25vZGUiLHtub2RlOmJ9KSk6ITF9LGlzX2hpZGRlbjpmdW5jdGlvbihhKXtyZXR1cm4gYT10aGlzLmdldF9ub2RlKGEpLGEuc3RhdGUuaGlkZGVuPT09ITB9LGhpZGVfbm9kZTpmdW5jdGlvbihiLGMpe3ZhciBkLGU7aWYoYS5pc0FycmF5KGIpKXtmb3IoYj1iLnNsaWNlKCksZD0wLGU9Yi5sZW5ndGg7ZT5kO2QrKyl0aGlzLmhpZGVfbm9kZShiW2RdLCEwKTtyZXR1cm4gY3x8dGhpcy5yZWRyYXcoKSwhMH1yZXR1cm4gYj10aGlzLmdldF9ub2RlKGIpLGImJmIuaWQhPT1hLmpzdHJlZS5yb290P3ZvaWQoYi5zdGF0ZS5oaWRkZW58fChiLnN0YXRlLmhpZGRlbj0hMCx0aGlzLl9ub2RlX2NoYW5nZWQoYi5wYXJlbnQpLGN8fHRoaXMucmVkcmF3KCksdGhpcy50cmlnZ2VyKCJoaWRlX25vZGUiLHtub2RlOmJ9KSkpOiExfSxzaG93X25vZGU6ZnVuY3Rpb24oYixjKXt2YXIgZCxlO2lmKGEuaXNBcnJheShiKSl7Zm9yKGI9Yi5zbGljZSgpLGQ9MCxlPWIubGVuZ3RoO2U+ZDtkKyspdGhpcy5zaG93X25vZGUoYltkXSwhMCk7cmV0dXJuIGN8fHRoaXMucmVkcmF3KCksITB9cmV0dXJuIGI9dGhpcy5nZXRfbm9kZShiKSxiJiZiLmlkIT09YS5qc3RyZWUucm9vdD92b2lkKGIuc3RhdGUuaGlkZGVuJiYoYi5zdGF0ZS5oaWRkZW49ITEsdGhpcy5fbm9kZV9jaGFuZ2VkKGIucGFyZW50KSxjfHx0aGlzLnJlZHJhdygpLHRoaXMudHJpZ2dlcigic2hvd19ub2RlIix7bm9kZTpifSkpKTohMX0saGlkZV9hbGw6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9tb2RlbC5kYXRhLGU9W107Zm9yKGMgaW4gZClkLmhhc093blByb3BlcnR5KGMpJiZjIT09YS5qc3RyZWUucm9vdCYmIWRbY10uc3RhdGUuaGlkZGVuJiYoZFtjXS5zdGF0ZS5oaWRkZW49ITAsZS5wdXNoKGMpKTtyZXR1cm4gdGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXc9ITAsYnx8dGhpcy5yZWRyYXcoKSx0aGlzLnRyaWdnZXIoImhpZGVfYWxsIix7bm9kZXM6ZX0pLGV9LHNob3dfYWxsOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcy5fbW9kZWwuZGF0YSxlPVtdO2ZvcihjIGluIGQpZC5oYXNPd25Qcm9wZXJ0eShjKSYmYyE9PWEuanN0cmVlLnJvb3QmJmRbY10uc3RhdGUuaGlkZGVuJiYoZFtjXS5zdGF0ZS5oaWRkZW49ITEsZS5wdXNoKGMpKTtyZXR1cm4gdGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXc9ITAsYnx8dGhpcy5yZWRyYXcoKSx0aGlzLnRyaWdnZXIoInNob3dfYWxsIix7bm9kZXM6ZX0pLGV9LGFjdGl2YXRlX25vZGU6ZnVuY3Rpb24oYSxjKXtpZih0aGlzLmlzX2Rpc2FibGVkKGEpKXJldHVybiExO2lmKGMmJiJvYmplY3QiPT10eXBlb2YgY3x8KGM9e30pLHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQ9dGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZCYmdGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZC5pZCE9PWI/dGhpcy5nZXRfbm9kZSh0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkLmlkKTpudWxsLHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQmJiF0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkLnN0YXRlLnNlbGVjdGVkJiYodGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZD1udWxsKSwhdGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZCYmdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aCYmKHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQ9dGhpcy5nZXRfbm9kZSh0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWRbdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aC0xXSkpLHRoaXMuc2V0dGluZ3MuY29yZS5tdWx0aXBsZSYmKGMubWV0YUtleXx8Yy5jdHJsS2V5fHxjLnNoaWZ0S2V5KSYmKCFjLnNoaWZ0S2V5fHx0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkJiZ0aGlzLmdldF9wYXJlbnQoYSkmJnRoaXMuZ2V0X3BhcmVudChhKT09PXRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQucGFyZW50KSlpZihjLnNoaWZ0S2V5KXt2YXIgZD10aGlzLmdldF9ub2RlKGEpLmlkLGU9dGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZC5pZCxmPXRoaXMuZ2V0X25vZGUodGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZC5wYXJlbnQpLmNoaWxkcmVuLGc9ITEsaCxpO2ZvcihoPTAsaT1mLmxlbmd0aDtpPmg7aCs9MSlmW2hdPT09ZCYmKGc9IWcpLGZbaF09PT1lJiYoZz0hZyksdGhpcy5pc19kaXNhYmxlZChmW2hdKXx8IWcmJmZbaF0hPT1kJiZmW2hdIT09ZT90aGlzLmRlc2VsZWN0X25vZGUoZltoXSwhMCxjKTp0aGlzLmlzX2hpZGRlbihmW2hdKXx8dGhpcy5zZWxlY3Rfbm9kZShmW2hdLCEwLCExLGMpO3RoaXMudHJpZ2dlcigiY2hhbmdlZCIse2FjdGlvbjoic2VsZWN0X25vZGUiLG5vZGU6dGhpcy5nZXRfbm9kZShhKSxzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsZXZlbnQ6Y30pfWVsc2UgdGhpcy5pc19zZWxlY3RlZChhKT90aGlzLmRlc2VsZWN0X25vZGUoYSwhMSxjKTp0aGlzLnNlbGVjdF9ub2RlKGEsITEsITEsYyk7ZWxzZSF0aGlzLnNldHRpbmdzLmNvcmUubXVsdGlwbGUmJihjLm1ldGFLZXl8fGMuY3RybEtleXx8Yy5zaGlmdEtleSkmJnRoaXMuaXNfc2VsZWN0ZWQoYSk/dGhpcy5kZXNlbGVjdF9ub2RlKGEsITEsYyk6KHRoaXMuZGVzZWxlY3RfYWxsKCEwKSx0aGlzLnNlbGVjdF9ub2RlKGEsITEsITEsYyksdGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZD10aGlzLmdldF9ub2RlKGEpKTt0aGlzLnRyaWdnZXIoImFjdGl2YXRlX25vZGUiLHtub2RlOnRoaXMuZ2V0X25vZGUoYSksZXZlbnQ6Y30pfSxob3Zlcl9ub2RlOmZ1bmN0aW9uKGEpe2lmKGE9dGhpcy5nZXRfbm9kZShhLCEwKSwhYXx8IWEubGVuZ3RofHxhLmNoaWxkcmVuKCIuanN0cmVlLWhvdmVyZWQiKS5sZW5ndGgpcmV0dXJuITE7dmFyIGI9dGhpcy5lbGVtZW50LmZpbmQoIi5qc3RyZWUtaG92ZXJlZCIpLGM9dGhpcy5lbGVtZW50O2ImJmIubGVuZ3RoJiZ0aGlzLmRlaG92ZXJfbm9kZShiKSxhLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmFkZENsYXNzKCJqc3RyZWUtaG92ZXJlZCIpLHRoaXMudHJpZ2dlcigiaG92ZXJfbm9kZSIse25vZGU6dGhpcy5nZXRfbm9kZShhKX0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsYVswXS5pZCl9LDApfSxkZWhvdmVyX25vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9dGhpcy5nZXRfbm9kZShhLCEwKSxhJiZhLmxlbmd0aCYmYS5jaGlsZHJlbigiLmpzdHJlZS1ob3ZlcmVkIikubGVuZ3RoPyhhLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLnJlbW92ZUNsYXNzKCJqc3RyZWUtaG92ZXJlZCIpLHZvaWQgdGhpcy50cmlnZ2VyKCJkZWhvdmVyX25vZGUiLHtub2RlOnRoaXMuZ2V0X25vZGUoYSl9KSk6ITF9LHNlbGVjdF9ub2RlOmZ1bmN0aW9uKGIsYyxkLGUpe3ZhciBmLGcsaCxpO2lmKGEuaXNBcnJheShiKSl7Zm9yKGI9Yi5zbGljZSgpLGc9MCxoPWIubGVuZ3RoO2g+ZztnKyspdGhpcy5zZWxlY3Rfbm9kZShiW2ddLGMsZCxlKTtyZXR1cm4hMH1yZXR1cm4gYj10aGlzLmdldF9ub2RlKGIpLGImJmIuaWQhPT1hLmpzdHJlZS5yb290PyhmPXRoaXMuZ2V0X25vZGUoYiwhMCksdm9pZChiLnN0YXRlLnNlbGVjdGVkfHwoYi5zdGF0ZS5zZWxlY3RlZD0hMCx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQucHVzaChiLmlkKSxkfHwoZj10aGlzLl9vcGVuX3RvKGIpKSxmJiZmLmxlbmd0aCYmZi5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuYWRkQ2xhc3MoImpzdHJlZS1jbGlja2VkIiksdGhpcy50cmlnZ2VyKCJzZWxlY3Rfbm9kZSIse25vZGU6YixzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsZXZlbnQ6ZX0pLGN8fHRoaXMudHJpZ2dlcigiY2hhbmdlZCIse2FjdGlvbjoic2VsZWN0X25vZGUiLG5vZGU6YixzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsZXZlbnQ6ZX0pKSkpOiExfSxkZXNlbGVjdF9ub2RlOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGc7aWYoYS5pc0FycmF5KGIpKXtmb3IoYj1iLnNsaWNlKCksZT0wLGY9Yi5sZW5ndGg7Zj5lO2UrKyl0aGlzLmRlc2VsZWN0X25vZGUoYltlXSxjLGQpO3JldHVybiEwfXJldHVybiBiPXRoaXMuZ2V0X25vZGUoYiksYiYmYi5pZCE9PWEuanN0cmVlLnJvb3Q/KGc9dGhpcy5nZXRfbm9kZShiLCEwKSx2b2lkKGIuc3RhdGUuc2VsZWN0ZWQmJihiLnN0YXRlLnNlbGVjdGVkPSExLHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZD1hLnZha2F0YS5hcnJheV9yZW1vdmVfaXRlbSh0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsYi5pZCksZy5sZW5ndGgmJmcuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLnJlbW92ZUNsYXNzKCJqc3RyZWUtY2xpY2tlZCIpLHRoaXMudHJpZ2dlcigiZGVzZWxlY3Rfbm9kZSIse25vZGU6YixzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsZXZlbnQ6ZH0pLGN8fHRoaXMudHJpZ2dlcigiY2hhbmdlZCIse2FjdGlvbjoiZGVzZWxlY3Rfbm9kZSIsbm9kZTpiLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxldmVudDpkfSkpKSk6ITF9LHNlbGVjdF9hbGw6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmNvbmNhdChbXSksZCxlO2Zvcih0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQ9dGhpcy5fbW9kZWwuZGF0YVthLmpzdHJlZS5yb290XS5jaGlsZHJlbl9kLmNvbmNhdCgpLGQ9MCxlPXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGg7ZT5kO2QrKyl0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFtkXV0mJih0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFtkXV0uc3RhdGUuc2VsZWN0ZWQ9ITApO3RoaXMucmVkcmF3KCEwKSx0aGlzLnRyaWdnZXIoInNlbGVjdF9hbGwiLHtzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KSxifHx0aGlzLnRyaWdnZXIoImNoYW5nZWQiLHthY3Rpb246InNlbGVjdF9hbGwiLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxvbGRfc2VsZWN0aW9uOmN9KX0sZGVzZWxlY3RfYWxsOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5jb25jYXQoW10pLGMsZDtmb3IoYz0wLGQ9dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aDtkPmM7YysrKXRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkW2NdXSYmKHRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkW2NdXS5zdGF0ZS5zZWxlY3RlZD0hMSk7dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkPVtdLHRoaXMuZWxlbWVudC5maW5kKCIuanN0cmVlLWNsaWNrZWQiKS5yZW1vdmVDbGFzcygianN0cmVlLWNsaWNrZWQiKS5wYXJlbnQoKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMSksdGhpcy50cmlnZ2VyKCJkZXNlbGVjdF9hbGwiLHtzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsbm9kZTpifSksYXx8dGhpcy50cmlnZ2VyKCJjaGFuZ2VkIix7YWN0aW9uOiJkZXNlbGVjdF9hbGwiLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxvbGRfc2VsZWN0aW9uOmJ9KX0saXNfc2VsZWN0ZWQ6ZnVuY3Rpb24oYil7cmV0dXJuIGI9dGhpcy5nZXRfbm9kZShiKSxiJiZiLmlkIT09YS5qc3RyZWUucm9vdD9iLnN0YXRlLnNlbGVjdGVkOiExfSxnZXRfc2VsZWN0ZWQ6ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5tYXAodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLGEucHJveHkoZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0X25vZGUoYSl9LHRoaXMpKTp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuc2xpY2UoKX0sZ2V0X3RvcF9zZWxlY3RlZDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmdldF9zZWxlY3RlZCghMCksZD17fSxlLGYsZyxoO2ZvcihlPTAsZj1jLmxlbmd0aDtmPmU7ZSsrKWRbY1tlXS5pZF09Y1tlXTtmb3IoZT0wLGY9Yy5sZW5ndGg7Zj5lO2UrKylmb3IoZz0wLGg9Y1tlXS5jaGlsZHJlbl9kLmxlbmd0aDtoPmc7ZysrKWRbY1tlXS5jaGlsZHJlbl9kW2ddXSYmZGVsZXRlIGRbY1tlXS5jaGlsZHJlbl9kW2ddXTtjPVtdO2ZvcihlIGluIGQpZC5oYXNPd25Qcm9wZXJ0eShlKSYmYy5wdXNoKGUpO3JldHVybiBiP2EubWFwKGMsYS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRfbm9kZShhKX0sdGhpcykpOmN9LGdldF9ib3R0b21fc2VsZWN0ZWQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5nZXRfc2VsZWN0ZWQoITApLGQ9W10sZSxmO2ZvcihlPTAsZj1jLmxlbmd0aDtmPmU7ZSsrKWNbZV0uY2hpbGRyZW4ubGVuZ3RofHxkLnB1c2goY1tlXS5pZCk7cmV0dXJuIGI/YS5tYXAoZCxhLnByb3h5KGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldF9ub2RlKGEpfSx0aGlzKSk6ZH0sZ2V0X3N0YXRlOmZ1bmN0aW9uKCl7dmFyIGI9e2NvcmU6e29wZW46W10sc2Nyb2xsOntsZWZ0OnRoaXMuZWxlbWVudC5zY3JvbGxMZWZ0KCksdG9wOnRoaXMuZWxlbWVudC5zY3JvbGxUb3AoKX0sc2VsZWN0ZWQ6W119fSxjO2ZvcihjIGluIHRoaXMuX21vZGVsLmRhdGEpdGhpcy5fbW9kZWwuZGF0YS5oYXNPd25Qcm9wZXJ0eShjKSYmYyE9PWEuanN0cmVlLnJvb3QmJih0aGlzLl9tb2RlbC5kYXRhW2NdLnN0YXRlLm9wZW5lZCYmYi5jb3JlLm9wZW4ucHVzaChjKSx0aGlzLl9tb2RlbC5kYXRhW2NdLnN0YXRlLnNlbGVjdGVkJiZiLmNvcmUuc2VsZWN0ZWQucHVzaChjKSk7cmV0dXJuIGJ9LHNldF9zdGF0ZTpmdW5jdGlvbihjLGQpe2lmKGMpe2lmKGMuY29yZSl7dmFyIGUsZixnLGgsaTtpZihjLmNvcmUub3BlbilyZXR1cm4gYS5pc0FycmF5KGMuY29yZS5vcGVuKSYmYy5jb3JlLm9wZW4ubGVuZ3RoP3RoaXMuX2xvYWRfbm9kZXMoYy5jb3JlLm9wZW4sZnVuY3Rpb24oYSl7dGhpcy5vcGVuX25vZGUoYSwhMSwwKSxkZWxldGUgYy5jb3JlLm9wZW4sdGhpcy5zZXRfc3RhdGUoYyxkKX0pOihkZWxldGUgYy5jb3JlLm9wZW4sdGhpcy5zZXRfc3RhdGUoYyxkKSksITE7aWYoYy5jb3JlLnNjcm9sbClyZXR1cm4gYy5jb3JlLnNjcm9sbCYmYy5jb3JlLnNjcm9sbC5sZWZ0IT09YiYmdGhpcy5lbGVtZW50LnNjcm9sbExlZnQoYy5jb3JlLnNjcm9sbC5sZWZ0KSxjLmNvcmUuc2Nyb2xsJiZjLmNvcmUuc2Nyb2xsLnRvcCE9PWImJnRoaXMuZWxlbWVudC5zY3JvbGxUb3AoYy5jb3JlLnNjcm9sbC50b3ApLGRlbGV0ZSBjLmNvcmUuc2Nyb2xsLHRoaXMuc2V0X3N0YXRlKGMsZCksITE7aWYoYy5jb3JlLnNlbGVjdGVkKXJldHVybiBoPXRoaXMsdGhpcy5kZXNlbGVjdF9hbGwoKSxhLmVhY2goYy5jb3JlLnNlbGVjdGVkLGZ1bmN0aW9uKGEsYil7aC5zZWxlY3Rfbm9kZShiLCExLCEwKX0pLGRlbGV0ZSBjLmNvcmUuc2VsZWN0ZWQsdGhpcy5zZXRfc3RhdGUoYyxkKSwhMTtmb3IoaSBpbiBjKWMuaGFzT3duUHJvcGVydHkoaSkmJiJjb3JlIiE9PWkmJi0xPT09YS5pbkFycmF5KGksdGhpcy5zZXR0aW5ncy5wbHVnaW5zKSYmZGVsZXRlIGNbaV07aWYoYS5pc0VtcHR5T2JqZWN0KGMuY29yZSkpcmV0dXJuIGRlbGV0ZSBjLmNvcmUsdGhpcy5zZXRfc3RhdGUoYyxkKSwhMX1yZXR1cm4gYS5pc0VtcHR5T2JqZWN0KGMpPyhjPW51bGwsZCYmZC5jYWxsKHRoaXMpLHRoaXMudHJpZ2dlcigic2V0X3N0YXRlIiksITEpOiEwfXJldHVybiExfSxyZWZyZXNoOmZ1bmN0aW9uKGIsYyl7dGhpcy5fZGF0YS5jb3JlLnN0YXRlPWM9PT0hMD97fTp0aGlzLmdldF9zdGF0ZSgpLGMmJmEuaXNGdW5jdGlvbihjKSYmKHRoaXMuX2RhdGEuY29yZS5zdGF0ZT1jLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUuc3RhdGUpKSx0aGlzLl9jbnQ9MCx0aGlzLl9tb2RlbC5kYXRhPXt9LHRoaXMuX21vZGVsLmRhdGFbYS5qc3RyZWUucm9vdF09e2lkOmEuanN0cmVlLnJvb3QscGFyZW50Om51bGwscGFyZW50czpbXSxjaGlsZHJlbjpbXSxjaGlsZHJlbl9kOltdLHN0YXRlOntsb2FkZWQ6ITF9fSx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQ9W10sdGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZD1udWxsLHRoaXMuX2RhdGEuY29yZS5mb2N1c2VkPW51bGw7dmFyIGQ9dGhpcy5nZXRfY29udGFpbmVyX3VsKClbMF0uY2xhc3NOYW1lO2J8fCh0aGlzLmVsZW1lbnQuaHRtbCgiPHVsIGNsYXNzPSciK2QrIicgcm9sZT0nZ3JvdXAnPjxsaSBjbGFzcz0nanN0cmVlLWluaXRpYWwtbm9kZSBqc3RyZWUtbG9hZGluZyBqc3RyZWUtbGVhZiBqc3RyZWUtbGFzdCcgcm9sZT0ndHJlZWl0ZW0nIGlkPSdqIit0aGlzLl9pZCsiX2xvYWRpbmcnPjxpIGNsYXNzPSdqc3RyZWUtaWNvbiBqc3RyZWUtb2NsJz48L2k+PGEgY2xhc3M9J2pzdHJlZS1hbmNob3InIGhyZWY9JyMnPjxpIGNsYXNzPSdqc3RyZWUtaWNvbiBqc3RyZWUtdGhlbWVpY29uLWhpZGRlbic+PC9pPiIrdGhpcy5nZXRfc3RyaW5nKCJMb2FkaW5nIC4uLiIpKyI8L2E+PC9saT48L3VsPiIpLHRoaXMuZWxlbWVudC5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLCJqIit0aGlzLl9pZCsiX2xvYWRpbmciKSksdGhpcy5sb2FkX25vZGUoYS5qc3RyZWUucm9vdCxmdW5jdGlvbihiLGMpe2MmJih0aGlzLmdldF9jb250YWluZXJfdWwoKVswXS5jbGFzc05hbWU9ZCx0aGlzLl9maXJzdENoaWxkKHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdKSYmdGhpcy5lbGVtZW50LmF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsdGhpcy5fZmlyc3RDaGlsZCh0aGlzLmdldF9jb250YWluZXJfdWwoKVswXSkuaWQpLHRoaXMuc2V0X3N0YXRlKGEuZXh0ZW5kKCEwLHt9LHRoaXMuX2RhdGEuY29yZS5zdGF0ZSksZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoInJlZnJlc2giKX0pKSx0aGlzLl9kYXRhLmNvcmUuc3RhdGU9bnVsbH0pfSxyZWZyZXNoX25vZGU6ZnVuY3Rpb24oYil7aWYoYj10aGlzLmdldF9ub2RlKGIpLCFifHxiLmlkPT09YS5qc3RyZWUucm9vdClyZXR1cm4hMTt2YXIgYz1bXSxkPVtdLGU9dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmNvbmNhdChbXSk7ZC5wdXNoKGIuaWQpLGIuc3RhdGUub3BlbmVkPT09ITAmJmMucHVzaChiLmlkKSx0aGlzLmdldF9ub2RlKGIsITApLmZpbmQoIi5qc3RyZWUtb3BlbiIpLmVhY2goZnVuY3Rpb24oKXtkLnB1c2godGhpcy5pZCksYy5wdXNoKHRoaXMuaWQpfSksdGhpcy5fbG9hZF9ub2RlcyhkLGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5vcGVuX25vZGUoYywhMSwwKSx0aGlzLnNlbGVjdF9ub2RlKGUpLHRoaXMudHJpZ2dlcigicmVmcmVzaF9ub2RlIix7bm9kZTpiLG5vZGVzOmF9KX0sdGhpcyksITEsITApfSxzZXRfaWQ6ZnVuY3Rpb24oYixjKXtpZihiPXRoaXMuZ2V0X25vZGUoYiksIWJ8fGIuaWQ9PT1hLmpzdHJlZS5yb290KXJldHVybiExO3ZhciBkLGUsZj10aGlzLl9tb2RlbC5kYXRhLGc9Yi5pZDtmb3IoYz1jLnRvU3RyaW5nKCksZltiLnBhcmVudF0uY2hpbGRyZW5bYS5pbkFycmF5KGIuaWQsZltiLnBhcmVudF0uY2hpbGRyZW4pXT1jLGQ9MCxlPWIucGFyZW50cy5sZW5ndGg7ZT5kO2QrKylmW2IucGFyZW50c1tkXV0uY2hpbGRyZW5fZFthLmluQXJyYXkoYi5pZCxmW2IucGFyZW50c1tkXV0uY2hpbGRyZW5fZCldPWM7Zm9yKGQ9MCxlPWIuY2hpbGRyZW4ubGVuZ3RoO2U+ZDtkKyspZltiLmNoaWxkcmVuW2RdXS5wYXJlbnQ9Yztmb3IoZD0wLGU9Yi5jaGlsZHJlbl9kLmxlbmd0aDtlPmQ7ZCsrKWZbYi5jaGlsZHJlbl9kW2RdXS5wYXJlbnRzW2EuaW5BcnJheShiLmlkLGZbYi5jaGlsZHJlbl9kW2RdXS5wYXJlbnRzKV09YztyZXR1cm4gZD1hLmluQXJyYXkoYi5pZCx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQpLC0xIT09ZCYmKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFtkXT1jKSxkPXRoaXMuZ2V0X25vZGUoYi5pZCwhMCksZCYmKGQuYXR0cigiaWQiLGMpLHRoaXMuZWxlbWVudC5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiKT09PWIuaWQmJnRoaXMuZWxlbWVudC5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLGMpKSxkZWxldGUgZltiLmlkXSxiLmlkPWMsYi5saV9hdHRyLmlkPWMsZltjXT1iLHRoaXMudHJpZ2dlcigic2V0X2lkIix7bm9kZTpiLCJuZXciOmIuaWQsb2xkOmd9KSwhMH0sZ2V0X3RleHQ6ZnVuY3Rpb24oYil7cmV0dXJuIGI9dGhpcy5nZXRfbm9kZShiKSxiJiZiLmlkIT09YS5qc3RyZWUucm9vdD9iLnRleHQ6ITF9LHNldF90ZXh0OmZ1bmN0aW9uKGIsYyl7dmFyIGQsZTtpZihhLmlzQXJyYXkoYikpe2ZvcihiPWIuc2xpY2UoKSxkPTAsZT1iLmxlbmd0aDtlPmQ7ZCsrKXRoaXMuc2V0X3RleHQoYltkXSxjKTtyZXR1cm4hMH1yZXR1cm4gYj10aGlzLmdldF9ub2RlKGIpLGImJmIuaWQhPT1hLmpzdHJlZS5yb290PyhiLnRleHQ9Yyx0aGlzLmdldF9ub2RlKGIsITApLmxlbmd0aCYmdGhpcy5yZWRyYXdfbm9kZShiLmlkKSx0aGlzLnRyaWdnZXIoInNldF90ZXh0Iix7b2JqOmIsdGV4dDpjfSksITApOiExfSxnZXRfanNvbjpmdW5jdGlvbihiLGMsZCl7aWYoYj10aGlzLmdldF9ub2RlKGJ8fGEuanN0cmVlLnJvb3QpLCFiKXJldHVybiExO2MmJmMuZmxhdCYmIWQmJihkPVtdKTt2YXIgZT17aWQ6Yi5pZCx0ZXh0OmIudGV4dCxpY29uOnRoaXMuZ2V0X2ljb24oYiksbGlfYXR0cjphLmV4dGVuZCghMCx7fSxiLmxpX2F0dHIpLGFfYXR0cjphLmV4dGVuZCghMCx7fSxiLmFfYXR0ciksc3RhdGU6e30sZGF0YTpjJiZjLm5vX2RhdGE/ITE6YS5leHRlbmQoITAse30sYi5kYXRhKX0sZixnO2lmKGMmJmMuZmxhdD9lLnBhcmVudD1iLnBhcmVudDplLmNoaWxkcmVuPVtdLGMmJmMubm9fc3RhdGUpZGVsZXRlIGUuc3RhdGU7ZWxzZSBmb3IoZiBpbiBiLnN0YXRlKWIuc3RhdGUuaGFzT3duUHJvcGVydHkoZikmJihlLnN0YXRlW2ZdPWIuc3RhdGVbZl0pO2lmKGMmJmMubm9fbGlfYXR0ciYmZGVsZXRlIGUubGlfYXR0cixjJiZjLm5vX2FfYXR0ciYmZGVsZXRlIGUuYV9hdHRyLGMmJmMubm9faWQmJihkZWxldGUgZS5pZCxlLmxpX2F0dHImJmUubGlfYXR0ci5pZCYmZGVsZXRlIGUubGlfYXR0ci5pZCxlLmFfYXR0ciYmZS5hX2F0dHIuaWQmJmRlbGV0ZSBlLmFfYXR0ci5pZCksYyYmYy5mbGF0JiZiLmlkIT09YS5qc3RyZWUucm9vdCYmZC5wdXNoKGUpLCFjfHwhYy5ub19jaGlsZHJlbilmb3IoZj0wLGc9Yi5jaGlsZHJlbi5sZW5ndGg7Zz5mO2YrKyljJiZjLmZsYXQ/dGhpcy5nZXRfanNvbihiLmNoaWxkcmVuW2ZdLGMsZCk6ZS5jaGlsZHJlbi5wdXNoKHRoaXMuZ2V0X2pzb24oYi5jaGlsZHJlbltmXSxjKSk7cmV0dXJuIGMmJmMuZmxhdD9kOmIuaWQ9PT1hLmpzdHJlZS5yb290P2UuY2hpbGRyZW46ZX0sY3JlYXRlX25vZGU6ZnVuY3Rpb24oYyxkLGUsZixnKXtpZihudWxsPT09YyYmKGM9YS5qc3RyZWUucm9vdCksYz10aGlzLmdldF9ub2RlKGMpLCFjKXJldHVybiExO2lmKGU9ZT09PWI/Imxhc3QiOmUsIWUudG9TdHJpbmcoKS5tYXRjaCgvXihiZWZvcmV8YWZ0ZXIpJC8pJiYhZyYmIXRoaXMuaXNfbG9hZGVkKGMpKXJldHVybiB0aGlzLmxvYWRfbm9kZShjLGZ1bmN0aW9uKCl7dGhpcy5jcmVhdGVfbm9kZShjLGQsZSxmLCEwKX0pO2R8fChkPXt0ZXh0OnRoaXMuZ2V0X3N0cmluZygiTmV3IG5vZGUiKX0pLCJzdHJpbmciPT10eXBlb2YgZCYmKGQ9e3RleHQ6ZH0pLGQudGV4dD09PWImJihkLnRleHQ9dGhpcy5nZXRfc3RyaW5nKCJOZXcgbm9kZSIpKTt2YXIgaCxpLGosaztzd2l0Y2goYy5pZD09PWEuanN0cmVlLnJvb3QmJigiYmVmb3JlIj09PWUmJihlPSJmaXJzdCIpLCJhZnRlciI9PT1lJiYoZT0ibGFzdCIpKSxlKXtjYXNlImJlZm9yZSI6aD10aGlzLmdldF9ub2RlKGMucGFyZW50KSxlPWEuaW5BcnJheShjLmlkLGguY2hpbGRyZW4pLGM9aDticmVhaztjYXNlImFmdGVyIjpoPXRoaXMuZ2V0X25vZGUoYy5wYXJlbnQpLGU9YS5pbkFycmF5KGMuaWQsaC5jaGlsZHJlbikrMSxjPWg7YnJlYWs7Y2FzZSJpbnNpZGUiOmNhc2UiZmlyc3QiOmU9MDticmVhaztjYXNlImxhc3QiOmU9Yy5jaGlsZHJlbi5sZW5ndGg7YnJlYWs7ZGVmYXVsdDplfHwoZT0wKX1pZihlPmMuY2hpbGRyZW4ubGVuZ3RoJiYoZT1jLmNoaWxkcmVuLmxlbmd0aCksZC5pZHx8KGQuaWQ9ITApLCF0aGlzLmNoZWNrKCJjcmVhdGVfbm9kZSIsZCxjLGUpKXJldHVybiB0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSwhMTtpZihkLmlkPT09ITAmJmRlbGV0ZSBkLmlkLGQ9dGhpcy5fcGFyc2VfbW9kZWxfZnJvbV9qc29uKGQsYy5pZCxjLnBhcmVudHMuY29uY2F0KCkpLCFkKXJldHVybiExO2ZvcihoPXRoaXMuZ2V0X25vZGUoZCksaT1bXSxpLnB1c2goZCksaT1pLmNvbmNhdChoLmNoaWxkcmVuX2QpLHRoaXMudHJpZ2dlcigibW9kZWwiLHtub2RlczppLHBhcmVudDpjLmlkfSksYy5jaGlsZHJlbl9kPWMuY2hpbGRyZW5fZC5jb25jYXQoaSksaj0wLGs9Yy5wYXJlbnRzLmxlbmd0aDtrPmo7aisrKXRoaXMuX21vZGVsLmRhdGFbYy5wYXJlbnRzW2pdXS5jaGlsZHJlbl9kPXRoaXMuX21vZGVsLmRhdGFbYy5wYXJlbnRzW2pdXS5jaGlsZHJlbl9kLmNvbmNhdChpKTtmb3IoZD1oLGg9W10saj0wLGs9Yy5jaGlsZHJlbi5sZW5ndGg7az5qO2orKyloW2o+PWU/aisxOmpdPWMuY2hpbGRyZW5bal07cmV0dXJuIGhbZV09ZC5pZCxjLmNoaWxkcmVuPWgsdGhpcy5yZWRyYXdfbm9kZShjLCEwKSxmJiZmLmNhbGwodGhpcyx0aGlzLmdldF9ub2RlKGQpKSx0aGlzLnRyaWdnZXIoImNyZWF0ZV9ub2RlIix7bm9kZTp0aGlzLmdldF9ub2RlKGQpLHBhcmVudDpjLmlkLHBvc2l0aW9uOmV9KSxkLmlkfSxyZW5hbWVfbm9kZTpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZjtpZihhLmlzQXJyYXkoYikpe2ZvcihiPWIuc2xpY2UoKSxkPTAsZT1iLmxlbmd0aDtlPmQ7ZCsrKXRoaXMucmVuYW1lX25vZGUoYltkXSxjKTtyZXR1cm4hMH1yZXR1cm4gYj10aGlzLmdldF9ub2RlKGIpLGImJmIuaWQhPT1hLmpzdHJlZS5yb290PyhmPWIudGV4dCx0aGlzLmNoZWNrKCJyZW5hbWVfbm9kZSIsYix0aGlzLmdldF9wYXJlbnQoYiksYyk/KHRoaXMuc2V0X3RleHQoYixjKSx0aGlzLnRyaWdnZXIoInJlbmFtZV9ub2RlIix7bm9kZTpiLHRleHQ6YyxvbGQ6Zn0pLCEwKToodGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksITEpKTohMX0sZGVsZXRlX25vZGU6ZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZyxoLGksaixrLGwsbSxuO2lmKGEuaXNBcnJheShiKSl7Zm9yKGI9Yi5zbGljZSgpLGM9MCxkPWIubGVuZ3RoO2Q+YztjKyspdGhpcy5kZWxldGVfbm9kZShiW2NdKTtyZXR1cm4hMH1pZihiPXRoaXMuZ2V0X25vZGUoYiksIWJ8fGIuaWQ9PT1hLmpzdHJlZS5yb290KXJldHVybiExO2lmKGU9dGhpcy5nZXRfbm9kZShiLnBhcmVudCksZj1hLmluQXJyYXkoYi5pZCxlLmNoaWxkcmVuKSxsPSExLCF0aGlzLmNoZWNrKCJkZWxldGVfbm9kZSIsYixlLGYpKXJldHVybiB0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSwhMTtmb3IoLTEhPT1mJiYoZS5jaGlsZHJlbj1hLnZha2F0YS5hcnJheV9yZW1vdmUoZS5jaGlsZHJlbixmKSksZz1iLmNoaWxkcmVuX2QuY29uY2F0KFtdKSxnLnB1c2goYi5pZCksaD0wLGk9Yi5wYXJlbnRzLmxlbmd0aDtpPmg7aCsrKXRoaXMuX21vZGVsLmRhdGFbYi5wYXJlbnRzW2hdXS5jaGlsZHJlbl9kPWEudmFrYXRhLmFycmF5X2ZpbHRlcih0aGlzLl9tb2RlbC5kYXRhW2IucGFyZW50c1toXV0uY2hpbGRyZW5fZCxmdW5jdGlvbihiKXtyZXR1cm4tMT09PWEuaW5BcnJheShiLGcpfSk7Zm9yKGo9MCxrPWcubGVuZ3RoO2s+ajtqKyspaWYodGhpcy5fbW9kZWwuZGF0YVtnW2pdXS5zdGF0ZS5zZWxlY3RlZCl7bD0hMDticmVha31mb3IobCYmKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZD1hLnZha2F0YS5hcnJheV9maWx0ZXIodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLGZ1bmN0aW9uKGIpe3JldHVybi0xPT09YS5pbkFycmF5KGIsZyl9KSksdGhpcy50cmlnZ2VyKCJkZWxldGVfbm9kZSIse25vZGU6YixwYXJlbnQ6ZS5pZH0pLGwmJnRoaXMudHJpZ2dlcigiY2hhbmdlZCIse2FjdGlvbjoiZGVsZXRlX25vZGUiLG5vZGU6YixzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQscGFyZW50OmUuaWR9KSxqPTAsaz1nLmxlbmd0aDtrPmo7aisrKWRlbGV0ZSB0aGlzLl9tb2RlbC5kYXRhW2dbal1dO3JldHVybi0xIT09YS5pbkFycmF5KHRoaXMuX2RhdGEuY29yZS5mb2N1c2VkLGcpJiYodGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ9bnVsbCxtPXRoaXMuZWxlbWVudFswXS5zY3JvbGxUb3Asbj10aGlzLmVsZW1lbnRbMF0uc2Nyb2xsTGVmdCxlLmlkPT09YS5qc3RyZWUucm9vdD90aGlzLl9tb2RlbC5kYXRhW2EuanN0cmVlLnJvb3RdLmNoaWxkcmVuWzBdJiZ0aGlzLmdldF9ub2RlKHRoaXMuX21vZGVsLmRhdGFbYS5qc3RyZWUucm9vdF0uY2hpbGRyZW5bMF0sITApLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmZvY3VzKCk6dGhpcy5nZXRfbm9kZShlLCEwKS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5mb2N1cygpLHRoaXMuZWxlbWVudFswXS5zY3JvbGxUb3A9bSx0aGlzLmVsZW1lbnRbMF0uc2Nyb2xsTGVmdD1uKSx0aGlzLnJlZHJhd19ub2RlKGUsITApLCEwfSxjaGVjazpmdW5jdGlvbihiLGMsZCxlLGYpe2M9YyYmYy5pZD9jOnRoaXMuZ2V0X25vZGUoYyksZD1kJiZkLmlkP2Q6dGhpcy5nZXRfbm9kZShkKTt2YXIgZz1iLm1hdGNoKC9ebW92ZV9ub2RlfGNvcHlfbm9kZXxjcmVhdGVfbm9kZSQvaSk/ZDpjLGg9dGhpcy5zZXR0aW5ncy5jb3JlLmNoZWNrX2NhbGxiYWNrO3JldHVybiJtb3ZlX25vZGUiIT09YiYmImNvcHlfbm9kZSIhPT1ifHxmJiZmLmlzX211bHRpfHxjLmlkIT09ZC5pZCYmKCJtb3ZlX25vZGUiIT09Ynx8YS5pbkFycmF5KGMuaWQsZC5jaGlsZHJlbikhPT1lKSYmLTE9PT1hLmluQXJyYXkoZC5pZCxjLmNoaWxkcmVuX2QpPyhnJiZnLmRhdGEmJihnPWcuZGF0YSksZyYmZy5mdW5jdGlvbnMmJihnLmZ1bmN0aW9uc1tiXT09PSExfHxnLmZ1bmN0aW9uc1tiXT09PSEwKT8oZy5mdW5jdGlvbnNbYl09PT0hMSYmKHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiY2hlY2siLHBsdWdpbjoiY29yZSIsaWQ6ImNvcmVfMDIiLHJlYXNvbjoiTm9kZSBkYXRhIHByZXZlbnRzIGZ1bmN0aW9uOiAiK2IsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOmIscG9zOmUsb2JqOmMmJmMuaWQ/Yy5pZDohMSxwYXI6ZCYmZC5pZD9kLmlkOiExfSl9KSxnLmZ1bmN0aW9uc1tiXSk6aD09PSExfHxhLmlzRnVuY3Rpb24oaCkmJmguY2FsbCh0aGlzLGIsYyxkLGUsZik9PT0hMXx8aCYmaFtiXT09PSExPyh0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6ImNoZWNrIixwbHVnaW46ImNvcmUiLGlkOiJjb3JlXzAzIixyZWFzb246IlVzZXIgY29uZmlnIGZvciBjb3JlLmNoZWNrX2NhbGxiYWNrIHByZXZlbnRzIGZ1bmN0aW9uOiAiK2IsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOmIscG9zOmUsb2JqOmMmJmMuaWQ/Yy5pZDohMSxwYXI6ZCYmZC5pZD9kLmlkOiExfSl9LCExKTohMCk6KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiY2hlY2siLHBsdWdpbjoiY29yZSIsaWQ6ImNvcmVfMDEiLHJlYXNvbjoiTW92aW5nIHBhcmVudCBpbnNpZGUgY2hpbGQiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2NoazpiLHBvczplLG9iajpjJiZjLmlkP2MuaWQ6ITEscGFyOmQmJmQuaWQ/ZC5pZDohMX0pfSwhMSl9LGxhc3RfZXJyb3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3J9LG1vdmVfbm9kZTpmdW5jdGlvbihjLGQsZSxmLGcsaCxpKXt2YXIgaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3O2lmKGQ9dGhpcy5nZXRfbm9kZShkKSxlPWU9PT1iPzA6ZSwhZClyZXR1cm4hMTtpZighZS50b1N0cmluZygpLm1hdGNoKC9eKGJlZm9yZXxhZnRlcikkLykmJiFnJiYhdGhpcy5pc19sb2FkZWQoZCkpcmV0dXJuIHRoaXMubG9hZF9ub2RlKGQsZnVuY3Rpb24oKXt0aGlzLm1vdmVfbm9kZShjLGQsZSxmLCEwLCExLGkpfSk7aWYoYS5pc0FycmF5KGMpKXtpZigxIT09Yy5sZW5ndGgpe2ZvcihqPTAsaz1jLmxlbmd0aDtrPmo7aisrKShyPXRoaXMubW92ZV9ub2RlKGNbal0sZCxlLGYsZywhMSxpKSkmJihkPXIsZT0iYWZ0ZXIiKTtyZXR1cm4gdGhpcy5yZWRyYXcoKSwhMH1jPWNbMF19aWYoYz1jJiZjLmlkP2M6dGhpcy5nZXRfbm9kZShjKSwhY3x8Yy5pZD09PWEuanN0cmVlLnJvb3QpcmV0dXJuITE7aWYobD0oYy5wYXJlbnR8fGEuanN0cmVlLnJvb3QpLnRvU3RyaW5nKCksbj1lLnRvU3RyaW5nKCkubWF0Y2goL14oYmVmb3JlfGFmdGVyKSQvKSYmZC5pZCE9PWEuanN0cmVlLnJvb3Q/dGhpcy5nZXRfbm9kZShkLnBhcmVudCk6ZCxvPWk/aTp0aGlzLl9tb2RlbC5kYXRhW2MuaWRdP3RoaXM6YS5qc3RyZWUucmVmZXJlbmNlKGMuaWQpLHA9IW98fCFvLl9pZHx8dGhpcy5faWQhPT1vLl9pZCxtPW8mJm8uX2lkJiZsJiZvLl9tb2RlbC5kYXRhW2xdJiZvLl9tb2RlbC5kYXRhW2xdLmNoaWxkcmVuP2EuaW5BcnJheShjLmlkLG8uX21vZGVsLmRhdGFbbF0uY2hpbGRyZW4pOi0xLG8mJm8uX2lkJiYoYz1vLl9tb2RlbC5kYXRhW2MuaWRdKSxwKXJldHVybihyPXRoaXMuY29weV9ub2RlKGMsZCxlLGYsZywhMSxpKSk/KG8mJm8uZGVsZXRlX25vZGUoYykscik6ITE7c3dpdGNoKGQuaWQ9PT1hLmpzdHJlZS5yb290JiYoImJlZm9yZSI9PT1lJiYoZT0iZmlyc3QiKSwiYWZ0ZXIiPT09ZSYmKGU9Imxhc3QiKSksZSl7Y2FzZSJiZWZvcmUiOmU9YS5pbkFycmF5KGQuaWQsbi5jaGlsZHJlbik7YnJlYWs7Y2FzZSJhZnRlciI6ZT1hLmluQXJyYXkoZC5pZCxuLmNoaWxkcmVuKSsxO2JyZWFrO2Nhc2UiaW5zaWRlIjpjYXNlImZpcnN0IjplPTA7YnJlYWs7Y2FzZSJsYXN0IjplPW4uY2hpbGRyZW4ubGVuZ3RoO2JyZWFrO2RlZmF1bHQ6ZXx8KGU9MCl9aWYoZT5uLmNoaWxkcmVuLmxlbmd0aCYmKGU9bi5jaGlsZHJlbi5sZW5ndGgpLCF0aGlzLmNoZWNrKCJtb3ZlX25vZGUiLGMsbixlLHtjb3JlOiEwLG9yaWdpbjppLGlzX211bHRpOm8mJm8uX2lkJiZvLl9pZCE9PXRoaXMuX2lkLGlzX2ZvcmVpZ246IW98fCFvLl9pZH0pKXJldHVybiB0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSwhMTtpZihjLnBhcmVudD09PW4uaWQpe2ZvcihxPW4uY2hpbGRyZW4uY29uY2F0KCkscj1hLmluQXJyYXkoYy5pZCxxKSwtMSE9PXImJihxPWEudmFrYXRhLmFycmF5X3JlbW92ZShxLHIpLGU+ciYmZS0tKSxyPVtdLHM9MCx0PXEubGVuZ3RoO3Q+cztzKyspcltzPj1lP3MrMTpzXT1xW3NdO3JbZV09Yy5pZCxuLmNoaWxkcmVuPXIsdGhpcy5fbm9kZV9jaGFuZ2VkKG4uaWQpLHRoaXMucmVkcmF3KG4uaWQ9PT1hLmpzdHJlZS5yb290KX1lbHNle2ZvcihyPWMuY2hpbGRyZW5fZC5jb25jYXQoKSxyLnB1c2goYy5pZCkscz0wLHQ9Yy5wYXJlbnRzLmxlbmd0aDt0PnM7cysrKXtmb3IocT1bXSx3PW8uX21vZGVsLmRhdGFbYy5wYXJlbnRzW3NdXS5jaGlsZHJlbl9kLHU9MCx2PXcubGVuZ3RoO3Y+dTt1KyspLTE9PT1hLmluQXJyYXkod1t1XSxyKSYmcS5wdXNoKHdbdV0pO28uX21vZGVsLmRhdGFbYy5wYXJlbnRzW3NdXS5jaGlsZHJlbl9kPXF9Zm9yKG8uX21vZGVsLmRhdGFbbF0uY2hpbGRyZW49YS52YWthdGEuYXJyYXlfcmVtb3ZlX2l0ZW0oby5fbW9kZWwuZGF0YVtsXS5jaGlsZHJlbixjLmlkKSxzPTAsdD1uLnBhcmVudHMubGVuZ3RoO3Q+cztzKyspdGhpcy5fbW9kZWwuZGF0YVtuLnBhcmVudHNbc11dLmNoaWxkcmVuX2Q9dGhpcy5fbW9kZWwuZGF0YVtuLnBhcmVudHNbc11dLmNoaWxkcmVuX2QuY29uY2F0KHIpO2ZvcihxPVtdLHM9MCx0PW4uY2hpbGRyZW4ubGVuZ3RoO3Q+cztzKyspcVtzPj1lP3MrMTpzXT1uLmNoaWxkcmVuW3NdO2ZvcihxW2VdPWMuaWQsbi5jaGlsZHJlbj1xLG4uY2hpbGRyZW5fZC5wdXNoKGMuaWQpLG4uY2hpbGRyZW5fZD1uLmNoaWxkcmVuX2QuY29uY2F0KGMuY2hpbGRyZW5fZCksYy5wYXJlbnQ9bi5pZCxyPW4ucGFyZW50cy5jb25jYXQoKSxyLnVuc2hpZnQobi5pZCksdz1jLnBhcmVudHMubGVuZ3RoLGMucGFyZW50cz1yLHI9ci5jb25jYXQoKSxzPTAsdD1jLmNoaWxkcmVuX2QubGVuZ3RoO3Q+cztzKyspdGhpcy5fbW9kZWwuZGF0YVtjLmNoaWxkcmVuX2Rbc11dLnBhcmVudHM9dGhpcy5fbW9kZWwuZGF0YVtjLmNoaWxkcmVuX2Rbc11dLnBhcmVudHMuc2xpY2UoMCwtMSp3KSxBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLl9tb2RlbC5kYXRhW2MuY2hpbGRyZW5fZFtzXV0ucGFyZW50cyxyKTsobD09PWEuanN0cmVlLnJvb3R8fG4uaWQ9PT1hLmpzdHJlZS5yb290KSYmKHRoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3PSEwKSx0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhd3x8KHRoaXMuX25vZGVfY2hhbmdlZChsKSx0aGlzLl9ub2RlX2NoYW5nZWQobi5pZCkpLGh8fHRoaXMucmVkcmF3KCl9cmV0dXJuIGYmJmYuY2FsbCh0aGlzLGMsbixlKSx0aGlzLnRyaWdnZXIoIm1vdmVfbm9kZSIse25vZGU6YyxwYXJlbnQ6bi5pZCxwb3NpdGlvbjplLG9sZF9wYXJlbnQ6bCxvbGRfcG9zaXRpb246bSxpc19tdWx0aTpvJiZvLl9pZCYmby5faWQhPT10aGlzLl9pZCxpc19mb3JlaWduOiFvfHwhby5faWQsb2xkX2luc3RhbmNlOm8sbmV3X2luc3RhbmNlOnRoaXN9KSxjLmlkfSxjb3B5X25vZGU6ZnVuY3Rpb24oYyxkLGUsZixnLGgsaSl7dmFyIGosayxsLG0sbixvLHAscSxyLHMsdDtpZihkPXRoaXMuZ2V0X25vZGUoZCksZT1lPT09Yj8wOmUsIWQpcmV0dXJuITE7aWYoIWUudG9TdHJpbmcoKS5tYXRjaCgvXihiZWZvcmV8YWZ0ZXIpJC8pJiYhZyYmIXRoaXMuaXNfbG9hZGVkKGQpKXJldHVybiB0aGlzLmxvYWRfbm9kZShkLGZ1bmN0aW9uKCl7dGhpcy5jb3B5X25vZGUoYyxkLGUsZiwhMCwhMSxpKX0pO2lmKGEuaXNBcnJheShjKSl7aWYoMSE9PWMubGVuZ3RoKXtmb3Ioaj0wLGs9Yy5sZW5ndGg7az5qO2orKykobT10aGlzLmNvcHlfbm9kZShjW2pdLGQsZSxmLGcsITAsaSkpJiYoZD1tLGU9ImFmdGVyIik7cmV0dXJuIHRoaXMucmVkcmF3KCksITB9Yz1jWzBdfWlmKGM9YyYmYy5pZD9jOnRoaXMuZ2V0X25vZGUoYyksIWN8fGMuaWQ9PT1hLmpzdHJlZS5yb290KXJldHVybiExO3N3aXRjaChxPShjLnBhcmVudHx8YS5qc3RyZWUucm9vdCkudG9TdHJpbmcoKSxyPWUudG9TdHJpbmcoKS5tYXRjaCgvXihiZWZvcmV8YWZ0ZXIpJC8pJiZkLmlkIT09YS5qc3RyZWUucm9vdD90aGlzLmdldF9ub2RlKGQucGFyZW50KTpkLHM9aT9pOnRoaXMuX21vZGVsLmRhdGFbYy5pZF0/dGhpczphLmpzdHJlZS5yZWZlcmVuY2UoYy5pZCksdD0hc3x8IXMuX2lkfHx0aGlzLl9pZCE9PXMuX2lkLHMmJnMuX2lkJiYoYz1zLl9tb2RlbC5kYXRhW2MuaWRdKSxkLmlkPT09YS5qc3RyZWUucm9vdCYmKCJiZWZvcmUiPT09ZSYmKGU9ImZpcnN0IiksImFmdGVyIj09PWUmJihlPSJsYXN0IikpLGUpe2Nhc2UiYmVmb3JlIjplPWEuaW5BcnJheShkLmlkLHIuY2hpbGRyZW4pO2JyZWFrO2Nhc2UiYWZ0ZXIiOmU9YS5pbkFycmF5KGQuaWQsci5jaGlsZHJlbikrMTticmVhaztjYXNlImluc2lkZSI6Y2FzZSJmaXJzdCI6ZT0wO2JyZWFrO2Nhc2UibGFzdCI6ZT1yLmNoaWxkcmVuLmxlbmd0aDticmVhaztkZWZhdWx0OmV8fChlPTApfWlmKGU+ci5jaGlsZHJlbi5sZW5ndGgmJihlPXIuY2hpbGRyZW4ubGVuZ3RoKSwhdGhpcy5jaGVjaygiY29weV9ub2RlIixjLHIsZSx7Y29yZTohMCxvcmlnaW46aSxpc19tdWx0aTpzJiZzLl9pZCYmcy5faWQhPT10aGlzLl9pZCxpc19mb3JlaWduOiFzfHwhcy5faWR9KSlyZXR1cm4gdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksITE7aWYocD1zP3MuZ2V0X2pzb24oYyx7bm9faWQ6ITAsbm9fZGF0YTohMCxub19zdGF0ZTohMH0pOmMsIXApcmV0dXJuITE7aWYocC5pZD09PSEwJiZkZWxldGUgcC5pZCxwPXRoaXMuX3BhcnNlX21vZGVsX2Zyb21fanNvbihwLHIuaWQsci5wYXJlbnRzLmNvbmNhdCgpKSwhcClyZXR1cm4hMTtmb3IobT10aGlzLmdldF9ub2RlKHApLGMmJmMuc3RhdGUmJmMuc3RhdGUubG9hZGVkPT09ITEmJihtLnN0YXRlLmxvYWRlZD0hMSksbD1bXSxsLnB1c2gocCksbD1sLmNvbmNhdChtLmNoaWxkcmVuX2QpLHRoaXMudHJpZ2dlcigibW9kZWwiLHtub2RlczpsLHBhcmVudDpyLmlkfSksbj0wLG89ci5wYXJlbnRzLmxlbmd0aDtvPm47bisrKXRoaXMuX21vZGVsLmRhdGFbci5wYXJlbnRzW25dXS5jaGlsZHJlbl9kPXRoaXMuX21vZGVsLmRhdGFbci5wYXJlbnRzW25dXS5jaGlsZHJlbl9kLmNvbmNhdChsKTtmb3IobD1bXSxuPTAsbz1yLmNoaWxkcmVuLmxlbmd0aDtvPm47bisrKWxbbj49ZT9uKzE6bl09ci5jaGlsZHJlbltuXTtyZXR1cm4gbFtlXT1tLmlkLHIuY2hpbGRyZW49bCxyLmNoaWxkcmVuX2QucHVzaChtLmlkKSxyLmNoaWxkcmVuX2Q9ci5jaGlsZHJlbl9kLmNvbmNhdChtLmNoaWxkcmVuX2QpLHIuaWQ9PT1hLmpzdHJlZS5yb290JiYodGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXc9ITApLHRoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3fHx0aGlzLl9ub2RlX2NoYW5nZWQoci5pZCksaHx8dGhpcy5yZWRyYXcoci5pZD09PWEuanN0cmVlLnJvb3QpLGYmJmYuY2FsbCh0aGlzLG0scixlKSx0aGlzLnRyaWdnZXIoImNvcHlfbm9kZSIse25vZGU6bSxvcmlnaW5hbDpjLHBhcmVudDpyLmlkLHBvc2l0aW9uOmUsb2xkX3BhcmVudDpxLG9sZF9wb3NpdGlvbjpzJiZzLl9pZCYmcSYmcy5fbW9kZWwuZGF0YVtxXSYmcy5fbW9kZWwuZGF0YVtxXS5jaGlsZHJlbj9hLmluQXJyYXkoYy5pZCxzLl9tb2RlbC5kYXRhW3FdLmNoaWxkcmVuKTotMSxpc19tdWx0aTpzJiZzLl9pZCYmcy5faWQhPT10aGlzLl9pZCxpc19mb3JlaWduOiFzfHwhcy5faWQsb2xkX2luc3RhbmNlOnMsbmV3X2luc3RhbmNlOnRoaXN9KSxtLmlkfSxjdXQ6ZnVuY3Rpb24oYil7aWYoYnx8KGI9dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmNvbmNhdCgpKSxhLmlzQXJyYXkoYil8fChiPVtiXSksIWIubGVuZ3RoKXJldHVybiExO3ZhciBjPVtdLGcsaCxpO2ZvcihoPTAsaT1iLmxlbmd0aDtpPmg7aCsrKWc9dGhpcy5nZXRfbm9kZShiW2hdKSxnJiZnLmlkJiZnLmlkIT09YS5qc3RyZWUucm9vdCYmYy5wdXNoKGcpO3JldHVybiBjLmxlbmd0aD8oZD1jLGY9dGhpcyxlPSJtb3ZlX25vZGUiLHZvaWQgdGhpcy50cmlnZ2VyKCJjdXQiLHtub2RlOmJ9KSk6ITF9LGNvcHk6ZnVuY3Rpb24oYil7aWYoYnx8KGI9dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmNvbmNhdCgpKSxhLmlzQXJyYXkoYil8fChiPVtiXSksIWIubGVuZ3RoKXJldHVybiExO3ZhciBjPVtdLGcsaCxpO2ZvcihoPTAsaT1iLmxlbmd0aDtpPmg7aCsrKWc9dGhpcy5nZXRfbm9kZShiW2hdKSxnJiZnLmlkJiZnLmlkIT09YS5qc3RyZWUucm9vdCYmYy5wdXNoKGcpO3JldHVybiBjLmxlbmd0aD8oZD1jLGY9dGhpcyxlPSJjb3B5X25vZGUiLHZvaWQgdGhpcy50cmlnZ2VyKCJjb3B5Iix7bm9kZTpifSkpOiExfSxnZXRfYnVmZmVyOmZ1bmN0aW9uKCl7cmV0dXJue21vZGU6ZSxub2RlOmQsaW5zdDpmfX0sY2FuX3Bhc3RlOmZ1bmN0aW9uKCl7cmV0dXJuIGUhPT0hMSYmZCE9PSExfSxwYXN0ZTpmdW5jdGlvbihhLGIpe3JldHVybiBhPXRoaXMuZ2V0X25vZGUoYSksYSYmZSYmZS5tYXRjaCgvXihjb3B5X25vZGV8bW92ZV9ub2RlKSQvKSYmZD8odGhpc1tlXShkLGEsYiwhMSwhMSwhMSxmKSYmdGhpcy50cmlnZ2VyKCJwYXN0ZSIse3BhcmVudDphLmlkLG5vZGU6ZCxtb2RlOmV9KSxkPSExLGU9ITEsdm9pZChmPSExKSk6ITF9LGNsZWFyX2J1ZmZlcjpmdW5jdGlvbigpe2Q9ITEsZT0hMSxmPSExLHRoaXMudHJpZ2dlcigiY2xlYXJfYnVmZmVyIil9LGVkaXQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoLGosayxsLG0sbixvPSExO3JldHVybihiPXRoaXMuZ2V0X25vZGUoYikpP3RoaXMuc2V0dGluZ3MuY29yZS5jaGVja19jYWxsYmFjaz09PSExPyh0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6ImNoZWNrIixwbHVnaW46ImNvcmUiLGlkOiJjb3JlXzA3IixyZWFzb246IkNvdWxkIG5vdCBlZGl0IG5vZGUgYmVjYXVzZSBvZiBjaGVja19jYWxsYmFjayJ9LHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLCExKToobj1iLGM9InN0cmluZyI9PXR5cGVvZiBjP2M6Yi50ZXh0LHRoaXMuc2V0X3RleHQoYiwiIiksYj10aGlzLl9vcGVuX3RvKGIpLG4udGV4dD1jLGU9dGhpcy5fZGF0YS5jb3JlLnJ0bCxmPXRoaXMuZWxlbWVudC53aWR0aCgpLHRoaXMuX2RhdGEuY29yZS5mb2N1c2VkPW4uaWQsZz1iLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmZvY3VzKCksaD1hKCI8c3Bhbj4iKSxqPWMsaz1hKCI8ZGl2IC8+Iix7Y3NzOntwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDoiLTIwMHB4IixsZWZ0OmU/IjBweCI6Ii0xMDAwcHgiLHZpc2liaWxpdHk6ImhpZGRlbiJ9fSkuYXBwZW5kVG8oImJvZHkiKSxsPWEoIjxpbnB1dCAvPiIse3ZhbHVlOmosImNsYXNzIjoianN0cmVlLXJlbmFtZS1pbnB1dCIsY3NzOntwYWRkaW5nOiIwIixib3JkZXI6IjFweCBzb2xpZCBzaWx2ZXIiLCJib3gtc2l6aW5nIjoiYm9yZGVyLWJveCIsZGlzcGxheToiaW5saW5lLWJsb2NrIixoZWlnaHQ6dGhpcy5fZGF0YS5jb3JlLmxpX2hlaWdodCsicHgiLGxpbmVIZWlnaHQ6dGhpcy5fZGF0YS5jb3JlLmxpX2hlaWdodCsicHgiLHdpZHRoOiIxNTBweCJ9LGJsdXI6YS5wcm94eShmdW5jdGlvbihjKXtjLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGMucHJldmVudERlZmF1bHQoKTt2YXIgZT1oLmNoaWxkcmVuKCIuanN0cmVlLXJlbmFtZS1pbnB1dCIpLGY9ZS52YWwoKSxpPXRoaXMuc2V0dGluZ3MuY29yZS5mb3JjZV90ZXh0LG07IiI9PT1mJiYoZj1qKSxrLnJlbW92ZSgpLGgucmVwbGFjZVdpdGgoZyksaC5yZW1vdmUoKSxqPWk/ajphKCI8ZGl2PjwvZGl2PiIpLmFwcGVuZChhLnBhcnNlSFRNTChqKSkuaHRtbCgpLHRoaXMuc2V0X3RleHQoYixqKSxtPSEhdGhpcy5yZW5hbWVfbm9kZShiLGk/YSgiPGRpdj48L2Rpdj4iKS50ZXh0KGYpLnRleHQoKTphKCI8ZGl2PjwvZGl2PiIpLmFwcGVuZChhLnBhcnNlSFRNTChmKSkuaHRtbCgpKSxtfHx0aGlzLnNldF90ZXh0KGIsaiksdGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ9bi5pZCxzZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldF9ub2RlKG4uaWQsITApO2EubGVuZ3RoJiYodGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ9bi5pZCxhLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmZvY3VzKCkpfSx0aGlzKSwwKSxkJiZkLmNhbGwodGhpcyxuLG0sbyksbD1udWxsfSx0aGlzKSxrZXlkb3duOmZ1bmN0aW9uKGEpe3ZhciBiPWEud2hpY2g7Mjc9PT1iJiYobz0hMCx0aGlzLnZhbHVlPWopLCgyNz09PWJ8fDEzPT09Ynx8Mzc9PT1ifHwzOD09PWJ8fDM5PT09Ynx8NDA9PT1ifHwzMj09PWIpJiZhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCgyNz09PWJ8fDEzPT09YikmJihhLnByZXZlbnREZWZhdWx0KCksdGhpcy5ibHVyKCkpfSxjbGljazpmdW5jdGlvbihhKXthLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfSxtb3VzZWRvd246ZnVuY3Rpb24oYSl7YS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0sa2V5dXA6ZnVuY3Rpb24oYSl7bC53aWR0aChNYXRoLm1pbihrLnRleHQoInBXIit0aGlzLnZhbHVlKS53aWR0aCgpLGYpKX0sa2V5cHJlc3M6ZnVuY3Rpb24oYSl7cmV0dXJuIDEzPT09YS53aGljaD8hMTp2b2lkIDB9fSksbT17Zm9udEZhbWlseTpnLmNzcygiZm9udEZhbWlseSIpfHwiIixmb250U2l6ZTpnLmNzcygiZm9udFNpemUiKXx8IiIsCglmb250V2VpZ2h0OmcuY3NzKCJmb250V2VpZ2h0Iil8fCIiLGZvbnRTdHlsZTpnLmNzcygiZm9udFN0eWxlIil8fCIiLGZvbnRTdHJldGNoOmcuY3NzKCJmb250U3RyZXRjaCIpfHwiIixmb250VmFyaWFudDpnLmNzcygiZm9udFZhcmlhbnQiKXx8IiIsbGV0dGVyU3BhY2luZzpnLmNzcygibGV0dGVyU3BhY2luZyIpfHwiIix3b3JkU3BhY2luZzpnLmNzcygid29yZFNwYWNpbmciKXx8IiJ9LGguYXR0cigiY2xhc3MiLGcuYXR0cigiY2xhc3MiKSkuYXBwZW5kKGcuY29udGVudHMoKS5jbG9uZSgpKS5hcHBlbmQobCksZy5yZXBsYWNlV2l0aChoKSxrLmNzcyhtKSxsLmNzcyhtKS53aWR0aChNYXRoLm1pbihrLnRleHQoInBXIitsWzBdLnZhbHVlKS53aWR0aCgpLGYpKVswXS5zZWxlY3QoKSx2b2lkIGEoaSkub25lKCJtb3VzZWRvd24uanN0cmVlIHRvdWNoc3RhcnQuanN0cmVlIGRuZF9zdGFydC52YWthdGEiLGZ1bmN0aW9uKGIpe2wmJmIudGFyZ2V0IT09bCYmYShsKS5ibHVyKCl9KSk6ITF9LHNldF90aGVtZTpmdW5jdGlvbihiLGMpe2lmKCFiKXJldHVybiExO2lmKGM9PT0hMCl7dmFyIGQ9dGhpcy5zZXR0aW5ncy5jb3JlLnRoZW1lcy5kaXI7ZHx8KGQ9YS5qc3RyZWUucGF0aCsiL3RoZW1lcyIpLGM9ZCsiLyIrYisiL3N0eWxlLmNzcyJ9YyYmLTE9PT1hLmluQXJyYXkoYyxnKSYmKGEoImhlYWQiKS5hcHBlbmQoJzxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iJytjKyciIHR5cGU9InRleHQvY3NzIiAvPicpLGcucHVzaChjKSksdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5uYW1lJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoImpzdHJlZS0iK3RoaXMuX2RhdGEuY29yZS50aGVtZXMubmFtZSksdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5uYW1lPWIsdGhpcy5lbGVtZW50LmFkZENsYXNzKCJqc3RyZWUtIitiKSx0aGlzLmVsZW1lbnRbdGhpcy5zZXR0aW5ncy5jb3JlLnRoZW1lcy5yZXNwb25zaXZlPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oImpzdHJlZS0iK2IrIi1yZXNwb25zaXZlIiksdGhpcy50cmlnZ2VyKCJzZXRfdGhlbWUiLHt0aGVtZTpifSl9LGdldF90aGVtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmNvcmUudGhlbWVzLm5hbWV9LHNldF90aGVtZV92YXJpYW50OmZ1bmN0aW9uKGEpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMudmFyaWFudCYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJqc3RyZWUtIit0aGlzLl9kYXRhLmNvcmUudGhlbWVzLm5hbWUrIi0iK3RoaXMuX2RhdGEuY29yZS50aGVtZXMudmFyaWFudCksdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy52YXJpYW50PWEsYSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKCJqc3RyZWUtIit0aGlzLl9kYXRhLmNvcmUudGhlbWVzLm5hbWUrIi0iK3RoaXMuX2RhdGEuY29yZS50aGVtZXMudmFyaWFudCl9LGdldF90aGVtZV92YXJpYW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEuY29yZS50aGVtZXMudmFyaWFudH0sc2hvd19zdHJpcGVzOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5zdHJpcGVzPSEwLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmFkZENsYXNzKCJqc3RyZWUtc3RyaXBlZCIpLHRoaXMudHJpZ2dlcigic2hvd19zdHJpcGVzIil9LGhpZGVfc3RyaXBlczpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuc3RyaXBlcz0hMSx0aGlzLmdldF9jb250YWluZXJfdWwoKS5yZW1vdmVDbGFzcygianN0cmVlLXN0cmlwZWQiKSx0aGlzLnRyaWdnZXIoImhpZGVfc3RyaXBlcyIpfSx0b2dnbGVfc3RyaXBlczpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuc3RyaXBlcz90aGlzLmhpZGVfc3RyaXBlcygpOnRoaXMuc2hvd19zdHJpcGVzKCl9LHNob3dfZG90czpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZG90cz0hMCx0aGlzLmdldF9jb250YWluZXJfdWwoKS5yZW1vdmVDbGFzcygianN0cmVlLW5vLWRvdHMiKSx0aGlzLnRyaWdnZXIoInNob3dfZG90cyIpfSxoaWRlX2RvdHM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmRvdHM9ITEsdGhpcy5nZXRfY29udGFpbmVyX3VsKCkuYWRkQ2xhc3MoImpzdHJlZS1uby1kb3RzIiksdGhpcy50cmlnZ2VyKCJoaWRlX2RvdHMiKX0sdG9nZ2xlX2RvdHM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmRvdHM/dGhpcy5oaWRlX2RvdHMoKTp0aGlzLnNob3dfZG90cygpfSxzaG93X2ljb25zOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5pY29ucz0hMCx0aGlzLmdldF9jb250YWluZXJfdWwoKS5yZW1vdmVDbGFzcygianN0cmVlLW5vLWljb25zIiksdGhpcy50cmlnZ2VyKCJzaG93X2ljb25zIil9LGhpZGVfaWNvbnM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmljb25zPSExLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmFkZENsYXNzKCJqc3RyZWUtbm8taWNvbnMiKSx0aGlzLnRyaWdnZXIoImhpZGVfaWNvbnMiKX0sdG9nZ2xlX2ljb25zOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5pY29ucz90aGlzLmhpZGVfaWNvbnMoKTp0aGlzLnNob3dfaWNvbnMoKX0sc2hvd19lbGxpcHNpczpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZWxsaXBzaXM9ITAsdGhpcy5nZXRfY29udGFpbmVyX3VsKCkuYWRkQ2xhc3MoImpzdHJlZS1lbGxpcHNpcyIpLHRoaXMudHJpZ2dlcigic2hvd19lbGxpcHNpcyIpfSxoaWRlX2VsbGlwc2lzOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5lbGxpcHNpcz0hMSx0aGlzLmdldF9jb250YWluZXJfdWwoKS5yZW1vdmVDbGFzcygianN0cmVlLWVsbGlwc2lzIiksdGhpcy50cmlnZ2VyKCJoaWRlX2VsbGlwc2lzIil9LHRvZ2dsZV9lbGxpcHNpczpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZWxsaXBzaXM/dGhpcy5oaWRlX2VsbGlwc2lzKCk6dGhpcy5zaG93X2VsbGlwc2lzKCl9LHNldF9pY29uOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZixnLGg7aWYoYS5pc0FycmF5KGMpKXtmb3IoYz1jLnNsaWNlKCksZT0wLGY9Yy5sZW5ndGg7Zj5lO2UrKyl0aGlzLnNldF9pY29uKGNbZV0sZCk7cmV0dXJuITB9cmV0dXJuIGM9dGhpcy5nZXRfbm9kZShjKSxjJiZjLmlkIT09YS5qc3RyZWUucm9vdD8oaD1jLmljb24sYy5pY29uPWQ9PT0hMHx8bnVsbD09PWR8fGQ9PT1ifHwiIj09PWQ/ITA6ZCxnPXRoaXMuZ2V0X25vZGUoYywhMCkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuY2hpbGRyZW4oIi5qc3RyZWUtdGhlbWVpY29uIiksZD09PSExP3RoaXMuaGlkZV9pY29uKGMpOmQ9PT0hMHx8bnVsbD09PWR8fGQ9PT1ifHwiIj09PWQ/KGcucmVtb3ZlQ2xhc3MoImpzdHJlZS10aGVtZWljb24tY3VzdG9tICIraCkuY3NzKCJiYWNrZ3JvdW5kIiwiIikucmVtb3ZlQXR0cigicmVsIiksaD09PSExJiZ0aGlzLnNob3dfaWNvbihjKSk6LTE9PT1kLmluZGV4T2YoIi8iKSYmLTE9PT1kLmluZGV4T2YoIi4iKT8oZy5yZW1vdmVDbGFzcyhoKS5jc3MoImJhY2tncm91bmQiLCIiKSxnLmFkZENsYXNzKGQrIiBqc3RyZWUtdGhlbWVpY29uLWN1c3RvbSIpLmF0dHIoInJlbCIsZCksaD09PSExJiZ0aGlzLnNob3dfaWNvbihjKSk6KGcucmVtb3ZlQ2xhc3MoaCkuY3NzKCJiYWNrZ3JvdW5kIiwiIiksZy5hZGRDbGFzcygianN0cmVlLXRoZW1laWNvbi1jdXN0b20iKS5jc3MoImJhY2tncm91bmQiLCJ1cmwoJyIrZCsiJykgY2VudGVyIGNlbnRlciBuby1yZXBlYXQiKS5hdHRyKCJyZWwiLGQpLGg9PT0hMSYmdGhpcy5zaG93X2ljb24oYykpLCEwKTohMX0sZ2V0X2ljb246ZnVuY3Rpb24oYil7cmV0dXJuIGI9dGhpcy5nZXRfbm9kZShiKSxiJiZiLmlkIT09YS5qc3RyZWUucm9vdD9iLmljb246ITF9LGhpZGVfaWNvbjpmdW5jdGlvbihiKXt2YXIgYyxkO2lmKGEuaXNBcnJheShiKSl7Zm9yKGI9Yi5zbGljZSgpLGM9MCxkPWIubGVuZ3RoO2Q+YztjKyspdGhpcy5oaWRlX2ljb24oYltjXSk7cmV0dXJuITB9cmV0dXJuIGI9dGhpcy5nZXRfbm9kZShiKSxiJiZiIT09YS5qc3RyZWUucm9vdD8oYi5pY29uPSExLHRoaXMuZ2V0X25vZGUoYiwhMCkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuY2hpbGRyZW4oIi5qc3RyZWUtdGhlbWVpY29uIikuYWRkQ2xhc3MoImpzdHJlZS10aGVtZWljb24taGlkZGVuIiksITApOiExfSxzaG93X2ljb246ZnVuY3Rpb24oYil7dmFyIGMsZCxlO2lmKGEuaXNBcnJheShiKSl7Zm9yKGI9Yi5zbGljZSgpLGM9MCxkPWIubGVuZ3RoO2Q+YztjKyspdGhpcy5zaG93X2ljb24oYltjXSk7cmV0dXJuITB9cmV0dXJuIGI9dGhpcy5nZXRfbm9kZShiKSxiJiZiIT09YS5qc3RyZWUucm9vdD8oZT10aGlzLmdldF9ub2RlKGIsITApLGIuaWNvbj1lLmxlbmd0aD9lLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmNoaWxkcmVuKCIuanN0cmVlLXRoZW1laWNvbiIpLmF0dHIoInJlbCIpOiEwLGIuaWNvbnx8KGIuaWNvbj0hMCksZS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5jaGlsZHJlbigiLmpzdHJlZS10aGVtZWljb24iKS5yZW1vdmVDbGFzcygianN0cmVlLXRoZW1laWNvbi1oaWRkZW4iKSwhMCk6ITF9fSxhLnZha2F0YT17fSxhLnZha2F0YS5hdHRyaWJ1dGVzPWZ1bmN0aW9uKGIsYyl7Yj1hKGIpWzBdO3ZhciBkPWM/e306W107cmV0dXJuIGImJmIuYXR0cmlidXRlcyYmYS5lYWNoKGIuYXR0cmlidXRlcyxmdW5jdGlvbihiLGUpey0xPT09YS5pbkFycmF5KGUubmFtZS50b0xvd2VyQ2FzZSgpLFsic3R5bGUiLCJjb250ZW50ZWRpdGFibGUiLCJoYXNmb2N1cyIsInRhYmluZGV4Il0pJiZudWxsIT09ZS52YWx1ZSYmIiIhPT1hLnRyaW0oZS52YWx1ZSkmJihjP2RbZS5uYW1lXT1lLnZhbHVlOmQucHVzaChlLm5hbWUpKX0pLGR9LGEudmFrYXRhLmFycmF5X3VuaXF1ZT1mdW5jdGlvbihhKXt2YXIgYz1bXSxkLGUsZixnPXt9O2ZvcihkPTAsZj1hLmxlbmd0aDtmPmQ7ZCsrKWdbYVtkXV09PT1iJiYoYy5wdXNoKGFbZF0pLGdbYVtkXV09ITApO3JldHVybiBjfSxhLnZha2F0YS5hcnJheV9yZW1vdmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5zcGxpY2UoYiwxKSxhfSxhLnZha2F0YS5hcnJheV9yZW1vdmVfaXRlbT1mdW5jdGlvbihiLGMpe3ZhciBkPWEuaW5BcnJheShjLGIpO3JldHVybi0xIT09ZD9hLnZha2F0YS5hcnJheV9yZW1vdmUoYixkKTpifSxhLnZha2F0YS5hcnJheV9maWx0ZXI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhLmZpbHRlcilyZXR1cm4gYS5maWx0ZXIoYixjKTtkPVtdO2ZvcihlIGluIGEpfn5lKyIiPT1lKyIiJiZlPj0wJiZiLmNhbGwoYyxhW2VdLCtlLGEpJiZkLnB1c2goYVtlXSk7cmV0dXJuIGR9LGEuanN0cmVlLnBsdWdpbnMuY2hhbmdlZD1mdW5jdGlvbihhLGIpe3ZhciBjPVtdO3RoaXMudHJpZ2dlcj1mdW5jdGlvbihhLGQpe3ZhciBlLGY7aWYoZHx8KGQ9e30pLCJjaGFuZ2VkIj09PWEucmVwbGFjZSgiLmpzdHJlZSIsIiIpKXtkLmNoYW5nZWQ9e3NlbGVjdGVkOltdLGRlc2VsZWN0ZWQ6W119O3ZhciBnPXt9O2ZvcihlPTAsZj1jLmxlbmd0aDtmPmU7ZSsrKWdbY1tlXV09MTtmb3IoZT0wLGY9ZC5zZWxlY3RlZC5sZW5ndGg7Zj5lO2UrKylnW2Quc2VsZWN0ZWRbZV1dP2dbZC5zZWxlY3RlZFtlXV09MjpkLmNoYW5nZWQuc2VsZWN0ZWQucHVzaChkLnNlbGVjdGVkW2VdKTtmb3IoZT0wLGY9Yy5sZW5ndGg7Zj5lO2UrKykxPT09Z1tjW2VdXSYmZC5jaGFuZ2VkLmRlc2VsZWN0ZWQucHVzaChjW2VdKTtjPWQuc2VsZWN0ZWQuc2xpY2UoKX1iLnRyaWdnZXIuY2FsbCh0aGlzLGEsZCl9LHRoaXMucmVmcmVzaD1mdW5jdGlvbihhLGQpe3JldHVybiBjPVtdLGIucmVmcmVzaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fTt2YXIgaj1pLmNyZWF0ZUVsZW1lbnQoIkkiKTtqLmNsYXNzTmFtZT0ianN0cmVlLWljb24ganN0cmVlLWNoZWNrYm94IixqLnNldEF0dHJpYnV0ZSgicm9sZSIsInByZXNlbnRhdGlvbiIpLGEuanN0cmVlLmRlZmF1bHRzLmNoZWNrYm94PXt2aXNpYmxlOiEwLHRocmVlX3N0YXRlOiEwLHdob2xlX25vZGU6ITAsa2VlcF9zZWxlY3RlZF9zdHlsZTohMCxjYXNjYWRlOiIiLHRpZV9zZWxlY3Rpb246ITB9LGEuanN0cmVlLnBsdWdpbnMuY2hlY2tib3g9ZnVuY3Rpb24oYyxkKXt0aGlzLmJpbmQ9ZnVuY3Rpb24oKXtkLmJpbmQuY2FsbCh0aGlzKSx0aGlzLl9kYXRhLmNoZWNrYm94LnV0bz0hMSx0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkPVtdLHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGhyZWVfc3RhdGUmJih0aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGU9InVwK2Rvd24rdW5kZXRlcm1pbmVkIiksdGhpcy5lbGVtZW50Lm9uKCJpbml0LmpzdHJlZSIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuX2RhdGEuY2hlY2tib3gudmlzaWJsZT10aGlzLnNldHRpbmdzLmNoZWNrYm94LnZpc2libGUsdGhpcy5zZXR0aW5ncy5jaGVja2JveC5rZWVwX3NlbGVjdGVkX3N0eWxlfHx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoImpzdHJlZS1jaGVja2JveC1uby1jbGlja2VkIiksdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoImpzdHJlZS1jaGVja2JveC1zZWxlY3Rpb24iKX0sdGhpcykpLm9uKCJsb2FkaW5nLmpzdHJlZSIsYS5wcm94eShmdW5jdGlvbigpe3RoaXNbdGhpcy5fZGF0YS5jaGVja2JveC52aXNpYmxlPyJzaG93X2NoZWNrYm94ZXMiOiJoaWRlX2NoZWNrYm94ZXMiXSgpfSx0aGlzKSksLTEhPT10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUuaW5kZXhPZigidW5kZXRlcm1pbmVkIikmJnRoaXMuZWxlbWVudC5vbigiY2hhbmdlZC5qc3RyZWUgdW5jaGVja19ub2RlLmpzdHJlZSBjaGVja19ub2RlLmpzdHJlZSB1bmNoZWNrX2FsbC5qc3RyZWUgY2hlY2tfYWxsLmpzdHJlZSBtb3ZlX25vZGUuanN0cmVlIGNvcHlfbm9kZS5qc3RyZWUgcmVkcmF3LmpzdHJlZSBvcGVuX25vZGUuanN0cmVlIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jaGVja2JveC51dG8mJmNsZWFyVGltZW91dCh0aGlzLl9kYXRhLmNoZWNrYm94LnV0byksdGhpcy5fZGF0YS5jaGVja2JveC51dG89c2V0VGltZW91dChhLnByb3h5KHRoaXMuX3VuZGV0ZXJtaW5lZCx0aGlzKSw1MCl9LHRoaXMpKSx0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb258fHRoaXMuZWxlbWVudC5vbigibW9kZWwuanN0cmVlIixhLnByb3h5KGZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fbW9kZWwuZGF0YSxkPWNbYi5wYXJlbnRdLGU9Yi5ub2RlcyxmLGc7Zm9yKGY9MCxnPWUubGVuZ3RoO2c+ZjtmKyspY1tlW2ZdXS5zdGF0ZS5jaGVja2VkPWNbZVtmXV0uc3RhdGUuY2hlY2tlZHx8Y1tlW2ZdXS5vcmlnaW5hbCYmY1tlW2ZdXS5vcmlnaW5hbC5zdGF0ZSYmY1tlW2ZdXS5vcmlnaW5hbC5zdGF0ZS5jaGVja2VkLGNbZVtmXV0uc3RhdGUuY2hlY2tlZCYmdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZC5wdXNoKGVbZl0pfSx0aGlzKSksKC0xIT09dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLmluZGV4T2YoInVwIil8fC0xIT09dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLmluZGV4T2YoImRvd24iKSkmJnRoaXMuZWxlbWVudC5vbigibW9kZWwuanN0cmVlIixhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5fbW9kZWwuZGF0YSxlPWRbYy5wYXJlbnRdLGY9Yy5ub2RlcyxnPVtdLGgsaSxqLGssbCxtLG49dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLG89dGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uO2lmKC0xIT09bi5pbmRleE9mKCJkb3duIikpaWYoZS5zdGF0ZVtvPyJzZWxlY3RlZCI6ImNoZWNrZWQiXSl7Zm9yKGk9MCxqPWYubGVuZ3RoO2o+aTtpKyspZFtmW2ldXS5zdGF0ZVtvPyJzZWxlY3RlZCI6ImNoZWNrZWQiXT0hMDt0aGlzLl9kYXRhW28/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkPXRoaXMuX2RhdGFbbz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQuY29uY2F0KGYpfWVsc2UgZm9yKGk9MCxqPWYubGVuZ3RoO2o+aTtpKyspaWYoZFtmW2ldXS5zdGF0ZVtvPyJzZWxlY3RlZCI6ImNoZWNrZWQiXSl7Zm9yKGs9MCxsPWRbZltpXV0uY2hpbGRyZW5fZC5sZW5ndGg7bD5rO2srKylkW2RbZltpXV0uY2hpbGRyZW5fZFtrXV0uc3RhdGVbbz8ic2VsZWN0ZWQiOiJjaGVja2VkIl09ITA7dGhpcy5fZGF0YVtvPyJjb3JlIjoiY2hlY2tib3giXS5zZWxlY3RlZD10aGlzLl9kYXRhW28/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkLmNvbmNhdChkW2ZbaV1dLmNoaWxkcmVuX2QpfWlmKC0xIT09bi5pbmRleE9mKCJ1cCIpKXtmb3IoaT0wLGo9ZS5jaGlsZHJlbl9kLmxlbmd0aDtqPmk7aSsrKWRbZS5jaGlsZHJlbl9kW2ldXS5jaGlsZHJlbi5sZW5ndGh8fGcucHVzaChkW2UuY2hpbGRyZW5fZFtpXV0ucGFyZW50KTtmb3IoZz1hLnZha2F0YS5hcnJheV91bmlxdWUoZyksaz0wLGw9Zy5sZW5ndGg7bD5rO2srKyl7ZT1kW2dba11dO3doaWxlKGUmJmUuaWQhPT1hLmpzdHJlZS5yb290KXtmb3IoaD0wLGk9MCxqPWUuY2hpbGRyZW4ubGVuZ3RoO2o+aTtpKyspaCs9ZFtlLmNoaWxkcmVuW2ldXS5zdGF0ZVtvPyJzZWxlY3RlZCI6ImNoZWNrZWQiXTtpZihoIT09ailicmVhaztlLnN0YXRlW28/InNlbGVjdGVkIjoiY2hlY2tlZCJdPSEwLHRoaXMuX2RhdGFbbz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQucHVzaChlLmlkKSxtPXRoaXMuZ2V0X25vZGUoZSwhMCksbSYmbS5sZW5ndGgmJm0uYXR0cigiYXJpYS1zZWxlY3RlZCIsITApLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmFkZENsYXNzKG8/ImpzdHJlZS1jbGlja2VkIjoianN0cmVlLWNoZWNrZWQiKSxlPXRoaXMuZ2V0X25vZGUoZS5wYXJlbnQpfX19dGhpcy5fZGF0YVtvPyJjb3JlIjoiY2hlY2tib3giXS5zZWxlY3RlZD1hLnZha2F0YS5hcnJheV91bmlxdWUodGhpcy5fZGF0YVtvPyJjb3JlIjoiY2hlY2tib3giXS5zZWxlY3RlZCl9LHRoaXMpKS5vbih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24/InNlbGVjdF9ub2RlLmpzdHJlZSI6ImNoZWNrX25vZGUuanN0cmVlIixhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5ub2RlLGU9dGhpcy5fbW9kZWwuZGF0YSxmPXRoaXMuZ2V0X25vZGUoZC5wYXJlbnQpLGc9dGhpcy5nZXRfbm9kZShkLCEwKSxoLGksaixrLGw9dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLG09dGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uLG49e30sbz10aGlzLl9kYXRhW20/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkO2ZvcihoPTAsaT1vLmxlbmd0aDtpPmg7aCsrKW5bb1toXV09ITA7aWYoLTEhPT1sLmluZGV4T2YoImRvd24iKSlmb3IoaD0wLGk9ZC5jaGlsZHJlbl9kLmxlbmd0aDtpPmg7aCsrKW5bZC5jaGlsZHJlbl9kW2hdXT0hMCxrPWVbZC5jaGlsZHJlbl9kW2hdXSxrLnN0YXRlW20/InNlbGVjdGVkIjoiY2hlY2tlZCJdPSEwLGsmJmsub3JpZ2luYWwmJmsub3JpZ2luYWwuc3RhdGUmJmsub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkJiYoay5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQ9ITEpO2lmKC0xIT09bC5pbmRleE9mKCJ1cCIpKXdoaWxlKGYmJmYuaWQhPT1hLmpzdHJlZS5yb290KXtmb3Ioaj0wLGg9MCxpPWYuY2hpbGRyZW4ubGVuZ3RoO2k+aDtoKyspais9ZVtmLmNoaWxkcmVuW2hdXS5zdGF0ZVttPyJzZWxlY3RlZCI6ImNoZWNrZWQiXTtpZihqIT09aSlicmVhaztmLnN0YXRlW20/InNlbGVjdGVkIjoiY2hlY2tlZCJdPSEwLG5bZi5pZF09ITAsaz10aGlzLmdldF9ub2RlKGYsITApLGsmJmsubGVuZ3RoJiZrLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCEwKS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5hZGRDbGFzcyhtPyJqc3RyZWUtY2xpY2tlZCI6ImpzdHJlZS1jaGVja2VkIiksZj10aGlzLmdldF9ub2RlKGYucGFyZW50KX1vPVtdO2ZvcihoIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShoKSYmby5wdXNoKGgpO3RoaXMuX2RhdGFbbT8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQ9bywtMSE9PWwuaW5kZXhPZigiZG93biIpJiZnLmxlbmd0aCYmZy5maW5kKCIuanN0cmVlLWFuY2hvciIpLmFkZENsYXNzKG0/ImpzdHJlZS1jbGlja2VkIjoianN0cmVlLWNoZWNrZWQiKS5wYXJlbnQoKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCl9LHRoaXMpKS5vbih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24/ImRlc2VsZWN0X2FsbC5qc3RyZWUiOiJ1bmNoZWNrX2FsbC5qc3RyZWUiLGEucHJveHkoZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLmdldF9ub2RlKGEuanN0cmVlLnJvb3QpLGU9dGhpcy5fbW9kZWwuZGF0YSxmLGcsaDtmb3IoZj0wLGc9ZC5jaGlsZHJlbl9kLmxlbmd0aDtnPmY7ZisrKWg9ZVtkLmNoaWxkcmVuX2RbZl1dLGgmJmgub3JpZ2luYWwmJmgub3JpZ2luYWwuc3RhdGUmJmgub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkJiYoaC5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQ9ITEpfSx0aGlzKSkub24odGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uPyJkZXNlbGVjdF9ub2RlLmpzdHJlZSI6InVuY2hlY2tfbm9kZS5qc3RyZWUiLGEucHJveHkoZnVuY3Rpb24oYixjKXt2YXIgZD1jLm5vZGUsZT10aGlzLmdldF9ub2RlKGQsITApLGYsZyxoLGk9dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLGo9dGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uLGs9dGhpcy5fZGF0YVtqPyJjb3JlIjoiY2hlY2tib3giXS5zZWxlY3RlZCxsPXt9O2lmKGQmJmQub3JpZ2luYWwmJmQub3JpZ2luYWwuc3RhdGUmJmQub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkJiYoZC5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQ9ITEpLC0xIT09aS5pbmRleE9mKCJkb3duIikpZm9yKGY9MCxnPWQuY2hpbGRyZW5fZC5sZW5ndGg7Zz5mO2YrKyloPXRoaXMuX21vZGVsLmRhdGFbZC5jaGlsZHJlbl9kW2ZdXSxoLnN0YXRlW2o/InNlbGVjdGVkIjoiY2hlY2tlZCJdPSExLGgmJmgub3JpZ2luYWwmJmgub3JpZ2luYWwuc3RhdGUmJmgub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkJiYoaC5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQ9ITEpO2lmKC0xIT09aS5pbmRleE9mKCJ1cCIpKWZvcihmPTAsZz1kLnBhcmVudHMubGVuZ3RoO2c+ZjtmKyspaD10aGlzLl9tb2RlbC5kYXRhW2QucGFyZW50c1tmXV0saC5zdGF0ZVtqPyJzZWxlY3RlZCI6ImNoZWNrZWQiXT0hMSxoJiZoLm9yaWdpbmFsJiZoLm9yaWdpbmFsLnN0YXRlJiZoLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZCYmKGgub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkPSExKSxoPXRoaXMuZ2V0X25vZGUoZC5wYXJlbnRzW2ZdLCEwKSxoJiZoLmxlbmd0aCYmaC5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMSkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikucmVtb3ZlQ2xhc3Moaj8ianN0cmVlLWNsaWNrZWQiOiJqc3RyZWUtY2hlY2tlZCIpO2ZvcihsPXt9LGY9MCxnPWsubGVuZ3RoO2c+ZjtmKyspLTEhPT1pLmluZGV4T2YoImRvd24iKSYmLTEhPT1hLmluQXJyYXkoa1tmXSxkLmNoaWxkcmVuX2QpfHwtMSE9PWkuaW5kZXhPZigidXAiKSYmLTEhPT1hLmluQXJyYXkoa1tmXSxkLnBhcmVudHMpfHwobFtrW2ZdXT0hMCk7az1bXTtmb3IoZiBpbiBsKWwuaGFzT3duUHJvcGVydHkoZikmJmsucHVzaChmKTt0aGlzLl9kYXRhW2o/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkPWssLTEhPT1pLmluZGV4T2YoImRvd24iKSYmZS5sZW5ndGgmJmUuZmluZCgiLmpzdHJlZS1hbmNob3IiKS5yZW1vdmVDbGFzcyhqPyJqc3RyZWUtY2xpY2tlZCI6ImpzdHJlZS1jaGVja2VkIikucGFyZW50KCkuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpfSx0aGlzKSksLTEhPT10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUuaW5kZXhPZigidXAiKSYmdGhpcy5lbGVtZW50Lm9uKCJkZWxldGVfbm9kZS5qc3RyZWUiLGEucHJveHkoZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLmdldF9ub2RlKGMucGFyZW50KSxlPXRoaXMuX21vZGVsLmRhdGEsZixnLGgsaSxqPXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbjt3aGlsZShkJiZkLmlkIT09YS5qc3RyZWUucm9vdCYmIWQuc3RhdGVbaj8ic2VsZWN0ZWQiOiJjaGVja2VkIl0pe2ZvcihoPTAsZj0wLGc9ZC5jaGlsZHJlbi5sZW5ndGg7Zz5mO2YrKyloKz1lW2QuY2hpbGRyZW5bZl1dLnN0YXRlW2o/InNlbGVjdGVkIjoiY2hlY2tlZCJdO2lmKCEoZz4wJiZoPT09ZykpYnJlYWs7ZC5zdGF0ZVtqPyJzZWxlY3RlZCI6ImNoZWNrZWQiXT0hMCx0aGlzLl9kYXRhW2o/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkLnB1c2goZC5pZCksaT10aGlzLmdldF9ub2RlKGQsITApLGkmJmkubGVuZ3RoJiZpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCEwKS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5hZGRDbGFzcyhqPyJqc3RyZWUtY2xpY2tlZCI6ImpzdHJlZS1jaGVja2VkIiksZD10aGlzLmdldF9ub2RlKGQucGFyZW50KX19LHRoaXMpKS5vbigibW92ZV9ub2RlLmpzdHJlZSIsYS5wcm94eShmdW5jdGlvbihiLGMpe3ZhciBkPWMuaXNfbXVsdGksZT1jLm9sZF9wYXJlbnQsZj10aGlzLmdldF9ub2RlKGMucGFyZW50KSxnPXRoaXMuX21vZGVsLmRhdGEsaCxpLGosayxsLG09dGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uO2lmKCFkKXtoPXRoaXMuZ2V0X25vZGUoZSk7d2hpbGUoaCYmaC5pZCE9PWEuanN0cmVlLnJvb3QmJiFoLnN0YXRlW20/InNlbGVjdGVkIjoiY2hlY2tlZCJdKXtmb3IoaT0wLGo9MCxrPWguY2hpbGRyZW4ubGVuZ3RoO2s+ajtqKyspaSs9Z1toLmNoaWxkcmVuW2pdXS5zdGF0ZVttPyJzZWxlY3RlZCI6ImNoZWNrZWQiXTtpZighKGs+MCYmaT09PWspKWJyZWFrO2guc3RhdGVbbT8ic2VsZWN0ZWQiOiJjaGVja2VkIl09ITAsdGhpcy5fZGF0YVttPyJjb3JlIjoiY2hlY2tib3giXS5zZWxlY3RlZC5wdXNoKGguaWQpLGw9dGhpcy5nZXRfbm9kZShoLCEwKSxsJiZsLmxlbmd0aCYmbC5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuYWRkQ2xhc3MobT8ianN0cmVlLWNsaWNrZWQiOiJqc3RyZWUtY2hlY2tlZCIpLGg9dGhpcy5nZXRfbm9kZShoLnBhcmVudCl9fWg9Zjt3aGlsZShoJiZoLmlkIT09YS5qc3RyZWUucm9vdCl7Zm9yKGk9MCxqPTAsaz1oLmNoaWxkcmVuLmxlbmd0aDtrPmo7aisrKWkrPWdbaC5jaGlsZHJlbltqXV0uc3RhdGVbbT8ic2VsZWN0ZWQiOiJjaGVja2VkIl07aWYoaT09PWspaC5zdGF0ZVttPyJzZWxlY3RlZCI6ImNoZWNrZWQiXXx8KGguc3RhdGVbbT8ic2VsZWN0ZWQiOiJjaGVja2VkIl09ITAsdGhpcy5fZGF0YVttPyJjb3JlIjoiY2hlY2tib3giXS5zZWxlY3RlZC5wdXNoKGguaWQpLGw9dGhpcy5nZXRfbm9kZShoLCEwKSxsJiZsLmxlbmd0aCYmbC5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuYWRkQ2xhc3MobT8ianN0cmVlLWNsaWNrZWQiOiJqc3RyZWUtY2hlY2tlZCIpKTtlbHNle2lmKCFoLnN0YXRlW20/InNlbGVjdGVkIjoiY2hlY2tlZCJdKWJyZWFrO2guc3RhdGVbbT8ic2VsZWN0ZWQiOiJjaGVja2VkIl09ITEsdGhpcy5fZGF0YVttPyJjb3JlIjoiY2hlY2tib3giXS5zZWxlY3RlZD1hLnZha2F0YS5hcnJheV9yZW1vdmVfaXRlbSh0aGlzLl9kYXRhW20/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkLGguaWQpLGw9dGhpcy5nZXRfbm9kZShoLCEwKSxsJiZsLmxlbmd0aCYmbC5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMSkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikucmVtb3ZlQ2xhc3MobT8ianN0cmVlLWNsaWNrZWQiOiJqc3RyZWUtY2hlY2tlZCIpfWg9dGhpcy5nZXRfbm9kZShoLnBhcmVudCl9fSx0aGlzKSl9LHRoaXMuX3VuZGV0ZXJtaW5lZD1mdW5jdGlvbigpe2lmKG51bGwhPT10aGlzLmVsZW1lbnQpe3ZhciBjLGQsZSxmLGc9e30saD10aGlzLl9tb2RlbC5kYXRhLGk9dGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uLGo9dGhpcy5fZGF0YVtpPyJjb3JlIjoiY2hlY2tib3giXS5zZWxlY3RlZCxrPVtdLGw9dGhpcztmb3IoYz0wLGQ9ai5sZW5ndGg7ZD5jO2MrKylpZihoW2pbY11dJiZoW2pbY11dLnBhcmVudHMpZm9yKGU9MCxmPWhbaltjXV0ucGFyZW50cy5sZW5ndGg7Zj5lO2UrKyl7aWYoZ1toW2pbY11dLnBhcmVudHNbZV1dIT09YilicmVhaztoW2pbY11dLnBhcmVudHNbZV0hPT1hLmpzdHJlZS5yb290JiYoZ1toW2pbY11dLnBhcmVudHNbZV1dPSEwLGsucHVzaChoW2pbY11dLnBhcmVudHNbZV0pKX1mb3IodGhpcy5lbGVtZW50LmZpbmQoIi5qc3RyZWUtY2xvc2VkIikubm90KCI6aGFzKC5qc3RyZWUtY2hpbGRyZW4pIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPWwuZ2V0X25vZGUodGhpcyksajtpZihpLnN0YXRlLmxvYWRlZCl7Zm9yKGM9MCxkPWkuY2hpbGRyZW5fZC5sZW5ndGg7ZD5jO2MrKylpZihqPWhbaS5jaGlsZHJlbl9kW2NdXSwhai5zdGF0ZS5sb2FkZWQmJmoub3JpZ2luYWwmJmoub3JpZ2luYWwuc3RhdGUmJmoub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkJiZqLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZD09PSEwKWZvcihnW2ouaWRdPT09YiYmai5pZCE9PWEuanN0cmVlLnJvb3QmJihnW2ouaWRdPSEwLGsucHVzaChqLmlkKSksZT0wLGY9ai5wYXJlbnRzLmxlbmd0aDtmPmU7ZSsrKWdbai5wYXJlbnRzW2VdXT09PWImJmoucGFyZW50c1tlXSE9PWEuanN0cmVlLnJvb3QmJihnW2oucGFyZW50c1tlXV09ITAsay5wdXNoKGoucGFyZW50c1tlXSkpfWVsc2UgaWYoaS5vcmlnaW5hbCYmaS5vcmlnaW5hbC5zdGF0ZSYmaS5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQmJmkub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkPT09ITApZm9yKGdbaS5pZF09PT1iJiZpLmlkIT09YS5qc3RyZWUucm9vdCYmKGdbaS5pZF09ITAsay5wdXNoKGkuaWQpKSxlPTAsZj1pLnBhcmVudHMubGVuZ3RoO2Y+ZTtlKyspZ1tpLnBhcmVudHNbZV1dPT09YiYmaS5wYXJlbnRzW2VdIT09YS5qc3RyZWUucm9vdCYmKGdbaS5wYXJlbnRzW2VdXT0hMCxrLnB1c2goaS5wYXJlbnRzW2VdKSl9KSx0aGlzLmVsZW1lbnQuZmluZCgiLmpzdHJlZS11bmRldGVybWluZWQiKS5yZW1vdmVDbGFzcygianN0cmVlLXVuZGV0ZXJtaW5lZCIpLGM9MCxkPWsubGVuZ3RoO2Q+YztjKyspaFtrW2NdXS5zdGF0ZVtpPyJzZWxlY3RlZCI6ImNoZWNrZWQiXXx8KGo9dGhpcy5nZXRfbm9kZShrW2NdLCEwKSxqJiZqLmxlbmd0aCYmai5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5jaGlsZHJlbigiLmpzdHJlZS1jaGVja2JveCIpLmFkZENsYXNzKCJqc3RyZWUtdW5kZXRlcm1pbmVkIikpfX0sdGhpcy5yZWRyYXdfbm9kZT1mdW5jdGlvbihiLGMsZSxmKXtpZihiPWQucmVkcmF3X25vZGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKXt2YXIgZyxoLGk9bnVsbCxrPW51bGw7Zm9yKGc9MCxoPWIuY2hpbGROb2Rlcy5sZW5ndGg7aD5nO2crKylpZihiLmNoaWxkTm9kZXNbZ10mJmIuY2hpbGROb2Rlc1tnXS5jbGFzc05hbWUmJi0xIT09Yi5jaGlsZE5vZGVzW2ddLmNsYXNzTmFtZS5pbmRleE9mKCJqc3RyZWUtYW5jaG9yIikpe2k9Yi5jaGlsZE5vZGVzW2ddO2JyZWFrfWkmJighdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uJiZ0aGlzLl9tb2RlbC5kYXRhW2IuaWRdLnN0YXRlLmNoZWNrZWQmJihpLmNsYXNzTmFtZSs9IiBqc3RyZWUtY2hlY2tlZCIpLGs9ai5jbG9uZU5vZGUoITEpLHRoaXMuX21vZGVsLmRhdGFbYi5pZF0uc3RhdGUuY2hlY2tib3hfZGlzYWJsZWQmJihrLmNsYXNzTmFtZSs9IiBqc3RyZWUtY2hlY2tib3gtZGlzYWJsZWQiKSxpLmluc2VydEJlZm9yZShrLGkuY2hpbGROb2Rlc1swXSkpfXJldHVybiBlfHwtMT09PXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZS5pbmRleE9mKCJ1bmRldGVybWluZWQiKXx8KHRoaXMuX2RhdGEuY2hlY2tib3gudXRvJiZjbGVhclRpbWVvdXQodGhpcy5fZGF0YS5jaGVja2JveC51dG8pLHRoaXMuX2RhdGEuY2hlY2tib3gudXRvPXNldFRpbWVvdXQoYS5wcm94eSh0aGlzLl91bmRldGVybWluZWQsdGhpcyksNTApKSxifSx0aGlzLnNob3dfY2hlY2tib3hlcz1mdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuY2hlY2tib3hlcz0hMCx0aGlzLmdldF9jb250YWluZXJfdWwoKS5yZW1vdmVDbGFzcygianN0cmVlLW5vLWNoZWNrYm94ZXMiKX0sdGhpcy5oaWRlX2NoZWNrYm94ZXM9ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmNoZWNrYm94ZXM9ITEsdGhpcy5nZXRfY29udGFpbmVyX3VsKCkuYWRkQ2xhc3MoImpzdHJlZS1uby1jaGVja2JveGVzIil9LHRoaXMudG9nZ2xlX2NoZWNrYm94ZXM9ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmNoZWNrYm94ZXM/dGhpcy5oaWRlX2NoZWNrYm94ZXMoKTp0aGlzLnNob3dfY2hlY2tib3hlcygpfSx0aGlzLmlzX3VuZGV0ZXJtaW5lZD1mdW5jdGlvbihiKXtiPXRoaXMuZ2V0X25vZGUoYik7dmFyIGM9dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLGQsZSxmPXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbixnPXRoaXMuX2RhdGFbZj8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQsaD10aGlzLl9tb2RlbC5kYXRhO2lmKCFifHxiLnN0YXRlW2Y/InNlbGVjdGVkIjoiY2hlY2tlZCJdPT09ITB8fC0xPT09Yy5pbmRleE9mKCJ1bmRldGVybWluZWQiKXx8LTE9PT1jLmluZGV4T2YoImRvd24iKSYmLTE9PT1jLmluZGV4T2YoInVwIikpcmV0dXJuITE7aWYoIWIuc3RhdGUubG9hZGVkJiZiLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZD09PSEwKXJldHVybiEwO2ZvcihkPTAsZT1iLmNoaWxkcmVuX2QubGVuZ3RoO2U+ZDtkKyspaWYoLTEhPT1hLmluQXJyYXkoYi5jaGlsZHJlbl9kW2RdLGcpfHwhaFtiLmNoaWxkcmVuX2RbZF1dLnN0YXRlLmxvYWRlZCYmaFtiLmNoaWxkcmVuX2RbZF1dLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZClyZXR1cm4hMDtyZXR1cm4hMX0sdGhpcy5kaXNhYmxlX2NoZWNrYm94PWZ1bmN0aW9uKGIpe3ZhciBjLGQsZTtpZihhLmlzQXJyYXkoYikpe2ZvcihiPWIuc2xpY2UoKSxjPTAsZD1iLmxlbmd0aDtkPmM7YysrKXRoaXMuZGlzYWJsZV9jaGVja2JveChiW2NdKTtyZXR1cm4hMH1yZXR1cm4gYj10aGlzLmdldF9ub2RlKGIpLGImJmIuaWQhPT1hLmpzdHJlZS5yb290PyhlPXRoaXMuZ2V0X25vZGUoYiwhMCksdm9pZChiLnN0YXRlLmNoZWNrYm94X2Rpc2FibGVkfHwoYi5zdGF0ZS5jaGVja2JveF9kaXNhYmxlZD0hMCxlJiZlLmxlbmd0aCYmZS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5jaGlsZHJlbigiLmpzdHJlZS1jaGVja2JveCIpLmFkZENsYXNzKCJqc3RyZWUtY2hlY2tib3gtZGlzYWJsZWQiKSx0aGlzLnRyaWdnZXIoImRpc2FibGVfY2hlY2tib3giLHtub2RlOmJ9KSkpKTohMX0sdGhpcy5lbmFibGVfY2hlY2tib3g9ZnVuY3Rpb24oYil7dmFyIGMsZCxlO2lmKGEuaXNBcnJheShiKSl7Zm9yKGI9Yi5zbGljZSgpLGM9MCxkPWIubGVuZ3RoO2Q+YztjKyspdGhpcy5lbmFibGVfY2hlY2tib3goYltjXSk7cmV0dXJuITB9cmV0dXJuIGI9dGhpcy5nZXRfbm9kZShiKSxiJiZiLmlkIT09YS5qc3RyZWUucm9vdD8oZT10aGlzLmdldF9ub2RlKGIsITApLHZvaWQoYi5zdGF0ZS5jaGVja2JveF9kaXNhYmxlZCYmKGIuc3RhdGUuY2hlY2tib3hfZGlzYWJsZWQ9ITEsZSYmZS5sZW5ndGgmJmUuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuY2hpbGRyZW4oIi5qc3RyZWUtY2hlY2tib3giKS5yZW1vdmVDbGFzcygianN0cmVlLWNoZWNrYm94LWRpc2FibGVkIiksdGhpcy50cmlnZ2VyKCJlbmFibGVfY2hlY2tib3giLHtub2RlOmJ9KSkpKTohMX0sdGhpcy5hY3RpdmF0ZV9ub2RlPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEoYy50YXJnZXQpLmhhc0NsYXNzKCJqc3RyZWUtY2hlY2tib3gtZGlzYWJsZWQiKT8hMToodGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uJiYodGhpcy5zZXR0aW5ncy5jaGVja2JveC53aG9sZV9ub2RlfHxhKGMudGFyZ2V0KS5oYXNDbGFzcygianN0cmVlLWNoZWNrYm94IikpJiYoYy5jdHJsS2V5PSEwKSx0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb258fCF0aGlzLnNldHRpbmdzLmNoZWNrYm94Lndob2xlX25vZGUmJiFhKGMudGFyZ2V0KS5oYXNDbGFzcygianN0cmVlLWNoZWNrYm94Iik/ZC5hY3RpdmF0ZV9ub2RlLmNhbGwodGhpcyxiLGMpOnRoaXMuaXNfZGlzYWJsZWQoYik/ITE6KHRoaXMuaXNfY2hlY2tlZChiKT90aGlzLnVuY2hlY2tfbm9kZShiLGMpOnRoaXMuY2hlY2tfbm9kZShiLGMpLHZvaWQgdGhpcy50cmlnZ2VyKCJhY3RpdmF0ZV9ub2RlIix7bm9kZTp0aGlzLmdldF9ub2RlKGIpfSkpKX0sdGhpcy5jaGVja19ub2RlPWZ1bmN0aW9uKGIsYyl7aWYodGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uKXJldHVybiB0aGlzLnNlbGVjdF9ub2RlKGIsITEsITAsYyk7dmFyIGQsZSxmLGc7aWYoYS5pc0FycmF5KGIpKXtmb3IoYj1iLnNsaWNlKCksZT0wLGY9Yi5sZW5ndGg7Zj5lO2UrKyl0aGlzLmNoZWNrX25vZGUoYltlXSxjKTtyZXR1cm4hMH1yZXR1cm4gYj10aGlzLmdldF9ub2RlKGIpLGImJmIuaWQhPT1hLmpzdHJlZS5yb290PyhkPXRoaXMuZ2V0X25vZGUoYiwhMCksdm9pZChiLnN0YXRlLmNoZWNrZWR8fChiLnN0YXRlLmNoZWNrZWQ9ITAsdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZC5wdXNoKGIuaWQpLGQmJmQubGVuZ3RoJiZkLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmFkZENsYXNzKCJqc3RyZWUtY2hlY2tlZCIpLHRoaXMudHJpZ2dlcigiY2hlY2tfbm9kZSIse25vZGU6YixzZWxlY3RlZDp0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLGV2ZW50OmN9KSkpKTohMX0sdGhpcy51bmNoZWNrX25vZGU9ZnVuY3Rpb24oYixjKXtpZih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24pcmV0dXJuIHRoaXMuZGVzZWxlY3Rfbm9kZShiLCExLGMpO3ZhciBkLGUsZjtpZihhLmlzQXJyYXkoYikpe2ZvcihiPWIuc2xpY2UoKSxkPTAsZT1iLmxlbmd0aDtlPmQ7ZCsrKXRoaXMudW5jaGVja19ub2RlKGJbZF0sYyk7cmV0dXJuITB9cmV0dXJuIGI9dGhpcy5nZXRfbm9kZShiKSxiJiZiLmlkIT09YS5qc3RyZWUucm9vdD8oZj10aGlzLmdldF9ub2RlKGIsITApLHZvaWQoYi5zdGF0ZS5jaGVja2VkJiYoYi5zdGF0ZS5jaGVja2VkPSExLHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQ9YS52YWthdGEuYXJyYXlfcmVtb3ZlX2l0ZW0odGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZCxiLmlkKSxmLmxlbmd0aCYmZi5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5yZW1vdmVDbGFzcygianN0cmVlLWNoZWNrZWQiKSx0aGlzLnRyaWdnZXIoInVuY2hlY2tfbm9kZSIse25vZGU6YixzZWxlY3RlZDp0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLGV2ZW50OmN9KSkpKTohMX0sdGhpcy5jaGVja19hbGw9ZnVuY3Rpb24oKXtpZih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24pcmV0dXJuIHRoaXMuc2VsZWN0X2FsbCgpO3ZhciBiPXRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQuY29uY2F0KFtdKSxjLGQ7Zm9yKHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQ9dGhpcy5fbW9kZWwuZGF0YVthLmpzdHJlZS5yb290XS5jaGlsZHJlbl9kLmNvbmNhdCgpLGM9MCxkPXRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQubGVuZ3RoO2Q+YztjKyspdGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkW2NdXSYmKHRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZFtjXV0uc3RhdGUuY2hlY2tlZD0hMCk7dGhpcy5yZWRyYXcoITApLHRoaXMudHJpZ2dlcigiY2hlY2tfYWxsIix7c2VsZWN0ZWQ6dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZH0pfSx0aGlzLnVuY2hlY2tfYWxsPWZ1bmN0aW9uKCl7aWYodGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uKXJldHVybiB0aGlzLmRlc2VsZWN0X2FsbCgpO3ZhciBhPXRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQuY29uY2F0KFtdKSxiLGM7Zm9yKGI9MCxjPXRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQubGVuZ3RoO2M+YjtiKyspdGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkW2JdXSYmKHRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZFtiXV0uc3RhdGUuY2hlY2tlZD0hMSk7dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZD1bXSx0aGlzLmVsZW1lbnQuZmluZCgiLmpzdHJlZS1jaGVja2VkIikucmVtb3ZlQ2xhc3MoImpzdHJlZS1jaGVja2VkIiksdGhpcy50cmlnZ2VyKCJ1bmNoZWNrX2FsbCIse3NlbGVjdGVkOnRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQsbm9kZTphfSl9LHRoaXMuaXNfY2hlY2tlZD1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uP3RoaXMuaXNfc2VsZWN0ZWQoYik6KGI9dGhpcy5nZXRfbm9kZShiKSxiJiZiLmlkIT09YS5qc3RyZWUucm9vdD9iLnN0YXRlLmNoZWNrZWQ6ITEpfSx0aGlzLmdldF9jaGVja2VkPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24/dGhpcy5nZXRfc2VsZWN0ZWQoYik6Yj9hLm1hcCh0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLGEucHJveHkoZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0X25vZGUoYSl9LHRoaXMpKTp0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkfSx0aGlzLmdldF90b3BfY2hlY2tlZD1mdW5jdGlvbihiKXtpZih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24pcmV0dXJuIHRoaXMuZ2V0X3RvcF9zZWxlY3RlZChiKTt2YXIgYz10aGlzLmdldF9jaGVja2VkKCEwKSxkPXt9LGUsZixnLGg7Zm9yKGU9MCxmPWMubGVuZ3RoO2Y+ZTtlKyspZFtjW2VdLmlkXT1jW2VdO2ZvcihlPTAsZj1jLmxlbmd0aDtmPmU7ZSsrKWZvcihnPTAsaD1jW2VdLmNoaWxkcmVuX2QubGVuZ3RoO2g+ZztnKyspZFtjW2VdLmNoaWxkcmVuX2RbZ11dJiZkZWxldGUgZFtjW2VdLmNoaWxkcmVuX2RbZ11dO2M9W107Zm9yKGUgaW4gZClkLmhhc093blByb3BlcnR5KGUpJiZjLnB1c2goZSk7cmV0dXJuIGI/YS5tYXAoYyxhLnByb3h5KGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldF9ub2RlKGEpfSx0aGlzKSk6Y30sdGhpcy5nZXRfYm90dG9tX2NoZWNrZWQ9ZnVuY3Rpb24oYil7aWYodGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uKXJldHVybiB0aGlzLmdldF9ib3R0b21fc2VsZWN0ZWQoYik7dmFyIGM9dGhpcy5nZXRfY2hlY2tlZCghMCksZD1bXSxlLGY7Zm9yKGU9MCxmPWMubGVuZ3RoO2Y+ZTtlKyspY1tlXS5jaGlsZHJlbi5sZW5ndGh8fGQucHVzaChjW2VdLmlkKTtyZXR1cm4gYj9hLm1hcChkLGEucHJveHkoZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0X25vZGUoYSl9LHRoaXMpKTpkfSx0aGlzLmxvYWRfbm9kZT1mdW5jdGlvbihiLGMpe3ZhciBlLGYsZyxoLGksajtpZighYS5pc0FycmF5KGIpJiYhdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uJiYoaj10aGlzLmdldF9ub2RlKGIpLGomJmouc3RhdGUubG9hZGVkKSlmb3IoZT0wLGY9ai5jaGlsZHJlbl9kLmxlbmd0aDtmPmU7ZSsrKXRoaXMuX21vZGVsLmRhdGFbai5jaGlsZHJlbl9kW2VdXS5zdGF0ZS5jaGVja2VkJiYoaT0hMCx0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkPWEudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQsai5jaGlsZHJlbl9kW2VdKSk7cmV0dXJuIGQubG9hZF9ub2RlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdGhpcy5nZXRfc3RhdGU9ZnVuY3Rpb24oKXt2YXIgYT1kLmdldF9zdGF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbj9hOihhLmNoZWNrYm94PXRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQuc2xpY2UoKSxhKX0sdGhpcy5zZXRfc3RhdGU9ZnVuY3Rpb24oYixjKXt2YXIgZT1kLnNldF9zdGF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoZSYmYi5jaGVja2JveCl7aWYoIXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbil7dGhpcy51bmNoZWNrX2FsbCgpO3ZhciBmPXRoaXM7YS5lYWNoKGIuY2hlY2tib3gsZnVuY3Rpb24oYSxiKXtmLmNoZWNrX25vZGUoYil9KX1yZXR1cm4gZGVsZXRlIGIuY2hlY2tib3gsdGhpcy5zZXRfc3RhdGUoYixjKSwhMX1yZXR1cm4gZX0sdGhpcy5yZWZyZXNoPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbnx8KHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQ9W10pLGQucmVmcmVzaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxhLmpzdHJlZS5kZWZhdWx0cy5jb25kaXRpb25hbHNlbGVjdD1mdW5jdGlvbigpe3JldHVybiEwfSxhLmpzdHJlZS5wbHVnaW5zLmNvbmRpdGlvbmFsc2VsZWN0PWZ1bmN0aW9uKGEsYil7dGhpcy5hY3RpdmF0ZV9ub2RlPWZ1bmN0aW9uKGEsYyl7dGhpcy5zZXR0aW5ncy5jb25kaXRpb25hbHNlbGVjdC5jYWxsKHRoaXMsdGhpcy5nZXRfbm9kZShhKSxjKSYmYi5hY3RpdmF0ZV9ub2RlLmNhbGwodGhpcyxhLGMpfX0sYS5qc3RyZWUuZGVmYXVsdHMuY29udGV4dG1lbnU9e3NlbGVjdF9ub2RlOiEwLHNob3dfYXRfbm9kZTohMCxpdGVtczpmdW5jdGlvbihiLGMpe3JldHVybntjcmVhdGU6e3NlcGFyYXRvcl9iZWZvcmU6ITEsc2VwYXJhdG9yX2FmdGVyOiEwLF9kaXNhYmxlZDohMSxsYWJlbDoiQ3JlYXRlIixhY3Rpb246ZnVuY3Rpb24oYil7dmFyIGM9YS5qc3RyZWUucmVmZXJlbmNlKGIucmVmZXJlbmNlKSxkPWMuZ2V0X25vZGUoYi5yZWZlcmVuY2UpO2MuY3JlYXRlX25vZGUoZCx7fSwibGFzdCIsZnVuY3Rpb24oYSl7c2V0VGltZW91dChmdW5jdGlvbigpe2MuZWRpdChhKX0sMCl9KX19LHJlbmFtZTp7c2VwYXJhdG9yX2JlZm9yZTohMSxzZXBhcmF0b3JfYWZ0ZXI6ITEsX2Rpc2FibGVkOiExLGxhYmVsOiJSZW5hbWUiLGFjdGlvbjpmdW5jdGlvbihiKXt2YXIgYz1hLmpzdHJlZS5yZWZlcmVuY2UoYi5yZWZlcmVuY2UpLGQ9Yy5nZXRfbm9kZShiLnJlZmVyZW5jZSk7Yy5lZGl0KGQpfX0scmVtb3ZlOntzZXBhcmF0b3JfYmVmb3JlOiExLGljb246ITEsc2VwYXJhdG9yX2FmdGVyOiExLF9kaXNhYmxlZDohMSxsYWJlbDoiRGVsZXRlIixhY3Rpb246ZnVuY3Rpb24oYil7dmFyIGM9YS5qc3RyZWUucmVmZXJlbmNlKGIucmVmZXJlbmNlKSxkPWMuZ2V0X25vZGUoYi5yZWZlcmVuY2UpO2MuaXNfc2VsZWN0ZWQoZCk/Yy5kZWxldGVfbm9kZShjLmdldF9zZWxlY3RlZCgpKTpjLmRlbGV0ZV9ub2RlKGQpfX0sY2NwOntzZXBhcmF0b3JfYmVmb3JlOiEwLGljb246ITEsc2VwYXJhdG9yX2FmdGVyOiExLGxhYmVsOiJFZGl0IixhY3Rpb246ITEsc3VibWVudTp7Y3V0OntzZXBhcmF0b3JfYmVmb3JlOiExLHNlcGFyYXRvcl9hZnRlcjohMSxsYWJlbDoiQ3V0IixhY3Rpb246ZnVuY3Rpb24oYil7dmFyIGM9YS5qc3RyZWUucmVmZXJlbmNlKGIucmVmZXJlbmNlKSxkPWMuZ2V0X25vZGUoYi5yZWZlcmVuY2UpO2MuaXNfc2VsZWN0ZWQoZCk/Yy5jdXQoYy5nZXRfdG9wX3NlbGVjdGVkKCkpOmMuY3V0KGQpfX0sY29weTp7c2VwYXJhdG9yX2JlZm9yZTohMSxpY29uOiExLHNlcGFyYXRvcl9hZnRlcjohMSxsYWJlbDoiQ29weSIsYWN0aW9uOmZ1bmN0aW9uKGIpe3ZhciBjPWEuanN0cmVlLnJlZmVyZW5jZShiLnJlZmVyZW5jZSksZD1jLmdldF9ub2RlKGIucmVmZXJlbmNlKTtjLmlzX3NlbGVjdGVkKGQpP2MuY29weShjLmdldF90b3Bfc2VsZWN0ZWQoKSk6Yy5jb3B5KGQpfX0scGFzdGU6e3NlcGFyYXRvcl9iZWZvcmU6ITEsaWNvbjohMSxfZGlzYWJsZWQ6ZnVuY3Rpb24oYil7cmV0dXJuIWEuanN0cmVlLnJlZmVyZW5jZShiLnJlZmVyZW5jZSkuY2FuX3Bhc3RlKCl9LHNlcGFyYXRvcl9hZnRlcjohMSxsYWJlbDoiUGFzdGUiLGFjdGlvbjpmdW5jdGlvbihiKXt2YXIgYz1hLmpzdHJlZS5yZWZlcmVuY2UoYi5yZWZlcmVuY2UpLGQ9Yy5nZXRfbm9kZShiLnJlZmVyZW5jZSk7Yy5wYXN0ZShkKX19fX19fX0sYS5qc3RyZWUucGx1Z2lucy5jb250ZXh0bWVudT1mdW5jdGlvbihjLGQpe3RoaXMuYmluZD1mdW5jdGlvbigpe2QuYmluZC5jYWxsKHRoaXMpO3ZhciBiPTAsYz1udWxsLGUsZjt0aGlzLmVsZW1lbnQub24oImNvbnRleHRtZW51LmpzdHJlZSIsIi5qc3RyZWUtYW5jaG9yIixhLnByb3h5KGZ1bmN0aW9uKGEsZCl7ImlucHV0IiE9PWEudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmKGEucHJldmVudERlZmF1bHQoKSxiPWEuY3RybEtleT8rbmV3IERhdGU6MCwoZHx8YykmJihiPStuZXcgRGF0ZSsxZTQpLGMmJmNsZWFyVGltZW91dChjKSx0aGlzLmlzX2xvYWRpbmcoYS5jdXJyZW50VGFyZ2V0KXx8dGhpcy5zaG93X2NvbnRleHRtZW51KGEuY3VycmVudFRhcmdldCxhLnBhZ2VYLGEucGFnZVksYSkpfSx0aGlzKSkub24oImNsaWNrLmpzdHJlZSIsIi5qc3RyZWUtYW5jaG9yIixhLnByb3h5KGZ1bmN0aW9uKGMpe3RoaXMuX2RhdGEuY29udGV4dG1lbnUudmlzaWJsZSYmKCFifHwrbmV3IERhdGUtYj4yNTApJiZhLnZha2F0YS5jb250ZXh0LmhpZGUoKSxiPTB9LHRoaXMpKS5vbigidG91Y2hzdGFydC5qc3RyZWUiLCIuanN0cmVlLWFuY2hvciIsZnVuY3Rpb24oYil7Yi5vcmlnaW5hbEV2ZW50JiZiLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMmJmIub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSYmKGU9Yi5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgsZj1iLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSxjPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthKGIuY3VycmVudFRhcmdldCkudHJpZ2dlcigiY29udGV4dG1lbnUiLCEwKX0sNzUwKSl9KS5vbigidG91Y2htb3ZlLnZha2F0YS5qc3RyZWUiLGZ1bmN0aW9uKGEpe2MmJmEub3JpZ2luYWxFdmVudCYmYS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzJiZhLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0mJihNYXRoLmFicyhlLWEub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYKT41MHx8TWF0aC5hYnMoZi1hLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSk+NTApJiZjbGVhclRpbWVvdXQoYyl9KS5vbigidG91Y2hlbmQudmFrYXRhLmpzdHJlZSIsZnVuY3Rpb24oYSl7YyYmY2xlYXJUaW1lb3V0KGMpfSksYShpKS5vbigiY29udGV4dF9oaWRlLnZha2F0YS5qc3RyZWUiLGEucHJveHkoZnVuY3Rpb24oYixjKXt0aGlzLl9kYXRhLmNvbnRleHRtZW51LnZpc2libGU9ITEsYShjLnJlZmVyZW5jZSkucmVtb3ZlQ2xhc3MoImpzdHJlZS1jb250ZXh0Iil9LHRoaXMpKX0sdGhpcy50ZWFyZG93bj1mdW5jdGlvbigpe3RoaXMuX2RhdGEuY29udGV4dG1lbnUudmlzaWJsZSYmYS52YWthdGEuY29udGV4dC5oaWRlKCksZC50ZWFyZG93bi5jYWxsKHRoaXMpfSx0aGlzLnNob3dfY29udGV4dG1lbnU9ZnVuY3Rpb24oYyxkLGUsZil7aWYoYz10aGlzLmdldF9ub2RlKGMpLCFjfHxjLmlkPT09YS5qc3RyZWUucm9vdClyZXR1cm4hMTt2YXIgZz10aGlzLnNldHRpbmdzLmNvbnRleHRtZW51LGg9dGhpcy5nZXRfbm9kZShjLCEwKSxpPWguY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIiksaj0hMSxrPSExOyhnLnNob3dfYXRfbm9kZXx8ZD09PWJ8fGU9PT1iKSYmKGo9aS5vZmZzZXQoKSxkPWoubGVmdCxlPWoudG9wK3RoaXMuX2RhdGEuY29yZS5saV9oZWlnaHQpLHRoaXMuc2V0dGluZ3MuY29udGV4dG1lbnUuc2VsZWN0X25vZGUmJiF0aGlzLmlzX3NlbGVjdGVkKGMpJiZ0aGlzLmFjdGl2YXRlX25vZGUoYyxmKSxrPWcuaXRlbXMsYS5pc0Z1bmN0aW9uKGspJiYoaz1rLmNhbGwodGhpcyxjLGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5fc2hvd19jb250ZXh0bWVudShjLGQsZSxhKX0sdGhpcykpKSxhLmlzUGxhaW5PYmplY3QoaykmJnRoaXMuX3Nob3dfY29udGV4dG1lbnUoYyxkLGUsayl9LHRoaXMuX3Nob3dfY29udGV4dG1lbnU9ZnVuY3Rpb24oYixjLGQsZSl7dmFyIGY9dGhpcy5nZXRfbm9kZShiLCEwKSxnPWYuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIik7YShpKS5vbmUoImNvbnRleHRfc2hvdy52YWthdGEuanN0cmVlIixhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dmFyIGQ9ImpzdHJlZS1jb250ZXh0bWVudSBqc3RyZWUtIit0aGlzLmdldF90aGVtZSgpKyItY29udGV4dG1lbnUiO2EoYy5lbGVtZW50KS5hZGRDbGFzcyhkKSxnLmFkZENsYXNzKCJqc3RyZWUtY29udGV4dCIpfSx0aGlzKSksdGhpcy5fZGF0YS5jb250ZXh0bWVudS52aXNpYmxlPSEwLGEudmFrYXRhLmNvbnRleHQuc2hvdyhnLHt4OmMseTpkfSxlKSx0aGlzLnRyaWdnZXIoInNob3dfY29udGV4dG1lbnUiLHtub2RlOmIseDpjLHk6ZH0pfX0sZnVuY3Rpb24oYSl7dmFyIGI9ITEsYz17ZWxlbWVudDohMSxyZWZlcmVuY2U6ITEscG9zaXRpb25feDowLHBvc2l0aW9uX3k6MCxpdGVtczpbXSxodG1sOiIiLGlzX3Zpc2libGU6ITF9O2EudmFrYXRhLmNvbnRleHQ9e3NldHRpbmdzOntoaWRlX29ubW91c2VsZWF2ZTowLGljb25zOiEwfSxfdHJpZ2dlcjpmdW5jdGlvbihiKXthKGkpLnRyaWdnZXJIYW5kbGVyKCJjb250ZXh0XyIrYisiLnZha2F0YSIse3JlZmVyZW5jZTpjLnJlZmVyZW5jZSxlbGVtZW50OmMuZWxlbWVudCxwb3NpdGlvbjp7eDpjLnBvc2l0aW9uX3gseTpjLnBvc2l0aW9uX3l9fSl9LF9leGVjdXRlOmZ1bmN0aW9uKGIpe3JldHVybiBiPWMuaXRlbXNbYl0sYiYmKCFiLl9kaXNhYmxlZHx8YS5pc0Z1bmN0aW9uKGIuX2Rpc2FibGVkKSYmIWIuX2Rpc2FibGVkKHtpdGVtOmIscmVmZXJlbmNlOmMucmVmZXJlbmNlLGVsZW1lbnQ6Yy5lbGVtZW50fSkpJiZiLmFjdGlvbj9iLmFjdGlvbi5jYWxsKG51bGwse2l0ZW06YixyZWZlcmVuY2U6Yy5yZWZlcmVuY2UsZWxlbWVudDpjLmVsZW1lbnQscG9zaXRpb246e3g6Yy5wb3NpdGlvbl94LHk6Yy5wb3NpdGlvbl95fX0pOiExfSxfcGFyc2U6ZnVuY3Rpb24oYixkKXtpZighYilyZXR1cm4hMTtkfHwoYy5odG1sPSIiLGMuaXRlbXM9W10pO3ZhciBlPSIiLGY9ITEsZztyZXR1cm4gZCYmKGUrPSI8dWw+IiksYS5lYWNoKGIsZnVuY3Rpb24oYixkKXtyZXR1cm4gZD8oYy5pdGVtcy5wdXNoKGQpLCFmJiZkLnNlcGFyYXRvcl9iZWZvcmUmJihlKz0iPGxpIGNsYXNzPSd2YWthdGEtY29udGV4dC1zZXBhcmF0b3InPjxhIGhyZWY9JyMnICIrKGEudmFrYXRhLmNvbnRleHQuc2V0dGluZ3MuaWNvbnM/IiI6J3N0eWxlPSJtYXJnaW4tbGVmdDowcHg7IicpKyI+JiMxNjA7PC9hPjwvbGk+IiksZj0hMSxlKz0iPGxpIGNsYXNzPSciKyhkLl9jbGFzc3x8IiIpKyhkLl9kaXNhYmxlZD09PSEwfHxhLmlzRnVuY3Rpb24oZC5fZGlzYWJsZWQpJiZkLl9kaXNhYmxlZCh7aXRlbTpkLHJlZmVyZW5jZTpjLnJlZmVyZW5jZSxlbGVtZW50OmMuZWxlbWVudH0pPyIgdmFrYXRhLWNvbnRleHRtZW51LWRpc2FibGVkICI6IiIpKyInICIrKGQuc2hvcnRjdXQ/IiBkYXRhLXNob3J0Y3V0PSciK2Quc2hvcnRjdXQrIicgIjoiIikrIj4iLGUrPSI8YSBocmVmPScjJyByZWw9JyIrKGMuaXRlbXMubGVuZ3RoLTEpKyInICIrKGQudGl0bGU/InRpdGxlPSciK2QudGl0bGUrIiciOiIiKSsiPiIsYS52YWthdGEuY29udGV4dC5zZXR0aW5ncy5pY29ucyYmKGUrPSI8aSAiLGQuaWNvbiYmKGUrPS0xIT09ZC5pY29uLmluZGV4T2YoIi8iKXx8LTEhPT1kLmljb24uaW5kZXhPZigiLiIpPyIgc3R5bGU9J2JhY2tncm91bmQ6dXJsKFwiIitkLmljb24rIlwiKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdCcgIjoiIGNsYXNzPSciK2QuaWNvbisiJyAiKSxlKz0iPjwvaT48c3BhbiBjbGFzcz0ndmFrYXRhLWNvbnRleHRtZW51LXNlcCc+JiMxNjA7PC9zcGFuPiIpLGUrPShhLmlzRnVuY3Rpb24oZC5sYWJlbCk/ZC5sYWJlbCh7aXRlbTpiLHJlZmVyZW5jZTpjLnJlZmVyZW5jZSxlbGVtZW50OmMuZWxlbWVudH0pOmQubGFiZWwpKyhkLnNob3J0Y3V0PycgPHNwYW4gY2xhc3M9InZha2F0YS1jb250ZXh0bWVudS1zaG9ydGN1dCB2YWthdGEtY29udGV4dG1lbnUtc2hvcnRjdXQtJytkLnNob3J0Y3V0KyciPicrKGQuc2hvcnRjdXRfbGFiZWx8fCIiKSsiPC9zcGFuPiI6IiIpKyI8L2E+IixkLnN1Ym1lbnUmJihnPWEudmFrYXRhLmNvbnRleHQuX3BhcnNlKGQuc3VibWVudSwhMCksZyYmKGUrPWcpKSxlKz0iPC9saT4iLHZvaWQoZC5zZXBhcmF0b3JfYWZ0ZXImJihlKz0iPGxpIGNsYXNzPSd2YWthdGEtY29udGV4dC1zZXBhcmF0b3InPjxhIGhyZWY9JyMnICIrKGEudmFrYXRhLmNvbnRleHQuc2V0dGluZ3MuaWNvbnM/IiI6J3N0eWxlPSJtYXJnaW4tbGVmdDowcHg7IicpKyI+JiMxNjA7PC9hPjwvbGk+IixmPSEwKSkpOiEwfSksZT1lLnJlcGxhY2UoLzxsaSBjbGFzc1w9J3Zha2F0YS1jb250ZXh0LXNlcGFyYXRvcidcPjxcL2xpXD4kLywiIiksZCYmKGUrPSI8L3VsPiIpLGR8fChjLmh0bWw9ZSxhLnZha2F0YS5jb250ZXh0Ll90cmlnZ2VyKCJwYXJzZSIpKSxlLmxlbmd0aD4xMD9lOiExfSxfc2hvd19zdWJtZW51OmZ1bmN0aW9uKGMpe2lmKGM9YShjKSxjLmxlbmd0aCYmYy5jaGlsZHJlbigidWwiKS5sZW5ndGgpe3ZhciBkPWMuY2hpbGRyZW4oInVsIiksZT1jLm9mZnNldCgpLmxlZnQsZj1lK2Mub3V0ZXJXaWR0aCgpLGc9Yy5vZmZzZXQoKS50b3AsaD1kLndpZHRoKCksaT1kLmhlaWdodCgpLGo9YSh3aW5kb3cpLndpZHRoKCkrYSh3aW5kb3cpLnNjcm9sbExlZnQoKSxrPWEod2luZG93KS5oZWlnaHQoKSthKHdpbmRvdykuc2Nyb2xsVG9wKCk7Yj9jW2YtKGgrMTArYy5vdXRlcldpZHRoKCkpPDA/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgidmFrYXRhLWNvbnRleHQtbGVmdCIpOmNbZitoPmomJmU+ai1mPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oInZha2F0YS1jb250ZXh0LXJpZ2h0IiksZytpKzEwPmsmJmQuY3NzKCJib3R0b20iLCItMXB4IiksYy5oYXNDbGFzcygidmFrYXRhLWNvbnRleHQtcmlnaHQiKT9oPmUmJmQuY3NzKCJtYXJnaW4tcmlnaHQiLGUtaCk6aD5qLWYmJmQuY3NzKCJtYXJnaW4tbGVmdCIsai1mLWgpLGQuc2hvdygpfX0sc2hvdzpmdW5jdGlvbihkLGUsZil7dmFyIGcsaCxpLGosayxsLG0sbixvPSEwO3N3aXRjaChjLmVsZW1lbnQmJmMuZWxlbWVudC5sZW5ndGgmJmMuZWxlbWVudC53aWR0aCgiIiksbyl7Y2FzZSFlJiYhZDpyZXR1cm4hMTtjYXNlISFlJiYhIWQ6Yy5yZWZlcmVuY2U9ZCxjLnBvc2l0aW9uX3g9ZS54LGMucG9zaXRpb25feT1lLnk7YnJlYWs7Y2FzZSFlJiYhIWQ6Yy5yZWZlcmVuY2U9ZCxnPWQub2Zmc2V0KCksYy5wb3NpdGlvbl94PWcubGVmdCtkLm91dGVySGVpZ2h0KCksYy5wb3NpdGlvbl95PWcudG9wO2JyZWFrO2Nhc2UhIWUmJiFkOmMucG9zaXRpb25feD1lLngsYy5wb3NpdGlvbl95PWUueX1kJiYhZiYmYShkKS5kYXRhKCJ2YWthdGFfY29udGV4dG1lbnUiKSYmKGY9YShkKS5kYXRhKCJ2YWthdGFfY29udGV4dG1lbnUiKSksYS52YWthdGEuY29udGV4dC5fcGFyc2UoZikmJmMuZWxlbWVudC5odG1sKGMuaHRtbCksYy5pdGVtcy5sZW5ndGgmJihjLmVsZW1lbnQuYXBwZW5kVG8oImJvZHkiKSxoPWMuZWxlbWVudCxpPWMucG9zaXRpb25feCxqPWMucG9zaXRpb25feSxrPWgud2lkdGgoKSxsPWguaGVpZ2h0KCksbT1hKHdpbmRvdykud2lkdGgoKSthKHdpbmRvdykuc2Nyb2xsTGVmdCgpLG49YSh3aW5kb3cpLmhlaWdodCgpK2Eod2luZG93KS5zY3JvbGxUb3AoKSxiJiYoaS09aC5vdXRlcldpZHRoKCktYShkKS5vdXRlcldpZHRoKCksaTxhKHdpbmRvdykuc2Nyb2xsTGVmdCgpKzIwJiYoaT1hKHdpbmRvdykuc2Nyb2xsTGVmdCgpKzIwKSksaStrKzIwPm0mJihpPW0tKGsrMjApKSxqK2wrMjA+biYmKGo9bi0obCsyMCkpLGMuZWxlbWVudC5jc3Moe2xlZnQ6aSx0b3A6an0pLnNob3coKS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpLnBhcmVudCgpLmFkZENsYXNzKCJ2YWthdGEtY29udGV4dC1ob3ZlciIpLGMuaXNfdmlzaWJsZT0hMCxhLnZha2F0YS5jb250ZXh0Ll90cmlnZ2VyKCJzaG93IikpfSxoaWRlOmZ1bmN0aW9uKCl7Yy5pc192aXNpYmxlJiYoYy5lbGVtZW50LmhpZGUoKS5maW5kKCJ1bCIpLmhpZGUoKS5lbmQoKS5maW5kKCI6Zm9jdXMiKS5ibHVyKCkuZW5kKCkuZGV0YWNoKCksYy5pc192aXNpYmxlPSExLGEudmFrYXRhLmNvbnRleHQuX3RyaWdnZXIoImhpZGUiKSl9fSxhKGZ1bmN0aW9uKCl7Yj0icnRsIj09PWEoImJvZHkiKS5jc3MoImRpcmVjdGlvbiIpO3ZhciBkPSExO2MuZWxlbWVudD1hKCI8dWwgY2xhc3M9J3Zha2F0YS1jb250ZXh0Jz48L3VsPiIpLGMuZWxlbWVudC5vbigibW91c2VlbnRlciIsImxpIixmdW5jdGlvbihiKXtiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGEuY29udGFpbnModGhpcyxiLnJlbGF0ZWRUYXJnZXQpfHwoZCYmY2xlYXJUaW1lb3V0KGQpLGMuZWxlbWVudC5maW5kKCIudmFrYXRhLWNvbnRleHQtaG92ZXIiKS5yZW1vdmVDbGFzcygidmFrYXRhLWNvbnRleHQtaG92ZXIiKS5lbmQoKSxhKHRoaXMpLnNpYmxpbmdzKCkuZmluZCgidWwiKS5oaWRlKCkuZW5kKCkuZW5kKCkucGFyZW50c1VudGlsKCIudmFrYXRhLWNvbnRleHQiLCJsaSIpLmFkZEJhY2soKS5hZGRDbGFzcygidmFrYXRhLWNvbnRleHQtaG92ZXIiKSxhLnZha2F0YS5jb250ZXh0Ll9zaG93X3N1Ym1lbnUodGhpcykpfSkub24oIm1vdXNlbGVhdmUiLCJsaSIsZnVuY3Rpb24oYil7YS5jb250YWlucyh0aGlzLGIucmVsYXRlZFRhcmdldCl8fGEodGhpcykuZmluZCgiLnZha2F0YS1jb250ZXh0LWhvdmVyIikuYWRkQmFjaygpLnJlbW92ZUNsYXNzKCJ2YWthdGEtY29udGV4dC1ob3ZlciIpfSkub24oIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKGIpe2EodGhpcykuZmluZCgiLnZha2F0YS1jb250ZXh0LWhvdmVyIikucmVtb3ZlQ2xhc3MoInZha2F0YS1jb250ZXh0LWhvdmVyIiksYS52YWthdGEuY29udGV4dC5zZXR0aW5ncy5oaWRlX29ubW91c2VsZWF2ZSYmKGQ9c2V0VGltZW91dChmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXthLnZha2F0YS5jb250ZXh0LmhpZGUoKX19KHRoaXMpLGEudmFrYXRhLmNvbnRleHQuc2V0dGluZ3MuaGlkZV9vbm1vdXNlbGVhdmUpKX0pLm9uKCJjbGljayIsImEiLGZ1bmN0aW9uKGIpe2IucHJldmVudERlZmF1bHQoKSxhKHRoaXMpLmJsdXIoKS5wYXJlbnQoKS5oYXNDbGFzcygidmFrYXRhLWNvbnRleHQtZGlzYWJsZWQiKXx8YS52YWthdGEuY29udGV4dC5fZXhlY3V0ZShhKHRoaXMpLmF0dHIoInJlbCIpKT09PSExfHxhLnZha2F0YS5jb250ZXh0LmhpZGUoKX0pLm9uKCJrZXlkb3duIiwiYSIsZnVuY3Rpb24oYil7dmFyIGQ9bnVsbDtzd2l0Y2goYi53aGljaCl7Y2FzZSAxMzpjYXNlIDMyOmIudHlwZT0iY2xpY2siLGIucHJldmVudERlZmF1bHQoKSxhKGIuY3VycmVudFRhcmdldCkudHJpZ2dlcihiKTticmVhaztjYXNlIDM3OmMuaXNfdmlzaWJsZSYmKGMuZWxlbWVudC5maW5kKCIudmFrYXRhLWNvbnRleHQtaG92ZXIiKS5sYXN0KCkuY2xvc2VzdCgibGkiKS5maXJzdCgpLmZpbmQoInVsIikuaGlkZSgpLmZpbmQoIi52YWthdGEtY29udGV4dC1ob3ZlciIpLnJlbW92ZUNsYXNzKCJ2YWthdGEtY29udGV4dC1ob3ZlciIpLmVuZCgpLmVuZCgpLmNoaWxkcmVuKCJhIikuZm9jdXMoKSxiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGIucHJldmVudERlZmF1bHQoKSk7YnJlYWs7Y2FzZSAzODpjLmlzX3Zpc2libGUmJihkPWMuZWxlbWVudC5maW5kKCJ1bDp2aXNpYmxlIikuYWRkQmFjaygpLmxhc3QoKS5jaGlsZHJlbigiLnZha2F0YS1jb250ZXh0LWhvdmVyIikucmVtb3ZlQ2xhc3MoInZha2F0YS1jb250ZXh0LWhvdmVyIikucHJldkFsbCgibGk6bm90KC52YWthdGEtY29udGV4dC1zZXBhcmF0b3IpIikuZmlyc3QoKSwKCWQubGVuZ3RofHwoZD1jLmVsZW1lbnQuZmluZCgidWw6dmlzaWJsZSIpLmFkZEJhY2soKS5sYXN0KCkuY2hpbGRyZW4oImxpOm5vdCgudmFrYXRhLWNvbnRleHQtc2VwYXJhdG9yKSIpLmxhc3QoKSksZC5hZGRDbGFzcygidmFrYXRhLWNvbnRleHQtaG92ZXIiKS5jaGlsZHJlbigiYSIpLmZvY3VzKCksYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxiLnByZXZlbnREZWZhdWx0KCkpO2JyZWFrO2Nhc2UgMzk6Yy5pc192aXNpYmxlJiYoYy5lbGVtZW50LmZpbmQoIi52YWthdGEtY29udGV4dC1ob3ZlciIpLmxhc3QoKS5jaGlsZHJlbigidWwiKS5zaG93KCkuY2hpbGRyZW4oImxpOm5vdCgudmFrYXRhLWNvbnRleHQtc2VwYXJhdG9yKSIpLnJlbW92ZUNsYXNzKCJ2YWthdGEtY29udGV4dC1ob3ZlciIpLmZpcnN0KCkuYWRkQ2xhc3MoInZha2F0YS1jb250ZXh0LWhvdmVyIikuY2hpbGRyZW4oImEiKS5mb2N1cygpLGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksYi5wcmV2ZW50RGVmYXVsdCgpKTticmVhaztjYXNlIDQwOmMuaXNfdmlzaWJsZSYmKGQ9Yy5lbGVtZW50LmZpbmQoInVsOnZpc2libGUiKS5hZGRCYWNrKCkubGFzdCgpLmNoaWxkcmVuKCIudmFrYXRhLWNvbnRleHQtaG92ZXIiKS5yZW1vdmVDbGFzcygidmFrYXRhLWNvbnRleHQtaG92ZXIiKS5uZXh0QWxsKCJsaTpub3QoLnZha2F0YS1jb250ZXh0LXNlcGFyYXRvcikiKS5maXJzdCgpLGQubGVuZ3RofHwoZD1jLmVsZW1lbnQuZmluZCgidWw6dmlzaWJsZSIpLmFkZEJhY2soKS5sYXN0KCkuY2hpbGRyZW4oImxpOm5vdCgudmFrYXRhLWNvbnRleHQtc2VwYXJhdG9yKSIpLmZpcnN0KCkpLGQuYWRkQ2xhc3MoInZha2F0YS1jb250ZXh0LWhvdmVyIikuY2hpbGRyZW4oImEiKS5mb2N1cygpLGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksYi5wcmV2ZW50RGVmYXVsdCgpKTticmVhaztjYXNlIDI3OmEudmFrYXRhLmNvbnRleHQuaGlkZSgpLGIucHJldmVudERlZmF1bHQoKX19KS5vbigia2V5ZG93biIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBiPWMuZWxlbWVudC5maW5kKCIudmFrYXRhLWNvbnRleHRtZW51LXNob3J0Y3V0LSIrYS53aGljaCkucGFyZW50KCk7Yi5wYXJlbnQoKS5ub3QoIi52YWthdGEtY29udGV4dC1kaXNhYmxlZCIpJiZiLmNsaWNrKCl9KSxhKGkpLm9uKCJtb3VzZWRvd24udmFrYXRhLmpzdHJlZSIsZnVuY3Rpb24oYil7Yy5pc192aXNpYmxlJiYhYS5jb250YWlucyhjLmVsZW1lbnRbMF0sYi50YXJnZXQpJiZhLnZha2F0YS5jb250ZXh0LmhpZGUoKX0pLm9uKCJjb250ZXh0X3Nob3cudmFrYXRhLmpzdHJlZSIsZnVuY3Rpb24oYSxkKXtjLmVsZW1lbnQuZmluZCgibGk6aGFzKHVsKSIpLmNoaWxkcmVuKCJhIikuYWRkQ2xhc3MoInZha2F0YS1jb250ZXh0LXBhcmVudCIpLGImJmMuZWxlbWVudC5hZGRDbGFzcygidmFrYXRhLWNvbnRleHQtcnRsIikuY3NzKCJkaXJlY3Rpb24iLCJydGwiKSxjLmVsZW1lbnQuZmluZCgidWwiKS5oaWRlKCkuZW5kKCl9KX0pfShhKSxhLmpzdHJlZS5kZWZhdWx0cy5kbmQ9e2NvcHk6ITAsb3Blbl90aW1lb3V0OjUwMCxpc19kcmFnZ2FibGU6ITAsY2hlY2tfd2hpbGVfZHJhZ2dpbmc6ITAsYWx3YXlzX2NvcHk6ITEsaW5zaWRlX3BvczowLGRyYWdfc2VsZWN0aW9uOiEwLHRvdWNoOiEwLGxhcmdlX2Ryb3BfdGFyZ2V0OiExLGxhcmdlX2RyYWdfdGFyZ2V0OiExLHVzZV9odG1sNTohMX07dmFyIGssbDthLmpzdHJlZS5wbHVnaW5zLmRuZD1mdW5jdGlvbihiLGMpe3RoaXMuaW5pdD1mdW5jdGlvbihhLGIpe2MuaW5pdC5jYWxsKHRoaXMsYSxiKSx0aGlzLnNldHRpbmdzLmRuZC51c2VfaHRtbDU9dGhpcy5zZXR0aW5ncy5kbmQudXNlX2h0bWw1JiYiZHJhZ2dhYmxlImluIGkuY3JlYXRlRWxlbWVudCgic3BhbiIpfSx0aGlzLmJpbmQ9ZnVuY3Rpb24oKXtjLmJpbmQuY2FsbCh0aGlzKSx0aGlzLmVsZW1lbnQub24odGhpcy5zZXR0aW5ncy5kbmQudXNlX2h0bWw1PyJkcmFnc3RhcnQuanN0cmVlIjoibW91c2Vkb3duLmpzdHJlZSB0b3VjaHN0YXJ0LmpzdHJlZSIsdGhpcy5zZXR0aW5ncy5kbmQubGFyZ2VfZHJhZ190YXJnZXQ/Ii5qc3RyZWUtbm9kZSI6Ii5qc3RyZWUtYW5jaG9yIixhLnByb3h5KGZ1bmN0aW9uKGIpe2lmKHRoaXMuc2V0dGluZ3MuZG5kLmxhcmdlX2RyYWdfdGFyZ2V0JiZhKGIudGFyZ2V0KS5jbG9zZXN0KCIuanN0cmVlLW5vZGUiKVswXSE9PWIuY3VycmVudFRhcmdldClyZXR1cm4hMDtpZigidG91Y2hzdGFydCI9PT1iLnR5cGUmJighdGhpcy5zZXR0aW5ncy5kbmQudG91Y2h8fCJzZWxlY3RlZCI9PT10aGlzLnNldHRpbmdzLmRuZC50b3VjaCYmIWEoYi5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCIuanN0cmVlLW5vZGUiKS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5oYXNDbGFzcygianN0cmVlLWNsaWNrZWQiKSkpcmV0dXJuITA7dmFyIGM9dGhpcy5nZXRfbm9kZShiLnRhcmdldCksZD10aGlzLmlzX3NlbGVjdGVkKGMpJiZ0aGlzLnNldHRpbmdzLmRuZC5kcmFnX3NlbGVjdGlvbj90aGlzLmdldF90b3Bfc2VsZWN0ZWQoKS5sZW5ndGg6MSxlPWQ+MT9kKyIgIit0aGlzLmdldF9zdHJpbmcoIm5vZGVzIik6dGhpcy5nZXRfdGV4dChiLmN1cnJlbnRUYXJnZXQpO2lmKHRoaXMuc2V0dGluZ3MuY29yZS5mb3JjZV90ZXh0JiYoZT1hLnZha2F0YS5odG1sLmVzY2FwZShlKSksYyYmYy5pZCYmYy5pZCE9PWEuanN0cmVlLnJvb3QmJigxPT09Yi53aGljaHx8InRvdWNoc3RhcnQiPT09Yi50eXBlfHwiZHJhZ3N0YXJ0Ij09PWIudHlwZSkmJih0aGlzLnNldHRpbmdzLmRuZC5pc19kcmFnZ2FibGU9PT0hMHx8YS5pc0Z1bmN0aW9uKHRoaXMuc2V0dGluZ3MuZG5kLmlzX2RyYWdnYWJsZSkmJnRoaXMuc2V0dGluZ3MuZG5kLmlzX2RyYWdnYWJsZS5jYWxsKHRoaXMsZD4xP3RoaXMuZ2V0X3RvcF9zZWxlY3RlZCghMCk6W2NdLGIpKSl7aWYoaz17anN0cmVlOiEwLG9yaWdpbjp0aGlzLG9iajp0aGlzLmdldF9ub2RlKGMsITApLG5vZGVzOmQ+MT90aGlzLmdldF90b3Bfc2VsZWN0ZWQoKTpbYy5pZF19LGw9Yi5jdXJyZW50VGFyZ2V0LCF0aGlzLnNldHRpbmdzLmRuZC51c2VfaHRtbDUpcmV0dXJuIHRoaXMuZWxlbWVudC50cmlnZ2VyKCJtb3VzZWRvd24uanN0cmVlIiksYS52YWthdGEuZG5kLnN0YXJ0KGIsaywnPGRpdiBpZD0ianN0cmVlLWRuZCIgY2xhc3M9ImpzdHJlZS0nK3RoaXMuZ2V0X3RoZW1lKCkrIiBqc3RyZWUtIit0aGlzLmdldF90aGVtZSgpKyItIit0aGlzLmdldF90aGVtZV92YXJpYW50KCkrIiAiKyh0aGlzLnNldHRpbmdzLmNvcmUudGhlbWVzLnJlc3BvbnNpdmU/IiBqc3RyZWUtZG5kLXJlc3BvbnNpdmUiOiIiKSsnIj48aSBjbGFzcz0ianN0cmVlLWljb24ganN0cmVlLWVyIj48L2k+JytlKyc8aW5zIGNsYXNzPSJqc3RyZWUtY29weSIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPis8L2lucz48L2Rpdj4nKTthLnZha2F0YS5kbmQuX3RyaWdnZXIoInN0YXJ0IixiLHtoZWxwZXI6YSgpLGVsZW1lbnQ6bCxkYXRhOmt9KX19LHRoaXMpKSx0aGlzLnNldHRpbmdzLmRuZC51c2VfaHRtbDUmJnRoaXMuZWxlbWVudC5vbigiZHJhZ292ZXIuanN0cmVlIixmdW5jdGlvbihiKXtyZXR1cm4gYi5wcmV2ZW50RGVmYXVsdCgpLGEudmFrYXRhLmRuZC5fdHJpZ2dlcigibW92ZSIsYix7aGVscGVyOmEoKSxlbGVtZW50OmwsZGF0YTprfSksITF9KS5vbigiZHJvcC5qc3RyZWUiLGEucHJveHkoZnVuY3Rpb24oYil7cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxhLnZha2F0YS5kbmQuX3RyaWdnZXIoInN0b3AiLGIse2hlbHBlcjphKCksZWxlbWVudDpsLGRhdGE6a30pLCExfSx0aGlzKSl9LHRoaXMucmVkcmF3X25vZGU9ZnVuY3Rpb24oYSxiLGQsZSl7aWYoYT1jLnJlZHJhd19ub2RlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhJiZ0aGlzLnNldHRpbmdzLmRuZC51c2VfaHRtbDUpaWYodGhpcy5zZXR0aW5ncy5kbmQubGFyZ2VfZHJhZ190YXJnZXQpYS5zZXRBdHRyaWJ1dGUoImRyYWdnYWJsZSIsITApO2Vsc2V7dmFyIGYsZyxoPW51bGw7Zm9yKGY9MCxnPWEuY2hpbGROb2Rlcy5sZW5ndGg7Zz5mO2YrKylpZihhLmNoaWxkTm9kZXNbZl0mJmEuY2hpbGROb2Rlc1tmXS5jbGFzc05hbWUmJi0xIT09YS5jaGlsZE5vZGVzW2ZdLmNsYXNzTmFtZS5pbmRleE9mKCJqc3RyZWUtYW5jaG9yIikpe2g9YS5jaGlsZE5vZGVzW2ZdO2JyZWFrfWgmJmguc2V0QXR0cmlidXRlKCJkcmFnZ2FibGUiLCEwKX1yZXR1cm4gYX19LGEoZnVuY3Rpb24oKXt2YXIgYz0hMSxkPSExLGU9ITEsZj0hMSxnPWEoJzxkaXYgaWQ9ImpzdHJlZS1tYXJrZXIiPiYjMTYwOzwvZGl2PicpLmhpZGUoKTthKGkpLm9uKCJkbmRfc3RhcnQudmFrYXRhLmpzdHJlZSIsZnVuY3Rpb24oYSxiKXtjPSExLGU9ITEsYiYmYi5kYXRhJiZiLmRhdGEuanN0cmVlJiZnLmFwcGVuZFRvKCJib2R5Iil9KS5vbigiZG5kX21vdmUudmFrYXRhLmpzdHJlZSIsZnVuY3Rpb24oaCxpKXtpZihmJiYoaS5ldmVudCYmImRyYWdvdmVyIj09PWkuZXZlbnQudHlwZSYmaS5ldmVudC50YXJnZXQ9PT1lLnRhcmdldHx8Y2xlYXJUaW1lb3V0KGYpKSxpJiZpLmRhdGEmJmkuZGF0YS5qc3RyZWUmJighaS5ldmVudC50YXJnZXQuaWR8fCJqc3RyZWUtbWFya2VyIiE9PWkuZXZlbnQudGFyZ2V0LmlkKSl7ZT1pLmV2ZW50O3ZhciBqPWEuanN0cmVlLnJlZmVyZW5jZShpLmV2ZW50LnRhcmdldCksaz0hMSxsPSExLG09ITEsbixvLHAscSxyLHMsdCx1LHYsdyx4LHkseixBLEIsQyxEO2lmKGomJmouX2RhdGEmJmouX2RhdGEuZG5kKWlmKGcuYXR0cigiY2xhc3MiLCJqc3RyZWUtIitqLmdldF90aGVtZSgpKyhqLnNldHRpbmdzLmNvcmUudGhlbWVzLnJlc3BvbnNpdmU/IiBqc3RyZWUtZG5kLXJlc3BvbnNpdmUiOiIiKSksQz1pLmRhdGEub3JpZ2luJiYoaS5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuYWx3YXlzX2NvcHl8fGkuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmNvcHkmJihpLmV2ZW50Lm1ldGFLZXl8fGkuZXZlbnQuY3RybEtleSkpLGkuaGVscGVyLmNoaWxkcmVuKCkuYXR0cigiY2xhc3MiLCJqc3RyZWUtIitqLmdldF90aGVtZSgpKyIganN0cmVlLSIrai5nZXRfdGhlbWUoKSsiLSIrai5nZXRfdGhlbWVfdmFyaWFudCgpKyIgIisoai5zZXR0aW5ncy5jb3JlLnRoZW1lcy5yZXNwb25zaXZlPyIganN0cmVlLWRuZC1yZXNwb25zaXZlIjoiIikpLmZpbmQoIi5qc3RyZWUtY29weSIpLmZpcnN0KClbQz8ic2hvdyI6ImhpZGUiXSgpLGkuZXZlbnQudGFyZ2V0IT09ai5lbGVtZW50WzBdJiZpLmV2ZW50LnRhcmdldCE9PWouZ2V0X2NvbnRhaW5lcl91bCgpWzBdfHwwIT09ai5nZXRfY29udGFpbmVyX3VsKCkuY2hpbGRyZW4oKS5sZW5ndGgpe2lmKGs9ai5zZXR0aW5ncy5kbmQubGFyZ2VfZHJvcF90YXJnZXQ/YShpLmV2ZW50LnRhcmdldCkuY2xvc2VzdCgiLmpzdHJlZS1ub2RlIikuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIik6YShpLmV2ZW50LnRhcmdldCkuY2xvc2VzdCgiLmpzdHJlZS1hbmNob3IiKSxrJiZrLmxlbmd0aCYmay5wYXJlbnQoKS5pcygiLmpzdHJlZS1jbG9zZWQsIC5qc3RyZWUtb3BlbiwgLmpzdHJlZS1sZWFmIikmJihsPWsub2Zmc2V0KCksbT0oaS5ldmVudC5wYWdlWSE9PWI/aS5ldmVudC5wYWdlWTppLmV2ZW50Lm9yaWdpbmFsRXZlbnQucGFnZVkpLWwudG9wLHE9ay5vdXRlckhlaWdodCgpLHQ9cS8zPm0/WyJiIiwiaSIsImEiXTptPnEtcS8zP1siYSIsImkiLCJiIl06bT5xLzI/WyJpIiwiYSIsImIiXTpbImkiLCJiIiwiYSJdLGEuZWFjaCh0LGZ1bmN0aW9uKGIsZSl7c3dpdGNoKGUpe2Nhc2UiYiI6bz1sLmxlZnQtNixwPWwudG9wLHI9ai5nZXRfcGFyZW50KGspLHM9ay5wYXJlbnQoKS5pbmRleCgpO2JyZWFrO2Nhc2UiaSI6QT1qLnNldHRpbmdzLmRuZC5pbnNpZGVfcG9zLEI9ai5nZXRfbm9kZShrLnBhcmVudCgpKSxvPWwubGVmdC0yLHA9bC50b3ArcS8yKzEscj1CLmlkLHM9ImZpcnN0Ij09PUE/MDoibGFzdCI9PT1BP0IuY2hpbGRyZW4ubGVuZ3RoOk1hdGgubWluKEEsQi5jaGlsZHJlbi5sZW5ndGgpO2JyZWFrO2Nhc2UiYSI6bz1sLmxlZnQtNixwPWwudG9wK3Escj1qLmdldF9wYXJlbnQoaykscz1rLnBhcmVudCgpLmluZGV4KCkrMX1mb3IodT0hMCx2PTAsdz1pLmRhdGEubm9kZXMubGVuZ3RoO3c+djt2KyspaWYoeD1pLmRhdGEub3JpZ2luJiYoaS5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuYWx3YXlzX2NvcHl8fGkuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmNvcHkmJihpLmV2ZW50Lm1ldGFLZXl8fGkuZXZlbnQuY3RybEtleSkpPyJjb3B5X25vZGUiOiJtb3ZlX25vZGUiLHk9cywibW92ZV9ub2RlIj09PXgmJiJhIj09PWUmJmkuZGF0YS5vcmlnaW4mJmkuZGF0YS5vcmlnaW49PT1qJiZyPT09ai5nZXRfcGFyZW50KGkuZGF0YS5ub2Rlc1t2XSkmJih6PWouZ2V0X25vZGUocikseT5hLmluQXJyYXkoaS5kYXRhLm5vZGVzW3ZdLHouY2hpbGRyZW4pJiYoeS09MSkpLHU9dSYmKGomJmouc2V0dGluZ3MmJmouc2V0dGluZ3MuZG5kJiZqLnNldHRpbmdzLmRuZC5jaGVja193aGlsZV9kcmFnZ2luZz09PSExfHxqLmNoZWNrKHgsaS5kYXRhLm9yaWdpbiYmaS5kYXRhLm9yaWdpbiE9PWo/aS5kYXRhLm9yaWdpbi5nZXRfbm9kZShpLmRhdGEubm9kZXNbdl0pOmkuZGF0YS5ub2Rlc1t2XSxyLHkse2RuZDohMCxyZWY6ai5nZXRfbm9kZShrLnBhcmVudCgpKSxwb3M6ZSxvcmlnaW46aS5kYXRhLm9yaWdpbixpc19tdWx0aTppLmRhdGEub3JpZ2luJiZpLmRhdGEub3JpZ2luIT09aixpc19mb3JlaWduOiFpLmRhdGEub3JpZ2lufSkpLCF1KXtqJiZqLmxhc3RfZXJyb3ImJihkPWoubGFzdF9lcnJvcigpKTticmVha31yZXR1cm4iaSI9PT1lJiZrLnBhcmVudCgpLmlzKCIuanN0cmVlLWNsb3NlZCIpJiZqLnNldHRpbmdzLmRuZC5vcGVuX3RpbWVvdXQmJihmPXNldFRpbWVvdXQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXthLm9wZW5fbm9kZShiKX19KGosayksai5zZXR0aW5ncy5kbmQub3Blbl90aW1lb3V0KSksdT8oRD1qLmdldF9ub2RlKHIsITApLEQuaGFzQ2xhc3MoIi5qc3RyZWUtZG5kLXBhcmVudCIpfHwoYSgiLmpzdHJlZS1kbmQtcGFyZW50IikucmVtb3ZlQ2xhc3MoImpzdHJlZS1kbmQtcGFyZW50IiksRC5hZGRDbGFzcygianN0cmVlLWRuZC1wYXJlbnQiKSksYz17aW5zOmoscGFyOnIscG9zOiJpIiE9PWV8fCJsYXN0IiE9PUF8fDAhPT1zfHxqLmlzX2xvYWRlZChCKT9zOiJsYXN0In0sZy5jc3Moe2xlZnQ6bysicHgiLHRvcDpwKyJweCJ9KS5zaG93KCksaS5oZWxwZXIuZmluZCgiLmpzdHJlZS1pY29uIikuZmlyc3QoKS5yZW1vdmVDbGFzcygianN0cmVlLWVyIikuYWRkQ2xhc3MoImpzdHJlZS1vayIpLGkuZXZlbnQub3JpZ2luYWxFdmVudCYmaS5ldmVudC5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2ZlciYmKGkuZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD1DPyJjb3B5IjoibW92ZSIpLGQ9e30sdD0hMCwhMSk6dm9pZCAwfSksdD09PSEwKSlyZXR1cm59ZWxzZXtmb3IodT0hMCx2PTAsdz1pLmRhdGEubm9kZXMubGVuZ3RoO3c+djt2KyspaWYodT11JiZqLmNoZWNrKGkuZGF0YS5vcmlnaW4mJihpLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5hbHdheXNfY29weXx8aS5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuY29weSYmKGkuZXZlbnQubWV0YUtleXx8aS5ldmVudC5jdHJsS2V5KSk/ImNvcHlfbm9kZSI6Im1vdmVfbm9kZSIsaS5kYXRhLm9yaWdpbiYmaS5kYXRhLm9yaWdpbiE9PWo/aS5kYXRhLm9yaWdpbi5nZXRfbm9kZShpLmRhdGEubm9kZXNbdl0pOmkuZGF0YS5ub2Rlc1t2XSxhLmpzdHJlZS5yb290LCJsYXN0Iix7ZG5kOiEwLHJlZjpqLmdldF9ub2RlKGEuanN0cmVlLnJvb3QpLHBvczoiaSIsb3JpZ2luOmkuZGF0YS5vcmlnaW4saXNfbXVsdGk6aS5kYXRhLm9yaWdpbiYmaS5kYXRhLm9yaWdpbiE9PWosaXNfZm9yZWlnbjohaS5kYXRhLm9yaWdpbn0pLCF1KWJyZWFrO2lmKHUpcmV0dXJuIGM9e2luczpqLHBhcjphLmpzdHJlZS5yb290LHBvczoibGFzdCJ9LGcuaGlkZSgpLGkuaGVscGVyLmZpbmQoIi5qc3RyZWUtaWNvbiIpLmZpcnN0KCkucmVtb3ZlQ2xhc3MoImpzdHJlZS1lciIpLmFkZENsYXNzKCJqc3RyZWUtb2siKSx2b2lkKGkuZXZlbnQub3JpZ2luYWxFdmVudCYmaS5ldmVudC5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2ZlciYmKGkuZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD1DPyJjb3B5IjoibW92ZSIpKX1hKCIuanN0cmVlLWRuZC1wYXJlbnQiKS5yZW1vdmVDbGFzcygianN0cmVlLWRuZC1wYXJlbnQiKSxjPSExLGkuaGVscGVyLmZpbmQoIi5qc3RyZWUtaWNvbiIpLnJlbW92ZUNsYXNzKCJqc3RyZWUtb2siKS5hZGRDbGFzcygianN0cmVlLWVyIiksaS5ldmVudC5vcmlnaW5hbEV2ZW50JiZpLmV2ZW50Lm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyJiYoaS5ldmVudC5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0PSJub25lIiksZy5oaWRlKCl9fSkub24oImRuZF9zY3JvbGwudmFrYXRhLmpzdHJlZSIsZnVuY3Rpb24oYSxiKXtiJiZiLmRhdGEmJmIuZGF0YS5qc3RyZWUmJihnLmhpZGUoKSxjPSExLGU9ITEsYi5oZWxwZXIuZmluZCgiLmpzdHJlZS1pY29uIikuZmlyc3QoKS5yZW1vdmVDbGFzcygianN0cmVlLW9rIikuYWRkQ2xhc3MoImpzdHJlZS1lciIpKX0pLm9uKCJkbmRfc3RvcC52YWthdGEuanN0cmVlIixmdW5jdGlvbihiLGgpe2lmKGEoIi5qc3RyZWUtZG5kLXBhcmVudCIpLnJlbW92ZUNsYXNzKCJqc3RyZWUtZG5kLXBhcmVudCIpLGYmJmNsZWFyVGltZW91dChmKSxoJiZoLmRhdGEmJmguZGF0YS5qc3RyZWUpe2cuaGlkZSgpLmRldGFjaCgpO3ZhciBpLGosaz1bXTtpZihjKXtmb3IoaT0wLGo9aC5kYXRhLm5vZGVzLmxlbmd0aDtqPmk7aSsrKWtbaV09aC5kYXRhLm9yaWdpbj9oLmRhdGEub3JpZ2luLmdldF9ub2RlKGguZGF0YS5ub2Rlc1tpXSk6aC5kYXRhLm5vZGVzW2ldO2MuaW5zW2guZGF0YS5vcmlnaW4mJihoLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5hbHdheXNfY29weXx8aC5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuY29weSYmKGguZXZlbnQubWV0YUtleXx8aC5ldmVudC5jdHJsS2V5KSk/ImNvcHlfbm9kZSI6Im1vdmVfbm9kZSJdKGssYy5wYXIsYy5wb3MsITEsITEsITEsaC5kYXRhLm9yaWdpbil9ZWxzZSBpPWEoaC5ldmVudC50YXJnZXQpLmNsb3Nlc3QoIi5qc3RyZWUiKSxpLmxlbmd0aCYmZCYmZC5lcnJvciYmImNoZWNrIj09PWQuZXJyb3ImJihpPWkuanN0cmVlKCEwKSxpJiZpLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLGQpKTtlPSExLGM9ITF9fSkub24oImtleXVwLmpzdHJlZSBrZXlkb3duLmpzdHJlZSIsZnVuY3Rpb24oYixoKXtoPWEudmFrYXRhLmRuZC5fZ2V0KCksaCYmaC5kYXRhJiZoLmRhdGEuanN0cmVlJiYoImtleXVwIj09PWIudHlwZSYmMjc9PT1iLndoaWNoPyhmJiZjbGVhclRpbWVvdXQoZiksYz0hMSxkPSExLGU9ITEsZj0hMSxnLmhpZGUoKS5kZXRhY2goKSxhLnZha2F0YS5kbmQuX2NsZWFuKCkpOihoLmhlbHBlci5maW5kKCIuanN0cmVlLWNvcHkiKS5maXJzdCgpW2guZGF0YS5vcmlnaW4mJihoLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5hbHdheXNfY29weXx8aC5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuY29weSYmKGIubWV0YUtleXx8Yi5jdHJsS2V5KSk/InNob3ciOiJoaWRlIl0oKSxlJiYoZS5tZXRhS2V5PWIubWV0YUtleSxlLmN0cmxLZXk9Yi5jdHJsS2V5LGEudmFrYXRhLmRuZC5fdHJpZ2dlcigibW92ZSIsZSkpKSl9KX0pLGZ1bmN0aW9uKGEpe2EudmFrYXRhLmh0bWw9e2RpdjphKCI8ZGl2IC8+IiksZXNjYXBlOmZ1bmN0aW9uKGIpe3JldHVybiBhLnZha2F0YS5odG1sLmRpdi50ZXh0KGIpLmh0bWwoKX0sc3RyaXA6ZnVuY3Rpb24oYil7cmV0dXJuIGEudmFrYXRhLmh0bWwuZGl2LmVtcHR5KCkuYXBwZW5kKGEucGFyc2VIVE1MKGIpKS50ZXh0KCl9fTt2YXIgYz17ZWxlbWVudDohMSx0YXJnZXQ6ITEsaXNfZG93bjohMSxpc19kcmFnOiExLGhlbHBlcjohMSxoZWxwZXJfdzowLGRhdGE6ITEsaW5pdF94OjAsaW5pdF95OjAsc2Nyb2xsX2w6MCxzY3JvbGxfdDowLHNjcm9sbF9lOiExLHNjcm9sbF9pOiExLGlzX3RvdWNoOiExfTthLnZha2F0YS5kbmQ9e3NldHRpbmdzOntzY3JvbGxfc3BlZWQ6MTAsc2Nyb2xsX3Byb3hpbWl0eToyMCxoZWxwZXJfbGVmdDo1LGhlbHBlcl90b3A6MTAsdGhyZXNob2xkOjUsdGhyZXNob2xkX3RvdWNoOjUwfSxfdHJpZ2dlcjpmdW5jdGlvbihjLGQsZSl7ZT09PWImJihlPWEudmFrYXRhLmRuZC5fZ2V0KCkpLGUuZXZlbnQ9ZCxhKGkpLnRyaWdnZXJIYW5kbGVyKCJkbmRfIitjKyIudmFrYXRhIixlKX0sX2dldDpmdW5jdGlvbigpe3JldHVybntkYXRhOmMuZGF0YSxlbGVtZW50OmMuZWxlbWVudCxoZWxwZXI6Yy5oZWxwZXJ9fSxfY2xlYW46ZnVuY3Rpb24oKXtjLmhlbHBlciYmYy5oZWxwZXIucmVtb3ZlKCksYy5zY3JvbGxfaSYmKGNsZWFySW50ZXJ2YWwoYy5zY3JvbGxfaSksYy5zY3JvbGxfaT0hMSksYz17ZWxlbWVudDohMSx0YXJnZXQ6ITEsaXNfZG93bjohMSxpc19kcmFnOiExLGhlbHBlcjohMSxoZWxwZXJfdzowLGRhdGE6ITEsaW5pdF94OjAsaW5pdF95OjAsc2Nyb2xsX2w6MCxzY3JvbGxfdDowLHNjcm9sbF9lOiExLHNjcm9sbF9pOiExLGlzX3RvdWNoOiExfSxhKGkpLm9mZigibW91c2Vtb3ZlLnZha2F0YS5qc3RyZWUgdG91Y2htb3ZlLnZha2F0YS5qc3RyZWUiLGEudmFrYXRhLmRuZC5kcmFnKSxhKGkpLm9mZigibW91c2V1cC52YWthdGEuanN0cmVlIHRvdWNoZW5kLnZha2F0YS5qc3RyZWUiLGEudmFrYXRhLmRuZC5zdG9wKX0sX3Njcm9sbDpmdW5jdGlvbihiKXtpZighYy5zY3JvbGxfZXx8IWMuc2Nyb2xsX2wmJiFjLnNjcm9sbF90KXJldHVybiBjLnNjcm9sbF9pJiYoY2xlYXJJbnRlcnZhbChjLnNjcm9sbF9pKSxjLnNjcm9sbF9pPSExKSwhMTtpZighYy5zY3JvbGxfaSlyZXR1cm4gYy5zY3JvbGxfaT1zZXRJbnRlcnZhbChhLnZha2F0YS5kbmQuX3Njcm9sbCwxMDApLCExO2lmKGI9PT0hMClyZXR1cm4hMTt2YXIgZD1jLnNjcm9sbF9lLnNjcm9sbFRvcCgpLGU9Yy5zY3JvbGxfZS5zY3JvbGxMZWZ0KCk7Yy5zY3JvbGxfZS5zY3JvbGxUb3AoZCtjLnNjcm9sbF90KmEudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfc3BlZWQpLGMuc2Nyb2xsX2Uuc2Nyb2xsTGVmdChlK2Muc2Nyb2xsX2wqYS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9zcGVlZCksKGQhPT1jLnNjcm9sbF9lLnNjcm9sbFRvcCgpfHxlIT09Yy5zY3JvbGxfZS5zY3JvbGxMZWZ0KCkpJiZhLnZha2F0YS5kbmQuX3RyaWdnZXIoInNjcm9sbCIsYy5zY3JvbGxfZSl9LHN0YXJ0OmZ1bmN0aW9uKGIsZCxlKXsidG91Y2hzdGFydCI9PT1iLnR5cGUmJmIub3JpZ2luYWxFdmVudCYmYi5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzJiZiLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0mJihiLnBhZ2VYPWIub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCxiLnBhZ2VZPWIub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSxiLnRhcmdldD1pLmVsZW1lbnRGcm9tUG9pbnQoYi5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLXdpbmRvdy5wYWdlWE9mZnNldCxiLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVktd2luZG93LnBhZ2VZT2Zmc2V0KSksYy5pc19kcmFnJiZhLnZha2F0YS5kbmQuc3RvcCh7fSk7dHJ5e2IuY3VycmVudFRhcmdldC51bnNlbGVjdGFibGU9Im9uIixiLmN1cnJlbnRUYXJnZXQub25zZWxlY3RzdGFydD1mdW5jdGlvbigpe3JldHVybiExfSxiLmN1cnJlbnRUYXJnZXQuc3R5bGUmJihiLmN1cnJlbnRUYXJnZXQuc3R5bGUudG91Y2hBY3Rpb249Im5vbmUiLGIuY3VycmVudFRhcmdldC5zdHlsZS5tc1RvdWNoQWN0aW9uPSJub25lIixiLmN1cnJlbnRUYXJnZXQuc3R5bGUuTW96VXNlclNlbGVjdD0ibm9uZSIpfWNhdGNoKGYpe31yZXR1cm4gYy5pbml0X3g9Yi5wYWdlWCxjLmluaXRfeT1iLnBhZ2VZLGMuZGF0YT1kLGMuaXNfZG93bj0hMCxjLmVsZW1lbnQ9Yi5jdXJyZW50VGFyZ2V0LGMudGFyZ2V0PWIudGFyZ2V0LGMuaXNfdG91Y2g9InRvdWNoc3RhcnQiPT09Yi50eXBlLGUhPT0hMSYmKGMuaGVscGVyPWEoIjxkaXYgaWQ9J3Zha2F0YS1kbmQnPjwvZGl2PiIpLmh0bWwoZSkuY3NzKHtkaXNwbGF5OiJibG9jayIsbWFyZ2luOiIwIixwYWRkaW5nOiIwIixwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDoiLTIwMDBweCIsbGluZUhlaWdodDoiMTZweCIsekluZGV4OiIxMDAwMCJ9KSksYShpKS5vbigibW91c2Vtb3ZlLnZha2F0YS5qc3RyZWUgdG91Y2htb3ZlLnZha2F0YS5qc3RyZWUiLGEudmFrYXRhLmRuZC5kcmFnKSxhKGkpLm9uKCJtb3VzZXVwLnZha2F0YS5qc3RyZWUgdG91Y2hlbmQudmFrYXRhLmpzdHJlZSIsYS52YWthdGEuZG5kLnN0b3ApLCExfSxkcmFnOmZ1bmN0aW9uKGIpe2lmKCJ0b3VjaG1vdmUiPT09Yi50eXBlJiZiLm9yaWdpbmFsRXZlbnQmJmIub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlcyYmYi5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdJiYoYi5wYWdlWD1iLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgsYi5wYWdlWT1iLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVksYi50YXJnZXQ9aS5lbGVtZW50RnJvbVBvaW50KGIub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWC13aW5kb3cucGFnZVhPZmZzZXQsYi5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZLXdpbmRvdy5wYWdlWU9mZnNldCkpLGMuaXNfZG93bil7aWYoIWMuaXNfZHJhZyl7aWYoIShNYXRoLmFicyhiLnBhZ2VYLWMuaW5pdF94KT4oYy5pc190b3VjaD9hLnZha2F0YS5kbmQuc2V0dGluZ3MudGhyZXNob2xkX3RvdWNoOmEudmFrYXRhLmRuZC5zZXR0aW5ncy50aHJlc2hvbGQpfHxNYXRoLmFicyhiLnBhZ2VZLWMuaW5pdF95KT4oYy5pc190b3VjaD9hLnZha2F0YS5kbmQuc2V0dGluZ3MudGhyZXNob2xkX3RvdWNoOmEudmFrYXRhLmRuZC5zZXR0aW5ncy50aHJlc2hvbGQpKSlyZXR1cm47Yy5oZWxwZXImJihjLmhlbHBlci5hcHBlbmRUbygiYm9keSIpLGMuaGVscGVyX3c9Yy5oZWxwZXIub3V0ZXJXaWR0aCgpKSxjLmlzX2RyYWc9ITAsYShjLnRhcmdldCkub25lKCJjbGljay52YWthdGEiLCExKSxhLnZha2F0YS5kbmQuX3RyaWdnZXIoInN0YXJ0IixiKX12YXIgZD0hMSxlPSExLGY9ITEsZz0hMSxoPSExLGo9ITEsaz0hMSxsPSExLG09ITEsbj0hMTtyZXR1cm4gYy5zY3JvbGxfdD0wLGMuc2Nyb2xsX2w9MCxjLnNjcm9sbF9lPSExLGEoYShiLnRhcmdldCkucGFyZW50c1VudGlsKCJib2R5IikuYWRkQmFjaygpLmdldCgpLnJldmVyc2UoKSkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuL15hdXRvfHNjcm9sbCQvLnRlc3QoYSh0aGlzKS5jc3MoIm92ZXJmbG93IikpJiYodGhpcy5zY3JvbGxIZWlnaHQ+dGhpcy5vZmZzZXRIZWlnaHR8fHRoaXMuc2Nyb2xsV2lkdGg+dGhpcy5vZmZzZXRXaWR0aCl9KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWQub2Zmc2V0KCk7cmV0dXJuIHRoaXMuc2Nyb2xsSGVpZ2h0PnRoaXMub2Zmc2V0SGVpZ2h0JiYoZS50b3ArZC5oZWlnaHQoKS1iLnBhZ2VZPGEudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfcHJveGltaXR5JiYoYy5zY3JvbGxfdD0xKSxiLnBhZ2VZLWUudG9wPGEudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfcHJveGltaXR5JiYoYy5zY3JvbGxfdD0tMSkpLHRoaXMuc2Nyb2xsV2lkdGg+dGhpcy5vZmZzZXRXaWR0aCYmKGUubGVmdCtkLndpZHRoKCktYi5wYWdlWDxhLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3Byb3hpbWl0eSYmKGMuc2Nyb2xsX2w9MSksYi5wYWdlWC1lLmxlZnQ8YS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihjLnNjcm9sbF9sPS0xKSksYy5zY3JvbGxfdHx8Yy5zY3JvbGxfbD8oYy5zY3JvbGxfZT1hKHRoaXMpLCExKTp2b2lkIDB9KSxjLnNjcm9sbF9lfHwoZD1hKGkpLGU9YSh3aW5kb3cpLGY9ZC5oZWlnaHQoKSxnPWUuaGVpZ2h0KCksaD1kLndpZHRoKCksaj1lLndpZHRoKCksaz1kLnNjcm9sbFRvcCgpLGw9ZC5zY3JvbGxMZWZ0KCksZj5nJiZiLnBhZ2VZLWs8YS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihjLnNjcm9sbF90PS0xKSxmPmcmJmctKGIucGFnZVktayk8YS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihjLnNjcm9sbF90PTEpLGg+aiYmYi5wYWdlWC1sPGEudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfcHJveGltaXR5JiYoYy5zY3JvbGxfbD0tMSksaD5qJiZqLShiLnBhZ2VYLWwpPGEudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfcHJveGltaXR5JiYoYy5zY3JvbGxfbD0xKSwoYy5zY3JvbGxfdHx8Yy5zY3JvbGxfbCkmJihjLnNjcm9sbF9lPWQpKSxjLnNjcm9sbF9lJiZhLnZha2F0YS5kbmQuX3Njcm9sbCghMCksYy5oZWxwZXImJihtPXBhcnNlSW50KGIucGFnZVkrYS52YWthdGEuZG5kLnNldHRpbmdzLmhlbHBlcl90b3AsMTApLG49cGFyc2VJbnQoYi5wYWdlWCthLnZha2F0YS5kbmQuc2V0dGluZ3MuaGVscGVyX2xlZnQsMTApLGYmJm0rMjU+ZiYmKG09Zi01MCksaCYmbitjLmhlbHBlcl93PmgmJihuPWgtKGMuaGVscGVyX3crMikpLGMuaGVscGVyLmNzcyh7bGVmdDpuKyJweCIsdG9wOm0rInB4In0pKSxhLnZha2F0YS5kbmQuX3RyaWdnZXIoIm1vdmUiLGIpLCExfX0sc3RvcDpmdW5jdGlvbihiKXtpZigidG91Y2hlbmQiPT09Yi50eXBlJiZiLm9yaWdpbmFsRXZlbnQmJmIub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlcyYmYi5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdJiYoYi5wYWdlWD1iLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgsYi5wYWdlWT1iLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVksYi50YXJnZXQ9aS5lbGVtZW50RnJvbVBvaW50KGIub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWC13aW5kb3cucGFnZVhPZmZzZXQsYi5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZLXdpbmRvdy5wYWdlWU9mZnNldCkpLGMuaXNfZHJhZyliLnRhcmdldCE9PWMudGFyZ2V0JiZhKGMudGFyZ2V0KS5vZmYoImNsaWNrLnZha2F0YSIpLGEudmFrYXRhLmRuZC5fdHJpZ2dlcigic3RvcCIsYik7ZWxzZSBpZigidG91Y2hlbmQiPT09Yi50eXBlJiZiLnRhcmdldD09PWMudGFyZ2V0KXt2YXIgZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShiLnRhcmdldCkuY2xpY2soKX0sMTAwKTthKGIudGFyZ2V0KS5vbmUoImNsaWNrIixmdW5jdGlvbigpe2QmJmNsZWFyVGltZW91dChkKX0pfXJldHVybiBhLnZha2F0YS5kbmQuX2NsZWFuKCksITF9fX0oYSksYS5qc3RyZWUuZGVmYXVsdHMubWFzc2xvYWQ9bnVsbCxhLmpzdHJlZS5wbHVnaW5zLm1hc3Nsb2FkPWZ1bmN0aW9uKGIsYyl7dGhpcy5pbml0PWZ1bmN0aW9uKGEsYil7dGhpcy5fZGF0YS5tYXNzbG9hZD17fSxjLmluaXQuY2FsbCh0aGlzLGEsYil9LHRoaXMuX2xvYWRfbm9kZXM9ZnVuY3Rpb24oYixkLGUsZil7dmFyIGc9dGhpcy5zZXR0aW5ncy5tYXNzbG9hZCxoPUpTT04uc3RyaW5naWZ5KGIpLGk9W10saj10aGlzLl9tb2RlbC5kYXRhLGssbCxtO2lmKCFlKXtmb3Ioaz0wLGw9Yi5sZW5ndGg7bD5rO2srKykoIWpbYltrXV18fCFqW2Jba11dLnN0YXRlLmxvYWRlZCYmIWpbYltrXV0uc3RhdGUuZmFpbGVkfHxmKSYmKGkucHVzaChiW2tdKSxtPXRoaXMuZ2V0X25vZGUoYltrXSwhMCksbSYmbS5sZW5ndGgmJm0uYWRkQ2xhc3MoImpzdHJlZS1sb2FkaW5nIikuYXR0cigiYXJpYS1idXN5IiwhMCkpO2lmKHRoaXMuX2RhdGEubWFzc2xvYWQ9e30saS5sZW5ndGgpe2lmKGEuaXNGdW5jdGlvbihnKSlyZXR1cm4gZy5jYWxsKHRoaXMsaSxhLnByb3h5KGZ1bmN0aW9uKGEpe3ZhciBnLGg7aWYoYSlmb3IoZyBpbiBhKWEuaGFzT3duUHJvcGVydHkoZykmJih0aGlzLl9kYXRhLm1hc3Nsb2FkW2ddPWFbZ10pO2ZvcihnPTAsaD1iLmxlbmd0aDtoPmc7ZysrKW09dGhpcy5nZXRfbm9kZShiW2ddLCEwKSxtJiZtLmxlbmd0aCYmbS5yZW1vdmVDbGFzcygianN0cmVlLWxvYWRpbmciKS5hdHRyKCJhcmlhLWJ1c3kiLCExKTtjLl9sb2FkX25vZGVzLmNhbGwodGhpcyxiLGQsZSxmKX0sdGhpcykpO2lmKCJvYmplY3QiPT10eXBlb2YgZyYmZyYmZy51cmwpcmV0dXJuIGc9YS5leHRlbmQoITAse30sZyksYS5pc0Z1bmN0aW9uKGcudXJsKSYmKGcudXJsPWcudXJsLmNhbGwodGhpcyxpKSksYS5pc0Z1bmN0aW9uKGcuZGF0YSkmJihnLmRhdGE9Zy5kYXRhLmNhbGwodGhpcyxpKSksYS5hamF4KGcpLmRvbmUoYS5wcm94eShmdW5jdGlvbihhLGcsaCl7dmFyIGksajtpZihhKWZvcihpIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRoaXMuX2RhdGEubWFzc2xvYWRbaV09YVtpXSk7Zm9yKGk9MCxqPWIubGVuZ3RoO2o+aTtpKyspbT10aGlzLmdldF9ub2RlKGJbaV0sITApLG0mJm0ubGVuZ3RoJiZtLnJlbW92ZUNsYXNzKCJqc3RyZWUtbG9hZGluZyIpLmF0dHIoImFyaWEtYnVzeSIsITEpO2MuX2xvYWRfbm9kZXMuY2FsbCh0aGlzLGIsZCxlLGYpfSx0aGlzKSkuZmFpbChhLnByb3h5KGZ1bmN0aW9uKGEpe2MuX2xvYWRfbm9kZXMuY2FsbCh0aGlzLGIsZCxlLGYpfSx0aGlzKSl9fXJldHVybiBjLl9sb2FkX25vZGVzLmNhbGwodGhpcyxiLGQsZSxmKX0sdGhpcy5fbG9hZF9ub2RlPWZ1bmN0aW9uKGIsZCl7dmFyIGU9dGhpcy5fZGF0YS5tYXNzbG9hZFtiLmlkXSxmPW51bGwsZztyZXR1cm4gZT8oZj10aGlzWyJzdHJpbmciPT10eXBlb2YgZT8iX2FwcGVuZF9odG1sX2RhdGEiOiJfYXBwZW5kX2pzb25fZGF0YSJdKGIsInN0cmluZyI9PXR5cGVvZiBlP2EoYS5wYXJzZUhUTUwoZSkpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAzIT09dGhpcy5ub2RlVHlwZX0pOmUsZnVuY3Rpb24oYSl7ZC5jYWxsKHRoaXMsYSl9KSxnPXRoaXMuZ2V0X25vZGUoYi5pZCwhMCksZyYmZy5sZW5ndGgmJmcucmVtb3ZlQ2xhc3MoImpzdHJlZS1sb2FkaW5nIikuYXR0cigiYXJpYS1idXN5IiwhMSksZGVsZXRlIHRoaXMuX2RhdGEubWFzc2xvYWRbYi5pZF0sZik6Yy5fbG9hZF9ub2RlLmNhbGwodGhpcyxiLGQpfX0sYS5qc3RyZWUuZGVmYXVsdHMuc2VhcmNoPXthamF4OiExLGZ1enp5OiExLGNhc2Vfc2Vuc2l0aXZlOiExLHNob3dfb25seV9tYXRjaGVzOiExLHNob3dfb25seV9tYXRjaGVzX2NoaWxkcmVuOiExLGNsb3NlX29wZW5lZF9vbmNsZWFyOiEwLHNlYXJjaF9sZWF2ZXNfb25seTohMSxzZWFyY2hfY2FsbGJhY2s6ITF9LGEuanN0cmVlLnBsdWdpbnMuc2VhcmNoPWZ1bmN0aW9uKGMsZCl7dGhpcy5iaW5kPWZ1bmN0aW9uKCl7ZC5iaW5kLmNhbGwodGhpcyksdGhpcy5fZGF0YS5zZWFyY2guc3RyPSIiLHRoaXMuX2RhdGEuc2VhcmNoLmRvbT1hKCksdGhpcy5fZGF0YS5zZWFyY2gucmVzPVtdLHRoaXMuX2RhdGEuc2VhcmNoLm9wbj1bXSx0aGlzLl9kYXRhLnNlYXJjaC5zb209ITEsdGhpcy5fZGF0YS5zZWFyY2guc21jPSExLHRoaXMuX2RhdGEuc2VhcmNoLmhkbj1bXSx0aGlzLmVsZW1lbnQub24oInNlYXJjaC5qc3RyZWUiLGEucHJveHkoZnVuY3Rpb24oYixjKXtpZih0aGlzLl9kYXRhLnNlYXJjaC5zb20mJmMucmVzLmxlbmd0aCl7dmFyIGQ9dGhpcy5fbW9kZWwuZGF0YSxlLGYsZz1bXSxoLGk7Zm9yKGU9MCxmPWMucmVzLmxlbmd0aDtmPmU7ZSsrKWlmKGRbYy5yZXNbZV1dJiYhZFtjLnJlc1tlXV0uc3RhdGUuaGlkZGVuJiYoZy5wdXNoKGMucmVzW2VdKSxnPWcuY29uY2F0KGRbYy5yZXNbZV1dLnBhcmVudHMpLHRoaXMuX2RhdGEuc2VhcmNoLnNtYykpZm9yKGg9MCxpPWRbYy5yZXNbZV1dLmNoaWxkcmVuX2QubGVuZ3RoO2k+aDtoKyspZFtkW2MucmVzW2VdXS5jaGlsZHJlbl9kW2hdXSYmIWRbZFtjLnJlc1tlXV0uY2hpbGRyZW5fZFtoXV0uc3RhdGUuaGlkZGVuJiZnLnB1c2goZFtjLnJlc1tlXV0uY2hpbGRyZW5fZFtoXSk7Zz1hLnZha2F0YS5hcnJheV9yZW1vdmVfaXRlbShhLnZha2F0YS5hcnJheV91bmlxdWUoZyksYS5qc3RyZWUucm9vdCksdGhpcy5fZGF0YS5zZWFyY2guaGRuPXRoaXMuaGlkZV9hbGwoITApLHRoaXMuc2hvd19ub2RlKGcsITApLHRoaXMucmVkcmF3KCEwKX19LHRoaXMpKS5vbigiY2xlYXJfc2VhcmNoLmpzdHJlZSIsYS5wcm94eShmdW5jdGlvbihhLGIpe3RoaXMuX2RhdGEuc2VhcmNoLnNvbSYmYi5yZXMubGVuZ3RoJiYodGhpcy5zaG93X25vZGUodGhpcy5fZGF0YS5zZWFyY2guaGRuLCEwKSx0aGlzLnJlZHJhdyghMCkpfSx0aGlzKSl9LHRoaXMuc2VhcmNoPWZ1bmN0aW9uKGMsZCxlLGYsZyxoKXtpZihjPT09ITF8fCIiPT09YS50cmltKGMudG9TdHJpbmcoKSkpcmV0dXJuIHRoaXMuY2xlYXJfc2VhcmNoKCk7Zj10aGlzLmdldF9ub2RlKGYpLGY9ZiYmZi5pZD9mLmlkOm51bGwsYz1jLnRvU3RyaW5nKCk7dmFyIGk9dGhpcy5zZXR0aW5ncy5zZWFyY2gsaj1pLmFqYXg/aS5hamF4OiExLGs9dGhpcy5fbW9kZWwuZGF0YSxsPW51bGwsbT1bXSxuPVtdLG8scDtpZih0aGlzLl9kYXRhLnNlYXJjaC5yZXMubGVuZ3RoJiYhZyYmdGhpcy5jbGVhcl9zZWFyY2goKSxlPT09YiYmKGU9aS5zaG93X29ubHlfbWF0Y2hlcyksaD09PWImJihoPWkuc2hvd19vbmx5X21hdGNoZXNfY2hpbGRyZW4pLCFkJiZqIT09ITEpcmV0dXJuIGEuaXNGdW5jdGlvbihqKT9qLmNhbGwodGhpcyxjLGEucHJveHkoZnVuY3Rpb24oYil7YiYmYi5kJiYoYj1iLmQpLHRoaXMuX2xvYWRfbm9kZXMoYS5pc0FycmF5KGIpP2EudmFrYXRhLmFycmF5X3VuaXF1ZShiKTpbXSxmdW5jdGlvbigpe3RoaXMuc2VhcmNoKGMsITAsZSxmLGcsaCl9KX0sdGhpcyksZik6KGo9YS5leHRlbmQoe30saiksai5kYXRhfHwoai5kYXRhPXt9KSxqLmRhdGEuc3RyPWMsZiYmKGouZGF0YS5pbnNpZGU9ZiksdGhpcy5fZGF0YS5zZWFyY2gubGFzdFJlcXVlc3QmJnRoaXMuX2RhdGEuc2VhcmNoLmxhc3RSZXF1ZXN0LmFib3J0KCksdGhpcy5fZGF0YS5zZWFyY2gubGFzdFJlcXVlc3Q9YS5hamF4KGopLmZhaWwoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiYWpheCIscGx1Z2luOiJzZWFyY2giLGlkOiJzZWFyY2hfMDEiLHJlYXNvbjoiQ291bGQgbm90IGxvYWQgc2VhcmNoIHBhcmVudHMiLGRhdGE6SlNPTi5zdHJpbmdpZnkoail9LHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpfSx0aGlzKSkuZG9uZShhLnByb3h5KGZ1bmN0aW9uKGIpe2ImJmIuZCYmKGI9Yi5kKSx0aGlzLl9sb2FkX25vZGVzKGEuaXNBcnJheShiKT9hLnZha2F0YS5hcnJheV91bmlxdWUoYik6W10sZnVuY3Rpb24oKXt0aGlzLnNlYXJjaChjLCEwLGUsZixnLGgpfSl9LHRoaXMpKSx0aGlzLl9kYXRhLnNlYXJjaC5sYXN0UmVxdWVzdCk7aWYoZ3x8KHRoaXMuX2RhdGEuc2VhcmNoLnN0cj1jLHRoaXMuX2RhdGEuc2VhcmNoLmRvbT1hKCksdGhpcy5fZGF0YS5zZWFyY2gucmVzPVtdLHRoaXMuX2RhdGEuc2VhcmNoLm9wbj1bXSx0aGlzLl9kYXRhLnNlYXJjaC5zb209ZSx0aGlzLl9kYXRhLnNlYXJjaC5zbWM9aCksbD1uZXcgYS52YWthdGEuc2VhcmNoKGMsITAse2Nhc2VTZW5zaXRpdmU6aS5jYXNlX3NlbnNpdGl2ZSxmdXp6eTppLmZ1enp5fSksYS5lYWNoKGtbZj9mOmEuanN0cmVlLnJvb3RdLmNoaWxkcmVuX2QsZnVuY3Rpb24oYSxiKXt2YXIgZD1rW2JdO2QudGV4dCYmIWQuc3RhdGUuaGlkZGVuJiYoIWkuc2VhcmNoX2xlYXZlc19vbmx5fHxkLnN0YXRlLmxvYWRlZCYmMD09PWQuY2hpbGRyZW4ubGVuZ3RoKSYmKGkuc2VhcmNoX2NhbGxiYWNrJiZpLnNlYXJjaF9jYWxsYmFjay5jYWxsKHRoaXMsYyxkKXx8IWkuc2VhcmNoX2NhbGxiYWNrJiZsLnNlYXJjaChkLnRleHQpLmlzTWF0Y2gpJiYobS5wdXNoKGIpLG49bi5jb25jYXQoZC5wYXJlbnRzKSl9KSxtLmxlbmd0aCl7Zm9yKG49YS52YWthdGEuYXJyYXlfdW5pcXVlKG4pLG89MCxwPW4ubGVuZ3RoO3A+bztvKyspbltvXSE9PWEuanN0cmVlLnJvb3QmJmtbbltvXV0mJnRoaXMub3Blbl9ub2RlKG5bb10sbnVsbCwwKT09PSEwJiZ0aGlzLl9kYXRhLnNlYXJjaC5vcG4ucHVzaChuW29dKTtnPyh0aGlzLl9kYXRhLnNlYXJjaC5kb209dGhpcy5fZGF0YS5zZWFyY2guZG9tLmFkZChhKHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCIjIithLm1hcChtLGZ1bmN0aW9uKGIpe3JldHVybi0xIT09IjAxMjM0NTY3ODkiLmluZGV4T2YoYlswXSk/IlxcMyIrYlswXSsiICIrYi5zdWJzdHIoMSkucmVwbGFjZShhLmpzdHJlZS5pZHJlZ2V4LCJcXCQmIik6Yi5yZXBsYWNlKGEuanN0cmVlLmlkcmVnZXgsIlxcJCYiKX0pLmpvaW4oIiwgIyIpKSkpLHRoaXMuX2RhdGEuc2VhcmNoLnJlcz1hLnZha2F0YS5hcnJheV91bmlxdWUodGhpcy5fZGF0YS5zZWFyY2gucmVzLmNvbmNhdChtKSkpOih0aGlzLl9kYXRhLnNlYXJjaC5kb209YSh0aGlzLmVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgiIyIrYS5tYXAobSxmdW5jdGlvbihiKXtyZXR1cm4tMSE9PSIwMTIzNDU2Nzg5Ii5pbmRleE9mKGJbMF0pPyJcXDMiK2JbMF0rIiAiK2Iuc3Vic3RyKDEpLnJlcGxhY2UoYS5qc3RyZWUuaWRyZWdleCwiXFwkJiIpOmIucmVwbGFjZShhLmpzdHJlZS5pZHJlZ2V4LCJcXCQmIil9KS5qb2luKCIsICMiKSkpLHRoaXMuX2RhdGEuc2VhcmNoLnJlcz1tKSx0aGlzLl9kYXRhLnNlYXJjaC5kb20uY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuYWRkQ2xhc3MoImpzdHJlZS1zZWFyY2giKX10aGlzLnRyaWdnZXIoInNlYXJjaCIse25vZGVzOnRoaXMuX2RhdGEuc2VhcmNoLmRvbSxzdHI6YyxyZXM6dGhpcy5fZGF0YS5zZWFyY2gucmVzLHNob3dfb25seV9tYXRjaGVzOmV9KX0sdGhpcy5jbGVhcl9zZWFyY2g9ZnVuY3Rpb24oKXt0aGlzLnNldHRpbmdzLnNlYXJjaC5jbG9zZV9vcGVuZWRfb25jbGVhciYmdGhpcy5jbG9zZV9ub2RlKHRoaXMuX2RhdGEuc2VhcmNoLm9wbiwwKSx0aGlzLnRyaWdnZXIoImNsZWFyX3NlYXJjaCIse25vZGVzOnRoaXMuX2RhdGEuc2VhcmNoLmRvbSxzdHI6dGhpcy5fZGF0YS5zZWFyY2guc3RyLHJlczp0aGlzLl9kYXRhLnNlYXJjaC5yZXN9KSx0aGlzLl9kYXRhLnNlYXJjaC5yZXMubGVuZ3RoJiYodGhpcy5fZGF0YS5zZWFyY2guZG9tPWEodGhpcy5lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoIiMiK2EubWFwKHRoaXMuX2RhdGEuc2VhcmNoLnJlcyxmdW5jdGlvbihiKXtyZXR1cm4tMSE9PSIwMTIzNDU2Nzg5Ii5pbmRleE9mKGJbMF0pPyJcXDMiK2JbMF0rIiAiK2Iuc3Vic3RyKDEpLnJlcGxhY2UoYS5qc3RyZWUuaWRyZWdleCwiXFwkJiIpOmIucmVwbGFjZShhLmpzdHJlZS5pZHJlZ2V4LCJcXCQmIil9KS5qb2luKCIsICMiKSkpLHRoaXMuX2RhdGEuc2VhcmNoLmRvbS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5yZW1vdmVDbGFzcygianN0cmVlLXNlYXJjaCIpKSx0aGlzLl9kYXRhLnNlYXJjaC5zdHI9IiIsdGhpcy5fZGF0YS5zZWFyY2gucmVzPVtdLHRoaXMuX2RhdGEuc2VhcmNoLm9wbj1bXSx0aGlzLl9kYXRhLnNlYXJjaC5kb209YSgpfSx0aGlzLnJlZHJhd19ub2RlPWZ1bmN0aW9uKGIsYyxlLGYpe2lmKGI9ZC5yZWRyYXdfbm9kZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksYiYmLTEhPT1hLmluQXJyYXkoYi5pZCx0aGlzLl9kYXRhLnNlYXJjaC5yZXMpKXt2YXIgZyxoLGk9bnVsbDtmb3IoZz0wLGg9Yi5jaGlsZE5vZGVzLmxlbmd0aDtoPmc7ZysrKWlmKGIuY2hpbGROb2Rlc1tnXSYmYi5jaGlsZE5vZGVzW2ddLmNsYXNzTmFtZSYmLTEhPT1iLmNoaWxkTm9kZXNbZ10uY2xhc3NOYW1lLmluZGV4T2YoImpzdHJlZS1hbmNob3IiKSl7aT1iLmNoaWxkTm9kZXNbZ107YnJlYWt9aSYmKGkuY2xhc3NOYW1lKz0iIGpzdHJlZS1zZWFyY2giKX1yZXR1cm4gYn19LGZ1bmN0aW9uKGEpe2EudmFrYXRhLnNlYXJjaD1mdW5jdGlvbihiLGMsZCl7ZD1kfHx7fSxkPWEuZXh0ZW5kKHt9LGEudmFrYXRhLnNlYXJjaC5kZWZhdWx0cyxkKSxkLmZ1enp5IT09ITEmJihkLmZ1enp5PSEwKSxiPWQuY2FzZVNlbnNpdGl2ZT9iOmIudG9Mb3dlckNhc2UoKTt2YXIgZT1kLmxvY2F0aW9uLGY9ZC5kaXN0YW5jZSxnPWQudGhyZXNob2xkLGg9Yi5sZW5ndGgsaSxqLGssbDtyZXR1cm4gaD4zMiYmKGQuZnV6enk9ITEpLGQuZnV6enkmJihpPTE8PGgtMSxqPWZ1bmN0aW9uKCl7dmFyIGE9e30sYz0wO2ZvcihjPTA7aD5jO2MrKylhW2IuY2hhckF0KGMpXT0wO2ZvcihjPTA7aD5jO2MrKylhW2IuY2hhckF0KGMpXXw9MTw8aC1jLTE7cmV0dXJuIGF9KCksaz1mdW5jdGlvbihhLGIpe3ZhciBjPWEvaCxkPU1hdGguYWJzKGUtYik7cmV0dXJuIGY/YytkL2Y6ZD8xOmN9KSxsPWZ1bmN0aW9uKGEpe2lmKGE9ZC5jYXNlU2Vuc2l0aXZlP2E6YS50b0xvd2VyQ2FzZSgpLGI9PT1hfHwtMSE9PWEuaW5kZXhPZihiKSlyZXR1cm57aXNNYXRjaDohMCxzY29yZTowfTtpZighZC5mdXp6eSlyZXR1cm57aXNNYXRjaDohMSxzY29yZToxfTt2YXIgYyxmLGw9YS5sZW5ndGgsbT1nLG49YS5pbmRleE9mKGIsZSksbyxwLHE9aCtsLHIscyx0LHUsdix3PTEseD1bXTtmb3IoLTEhPT1uJiYobT1NYXRoLm1pbihrKDAsbiksbSksbj1hLmxhc3RJbmRleE9mKGIsZStoKSwtMSE9PW4mJihtPU1hdGgubWluKGsoMCxuKSxtKSkpLG49LTEsYz0wO2g+YztjKyspe289MCxwPXE7d2hpbGUocD5vKWsoYyxlK3ApPD1tP289cDpxPXAscD1NYXRoLmZsb29yKChxLW8pLzIrbyk7Zm9yKHE9cCxzPU1hdGgubWF4KDEsZS1wKzEpLHQ9TWF0aC5taW4oZStwLGwpK2gsdT1uZXcgQXJyYXkodCsyKSx1W3QrMV09KDE8PGMpLTEsZj10O2Y+PXM7Zi0tKWlmKHY9althLmNoYXJBdChmLTEpXSwwPT09Yz91W2ZdPSh1W2YrMV08PDF8MSkmdjp1W2ZdPSh1W2YrMV08PDF8MSkmdnwoKHJbZisxXXxyW2ZdKTw8MXwxKXxyW2YrMV0sdVtmXSZpJiYodz1rKGMsZi0xKSxtPj13KSl7aWYobT13LG49Zi0xLHgucHVzaChuKSwhKG4+ZSkpYnJlYWs7cz1NYXRoLm1heCgxLDIqZS1uKX1pZihrKGMrMSxlKT5tKWJyZWFrO3I9dX1yZXR1cm57aXNNYXRjaDpuPj0wLHNjb3JlOnd9fSxjPT09ITA/e3NlYXJjaDpsfTpsKGMpfSxhLnZha2F0YS5zZWFyY2guZGVmYXVsdHM9e2xvY2F0aW9uOjAsZGlzdGFuY2U6MTAwLHRocmVzaG9sZDouNixmdXp6eTohMSxjYXNlU2Vuc2l0aXZlOiExfX0oYSksYS5qc3RyZWUuZGVmYXVsdHMuc29ydD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdldF90ZXh0KGEpPnRoaXMuZ2V0X3RleHQoYik/MTotMX0sYS5qc3RyZWUucGx1Z2lucy5zb3J0PWZ1bmN0aW9uKGIsYyl7dGhpcy5iaW5kPWZ1bmN0aW9uKCl7Yy5iaW5kLmNhbGwodGhpcyksdGhpcy5lbGVtZW50Lm9uKCJtb2RlbC5qc3RyZWUiLGEucHJveHkoZnVuY3Rpb24oYSxiKXt0aGlzLnNvcnQoYi5wYXJlbnQsITApfSx0aGlzKSkub24oInJlbmFtZV9ub2RlLmpzdHJlZSBjcmVhdGVfbm9kZS5qc3RyZWUiLGEucHJveHkoZnVuY3Rpb24oYSxiKXt0aGlzLnNvcnQoYi5wYXJlbnR8fGIubm9kZS5wYXJlbnQsITEpLHRoaXMucmVkcmF3X25vZGUoYi5wYXJlbnR8fGIubm9kZS5wYXJlbnQsITApfSx0aGlzKSkub24oIm1vdmVfbm9kZS5qc3RyZWUgY29weV9ub2RlLmpzdHJlZSIsYS5wcm94eShmdW5jdGlvbihhLGIpe3RoaXMuc29ydChiLnBhcmVudCwhMSksdGhpcy5yZWRyYXdfbm9kZShiLnBhcmVudCwhMCl9LHRoaXMpKX0sdGhpcy5zb3J0PWZ1bmN0aW9uKGIsYyl7dmFyIGQsZTtpZihiPXRoaXMuZ2V0X25vZGUoYiksYiYmYi5jaGlsZHJlbiYmYi5jaGlsZHJlbi5sZW5ndGgmJihiLmNoaWxkcmVuLnNvcnQoYS5wcm94eSh0aGlzLnNldHRpbmdzLnNvcnQsdGhpcykpLGMpKWZvcihkPTAsZT1iLmNoaWxkcmVuX2QubGVuZ3RoO2U+ZDtkKyspdGhpcy5zb3J0KGIuY2hpbGRyZW5fZFtkXSwhMSl9fTt2YXIgbT0hMTthLmpzdHJlZS5kZWZhdWx0cy5zdGF0ZT17a2V5OiJqc3RyZWUiLGV2ZW50czoiY2hhbmdlZC5qc3RyZWUgb3Blbl9ub2RlLmpzdHJlZSBjbG9zZV9ub2RlLmpzdHJlZSBjaGVja19ub2RlLmpzdHJlZSB1bmNoZWNrX25vZGUuanN0cmVlIix0dGw6ITEsZmlsdGVyOiExfSxhLmpzdHJlZS5wbHVnaW5zLnN0YXRlPWZ1bmN0aW9uKGIsYyl7dGhpcy5iaW5kPWZ1bmN0aW9uKCl7Yy5iaW5kLmNhbGwodGhpcyk7dmFyIGI9YS5wcm94eShmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5vbih0aGlzLnNldHRpbmdzLnN0YXRlLmV2ZW50cyxhLnByb3h5KGZ1bmN0aW9uKCl7bSYmY2xlYXJUaW1lb3V0KG0pLG09c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5zYXZlX3N0YXRlKCl9LHRoaXMpLDEwMCl9LHRoaXMpKSx0aGlzLnRyaWdnZXIoInN0YXRlX3JlYWR5Iil9LHRoaXMpO3RoaXMuZWxlbWVudC5vbigicmVhZHkuanN0cmVlIixhLnByb3h5KGZ1bmN0aW9uKGEsYyl7dGhpcy5lbGVtZW50Lm9uZSgicmVzdG9yZV9zdGF0ZS5qc3RyZWUiLGIpLHRoaXMucmVzdG9yZV9zdGF0ZSgpfHxiKCl9LHRoaXMpKX0sdGhpcy5zYXZlX3N0YXRlPWZ1bmN0aW9uKCl7dmFyIGI9e3N0YXRlOnRoaXMuZ2V0X3N0YXRlKCksdHRsOnRoaXMuc2V0dGluZ3Muc3RhdGUudHRsLHNlYzorbmV3IERhdGV9O2EudmFrYXRhLnN0b3JhZ2Uuc2V0KHRoaXMuc2V0dGluZ3Muc3RhdGUua2V5LEpTT04uc3RyaW5naWZ5KGIpKX0sdGhpcy5yZXN0b3JlX3N0YXRlPWZ1bmN0aW9uKCl7dmFyIGI9YS52YWthdGEuc3RvcmFnZS5nZXQodGhpcy5zZXR0aW5ncy5zdGF0ZS5rZXkpO2lmKGIpdHJ5e2I9SlNPTi5wYXJzZShiKX1jYXRjaChjKXtyZXR1cm4hMX1yZXR1cm4gYiYmYi50dGwmJmIuc2VjJiYrbmV3IERhdGUtYi5zZWM+Yi50dGw/ITE6KGImJmIuc3RhdGUmJihiPWIuc3RhdGUpLGImJmEuaXNGdW5jdGlvbih0aGlzLnNldHRpbmdzLnN0YXRlLmZpbHRlcikmJihiPXRoaXMuc2V0dGluZ3Muc3RhdGUuZmlsdGVyLmNhbGwodGhpcyxiKSksYj8odGhpcy5lbGVtZW50Lm9uZSgic2V0X3N0YXRlLmpzdHJlZSIsZnVuY3Rpb24oYyxkKXtkLmluc3RhbmNlLnRyaWdnZXIoInJlc3RvcmVfc3RhdGUiLHtzdGF0ZTphLmV4dGVuZCghMCx7fSxiKX0pfSksdGhpcy5zZXRfc3RhdGUoYiksITApOiExKX0sdGhpcy5jbGVhcl9zdGF0ZT1mdW5jdGlvbigpe3JldHVybiBhLnZha2F0YS5zdG9yYWdlLmRlbCh0aGlzLnNldHRpbmdzLnN0YXRlLmtleSl9fSxmdW5jdGlvbihhLGIpe2EudmFrYXRhLnN0b3JhZ2U9e3NldDpmdW5jdGlvbihhLGIpe3JldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oYSxiKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oYSl9LGRlbDpmdW5jdGlvbihhKXtyZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGEpfX19KGEpLGEuanN0cmVlLmRlZmF1bHRzLnR5cGVzPXsiZGVmYXVsdCI6e319LGEuanN0cmVlLmRlZmF1bHRzLnR5cGVzW2EuanN0cmVlLnJvb3RdPXt9LGEuanN0cmVlLnBsdWdpbnMudHlwZXM9ZnVuY3Rpb24oYyxkKXt0aGlzLmluaXQ9ZnVuY3Rpb24oYyxlKXt2YXIgZixnO2lmKGUmJmUudHlwZXMmJmUudHlwZXNbImRlZmF1bHQiXSlmb3IoZiBpbiBlLnR5cGVzKWlmKCJkZWZhdWx0IiE9PWYmJmYhPT1hLmpzdHJlZS5yb290JiZlLnR5cGVzLmhhc093blByb3BlcnR5KGYpKWZvcihnIGluIGUudHlwZXNbImRlZmF1bHQiXSllLnR5cGVzWyJkZWZhdWx0Il0uaGFzT3duUHJvcGVydHkoZykmJmUudHlwZXNbZl1bZ109PT1iJiYoZS50eXBlc1tmXVtnXT1lLnR5cGVzWyJkZWZhdWx0Il1bZ10pO2QuaW5pdC5jYWxsKHRoaXMsYyxlKSx0aGlzLl9tb2RlbC5kYXRhW2EuanN0cmVlLnJvb3RdLnR5cGU9YS5qc3RyZWUucm9vdH0sdGhpcy5yZWZyZXNoPWZ1bmN0aW9uKGIsYyl7ZC5yZWZyZXNoLmNhbGwodGhpcyxiLGMpLHRoaXMuX21vZGVsLmRhdGFbYS5qc3RyZWUucm9vdF0udHlwZT1hLmpzdHJlZS5yb290fSx0aGlzLmJpbmQ9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQub24oIm1vZGVsLmpzdHJlZSIsYS5wcm94eShmdW5jdGlvbihjLGQpe3ZhciBlPXRoaXMuX21vZGVsLmRhdGEsZj1kLm5vZGVzLGc9dGhpcy5zZXR0aW5ncy50eXBlcyxoLGksaj0iZGVmYXVsdCIsaztmb3IoaD0wLGk9Zi5sZW5ndGg7aT5oO2grKyl7aWYoaj0iZGVmYXVsdCIsZVtmW2hdXS5vcmlnaW5hbCYmZVtmW2hdXS5vcmlnaW5hbC50eXBlJiZnW2VbZltoXV0ub3JpZ2luYWwudHlwZV0mJihqPWVbZltoXV0ub3JpZ2luYWwudHlwZSksZVtmW2hdXS5kYXRhJiZlW2ZbaF1dLmRhdGEuanN0cmVlJiZlW2ZbaF1dLmRhdGEuanN0cmVlLnR5cGUmJmdbZVtmW2hdXS5kYXRhLmpzdHJlZS50eXBlXSYmKGo9ZVtmW2hdXS5kYXRhLmpzdHJlZS50eXBlKSxlW2ZbaF1dLnR5cGU9aixlW2ZbaF1dLmljb249PT0hMCYmZ1tqXS5pY29uIT09YiYmKGVbZltoXV0uaWNvbj1nW2pdLmljb24pLGdbal0ubGlfYXR0ciE9PWImJiJvYmplY3QiPT10eXBlb2YgZ1tqXS5saV9hdHRyKWZvcihrIGluIGdbal0ubGlfYXR0cilpZihnW2pdLmxpX2F0dHIuaGFzT3duUHJvcGVydHkoaykpe2lmKCJpZCI9PT1rKWNvbnRpbnVlO2VbZltoXV0ubGlfYXR0cltrXT09PWI/ZVtmW2hdXS5saV9hdHRyW2tdPWdbal0ubGlfYXR0cltrXToiY2xhc3MiPT09ayYmKGVbZltoXV0ubGlfYXR0clsiY2xhc3MiXT1nW2pdLmxpX2F0dHJbImNsYXNzIl0rIiAiK2VbZltoXV0ubGlfYXR0clsiY2xhc3MiXSl9aWYoZ1tqXS5hX2F0dHIhPT1iJiYib2JqZWN0Ij09dHlwZW9mIGdbal0uYV9hdHRyKWZvcihrIGluIGdbal0uYV9hdHRyKWlmKGdbal0uYV9hdHRyLmhhc093blByb3BlcnR5KGspKXtpZigiaWQiPT09ayljb250aW51ZTtlW2ZbaF1dLmFfYXR0cltrXT09PWI/ZVtmW2hdXS5hX2F0dHJba109Z1tqXS5hX2F0dHJba106ImhyZWYiPT09ayYmIiMiPT09ZVtmW2hdXS5hX2F0dHJba10/ZVtmW2hdXS5hX2F0dHIuaHJlZj1nW2pdLmFfYXR0ci5ocmVmOiJjbGFzcyI9PT1rJiYoZVtmW2hdXS5hX2F0dHJbImNsYXNzIl09Z1tqXS5hX2F0dHJbImNsYXNzIl0rIiAiK2VbZltoXV0uYV9hdHRyWyJjbGFzcyJdKX19ZVthLmpzdHJlZS5yb290XS50eXBlPWEuanN0cmVlLnJvb3R9LHRoaXMpKSxkLmJpbmQuY2FsbCh0aGlzKX0sdGhpcy5nZXRfanNvbj1mdW5jdGlvbihiLGMsZSl7dmFyIGYsZyxoPXRoaXMuX21vZGVsLmRhdGEsaT1jP2EuZXh0ZW5kKCEwLHt9LGMse25vX2lkOiExfSk6e30saj1kLmdldF9qc29uLmNhbGwodGhpcyxiLGksZSk7aWYoaj09PSExKXJldHVybiExO2lmKGEuaXNBcnJheShqKSlmb3IoZj0wLGc9ai5sZW5ndGg7Zz5mO2YrKylqW2ZdLnR5cGU9altmXS5pZCYmaFtqW2ZdLmlkXSYmaFtqW2ZdLmlkXS50eXBlP2hbaltmXS5pZF0udHlwZToiZGVmYXVsdCIsYyYmYy5ub19pZCYmKGRlbGV0ZSBqW2ZdLmlkLGpbZl0ubGlfYXR0ciYmaltmXS5saV9hdHRyLmlkJiZkZWxldGUgaltmXS5saV9hdHRyLmlkLGpbZl0uYV9hdHRyJiZqW2ZdLmFfYXR0ci5pZCYmZGVsZXRlIGpbZl0uYV9hdHRyLmlkKTtlbHNlIGoudHlwZT1qLmlkJiZoW2ouaWRdJiZoW2ouaWRdLnR5cGU/aFtqLmlkXS50eXBlOiJkZWZhdWx0IixjJiZjLm5vX2lkJiYoaj10aGlzLl9kZWxldGVfaWRzKGopKTtyZXR1cm4gan0sdGhpcy5fZGVsZXRlX2lkcz1mdW5jdGlvbihiKXtpZihhLmlzQXJyYXkoYikpe2Zvcih2YXIgYz0wLGQ9Yi5sZW5ndGg7ZD5jO2MrKyliW2NdPXRoaXMuX2RlbGV0ZV9pZHMoYltjXSk7cmV0dXJuIGJ9cmV0dXJuIGRlbGV0ZSBiLmlkLGIubGlfYXR0ciYmYi5saV9hdHRyLmlkJiZkZWxldGUgYi5saV9hdHRyLmlkLGIuYV9hdHRyJiZiLmFfYXR0ci5pZCYmZGVsZXRlIGIuYV9hdHRyLmlkLGIuY2hpbGRyZW4mJmEuaXNBcnJheShiLmNoaWxkcmVuKSYmKGIuY2hpbGRyZW49dGhpcy5fZGVsZXRlX2lkcyhiLmNoaWxkcmVuKSksYn0sdGhpcy5jaGVjaz1mdW5jdGlvbihjLGUsZixnLGgpe2lmKGQuY2hlY2suY2FsbCh0aGlzLGMsZSxmLGcsaCk9PT0hMSlyZXR1cm4hMTtlPWUmJmUuaWQ/ZTp0aGlzLmdldF9ub2RlKGUpLGY9ZiYmZi5pZD9mOnRoaXMuZ2V0X25vZGUoZik7dmFyIGk9ZSYmZS5pZD9oJiZoLm9yaWdpbj9oLm9yaWdpbjphLmpzdHJlZS5yZWZlcmVuY2UoZS5pZCk6bnVsbCxqLGssbCxtO3N3aXRjaChpPWkmJmkuX21vZGVsJiZpLl9tb2RlbC5kYXRhP2kuX21vZGVsLmRhdGE6bnVsbCxjKXtjYXNlImNyZWF0ZV9ub2RlIjpjYXNlIm1vdmVfbm9kZSI6Y2FzZSJjb3B5X25vZGUiOmlmKCJtb3ZlX25vZGUiIT09Y3x8LTE9PT1hLmluQXJyYXkoZS5pZCxmLmNoaWxkcmVuKSl7aWYoaj10aGlzLmdldF9ydWxlcyhmKSxqLm1heF9jaGlsZHJlbiE9PWImJi0xIT09ai5tYXhfY2hpbGRyZW4mJmoubWF4X2NoaWxkcmVuPT09Zi5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuIHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiY2hlY2siLHBsdWdpbjoidHlwZXMiLGlkOiJ0eXBlc18wMSIscmVhc29uOiJtYXhfY2hpbGRyZW4gcHJldmVudHMgZnVuY3Rpb246ICIrYyxkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6Yyxwb3M6ZyxvYmo6ZSYmZS5pZD9lLmlkOiExLHBhcjpmJiZmLmlkP2YuaWQ6ITF9KX0sITE7aWYoai52YWxpZF9jaGlsZHJlbiE9PWImJi0xIT09ai52YWxpZF9jaGlsZHJlbiYmLTE9PT1hLmluQXJyYXkoZS50eXBlfHwiZGVmYXVsdCIsai52YWxpZF9jaGlsZHJlbikpcmV0dXJuIHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiY2hlY2siLHBsdWdpbjoidHlwZXMiLGlkOiJ0eXBlc18wMiIscmVhc29uOiJ2YWxpZF9jaGlsZHJlbiBwcmV2ZW50cyBmdW5jdGlvbjogIitjLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2NoazpjLHBvczpnLG9iajplJiZlLmlkP2UuaWQ6ITEscGFyOmYmJmYuaWQ/Zi5pZDohMX0pfSwhMTtpZihpJiZlLmNoaWxkcmVuX2QmJmUucGFyZW50cyl7Zm9yKGs9MCxsPTAsbT1lLmNoaWxkcmVuX2QubGVuZ3RoO20+bDtsKyspaz1NYXRoLm1heChrLGlbZS5jaGlsZHJlbl9kW2xdXS5wYXJlbnRzLmxlbmd0aCk7az1rLWUucGFyZW50cy5sZW5ndGgrMX0oMD49a3x8az09PWIpJiYoaz0xKTtkb3tpZihqLm1heF9kZXB0aCE9PWImJi0xIT09ai5tYXhfZGVwdGgmJmoubWF4X2RlcHRoPGspcmV0dXJuIHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiY2hlY2siLHBsdWdpbjoidHlwZXMiLGlkOiJ0eXBlc18wMyIscmVhc29uOiJtYXhfZGVwdGggcHJldmVudHMgZnVuY3Rpb246ICIrYyxkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6Yyxwb3M6ZyxvYmo6ZSYmZS5pZD9lLmlkOiExLHBhcjpmJiZmLmlkP2YuaWQ6ITF9KX0sITE7Zj10aGlzLmdldF9ub2RlKGYucGFyZW50KSxqPXRoaXMuZ2V0X3J1bGVzKGYpLGsrK313aGlsZShmKX19cmV0dXJuITB9LHRoaXMuZ2V0X3J1bGVzPWZ1bmN0aW9uKGEpe2lmKGE9dGhpcy5nZXRfbm9kZShhKSwhYSlyZXR1cm4hMTt2YXIgYz10aGlzLmdldF90eXBlKGEsITApO3JldHVybiBjLm1heF9kZXB0aD09PWImJihjLm1heF9kZXB0aD0tMSksYy5tYXhfY2hpbGRyZW49PT1iJiYoYy5tYXhfY2hpbGRyZW49LTEpLGMudmFsaWRfY2hpbGRyZW49PT1iJiYoYy52YWxpZF9jaGlsZHJlbj0tMSksY30sdGhpcy5nZXRfdHlwZT1mdW5jdGlvbihiLGMpe3JldHVybiBiPXRoaXMuZ2V0X25vZGUoYiksYj9jP2EuZXh0ZW5kKHt0eXBlOmIudHlwZX0sdGhpcy5zZXR0aW5ncy50eXBlc1tiLnR5cGVdKTpiLnR5cGU6ITF9LHRoaXMuc2V0X3R5cGU9ZnVuY3Rpb24oYyxkKXt2YXIgZT10aGlzLl9tb2RlbC5kYXRhLGYsZyxoLGksaixrLGwsbTtpZihhLmlzQXJyYXkoYykpe2ZvcihjPWMuc2xpY2UoKSxnPTAsaD1jLmxlbmd0aDtoPmc7ZysrKXRoaXMuc2V0X3R5cGUoY1tnXSxkKTtyZXR1cm4hMH1pZihmPXRoaXMuc2V0dGluZ3MudHlwZXMsYz10aGlzLmdldF9ub2RlKGMpLCFmW2RdfHwhYylyZXR1cm4hMTtpZihsPXRoaXMuZ2V0X25vZGUoYywhMCksbCYmbC5sZW5ndGgmJihtPWwuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikpLGk9Yy50eXBlLGo9dGhpcy5nZXRfaWNvbihjKSxjLnR5cGU9ZCwoaj09PSEwfHwhZltpXXx8ZltpXS5pY29uIT09YiYmaj09PWZbaV0uaWNvbikmJnRoaXMuc2V0X2ljb24oYyxmW2RdLmljb24hPT1iP2ZbZF0uaWNvbjohMCksZltpXSYmZltpXS5saV9hdHRyIT09YiYmIm9iamVjdCI9PXR5cGVvZiBmW2ldLmxpX2F0dHIpZm9yKGsgaW4gZltpXS5saV9hdHRyKWlmKGZbaV0ubGlfYXR0ci5oYXNPd25Qcm9wZXJ0eShrKSl7aWYoImlkIj09PWspY29udGludWU7ImNsYXNzIj09PWs/KGVbYy5pZF0ubGlfYXR0clsiY2xhc3MiXT0oZVtjLmlkXS5saV9hdHRyWyJjbGFzcyJdfHwiIikucmVwbGFjZShmW2ldLmxpX2F0dHJba10sIiIpLGwmJmwucmVtb3ZlQ2xhc3MoZltpXS5saV9hdHRyW2tdKSk6ZVtjLmlkXS5saV9hdHRyW2tdPT09ZltpXS5saV9hdHRyW2tdJiYoZVtjLmlkXS5saV9hdHRyW2tdPW51bGwsbCYmbC5yZW1vdmVBdHRyKGspKX1pZihmW2ldJiZmW2ldLmFfYXR0ciE9PWImJiJvYmplY3QiPT10eXBlb2YgZltpXS5hX2F0dHIpZm9yKGsgaW4gZltpXS5hX2F0dHIpaWYoZltpXS5hX2F0dHIuaGFzT3duUHJvcGVydHkoaykpe2lmKCJpZCI9PT1rKWNvbnRpbnVlOyJjbGFzcyI9PT1rPyhlW2MuaWRdLmFfYXR0clsiY2xhc3MiXT0oZVtjLmlkXS5hX2F0dHJbImNsYXNzIl18fCIiKS5yZXBsYWNlKGZbaV0uYV9hdHRyW2tdLCIiKSxtJiZtLnJlbW92ZUNsYXNzKGZbaV0uYV9hdHRyW2tdKSk6ZVtjLmlkXS5hX2F0dHJba109PT1mW2ldLmFfYXR0cltrXSYmKCJocmVmIj09PWs/KGVbYy5pZF0uYV9hdHRyW2tdPSIjIixtJiZtLmF0dHIoImhyZWYiLCIjIikpOihkZWxldGUgZVtjLmlkXS5hX2F0dHJba10sbSYmbS5yZW1vdmVBdHRyKGspKSl9aWYoZltkXS5saV9hdHRyIT09YiYmIm9iamVjdCI9PXR5cGVvZiBmW2RdLmxpX2F0dHIpZm9yKGsgaW4gZltkXS5saV9hdHRyKWlmKGZbZF0ubGlfYXR0ci5oYXNPd25Qcm9wZXJ0eShrKSl7aWYoImlkIj09PWspY29udGludWU7ZVtjLmlkXS5saV9hdHRyW2tdPT09Yj8oZVtjLmlkXS5saV9hdHRyW2tdPWZbZF0ubGlfYXR0cltrXSxsJiYoImNsYXNzIj09PWs/bC5hZGRDbGFzcyhmW2RdLmxpX2F0dHJba10pOmwuYXR0cihrLGZbZF0ubGlfYXR0cltrXSkpKToiY2xhc3MiPT09ayYmKGVbYy5pZF0ubGlfYXR0clsiY2xhc3MiXT1mW2RdLmxpX2F0dHJba10rIiAiK2VbYy5pZF0ubGlfYXR0clsiY2xhc3MiXSxsJiZsLmFkZENsYXNzKGZbZF0ubGlfYXR0cltrXSkpfWlmKGZbZF0uYV9hdHRyIT09YiYmIm9iamVjdCI9PXR5cGVvZiBmW2RdLmFfYXR0cilmb3IoayBpbiBmW2RdLmFfYXR0cilpZihmW2RdLmFfYXR0ci5oYXNPd25Qcm9wZXJ0eShrKSl7aWYoImlkIj09PWspY29udGludWU7ZVtjLmlkXS5hX2F0dHJba109PT1iPyhlW2MuaWRdLmFfYXR0cltrXT1mW2RdLmFfYXR0cltrXSxtJiYoImNsYXNzIj09PWs/bS5hZGRDbGFzcyhmW2RdLmFfYXR0cltrXSk6bS5hdHRyKGssZltkXS5hX2F0dHJba10pKSk6ImhyZWYiPT09ayYmIiMiPT09ZVtjLmlkXS5hX2F0dHJba10/KGVbYy5pZF0uYV9hdHRyLmhyZWY9ZltkXS5hX2F0dHIuaHJlZixtJiZtLmF0dHIoImhyZWYiLGZbZF0uYV9hdHRyLmhyZWYpKToiY2xhc3MiPT09ayYmKGVbYy5pZF0uYV9hdHRyWyJjbGFzcyJdPWZbZF0uYV9hdHRyWyJjbGFzcyJdKyIgIitlW2MuaWRdLmFfYXR0clsiY2xhc3MiXSxtJiZtLmFkZENsYXNzKGZbZF0uYV9hdHRyW2tdKSl9cmV0dXJuITB9fSxhLmpzdHJlZS5kZWZhdWx0cy51bmlxdWU9e2Nhc2Vfc2Vuc2l0aXZlOiExLGR1cGxpY2F0ZTpmdW5jdGlvbihhLGIpe3JldHVybiBhKyIgKCIrYisiKSJ9fSxhLmpzdHJlZS5wbHVnaW5zLnVuaXF1ZT1mdW5jdGlvbihjLGQpe3RoaXMuY2hlY2s9ZnVuY3Rpb24oYixjLGUsZixnKXtpZihkLmNoZWNrLmNhbGwodGhpcyxiLGMsZSxmLGcpPT09ITEpcmV0dXJuITE7CglpZihjPWMmJmMuaWQ/Yzp0aGlzLmdldF9ub2RlKGMpLGU9ZSYmZS5pZD9lOnRoaXMuZ2V0X25vZGUoZSksIWV8fCFlLmNoaWxkcmVuKXJldHVybiEwO3ZhciBoPSJyZW5hbWVfbm9kZSI9PT1iP2Y6Yy50ZXh0LGk9W10saj10aGlzLnNldHRpbmdzLnVuaXF1ZS5jYXNlX3NlbnNpdGl2ZSxrPXRoaXMuX21vZGVsLmRhdGEsbCxtO2ZvcihsPTAsbT1lLmNoaWxkcmVuLmxlbmd0aDttPmw7bCsrKWkucHVzaChqP2tbZS5jaGlsZHJlbltsXV0udGV4dDprW2UuY2hpbGRyZW5bbF1dLnRleHQudG9Mb3dlckNhc2UoKSk7c3dpdGNoKGp8fChoPWgudG9Mb3dlckNhc2UoKSksYil7Y2FzZSJkZWxldGVfbm9kZSI6cmV0dXJuITA7Y2FzZSJyZW5hbWVfbm9kZSI6cmV0dXJuIGw9LTE9PT1hLmluQXJyYXkoaCxpKXx8Yy50ZXh0JiZjLnRleHRbaj8idG9TdHJpbmciOiJ0b0xvd2VyQ2FzZSJdKCk9PT1oLGx8fCh0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6ImNoZWNrIixwbHVnaW46InVuaXF1ZSIsaWQ6InVuaXF1ZV8wMSIscmVhc29uOiJDaGlsZCB3aXRoIG5hbWUgIitoKyIgYWxyZWFkeSBleGlzdHMuIFByZXZlbnRpbmc6ICIrYixkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6Yixwb3M6ZixvYmo6YyYmYy5pZD9jLmlkOiExLHBhcjplJiZlLmlkP2UuaWQ6ITF9KX0pLGw7Y2FzZSJjcmVhdGVfbm9kZSI6cmV0dXJuIGw9LTE9PT1hLmluQXJyYXkoaCxpKSxsfHwodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOiJjaGVjayIscGx1Z2luOiJ1bmlxdWUiLGlkOiJ1bmlxdWVfMDQiLHJlYXNvbjoiQ2hpbGQgd2l0aCBuYW1lICIraCsiIGFscmVhZHkgZXhpc3RzLiBQcmV2ZW50aW5nOiAiK2IsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOmIscG9zOmYsb2JqOmMmJmMuaWQ/Yy5pZDohMSxwYXI6ZSYmZS5pZD9lLmlkOiExfSl9KSxsO2Nhc2UiY29weV9ub2RlIjpyZXR1cm4gbD0tMT09PWEuaW5BcnJheShoLGkpLGx8fCh0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6ImNoZWNrIixwbHVnaW46InVuaXF1ZSIsaWQ6InVuaXF1ZV8wMiIscmVhc29uOiJDaGlsZCB3aXRoIG5hbWUgIitoKyIgYWxyZWFkeSBleGlzdHMuIFByZXZlbnRpbmc6ICIrYixkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6Yixwb3M6ZixvYmo6YyYmYy5pZD9jLmlkOiExLHBhcjplJiZlLmlkP2UuaWQ6ITF9KX0pLGw7Y2FzZSJtb3ZlX25vZGUiOnJldHVybiBsPWMucGFyZW50PT09ZS5pZCYmKCFnfHwhZy5pc19tdWx0aSl8fC0xPT09YS5pbkFycmF5KGgsaSksbHx8KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiY2hlY2siLHBsdWdpbjoidW5pcXVlIixpZDoidW5pcXVlXzAzIixyZWFzb246IkNoaWxkIHdpdGggbmFtZSAiK2grIiBhbHJlYWR5IGV4aXN0cy4gUHJldmVudGluZzogIitiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2NoazpiLHBvczpmLG9iajpjJiZjLmlkP2MuaWQ6ITEscGFyOmUmJmUuaWQ/ZS5pZDohMX0pfSksbH1yZXR1cm4hMH0sdGhpcy5jcmVhdGVfbm9kZT1mdW5jdGlvbihjLGUsZixnLGgpe2lmKCFlfHxlLnRleHQ9PT1iKXtpZihudWxsPT09YyYmKGM9YS5qc3RyZWUucm9vdCksYz10aGlzLmdldF9ub2RlKGMpLCFjKXJldHVybiBkLmNyZWF0ZV9ub2RlLmNhbGwodGhpcyxjLGUsZixnLGgpO2lmKGY9Zj09PWI/Imxhc3QiOmYsIWYudG9TdHJpbmcoKS5tYXRjaCgvXihiZWZvcmV8YWZ0ZXIpJC8pJiYhaCYmIXRoaXMuaXNfbG9hZGVkKGMpKXJldHVybiBkLmNyZWF0ZV9ub2RlLmNhbGwodGhpcyxjLGUsZixnLGgpO2V8fChlPXt9KTt2YXIgaSxqLGssbCxtLG49dGhpcy5fbW9kZWwuZGF0YSxvPXRoaXMuc2V0dGluZ3MudW5pcXVlLmNhc2Vfc2Vuc2l0aXZlLHA9dGhpcy5zZXR0aW5ncy51bmlxdWUuZHVwbGljYXRlO2ZvcihqPWk9dGhpcy5nZXRfc3RyaW5nKCJOZXcgbm9kZSIpLGs9W10sbD0wLG09Yy5jaGlsZHJlbi5sZW5ndGg7bT5sO2wrKylrLnB1c2gobz9uW2MuY2hpbGRyZW5bbF1dLnRleHQ6bltjLmNoaWxkcmVuW2xdXS50ZXh0LnRvTG93ZXJDYXNlKCkpO2w9MTt3aGlsZSgtMSE9PWEuaW5BcnJheShvP2o6ai50b0xvd2VyQ2FzZSgpLGspKWo9cC5jYWxsKHRoaXMsaSwrK2wpLnRvU3RyaW5nKCk7ZS50ZXh0PWp9cmV0dXJuIGQuY3JlYXRlX25vZGUuY2FsbCh0aGlzLGMsZSxmLGcsaCl9fTt2YXIgbj1pLmNyZWF0ZUVsZW1lbnQoIkRJViIpO2lmKG4uc2V0QXR0cmlidXRlKCJ1bnNlbGVjdGFibGUiLCJvbiIpLG4uc2V0QXR0cmlidXRlKCJyb2xlIiwicHJlc2VudGF0aW9uIiksbi5jbGFzc05hbWU9ImpzdHJlZS13aG9sZXJvdyIsbi5pbm5lckhUTUw9IiYjMTYwOyIsYS5qc3RyZWUucGx1Z2lucy53aG9sZXJvdz1mdW5jdGlvbihiLGMpe3RoaXMuYmluZD1mdW5jdGlvbigpe2MuYmluZC5jYWxsKHRoaXMpLHRoaXMuZWxlbWVudC5vbigicmVhZHkuanN0cmVlIHNldF9zdGF0ZS5qc3RyZWUiLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmhpZGVfZG90cygpfSx0aGlzKSkub24oImluaXQuanN0cmVlIGxvYWRpbmcuanN0cmVlIHJlYWR5LmpzdHJlZSIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmFkZENsYXNzKCJqc3RyZWUtd2hvbGVyb3ctdWwiKX0sdGhpcykpLm9uKCJkZXNlbGVjdF9hbGwuanN0cmVlIixhLnByb3h5KGZ1bmN0aW9uKGEsYil7dGhpcy5lbGVtZW50LmZpbmQoIi5qc3RyZWUtd2hvbGVyb3ctY2xpY2tlZCIpLnJlbW92ZUNsYXNzKCJqc3RyZWUtd2hvbGVyb3ctY2xpY2tlZCIpfSx0aGlzKSkub24oImNoYW5nZWQuanN0cmVlIixhLnByb3h5KGZ1bmN0aW9uKGEsYil7dGhpcy5lbGVtZW50LmZpbmQoIi5qc3RyZWUtd2hvbGVyb3ctY2xpY2tlZCIpLnJlbW92ZUNsYXNzKCJqc3RyZWUtd2hvbGVyb3ctY2xpY2tlZCIpO3ZhciBjPSExLGQsZTtmb3IoZD0wLGU9Yi5zZWxlY3RlZC5sZW5ndGg7ZT5kO2QrKyljPXRoaXMuZ2V0X25vZGUoYi5zZWxlY3RlZFtkXSwhMCksYyYmYy5sZW5ndGgmJmMuY2hpbGRyZW4oIi5qc3RyZWUtd2hvbGVyb3ciKS5hZGRDbGFzcygianN0cmVlLXdob2xlcm93LWNsaWNrZWQiKX0sdGhpcykpLm9uKCJvcGVuX25vZGUuanN0cmVlIixhLnByb3h5KGZ1bmN0aW9uKGEsYil7dGhpcy5nZXRfbm9kZShiLm5vZGUsITApLmZpbmQoIi5qc3RyZWUtY2xpY2tlZCIpLnBhcmVudCgpLmNoaWxkcmVuKCIuanN0cmVlLXdob2xlcm93IikuYWRkQ2xhc3MoImpzdHJlZS13aG9sZXJvdy1jbGlja2VkIil9LHRoaXMpKS5vbigiaG92ZXJfbm9kZS5qc3RyZWUgZGVob3Zlcl9ub2RlLmpzdHJlZSIsYS5wcm94eShmdW5jdGlvbihhLGIpeyJob3Zlcl9ub2RlIj09PWEudHlwZSYmdGhpcy5pc19kaXNhYmxlZChiLm5vZGUpfHx0aGlzLmdldF9ub2RlKGIubm9kZSwhMCkuY2hpbGRyZW4oIi5qc3RyZWUtd2hvbGVyb3ciKVsiaG92ZXJfbm9kZSI9PT1hLnR5cGU/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgianN0cmVlLXdob2xlcm93LWhvdmVyZWQiKX0sdGhpcykpLm9uKCJjb250ZXh0bWVudS5qc3RyZWUiLCIuanN0cmVlLXdob2xlcm93IixhLnByb3h5KGZ1bmN0aW9uKGIpe2lmKHRoaXMuX2RhdGEuY29udGV4dG1lbnUpe2IucHJldmVudERlZmF1bHQoKTt2YXIgYz1hLkV2ZW50KCJjb250ZXh0bWVudSIse21ldGFLZXk6Yi5tZXRhS2V5LGN0cmxLZXk6Yi5jdHJsS2V5LGFsdEtleTpiLmFsdEtleSxzaGlmdEtleTpiLnNoaWZ0S2V5LHBhZ2VYOmIucGFnZVgscGFnZVk6Yi5wYWdlWX0pO2EoYi5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCIuanN0cmVlLW5vZGUiKS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5maXJzdCgpLnRyaWdnZXIoYyl9fSx0aGlzKSkub24oImNsaWNrLmpzdHJlZSIsIi5qc3RyZWUtd2hvbGVyb3ciLGZ1bmN0aW9uKGIpe2Iuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dmFyIGM9YS5FdmVudCgiY2xpY2siLHttZXRhS2V5OmIubWV0YUtleSxjdHJsS2V5OmIuY3RybEtleSxhbHRLZXk6Yi5hbHRLZXksc2hpZnRLZXk6Yi5zaGlmdEtleX0pO2EoYi5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCIuanN0cmVlLW5vZGUiKS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5maXJzdCgpLnRyaWdnZXIoYykuZm9jdXMoKX0pLm9uKCJkYmxjbGljay5qc3RyZWUiLCIuanN0cmVlLXdob2xlcm93IixmdW5jdGlvbihiKXtiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO3ZhciBjPWEuRXZlbnQoImRibGNsaWNrIix7bWV0YUtleTpiLm1ldGFLZXksY3RybEtleTpiLmN0cmxLZXksYWx0S2V5OmIuYWx0S2V5LHNoaWZ0S2V5OmIuc2hpZnRLZXl9KTthKGIuY3VycmVudFRhcmdldCkuY2xvc2VzdCgiLmpzdHJlZS1ub2RlIikuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuZmlyc3QoKS50cmlnZ2VyKGMpLmZvY3VzKCl9KS5vbigiY2xpY2suanN0cmVlIiwiLmpzdHJlZS1sZWFmID4gLmpzdHJlZS1vY2wiLGEucHJveHkoZnVuY3Rpb24oYil7Yi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt2YXIgYz1hLkV2ZW50KCJjbGljayIse21ldGFLZXk6Yi5tZXRhS2V5LGN0cmxLZXk6Yi5jdHJsS2V5LGFsdEtleTpiLmFsdEtleSxzaGlmdEtleTpiLnNoaWZ0S2V5fSk7YShiLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoIi5qc3RyZWUtbm9kZSIpLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmZpcnN0KCkudHJpZ2dlcihjKS5mb2N1cygpfSx0aGlzKSkub24oIm1vdXNlb3Zlci5qc3RyZWUiLCIuanN0cmVlLXdob2xlcm93LCAuanN0cmVlLWljb24iLGEucHJveHkoZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5pc19kaXNhYmxlZChhLmN1cnJlbnRUYXJnZXQpfHx0aGlzLmhvdmVyX25vZGUoYS5jdXJyZW50VGFyZ2V0KSwhMX0sdGhpcykpLm9uKCJtb3VzZWxlYXZlLmpzdHJlZSIsIi5qc3RyZWUtbm9kZSIsYS5wcm94eShmdW5jdGlvbihhKXt0aGlzLmRlaG92ZXJfbm9kZShhLmN1cnJlbnRUYXJnZXQpfSx0aGlzKSl9LHRoaXMudGVhcmRvd249ZnVuY3Rpb24oKXt0aGlzLnNldHRpbmdzLndob2xlcm93JiZ0aGlzLmVsZW1lbnQuZmluZCgiLmpzdHJlZS13aG9sZXJvdyIpLnJlbW92ZSgpLGMudGVhcmRvd24uY2FsbCh0aGlzKX0sdGhpcy5yZWRyYXdfbm9kZT1mdW5jdGlvbihiLGQsZSxmKXtpZihiPWMucmVkcmF3X25vZGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKXt2YXIgZz1uLmNsb25lTm9kZSghMCk7LTEhPT1hLmluQXJyYXkoYi5pZCx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQpJiYoZy5jbGFzc05hbWUrPSIganN0cmVlLXdob2xlcm93LWNsaWNrZWQiKSx0aGlzLl9kYXRhLmNvcmUuZm9jdXNlZCYmdGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ9PT1iLmlkJiYoZy5jbGFzc05hbWUrPSIganN0cmVlLXdob2xlcm93LWhvdmVyZWQiKSxiLmluc2VydEJlZm9yZShnLGIuY2hpbGROb2Rlc1swXSl9cmV0dXJuIGJ9fSxpLnJlZ2lzdGVyRWxlbWVudCYmT2JqZWN0JiZPYmplY3QuY3JlYXRlKXt2YXIgbz1PYmplY3QuY3JlYXRlKEhUTUxFbGVtZW50LnByb3RvdHlwZSk7by5jcmVhdGVkQ2FsbGJhY2s9ZnVuY3Rpb24oKXt2YXIgYj17Y29yZTp7fSxwbHVnaW5zOltdfSxjO2ZvcihjIGluIGEuanN0cmVlLnBsdWdpbnMpYS5qc3RyZWUucGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShjKSYmdGhpcy5hdHRyaWJ1dGVzW2NdJiYoYi5wbHVnaW5zLnB1c2goYyksdGhpcy5nZXRBdHRyaWJ1dGUoYykmJkpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoYykpJiYoYltjXT1KU09OLnBhcnNlKHRoaXMuZ2V0QXR0cmlidXRlKGMpKSkpO2ZvcihjIGluIGEuanN0cmVlLmRlZmF1bHRzLmNvcmUpYS5qc3RyZWUuZGVmYXVsdHMuY29yZS5oYXNPd25Qcm9wZXJ0eShjKSYmdGhpcy5hdHRyaWJ1dGVzW2NdJiYoYi5jb3JlW2NdPUpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoYykpfHx0aGlzLmdldEF0dHJpYnV0ZShjKSk7YSh0aGlzKS5qc3RyZWUoYil9O3RyeXtpLnJlZ2lzdGVyRWxlbWVudCgidmFrYXRhLWpzdHJlZSIse3Byb3RvdHlwZTpvfSl9Y2F0Y2gocCl7fX19fSk7CgovKioqLyB9LAovKiA5ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCS8vICAgICBrZXltYXN0ZXIuanMKCS8vICAgICAoYykgMjAxMS0yMDEzIFRob21hcyBGdWNocwoJLy8gICAgIGtleW1hc3Rlci5qcyBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KCgk7KGZ1bmN0aW9uKGdsb2JhbCl7CgkgIHZhciBrLAoJICAgIF9oYW5kbGVycyA9IHt9LAoJICAgIF9tb2RzID0geyAxNjogZmFsc2UsIDE4OiBmYWxzZSwgMTc6IGZhbHNlLCA5MTogZmFsc2UgfSwKCSAgICBfc2NvcGUgPSAnYWxsJywKCSAgICAvLyBtb2RpZmllciBrZXlzCgkgICAgX01PRElGSUVSUyA9IHsKCSAgICAgICfih6cnOiAxNiwgc2hpZnQ6IDE2LAoJICAgICAgJ+KMpSc6IDE4LCBhbHQ6IDE4LCBvcHRpb246IDE4LAoJICAgICAgJ+KMgyc6IDE3LCBjdHJsOiAxNywgY29udHJvbDogMTcsCgkgICAgICAn4oyYJzogOTEsIGNvbW1hbmQ6IDkxCgkgICAgfSwKCSAgICAvLyBzcGVjaWFsIGtleXMKCSAgICBfTUFQID0gewoJICAgICAgYmFja3NwYWNlOiA4LCB0YWI6IDksIGNsZWFyOiAxMiwKCSAgICAgIGVudGVyOiAxMywgJ3JldHVybic6IDEzLAoJICAgICAgZXNjOiAyNywgZXNjYXBlOiAyNywgc3BhY2U6IDMyLAoJICAgICAgbGVmdDogMzcsIHVwOiAzOCwKCSAgICAgIHJpZ2h0OiAzOSwgZG93bjogNDAsCgkgICAgICBkZWw6IDQ2LCAnZGVsZXRlJzogNDYsCgkgICAgICBob21lOiAzNiwgZW5kOiAzNSwKCSAgICAgIHBhZ2V1cDogMzMsIHBhZ2Vkb3duOiAzNCwKCSAgICAgICcsJzogMTg4LCAnLic6IDE5MCwgJy8nOiAxOTEsCgkgICAgICAnYCc6IDE5MiwgJy0nOiAxODksICc9JzogMTg3LAoJICAgICAgJzsnOiAxODYsICdcJyc6IDIyMiwKCSAgICAgICdbJzogMjE5LCAnXSc6IDIyMSwgJ1xcJzogMjIwCgkgICAgfSwKCSAgICBjb2RlID0gZnVuY3Rpb24oeCl7CgkgICAgICByZXR1cm4gX01BUFt4XSB8fCB4LnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKTsKCSAgICB9LAoJICAgIF9kb3duS2V5cyA9IFtdOwoKCSAgZm9yKGs9MTtrPDIwO2srKykgX01BUFsnZicra10gPSAxMTErazsKCgkgIC8vIElFIGRvZXNuJ3Qgc3VwcG9ydCBBcnJheSNpbmRleE9mLCBzbyBoYXZlIGEgc2ltcGxlIHJlcGxhY2VtZW50CgkgIGZ1bmN0aW9uIGluZGV4KGFycmF5LCBpdGVtKXsKCSAgICB2YXIgaSA9IGFycmF5Lmxlbmd0aDsKCSAgICB3aGlsZShpLS0pIGlmKGFycmF5W2ldPT09aXRlbSkgcmV0dXJuIGk7CgkgICAgcmV0dXJuIC0xOwoJICB9CgoJICAvLyBmb3IgY29tcGFyaW5nIG1vZHMgYmVmb3JlIHVuYXNzaWdubWVudAoJICBmdW5jdGlvbiBjb21wYXJlQXJyYXkoYTEsIGEyKSB7CgkgICAgaWYgKGExLmxlbmd0aCAhPSBhMi5sZW5ndGgpIHJldHVybiBmYWxzZTsKCSAgICBmb3IgKHZhciBpID0gMDsgaSA8IGExLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgIGlmIChhMVtpXSAhPT0gYTJbaV0pIHJldHVybiBmYWxzZTsKCSAgICB9CgkgICAgcmV0dXJuIHRydWU7CgkgIH0KCgkgIHZhciBtb2RpZmllck1hcCA9IHsKCSAgICAgIDE2OidzaGlmdEtleScsCgkgICAgICAxODonYWx0S2V5JywKCSAgICAgIDE3OidjdHJsS2V5JywKCSAgICAgIDkxOidtZXRhS2V5JwoJICB9OwoJICBmdW5jdGlvbiB1cGRhdGVNb2RpZmllcktleShldmVudCkgewoJICAgICAgZm9yKGsgaW4gX21vZHMpIF9tb2RzW2tdID0gZXZlbnRbbW9kaWZpZXJNYXBba11dOwoJICB9OwoKCSAgLy8gaGFuZGxlIGtleWRvd24gZXZlbnQKCSAgZnVuY3Rpb24gZGlzcGF0Y2goZXZlbnQpIHsKCSAgICB2YXIga2V5LCBoYW5kbGVyLCBrLCBpLCBtb2RpZmllcnNNYXRjaCwgc2NvcGU7CgkgICAga2V5ID0gZXZlbnQua2V5Q29kZTsKCgkgICAgaWYgKGluZGV4KF9kb3duS2V5cywga2V5KSA9PSAtMSkgewoJICAgICAgICBfZG93bktleXMucHVzaChrZXkpOwoJICAgIH0KCgkgICAgLy8gaWYgYSBtb2RpZmllciBrZXksIHNldCB0aGUga2V5Ljxtb2RpZmllcmtleW5hbWU+IHByb3BlcnR5IHRvIHRydWUgYW5kIHJldHVybgoJICAgIGlmKGtleSA9PSA5MyB8fCBrZXkgPT0gMjI0KSBrZXkgPSA5MTsgLy8gcmlnaHQgY29tbWFuZCBvbiB3ZWJraXQsIGNvbW1hbmQgb24gR2Vja28KCSAgICBpZihrZXkgaW4gX21vZHMpIHsKCSAgICAgIF9tb2RzW2tleV0gPSB0cnVlOwoJICAgICAgLy8gJ2Fzc2lnbktleScgZnJvbSBpbnNpZGUgdGhpcyBjbG9zdXJlIGlzIGV4cG9ydGVkIHRvIHdpbmRvdy5rZXkKCSAgICAgIGZvcihrIGluIF9NT0RJRklFUlMpIGlmKF9NT0RJRklFUlNba10gPT0ga2V5KSBhc3NpZ25LZXlba10gPSB0cnVlOwoJICAgICAgcmV0dXJuOwoJICAgIH0KCSAgICB1cGRhdGVNb2RpZmllcktleShldmVudCk7CgoJICAgIC8vIHNlZSBpZiB3ZSBuZWVkIHRvIGlnbm9yZSB0aGUga2V5cHJlc3MgKGZpbHRlcigpIGNhbiBjYW4gYmUgb3ZlcnJpZGRlbikKCSAgICAvLyBieSBkZWZhdWx0IGlnbm9yZSBrZXkgcHJlc3NlcyBpZiBhIHNlbGVjdCwgdGV4dGFyZWEsIG9yIGlucHV0IGlzIGZvY3VzZWQKCSAgICBpZighYXNzaWduS2V5LmZpbHRlci5jYWxsKHRoaXMsIGV2ZW50KSkgcmV0dXJuOwoKCSAgICAvLyBhYm9ydCBpZiBubyBwb3RlbnRpYWxseSBtYXRjaGluZyBzaG9ydGN1dHMgZm91bmQKCSAgICBpZiAoIShrZXkgaW4gX2hhbmRsZXJzKSkgcmV0dXJuOwoKCSAgICBzY29wZSA9IGdldFNjb3BlKCk7CgoJICAgIC8vIGZvciBlYWNoIHBvdGVudGlhbCBzaG9ydGN1dAoJICAgIGZvciAoaSA9IDA7IGkgPCBfaGFuZGxlcnNba2V5XS5sZW5ndGg7IGkrKykgewoJICAgICAgaGFuZGxlciA9IF9oYW5kbGVyc1trZXldW2ldOwoKCSAgICAgIC8vIHNlZSBpZiBpdCdzIGluIHRoZSBjdXJyZW50IHNjb3BlCgkgICAgICBpZihoYW5kbGVyLnNjb3BlID09IHNjb3BlIHx8IGhhbmRsZXIuc2NvcGUgPT0gJ2FsbCcpewoJICAgICAgICAvLyBjaGVjayBpZiBtb2RpZmllcnMgbWF0Y2ggaWYgYW55CgkgICAgICAgIG1vZGlmaWVyc01hdGNoID0gaGFuZGxlci5tb2RzLmxlbmd0aCA+IDA7CgkgICAgICAgIGZvcihrIGluIF9tb2RzKQoJICAgICAgICAgIGlmKCghX21vZHNba10gJiYgaW5kZXgoaGFuZGxlci5tb2RzLCAraykgPiAtMSkgfHwKCSAgICAgICAgICAgIChfbW9kc1trXSAmJiBpbmRleChoYW5kbGVyLm1vZHMsICtrKSA9PSAtMSkpIG1vZGlmaWVyc01hdGNoID0gZmFsc2U7CgkgICAgICAgIC8vIGNhbGwgdGhlIGhhbmRsZXIgYW5kIHN0b3AgdGhlIGV2ZW50IGlmIG5lY2Nlc3NhcnkKCSAgICAgICAgaWYoKGhhbmRsZXIubW9kcy5sZW5ndGggPT0gMCAmJiAhX21vZHNbMTZdICYmICFfbW9kc1sxOF0gJiYgIV9tb2RzWzE3XSAmJiAhX21vZHNbOTFdKSB8fCBtb2RpZmllcnNNYXRjaCl7CgkgICAgICAgICAgaWYoaGFuZGxlci5tZXRob2QoZXZlbnQsIGhhbmRsZXIpPT09ZmFsc2UpewoJICAgICAgICAgICAgaWYoZXZlbnQucHJldmVudERlZmF1bHQpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkgICAgICAgICAgICAgIGVsc2UgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTsKCSAgICAgICAgICAgIGlmKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgkgICAgICAgICAgICBpZihldmVudC5jYW5jZWxCdWJibGUpIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7CgkgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICB9CgkgICAgfQoJICB9OwoKCSAgLy8gdW5zZXQgbW9kaWZpZXIga2V5cyBvbiBrZXl1cAoJICBmdW5jdGlvbiBjbGVhck1vZGlmaWVyKGV2ZW50KXsKCSAgICB2YXIga2V5ID0gZXZlbnQua2V5Q29kZSwgaywKCSAgICAgICAgaSA9IGluZGV4KF9kb3duS2V5cywga2V5KTsKCgkgICAgLy8gcmVtb3ZlIGtleSBmcm9tIF9kb3duS2V5cwoJICAgIGlmIChpID49IDApIHsKCSAgICAgICAgX2Rvd25LZXlzLnNwbGljZShpLCAxKTsKCSAgICB9CgoJICAgIGlmKGtleSA9PSA5MyB8fCBrZXkgPT0gMjI0KSBrZXkgPSA5MTsKCSAgICBpZihrZXkgaW4gX21vZHMpIHsKCSAgICAgIF9tb2RzW2tleV0gPSBmYWxzZTsKCSAgICAgIGZvcihrIGluIF9NT0RJRklFUlMpIGlmKF9NT0RJRklFUlNba10gPT0ga2V5KSBhc3NpZ25LZXlba10gPSBmYWxzZTsKCSAgICB9CgkgIH07CgoJICBmdW5jdGlvbiByZXNldE1vZGlmaWVycygpIHsKCSAgICBmb3IoayBpbiBfbW9kcykgX21vZHNba10gPSBmYWxzZTsKCSAgICBmb3IoayBpbiBfTU9ESUZJRVJTKSBhc3NpZ25LZXlba10gPSBmYWxzZTsKCSAgfTsKCgkgIC8vIHBhcnNlIGFuZCBhc3NpZ24gc2hvcnRjdXQKCSAgZnVuY3Rpb24gYXNzaWduS2V5KGtleSwgc2NvcGUsIG1ldGhvZCl7CgkgICAgdmFyIGtleXMsIG1vZHM7CgkgICAga2V5cyA9IGdldEtleXMoa2V5KTsKCSAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHsKCSAgICAgIG1ldGhvZCA9IHNjb3BlOwoJICAgICAgc2NvcGUgPSAnYWxsJzsKCSAgICB9CgoJICAgIC8vIGZvciBlYWNoIHNob3J0Y3V0CgkgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7CgkgICAgICAvLyBzZXQgbW9kaWZpZXIga2V5cyBpZiBhbnkKCSAgICAgIG1vZHMgPSBbXTsKCSAgICAgIGtleSA9IGtleXNbaV0uc3BsaXQoJysnKTsKCSAgICAgIGlmIChrZXkubGVuZ3RoID4gMSl7CgkgICAgICAgIG1vZHMgPSBnZXRNb2RzKGtleSk7CgkgICAgICAgIGtleSA9IFtrZXlba2V5Lmxlbmd0aC0xXV07CgkgICAgICB9CgkgICAgICAvLyBjb252ZXJ0IHRvIGtleWNvZGUgYW5kLi4uCgkgICAgICBrZXkgPSBrZXlbMF0KCSAgICAgIGtleSA9IGNvZGUoa2V5KTsKCSAgICAgIC8vIC4uLnN0b3JlIGhhbmRsZXIKCSAgICAgIGlmICghKGtleSBpbiBfaGFuZGxlcnMpKSBfaGFuZGxlcnNba2V5XSA9IFtdOwoJICAgICAgX2hhbmRsZXJzW2tleV0ucHVzaCh7IHNob3J0Y3V0OiBrZXlzW2ldLCBzY29wZTogc2NvcGUsIG1ldGhvZDogbWV0aG9kLCBrZXk6IGtleXNbaV0sIG1vZHM6IG1vZHMgfSk7CgkgICAgfQoJICB9OwoKCSAgLy8gdW5iaW5kIGFsbCBoYW5kbGVycyBmb3IgZ2l2ZW4ga2V5IGluIGN1cnJlbnQgc2NvcGUKCSAgZnVuY3Rpb24gdW5iaW5kS2V5KGtleSwgc2NvcGUpIHsKCSAgICB2YXIgbXVsdGlwbGVLZXlzLCBrZXlzLAoJICAgICAgbW9kcyA9IFtdLAoJICAgICAgaSwgaiwgb2JqOwoKCSAgICBtdWx0aXBsZUtleXMgPSBnZXRLZXlzKGtleSk7CgoJICAgIGZvciAoaiA9IDA7IGogPCBtdWx0aXBsZUtleXMubGVuZ3RoOyBqKyspIHsKCSAgICAgIGtleXMgPSBtdWx0aXBsZUtleXNbal0uc3BsaXQoJysnKTsKCgkgICAgICBpZiAoa2V5cy5sZW5ndGggPiAxKSB7CgkgICAgICAgIG1vZHMgPSBnZXRNb2RzKGtleXMpOwoJICAgICAgICBrZXkgPSBrZXlzW2tleXMubGVuZ3RoIC0gMV07CgkgICAgICB9CgoJICAgICAga2V5ID0gY29kZShrZXkpOwoKCSAgICAgIGlmIChzY29wZSA9PT0gdW5kZWZpbmVkKSB7CgkgICAgICAgIHNjb3BlID0gZ2V0U2NvcGUoKTsKCSAgICAgIH0KCSAgICAgIGlmICghX2hhbmRsZXJzW2tleV0pIHsKCSAgICAgICAgcmV0dXJuOwoJICAgICAgfQoJICAgICAgZm9yIChpID0gMDsgaSA8IF9oYW5kbGVyc1trZXldLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgIG9iaiA9IF9oYW5kbGVyc1trZXldW2ldOwoJICAgICAgICAvLyBvbmx5IGNsZWFyIGhhbmRsZXJzIGlmIGNvcnJlY3Qgc2NvcGUgYW5kIG1vZHMgbWF0Y2gKCSAgICAgICAgaWYgKG9iai5zY29wZSA9PT0gc2NvcGUgJiYgY29tcGFyZUFycmF5KG9iai5tb2RzLCBtb2RzKSkgewoJICAgICAgICAgIF9oYW5kbGVyc1trZXldW2ldID0ge307CgkgICAgICAgIH0KCSAgICAgIH0KCSAgICB9CgkgIH07CgoJICAvLyBSZXR1cm5zIHRydWUgaWYgdGhlIGtleSB3aXRoIGNvZGUgJ2tleUNvZGUnIGlzIGN1cnJlbnRseSBkb3duCgkgIC8vIENvbnZlcnRzIHN0cmluZ3MgaW50byBrZXkgY29kZXMuCgkgIGZ1bmN0aW9uIGlzUHJlc3NlZChrZXlDb2RlKSB7CgkgICAgICBpZiAodHlwZW9mKGtleUNvZGUpPT0nc3RyaW5nJykgewoJICAgICAgICBrZXlDb2RlID0gY29kZShrZXlDb2RlKTsKCSAgICAgIH0KCSAgICAgIHJldHVybiBpbmRleChfZG93bktleXMsIGtleUNvZGUpICE9IC0xOwoJICB9CgoJICBmdW5jdGlvbiBnZXRQcmVzc2VkS2V5Q29kZXMoKSB7CgkgICAgICByZXR1cm4gX2Rvd25LZXlzLnNsaWNlKDApOwoJICB9CgoJICBmdW5jdGlvbiBmaWx0ZXIoZXZlbnQpewoJICAgIHZhciB0YWdOYW1lID0gKGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50KS50YWdOYW1lOwoJICAgIC8vIGlnbm9yZSBrZXlwcmVzc2VkIGluIGFueSBlbGVtZW50cyB0aGF0IHN1cHBvcnQga2V5Ym9hcmQgZGF0YSBpbnB1dAoJICAgIHJldHVybiAhKHRhZ05hbWUgPT0gJ0lOUFVUJyB8fCB0YWdOYW1lID09ICdTRUxFQ1QnIHx8IHRhZ05hbWUgPT0gJ1RFWFRBUkVBJyk7CgkgIH0KCgkgIC8vIGluaXRpYWxpemUga2V5Ljxtb2RpZmllcj4gdG8gZmFsc2UKCSAgZm9yKGsgaW4gX01PRElGSUVSUykgYXNzaWduS2V5W2tdID0gZmFsc2U7CgoJICAvLyBzZXQgY3VycmVudCBzY29wZSAoZGVmYXVsdCAnYWxsJykKCSAgZnVuY3Rpb24gc2V0U2NvcGUoc2NvcGUpeyBfc2NvcGUgPSBzY29wZSB8fCAnYWxsJyB9OwoJICBmdW5jdGlvbiBnZXRTY29wZSgpeyByZXR1cm4gX3Njb3BlIHx8ICdhbGwnIH07CgoJICAvLyBkZWxldGUgYWxsIGhhbmRsZXJzIGZvciBhIGdpdmVuIHNjb3BlCgkgIGZ1bmN0aW9uIGRlbGV0ZVNjb3BlKHNjb3BlKXsKCSAgICB2YXIga2V5LCBoYW5kbGVycywgaTsKCgkgICAgZm9yIChrZXkgaW4gX2hhbmRsZXJzKSB7CgkgICAgICBoYW5kbGVycyA9IF9oYW5kbGVyc1trZXldOwoJICAgICAgZm9yIChpID0gMDsgaSA8IGhhbmRsZXJzLmxlbmd0aDsgKSB7CgkgICAgICAgIGlmIChoYW5kbGVyc1tpXS5zY29wZSA9PT0gc2NvcGUpIGhhbmRsZXJzLnNwbGljZShpLCAxKTsKCSAgICAgICAgZWxzZSBpKys7CgkgICAgICB9CgkgICAgfQoJICB9OwoKCSAgLy8gYWJzdHJhY3Qga2V5IGxvZ2ljIGZvciBhc3NpZ24gYW5kIHVuYXNzaWduCgkgIGZ1bmN0aW9uIGdldEtleXMoa2V5KSB7CgkgICAgdmFyIGtleXM7CgkgICAga2V5ID0ga2V5LnJlcGxhY2UoL1xzL2csICcnKTsKCSAgICBrZXlzID0ga2V5LnNwbGl0KCcsJyk7CgkgICAgaWYgKChrZXlzW2tleXMubGVuZ3RoIC0gMV0pID09ICcnKSB7CgkgICAgICBrZXlzW2tleXMubGVuZ3RoIC0gMl0gKz0gJywnOwoJICAgIH0KCSAgICByZXR1cm4ga2V5czsKCSAgfQoKCSAgLy8gYWJzdHJhY3QgbW9kcyBsb2dpYyBmb3IgYXNzaWduIGFuZCB1bmFzc2lnbgoJICBmdW5jdGlvbiBnZXRNb2RzKGtleSkgewoJICAgIHZhciBtb2RzID0ga2V5LnNsaWNlKDAsIGtleS5sZW5ndGggLSAxKTsKCSAgICBmb3IgKHZhciBtaSA9IDA7IG1pIDwgbW9kcy5sZW5ndGg7IG1pKyspCgkgICAgbW9kc1ttaV0gPSBfTU9ESUZJRVJTW21vZHNbbWldXTsKCSAgICByZXR1cm4gbW9kczsKCSAgfQoKCSAgLy8gY3Jvc3MtYnJvd3NlciBldmVudHMKCSAgZnVuY3Rpb24gYWRkRXZlbnQob2JqZWN0LCBldmVudCwgbWV0aG9kKSB7CgkgICAgaWYgKG9iamVjdC5hZGRFdmVudExpc3RlbmVyKQoJICAgICAgb2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIG1ldGhvZCwgZmFsc2UpOwoJICAgIGVsc2UgaWYob2JqZWN0LmF0dGFjaEV2ZW50KQoJICAgICAgb2JqZWN0LmF0dGFjaEV2ZW50KCdvbicrZXZlbnQsIGZ1bmN0aW9uKCl7IG1ldGhvZCh3aW5kb3cuZXZlbnQpIH0pOwoJICB9OwoKCSAgLy8gc2V0IHRoZSBoYW5kbGVycyBnbG9iYWxseSBvbiBkb2N1bWVudAoJICBhZGRFdmVudChkb2N1bWVudCwgJ2tleWRvd24nLCBmdW5jdGlvbihldmVudCkgeyBkaXNwYXRjaChldmVudCkgfSk7IC8vIFBhc3NpbmcgX3Njb3BlIHRvIGEgY2FsbGJhY2sgdG8gZW5zdXJlIGl0IHJlbWFpbnMgdGhlIHNhbWUgYnkgZXhlY3V0aW9uLiBGaXhlcyAjNDgKCSAgYWRkRXZlbnQoZG9jdW1lbnQsICdrZXl1cCcsIGNsZWFyTW9kaWZpZXIpOwoKCSAgLy8gcmVzZXQgbW9kaWZpZXJzIHRvIGZhbHNlIHdoZW5ldmVyIHRoZSB3aW5kb3cgaXMgKHJlKWZvY3VzZWQuCgkgIGFkZEV2ZW50KHdpbmRvdywgJ2ZvY3VzJywgcmVzZXRNb2RpZmllcnMpOwoKCSAgLy8gc3RvcmUgcHJldmlvdXNseSBkZWZpbmVkIGtleQoJICB2YXIgcHJldmlvdXNLZXkgPSBnbG9iYWwua2V5OwoKCSAgLy8gcmVzdG9yZSBwcmV2aW91c2x5IGRlZmluZWQga2V5IGFuZCByZXR1cm4gcmVmZXJlbmNlIHRvIG91ciBrZXkgb2JqZWN0CgkgIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7CgkgICAgdmFyIGsgPSBnbG9iYWwua2V5OwoJICAgIGdsb2JhbC5rZXkgPSBwcmV2aW91c0tleTsKCSAgICByZXR1cm4gazsKCSAgfQoKCSAgLy8gc2V0IHdpbmRvdy5rZXkgYW5kIHdpbmRvdy5rZXkuc2V0L2dldC9kZWxldGVTY29wZSwgYW5kIHRoZSBkZWZhdWx0IGZpbHRlcgoJICBnbG9iYWwua2V5ID0gYXNzaWduS2V5OwoJICBnbG9iYWwua2V5LnNldFNjb3BlID0gc2V0U2NvcGU7CgkgIGdsb2JhbC5rZXkuZ2V0U2NvcGUgPSBnZXRTY29wZTsKCSAgZ2xvYmFsLmtleS5kZWxldGVTY29wZSA9IGRlbGV0ZVNjb3BlOwoJICBnbG9iYWwua2V5LmZpbHRlciA9IGZpbHRlcjsKCSAgZ2xvYmFsLmtleS5pc1ByZXNzZWQgPSBpc1ByZXNzZWQ7CgkgIGdsb2JhbC5rZXkuZ2V0UHJlc3NlZEtleUNvZGVzID0gZ2V0UHJlc3NlZEtleUNvZGVzOwoJICBnbG9iYWwua2V5Lm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0OwoJICBnbG9iYWwua2V5LnVuYmluZCA9IHVuYmluZEtleTsKCgkgIGlmKHRydWUpIG1vZHVsZS5leHBvcnRzID0gYXNzaWduS2V5OwoKCX0pKHRoaXMpOwoKCi8qKiovIH0sCi8qIDEwICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCW1vZHVsZS5leHBvcnRzID0gIi8qIGpzVHJlZSBkZWZhdWx0IHRoZW1lICovXG4uanN0cmVlLW5vZGUsXG4uanN0cmVlLWNoaWxkcmVuLFxuLmpzdHJlZS1jb250YWluZXItdWwge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG4gIGxpc3Qtc3R5bGUtaW1hZ2U6IG5vbmU7XG59XG4uanN0cmVlLW5vZGUge1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuLmpzdHJlZS1hbmNob3Ige1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGNvbG9yOiBibGFjaztcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgcGFkZGluZzogMCA0cHggMCAxcHg7XG4gIG1hcmdpbjogMDtcbiAgdmVydGljYWwtYWxpZ246IHRvcDtcbn1cbi5qc3RyZWUtYW5jaG9yOmZvY3VzIHtcbiAgb3V0bGluZTogMDtcbn1cbi5qc3RyZWUtYW5jaG9yLFxuLmpzdHJlZS1hbmNob3I6bGluayxcbi5qc3RyZWUtYW5jaG9yOnZpc2l0ZWQsXG4uanN0cmVlLWFuY2hvcjpob3Zlcixcbi5qc3RyZWUtYW5jaG9yOmFjdGl2ZSB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgY29sb3I6IGluaGVyaXQ7XG59XG4uanN0cmVlLWljb24ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4uanN0cmVlLWljb246ZW1wdHkge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4uanN0cmVlLW9jbCB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbi5qc3RyZWUtbGVhZiA+IC5qc3RyZWUtb2NsIHtcbiAgY3Vyc29yOiBkZWZhdWx0O1xufVxuLmpzdHJlZSAuanN0cmVlLW9wZW4gPiAuanN0cmVlLWNoaWxkcmVuIHtcbiAgZGlzcGxheTogYmxvY2s7XG59XG4uanN0cmVlIC5qc3RyZWUtY2xvc2VkID4gLmpzdHJlZS1jaGlsZHJlbixcbi5qc3RyZWUgLmpzdHJlZS1sZWFmID4gLmpzdHJlZS1jaGlsZHJlbiB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG4uanN0cmVlLWFuY2hvciA+IC5qc3RyZWUtdGhlbWVpY29uIHtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG59XG4uanN0cmVlLW5vLWljb25zIC5qc3RyZWUtdGhlbWVpY29uLFxuLmpzdHJlZS1hbmNob3IgPiAuanN0cmVlLXRoZW1laWNvbi1oaWRkZW4ge1xuICBkaXNwbGF5OiBub25lO1xufVxuLmpzdHJlZS1oaWRkZW4sXG4uanN0cmVlLW5vZGUuanN0cmVlLWhpZGRlbiB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG4uanN0cmVlLXJ0bCAuanN0cmVlLWFuY2hvciB7XG4gIHBhZGRpbmc6IDAgMXB4IDAgNHB4O1xufVxuLmpzdHJlZS1ydGwgLmpzdHJlZS1hbmNob3IgPiAuanN0cmVlLXRoZW1laWNvbiB7XG4gIG1hcmdpbi1sZWZ0OiAycHg7XG4gIG1hcmdpbi1yaWdodDogMDtcbn1cbi5qc3RyZWUtcnRsIC5qc3RyZWUtbm9kZSB7XG4gIG1hcmdpbi1sZWZ0OiAwO1xufVxuLmpzdHJlZS1ydGwgLmpzdHJlZS1jb250YWluZXItdWwgPiAuanN0cmVlLW5vZGUge1xuICBtYXJnaW4tcmlnaHQ6IDA7XG59XG4uanN0cmVlLXdob2xlcm93LXVsIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIG1pbi13aWR0aDogMTAwJTtcbn1cbi5qc3RyZWUtd2hvbGVyb3ctdWwgLmpzdHJlZS1sZWFmID4gLmpzdHJlZS1vY2wge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG4uanN0cmVlLXdob2xlcm93LXVsIC5qc3RyZWUtYW5jaG9yLFxuLmpzdHJlZS13aG9sZXJvdy11bCAuanN0cmVlLWljb24ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG4uanN0cmVlLXdob2xlcm93LXVsIC5qc3RyZWUtd2hvbGVyb3cge1xuICB3aWR0aDogMTAwJTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XG59XG4udmFrYXRhLWNvbnRleHQge1xuICBkaXNwbGF5OiBub25lO1xufVxuLnZha2F0YS1jb250ZXh0LFxuLnZha2F0YS1jb250ZXh0IHVsIHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAycHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYmFja2dyb3VuZDogI2Y1ZjVmNTtcbiAgYm9yZGVyOiAxcHggc29saWQgIzk3OTc5NztcbiAgYm94LXNoYWRvdzogMnB4IDJweCAycHggIzk5OTk5OTtcbn1cbi52YWthdGEtY29udGV4dCB1bCB7XG4gIGxpc3Qtc3R5bGU6IG5vbmU7XG4gIGxlZnQ6IDEwMCU7XG4gIG1hcmdpbi10b3A6IC0yLjdlbTtcbiAgbWFyZ2luLWxlZnQ6IC00cHg7XG59XG4udmFrYXRhLWNvbnRleHQgLnZha2F0YS1jb250ZXh0LXJpZ2h0IHVsIHtcbiAgbGVmdDogYXV0bztcbiAgcmlnaHQ6IDEwMCU7XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICBtYXJnaW4tcmlnaHQ6IC00cHg7XG59XG4udmFrYXRhLWNvbnRleHQgbGkge1xuICBsaXN0LXN0eWxlOiBub25lO1xufVxuLnZha2F0YS1jb250ZXh0IGxpID4gYSB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBwYWRkaW5nOiAwIDJlbSAwIDJlbTtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICB3aWR0aDogYXV0bztcbiAgY29sb3I6IGJsYWNrO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBsaW5lLWhlaWdodDogMi40ZW07XG4gIHRleHQtc2hhZG93OiAxcHggMXB4IDAgd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDFweDtcbn1cbi52YWthdGEtY29udGV4dCBsaSA+IGE6aG92ZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlOGVmZjc7XG4gIGJveC1zaGFkb3c6IDAgMCAycHggIzBhNmFhMTtcbn1cbi52YWthdGEtY29udGV4dCBsaSA+IGEudmFrYXRhLWNvbnRleHQtcGFyZW50IHtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQ3dBSEFJQUFBQ2dvS1AvLy95SDVCQUVBQUFFQUxBQUFBQUFMQUFjQUFBSU9SSTRKbHJxTjFvTVNubW1aRFFVQU93PT1cIik7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IHJpZ2h0IGNlbnRlcjtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbn1cbi52YWthdGEtY29udGV4dCBsaSA+IGE6Zm9jdXMge1xuICBvdXRsaW5lOiAwO1xufVxuLnZha2F0YS1jb250ZXh0IC52YWthdGEtY29udGV4dC1ob3ZlciA+IGEge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlOGVmZjc7XG4gIGJveC1zaGFkb3c6IDAgMCAycHggIzBhNmFhMTtcbn1cbi52YWthdGEtY29udGV4dCAudmFrYXRhLWNvbnRleHQtc2VwYXJhdG9yID4gYSxcbi52YWthdGEtY29udGV4dCAudmFrYXRhLWNvbnRleHQtc2VwYXJhdG9yID4gYTpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBib3JkZXI6IDA7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTJlM2UzO1xuICBoZWlnaHQ6IDFweDtcbiAgbWluLWhlaWdodDogMXB4O1xuICBtYXgtaGVpZ2h0OiAxcHg7XG4gIHBhZGRpbmc6IDA7XG4gIG1hcmdpbjogMCAwIDAgMi40ZW07XG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2UwZTBlMDtcbiAgdGV4dC1zaGFkb3c6IDAgMCAwIHRyYW5zcGFyZW50O1xuICBib3gtc2hhZG93OiAwIDAgMCB0cmFuc3BhcmVudDtcbiAgYm9yZGVyLXJhZGl1czogMDtcbn1cbi52YWthdGEtY29udGV4dCAudmFrYXRhLWNvbnRleHRtZW51LWRpc2FibGVkIGEsXG4udmFrYXRhLWNvbnRleHQgLnZha2F0YS1jb250ZXh0bWVudS1kaXNhYmxlZCBhOmhvdmVyIHtcbiAgY29sb3I6IHNpbHZlcjtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGJvcmRlcjogMDtcbiAgYm94LXNoYWRvdzogMCAwIDA7XG59XG4udmFrYXRhLWNvbnRleHQgbGkgPiBhID4gaSB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB3aWR0aDogMi40ZW07XG4gIGhlaWdodDogMi40ZW07XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBtYXJnaW46IDAgMCAwIC0yZW07XG4gIHZlcnRpY2FsLWFsaWduOiB0b3A7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbGluZS1oZWlnaHQ6IDIuNGVtO1xufVxuLnZha2F0YS1jb250ZXh0IGxpID4gYSA+IGk6ZW1wdHkge1xuICB3aWR0aDogMi40ZW07XG4gIGxpbmUtaGVpZ2h0OiAyLjRlbTtcbn1cbi52YWthdGEtY29udGV4dCBsaSA+IGEgLnZha2F0YS1jb250ZXh0bWVudS1zZXAge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHdpZHRoOiAxcHg7XG4gIGhlaWdodDogMi40ZW07XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBtYXJnaW46IDAgMC41ZW0gMCAwO1xuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNlMmUzZTM7XG59XG4udmFrYXRhLWNvbnRleHQgLnZha2F0YS1jb250ZXh0bWVudS1zaG9ydGN1dCB7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG4gIGNvbG9yOiBzaWx2ZXI7XG4gIG9wYWNpdHk6IDAuNTtcbiAgZGlzcGxheTogbm9uZTtcbn1cbi52YWthdGEtY29udGV4dC1ydGwgdWwge1xuICBsZWZ0OiBhdXRvO1xuICByaWdodDogMTAwJTtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogLTRweDtcbn1cbi52YWthdGEtY29udGV4dC1ydGwgbGkgPiBhLnZha2F0YS1jb250ZXh0LXBhcmVudCB7XG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEN3QUhBSUFBQUNnb0tQLy8veUg1QkFFQUFBRUFMQUFBQUFBTEFBY0FBQUlOakkrQUM3cldISXNQdG1veExBQTdcIik7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IGxlZnQgY2VudGVyO1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xufVxuLnZha2F0YS1jb250ZXh0LXJ0bCAudmFrYXRhLWNvbnRleHQtc2VwYXJhdG9yID4gYSB7XG4gIG1hcmdpbjogMCAyLjRlbSAwIDA7XG4gIGJvcmRlci1sZWZ0OiAwO1xuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZTJlM2UzO1xufVxuLnZha2F0YS1jb250ZXh0LXJ0bCAudmFrYXRhLWNvbnRleHQtbGVmdCB1bCB7XG4gIHJpZ2h0OiBhdXRvO1xuICBsZWZ0OiAxMDAlO1xuICBtYXJnaW4tbGVmdDogLTRweDtcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xufVxuLnZha2F0YS1jb250ZXh0LXJ0bCBsaSA+IGEgPiBpIHtcbiAgbWFyZ2luOiAwIC0yZW0gMCAwO1xufVxuLnZha2F0YS1jb250ZXh0LXJ0bCBsaSA+IGEgLnZha2F0YS1jb250ZXh0bWVudS1zZXAge1xuICBtYXJnaW46IDAgMCAwIDAuNWVtO1xuICBib3JkZXItbGVmdC1jb2xvcjogd2hpdGU7XG4gIGJhY2tncm91bmQ6ICNlMmUzZTM7XG59XG4janN0cmVlLW1hcmtlciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICBtYXJnaW46IC01cHggMCAwIDA7XG4gIHBhZGRpbmc6IDA7XG4gIGJvcmRlci1yaWdodDogMDtcbiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICBib3JkZXItYm90dG9tOiA1cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci1sZWZ0OiA1cHggc29saWQ7XG4gIHdpZHRoOiAwO1xuICBoZWlnaHQ6IDA7XG4gIGZvbnQtc2l6ZTogMDtcbiAgbGluZS1oZWlnaHQ6IDA7XG59XG4janN0cmVlLWRuZCB7XG4gIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDRweDtcbn1cbiNqc3RyZWUtZG5kIC5qc3RyZWUtaWNvbixcbiNqc3RyZWUtZG5kIC5qc3RyZWUtY29weSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICBtYXJnaW46IDAgMnB4IDAgMDtcbiAgcGFkZGluZzogMDtcbiAgd2lkdGg6IDE2cHg7XG4gIGhlaWdodDogMTZweDtcbn1cbiNqc3RyZWUtZG5kIC5qc3RyZWUtb2sge1xuICBiYWNrZ3JvdW5kOiBncmVlbjtcbn1cbiNqc3RyZWUtZG5kIC5qc3RyZWUtZXIge1xuICBiYWNrZ3JvdW5kOiByZWQ7XG59XG4janN0cmVlLWRuZCAuanN0cmVlLWNvcHkge1xuICBtYXJnaW46IDAgMnB4IDAgMnB4O1xufVxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtbm9kZSxcbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLWljb24ge1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbn1cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLWFuY2hvcixcbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLWFuaW1hdGVkLFxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtd2hvbGVyb3cge1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMTVzLCBib3gtc2hhZG93IDAuMTVzO1xufVxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtaG92ZXJlZCB7XG4gIGJhY2tncm91bmQ6ICNlN2Y0Zjk7XG4gIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDFweCAjY2NjY2NjO1xufVxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtY29udGV4dCB7XG4gIGJhY2tncm91bmQ6ICNlN2Y0Zjk7XG4gIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDFweCAjY2NjY2NjO1xufVxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtY2xpY2tlZCB7XG4gIGJhY2tncm91bmQ6ICNiZWViZmY7XG4gIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDFweCAjOTk5OTk5O1xufVxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtbm8taWNvbnMgLmpzdHJlZS1hbmNob3IgPiAuanN0cmVlLXRoZW1laWNvbiB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1kaXNhYmxlZCB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBjb2xvcjogIzY2NjY2Njtcbn1cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLWRpc2FibGVkLmpzdHJlZS1ob3ZlcmVkIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGJveC1zaGFkb3c6IG5vbmU7XG59XG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1kaXNhYmxlZC5qc3RyZWUtY2xpY2tlZCB7XG4gIGJhY2tncm91bmQ6ICNlZmVmZWY7XG59XG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1kaXNhYmxlZCA+IC5qc3RyZWUtaWNvbiB7XG4gIG9wYWNpdHk6IDAuODtcbiAgZmlsdGVyOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7dXRmOCw8c3ZnIHhtbG5zPVxcJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFwnPjxmaWx0ZXIgaWQ9XFwnanN0cmVlLWdyYXlzY2FsZVxcJz48ZmVDb2xvck1hdHJpeCB0eXBlPVxcJ21hdHJpeFxcJyB2YWx1ZXM9XFwnMC4zMzMzIDAuMzMzMyAwLjMzMzMgMCAwIDAuMzMzMyAwLjMzMzMgMC4zMzMzIDAgMCAwLjMzMzMgMC4zMzMzIDAuMzMzMyAwIDAgMCAwIDAgMSAwXFwnLz48L2ZpbHRlcj48L3N2Zz4janN0cmVlLWdyYXlzY2FsZVwiKTtcbiAgLyogRmlyZWZveCAxMCsgKi9cbiAgZmlsdGVyOiBncmF5O1xuICAvKiBJRTYtOSAqL1xuICAtd2Via2l0LWZpbHRlcjogZ3JheXNjYWxlKDEwMCUpO1xuICAvKiBDaHJvbWUgMTkrICYgU2FmYXJpIDYrICovXG59XG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1zZWFyY2gge1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIGNvbG9yOiAjOGIwMDAwO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLW5vLWNoZWNrYm94ZXMgLmpzdHJlZS1jaGVja2JveCB7XG4gIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbn1cbi5qc3RyZWUtZGVmYXVsdC5qc3RyZWUtY2hlY2tib3gtbm8tY2xpY2tlZCAuanN0cmVlLWNsaWNrZWQge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgYm94LXNoYWRvdzogbm9uZTtcbn1cbi5qc3RyZWUtZGVmYXVsdC5qc3RyZWUtY2hlY2tib3gtbm8tY2xpY2tlZCAuanN0cmVlLWNsaWNrZWQuanN0cmVlLWhvdmVyZWQge1xuICBiYWNrZ3JvdW5kOiAjZTdmNGY5O1xufVxuLmpzdHJlZS1kZWZhdWx0LmpzdHJlZS1jaGVja2JveC1uby1jbGlja2VkID4gLmpzdHJlZS13aG9sZXJvdy11bCAuanN0cmVlLXdob2xlcm93LWNsaWNrZWQge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cbi5qc3RyZWUtZGVmYXVsdC5qc3RyZWUtY2hlY2tib3gtbm8tY2xpY2tlZCA+IC5qc3RyZWUtd2hvbGVyb3ctdWwgLmpzdHJlZS13aG9sZXJvdy1jbGlja2VkLmpzdHJlZS13aG9sZXJvdy1ob3ZlcmVkIHtcbiAgYmFja2dyb3VuZDogI2U3ZjRmOTtcbn1cbi5qc3RyZWUtZGVmYXVsdCA+IC5qc3RyZWUtc3RyaXBlZCB7XG4gIG1pbi13aWR0aDogMTAwJTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBiYWNrZ3JvdW5kOiB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQWtDQU1BQUFCL3FxQStBQUFBQmxCTVZFVUFBQUFBQUFDbFo3blBBQUFBQW5SU1RsTU5BTU05czNVQUFBQVhTVVJCVkhqYWpjRUJBUUFBQUlLZy9IL2FDUVo3MEFVQmpBQVRiNllQRGdBQUFBQkpSVTVFcmtKZ2dnPT1cIikgbGVmdCB0b3AgcmVwZWF0O1xufVxuLmpzdHJlZS1kZWZhdWx0ID4gLmpzdHJlZS13aG9sZXJvdy11bCAuanN0cmVlLWhvdmVyZWQsXG4uanN0cmVlLWRlZmF1bHQgPiAuanN0cmVlLXdob2xlcm93LXVsIC5qc3RyZWUtY2xpY2tlZCB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBib3gtc2hhZG93OiBub25lO1xuICBib3JkZXItcmFkaXVzOiAwO1xufVxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtd2hvbGVyb3cge1xuICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLXdob2xlcm93LWhvdmVyZWQge1xuICBiYWNrZ3JvdW5kOiAjZTdmNGY5O1xufVxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtd2hvbGVyb3ctY2xpY2tlZCB7XG4gIGJhY2tncm91bmQ6ICNiZWViZmY7XG4gIGJhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2JlZWJmZiAwJSwgI2E4ZTRmZiAxMDAlKTtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgI2JlZWJmZiAwJSwgI2E4ZTRmZiAxMDAlKTtcbn1cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLW5vZGUge1xuICBtaW4taGVpZ2h0OiAyNHB4O1xuICBsaW5lLWhlaWdodDogMjRweDtcbiAgbWFyZ2luLWxlZnQ6IDI0cHg7XG4gIG1pbi13aWR0aDogMjRweDtcbn1cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLWFuY2hvciB7XG4gIGxpbmUtaGVpZ2h0OiAyNHB4O1xuICBoZWlnaHQ6IDI0cHg7XG59XG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1pY29uIHtcbiAgd2lkdGg6IDI0cHg7XG4gIGhlaWdodDogMjRweDtcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XG59XG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1pY29uOmVtcHR5IHtcbiAgd2lkdGg6IDI0cHg7XG4gIGhlaWdodDogMjRweDtcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XG59XG4uanN0cmVlLWRlZmF1bHQuanN0cmVlLXJ0bCAuanN0cmVlLW5vZGUge1xuICBtYXJnaW4tcmlnaHQ6IDI0cHg7XG59XG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS13aG9sZXJvdyB7XG4gIGhlaWdodDogMjRweDtcbn1cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLW5vZGUsXG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1pY29uIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiMzJweC5wbmdcIik7XG59XG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1ub2RlIHtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTI5MnB4IC00cHg7XG4gIGJhY2tncm91bmQtcmVwZWF0OiByZXBlYXQteTtcbn1cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLWxhc3Qge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLW9wZW4gPiAuanN0cmVlLW9jbCB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0xMzJweCAtNHB4O1xufVxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtY2xvc2VkID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTAwcHggLTRweDtcbn1cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLWxlYWYgPiAuanN0cmVlLW9jbCB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC02OHB4IC00cHg7XG59XG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS10aGVtZWljb24ge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjYwcHggLTRweDtcbn1cbi5qc3RyZWUtZGVmYXVsdCA+IC5qc3RyZWUtbm8tZG90cyAuanN0cmVlLW5vZGUsXG4uanN0cmVlLWRlZmF1bHQgPiAuanN0cmVlLW5vLWRvdHMgLmpzdHJlZS1sZWFmID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cbi5qc3RyZWUtZGVmYXVsdCA+IC5qc3RyZWUtbm8tZG90cyAuanN0cmVlLW9wZW4gPiAuanN0cmVlLW9jbCB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0zNnB4IC00cHg7XG59XG4uanN0cmVlLWRlZmF1bHQgPiAuanN0cmVlLW5vLWRvdHMgLmpzdHJlZS1jbG9zZWQgPiAuanN0cmVlLW9jbCB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC00cHggLTRweDtcbn1cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLWRpc2FibGVkIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1kaXNhYmxlZC5qc3RyZWUtaG92ZXJlZCB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtZGlzYWJsZWQuanN0cmVlLWNsaWNrZWQge1xuICBiYWNrZ3JvdW5kOiAjZWZlZmVmO1xufVxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtY2hlY2tib3gge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTY0cHggLTRweDtcbn1cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLWNoZWNrYm94OmhvdmVyIHtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2NHB4IC0zNnB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LmpzdHJlZS1jaGVja2JveC1zZWxlY3Rpb24gLmpzdHJlZS1jbGlja2VkID4gLmpzdHJlZS1jaGVja2JveCxcbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLWNoZWNrZWQgPiAuanN0cmVlLWNoZWNrYm94IHtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTIyOHB4IC00cHg7XG59XG4uanN0cmVlLWRlZmF1bHQuanN0cmVlLWNoZWNrYm94LXNlbGVjdGlvbiAuanN0cmVlLWNsaWNrZWQgPiAuanN0cmVlLWNoZWNrYm94OmhvdmVyLFxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtY2hlY2tlZCA+IC5qc3RyZWUtY2hlY2tib3g6aG92ZXIge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjI4cHggLTM2cHg7XG59XG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1hbmNob3IgPiAuanN0cmVlLXVuZGV0ZXJtaW5lZCB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0xOTZweCAtNHB4O1xufVxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtYW5jaG9yID4gLmpzdHJlZS11bmRldGVybWluZWQ6aG92ZXIge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTk2cHggLTM2cHg7XG59XG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1jaGVja2JveC1kaXNhYmxlZCB7XG4gIG9wYWNpdHk6IDAuODtcbiAgZmlsdGVyOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7dXRmOCw8c3ZnIHhtbG5zPVxcJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFwnPjxmaWx0ZXIgaWQ9XFwnanN0cmVlLWdyYXlzY2FsZVxcJz48ZmVDb2xvck1hdHJpeCB0eXBlPVxcJ21hdHJpeFxcJyB2YWx1ZXM9XFwnMC4zMzMzIDAuMzMzMyAwLjMzMzMgMCAwIDAuMzMzMyAwLjMzMzMgMC4zMzMzIDAgMCAwLjMzMzMgMC4zMzMzIDAuMzMzMyAwIDAgMCAwIDAgMSAwXFwnLz48L2ZpbHRlcj48L3N2Zz4janN0cmVlLWdyYXlzY2FsZVwiKTtcbiAgLyogRmlyZWZveCAxMCsgKi9cbiAgZmlsdGVyOiBncmF5O1xuICAvKiBJRTYtOSAqL1xuICAtd2Via2l0LWZpbHRlcjogZ3JheXNjYWxlKDEwMCUpO1xuICAvKiBDaHJvbWUgMTkrICYgU2FmYXJpIDYrICovXG59XG4uanN0cmVlLWRlZmF1bHQgPiAuanN0cmVlLXN0cmlwZWQge1xuICBiYWNrZ3JvdW5kLXNpemU6IGF1dG8gNDhweDtcbn1cbi5qc3RyZWUtZGVmYXVsdC5qc3RyZWUtcnRsIC5qc3RyZWUtbm9kZSB7XG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQmdBQUFBQ0FRTUFBQUI0OUk1R0FBQUFCbEJNVkVVQUFBQWRIUnZFa0N3Y0FBQUFBWFJTVGxNQVFPYllaZ0FBQUF4SlJFRlVDTmRqQUFNT0JnQUFHQUFKTXdRSGRRQUFBQUJKUlU1RXJrSmdnZz09XCIpO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAxMDAlIDFweDtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdC15O1xufVxuLmpzdHJlZS1kZWZhdWx0LmpzdHJlZS1ydGwgLmpzdHJlZS1sYXN0IHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG4uanN0cmVlLWRlZmF1bHQuanN0cmVlLXJ0bCAuanN0cmVlLW9wZW4gPiAuanN0cmVlLW9jbCB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0xMzJweCAtMzZweDtcbn1cbi5qc3RyZWUtZGVmYXVsdC5qc3RyZWUtcnRsIC5qc3RyZWUtY2xvc2VkID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTAwcHggLTM2cHg7XG59XG4uanN0cmVlLWRlZmF1bHQuanN0cmVlLXJ0bCAuanN0cmVlLWxlYWYgPiAuanN0cmVlLW9jbCB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC02OHB4IC0zNnB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LmpzdHJlZS1ydGwgPiAuanN0cmVlLW5vLWRvdHMgLmpzdHJlZS1ub2RlLFxuLmpzdHJlZS1kZWZhdWx0LmpzdHJlZS1ydGwgPiAuanN0cmVlLW5vLWRvdHMgLmpzdHJlZS1sZWFmID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cbi5qc3RyZWUtZGVmYXVsdC5qc3RyZWUtcnRsID4gLmpzdHJlZS1uby1kb3RzIC5qc3RyZWUtb3BlbiA+IC5qc3RyZWUtb2NsIHtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTM2cHggLTM2cHg7XG59XG4uanN0cmVlLWRlZmF1bHQuanN0cmVlLXJ0bCA+IC5qc3RyZWUtbm8tZG90cyAuanN0cmVlLWNsb3NlZCA+IC5qc3RyZWUtb2NsIHtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTRweCAtMzZweDtcbn1cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLXRoZW1laWNvbi1jdXN0b20ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgYmFja2dyb3VuZC1pbWFnZTogbm9uZTtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwO1xufVxuLmpzdHJlZS1kZWZhdWx0ID4gLmpzdHJlZS1jb250YWluZXItdWwgLmpzdHJlZS1sb2FkaW5nID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kOiB1cmwoXCJ0aHJvYmJlci5naWZcIikgY2VudGVyIGNlbnRlciBuby1yZXBlYXQ7XG59XG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1maWxlIHtcbiAgYmFja2dyb3VuZDogdXJsKFwiMzJweC5wbmdcIikgLTEwMHB4IC02OHB4IG5vLXJlcGVhdDtcbn1cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLWZvbGRlciB7XG4gIGJhY2tncm91bmQ6IHVybChcIjMycHgucG5nXCIpIC0yNjBweCAtNHB4IG5vLXJlcGVhdDtcbn1cbi5qc3RyZWUtZGVmYXVsdCA+IC5qc3RyZWUtY29udGFpbmVyLXVsID4gLmpzdHJlZS1ub2RlIHtcbiAgbWFyZ2luLWxlZnQ6IDA7XG4gIG1hcmdpbi1yaWdodDogMDtcbn1cbiNqc3RyZWUtZG5kLmpzdHJlZS1kZWZhdWx0IHtcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XG4gIHBhZGRpbmc6IDAgNHB4O1xufVxuI2pzdHJlZS1kbmQuanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1vayxcbiNqc3RyZWUtZG5kLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtZXIge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIzMnB4LnBuZ1wiKTtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG4janN0cmVlLWRuZC5qc3RyZWUtZGVmYXVsdCBpIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIHdpZHRoOiAyNHB4O1xuICBoZWlnaHQ6IDI0cHg7XG4gIGxpbmUtaGVpZ2h0OiAyNHB4O1xufVxuI2pzdHJlZS1kbmQuanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1vayB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC00cHggLTY4cHg7XG59XG4janN0cmVlLWRuZC5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLWVyIHtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTM2cHggLTY4cHg7XG59XG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1lbGxpcHNpcyB7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1lbGxpcHNpcyAuanN0cmVlLWFuY2hvciB7XG4gIHdpZHRoOiBjYWxjKDEwMCUgLSAyOXB4KTtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1lbGxpcHNpcy5qc3RyZWUtbm8taWNvbnMgLmpzdHJlZS1hbmNob3Ige1xuICB3aWR0aDogY2FsYygxMDAlIC0gNXB4KTtcbn1cbi5qc3RyZWUtZGVmYXVsdC5qc3RyZWUtcnRsIC5qc3RyZWUtbm9kZSB7XG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQmdBQUFBQ0FRTUFBQUI0OUk1R0FBQUFCbEJNVkVVQUFBQWRIUnZFa0N3Y0FBQUFBWFJTVGxNQVFPYllaZ0FBQUF4SlJFRlVDTmRqQUFNT0JnQUFHQUFKTXdRSGRRQUFBQUJKUlU1RXJrSmdnZz09XCIpO1xufVxuLmpzdHJlZS1kZWZhdWx0LmpzdHJlZS1ydGwgLmpzdHJlZS1sYXN0IHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwgLmpzdHJlZS1ub2RlIHtcbiAgbWluLWhlaWdodDogMThweDtcbiAgbGluZS1oZWlnaHQ6IDE4cHg7XG4gIG1hcmdpbi1sZWZ0OiAxOHB4O1xuICBtaW4td2lkdGg6IDE4cHg7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwgLmpzdHJlZS1hbmNob3Ige1xuICBsaW5lLWhlaWdodDogMThweDtcbiAgaGVpZ2h0OiAxOHB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsIC5qc3RyZWUtaWNvbiB7XG4gIHdpZHRoOiAxOHB4O1xuICBoZWlnaHQ6IDE4cHg7XG4gIGxpbmUtaGVpZ2h0OiAxOHB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsIC5qc3RyZWUtaWNvbjplbXB0eSB7XG4gIHdpZHRoOiAxOHB4O1xuICBoZWlnaHQ6IDE4cHg7XG4gIGxpbmUtaGVpZ2h0OiAxOHB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsLmpzdHJlZS1ydGwgLmpzdHJlZS1ub2RlIHtcbiAgbWFyZ2luLXJpZ2h0OiAxOHB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsIC5qc3RyZWUtd2hvbGVyb3cge1xuICBoZWlnaHQ6IDE4cHg7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwgLmpzdHJlZS1ub2RlLFxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsIC5qc3RyZWUtaWNvbiB7XG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIjMycHgucG5nXCIpO1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsIC5qc3RyZWUtbm9kZSB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0yOTVweCAtN3B4O1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXk7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwgLmpzdHJlZS1sYXN0IHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwgLmpzdHJlZS1vcGVuID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTM1cHggLTdweDtcbn1cbi5qc3RyZWUtZGVmYXVsdC1zbWFsbCAuanN0cmVlLWNsb3NlZCA+IC5qc3RyZWUtb2NsIHtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTEwM3B4IC03cHg7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwgLmpzdHJlZS1sZWFmID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNzFweCAtN3B4O1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsIC5qc3RyZWUtdGhlbWVpY29uIHtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTI2M3B4IC03cHg7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwgPiAuanN0cmVlLW5vLWRvdHMgLmpzdHJlZS1ub2RlLFxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsID4gLmpzdHJlZS1uby1kb3RzIC5qc3RyZWUtbGVhZiA+IC5qc3RyZWUtb2NsIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwgPiAuanN0cmVlLW5vLWRvdHMgLmpzdHJlZS1vcGVuID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzlweCAtN3B4O1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsID4gLmpzdHJlZS1uby1kb3RzIC5qc3RyZWUtY2xvc2VkID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtN3B4IC03cHg7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwgLmpzdHJlZS1kaXNhYmxlZCB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsIC5qc3RyZWUtZGlzYWJsZWQuanN0cmVlLWhvdmVyZWQge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cbi5qc3RyZWUtZGVmYXVsdC1zbWFsbCAuanN0cmVlLWRpc2FibGVkLmpzdHJlZS1jbGlja2VkIHtcbiAgYmFja2dyb3VuZDogI2VmZWZlZjtcbn1cbi5qc3RyZWUtZGVmYXVsdC1zbWFsbCAuanN0cmVlLWNoZWNrYm94IHtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2N3B4IC03cHg7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwgLmpzdHJlZS1jaGVja2JveDpob3ZlciB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0xNjdweCAtMzlweDtcbn1cbi5qc3RyZWUtZGVmYXVsdC1zbWFsbC5qc3RyZWUtY2hlY2tib3gtc2VsZWN0aW9uIC5qc3RyZWUtY2xpY2tlZCA+IC5qc3RyZWUtY2hlY2tib3gsXG4uanN0cmVlLWRlZmF1bHQtc21hbGwgLmpzdHJlZS1jaGVja2VkID4gLmpzdHJlZS1jaGVja2JveCB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0yMzFweCAtN3B4O1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsLmpzdHJlZS1jaGVja2JveC1zZWxlY3Rpb24gLmpzdHJlZS1jbGlja2VkID4gLmpzdHJlZS1jaGVja2JveDpob3Zlcixcbi5qc3RyZWUtZGVmYXVsdC1zbWFsbCAuanN0cmVlLWNoZWNrZWQgPiAuanN0cmVlLWNoZWNrYm94OmhvdmVyIHtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTIzMXB4IC0zOXB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsIC5qc3RyZWUtYW5jaG9yID4gLmpzdHJlZS11bmRldGVybWluZWQge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTk5cHggLTdweDtcbn1cbi5qc3RyZWUtZGVmYXVsdC1zbWFsbCAuanN0cmVlLWFuY2hvciA+IC5qc3RyZWUtdW5kZXRlcm1pbmVkOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE5OXB4IC0zOXB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsIC5qc3RyZWUtY2hlY2tib3gtZGlzYWJsZWQge1xuICBvcGFjaXR5OiAwLjg7XG4gIGZpbHRlcjogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsPHN2ZyB4bWxucz1cXCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcJz48ZmlsdGVyIGlkPVxcJ2pzdHJlZS1ncmF5c2NhbGVcXCc+PGZlQ29sb3JNYXRyaXggdHlwZT1cXCdtYXRyaXhcXCcgdmFsdWVzPVxcJzAuMzMzMyAwLjMzMzMgMC4zMzMzIDAgMCAwLjMzMzMgMC4zMzMzIDAuMzMzMyAwIDAgMC4zMzMzIDAuMzMzMyAwLjMzMzMgMCAwIDAgMCAwIDEgMFxcJy8+PC9maWx0ZXI+PC9zdmc+I2pzdHJlZS1ncmF5c2NhbGVcIik7XG4gIC8qIEZpcmVmb3ggMTArICovXG4gIGZpbHRlcjogZ3JheTtcbiAgLyogSUU2LTkgKi9cbiAgLXdlYmtpdC1maWx0ZXI6IGdyYXlzY2FsZSgxMDAlKTtcbiAgLyogQ2hyb21lIDE5KyAmIFNhZmFyaSA2KyAqL1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsID4gLmpzdHJlZS1zdHJpcGVkIHtcbiAgYmFja2dyb3VuZC1zaXplOiBhdXRvIDM2cHg7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwuanN0cmVlLXJ0bCAuanN0cmVlLW5vZGUge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJnQUFBQUNBUU1BQUFCNDlJNUdBQUFBQmxCTVZFVUFBQUFkSFJ2RWtDd2NBQUFBQVhSU1RsTUFRT2JZWmdBQUFBeEpSRUZVQ05kakFBTU9CZ0FBR0FBSk13UUhkUUFBQUFCSlJVNUVya0pnZ2c9PVwiKTtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMTAwJSAxcHg7XG4gIGJhY2tncm91bmQtcmVwZWF0OiByZXBlYXQteTtcbn1cbi5qc3RyZWUtZGVmYXVsdC1zbWFsbC5qc3RyZWUtcnRsIC5qc3RyZWUtbGFzdCB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsLmpzdHJlZS1ydGwgLmpzdHJlZS1vcGVuID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTM1cHggLTM5cHg7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwuanN0cmVlLXJ0bCAuanN0cmVlLWNsb3NlZCA+IC5qc3RyZWUtb2NsIHtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTEwM3B4IC0zOXB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsLmpzdHJlZS1ydGwgLmpzdHJlZS1sZWFmID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNzFweCAtMzlweDtcbn1cbi5qc3RyZWUtZGVmYXVsdC1zbWFsbC5qc3RyZWUtcnRsID4gLmpzdHJlZS1uby1kb3RzIC5qc3RyZWUtbm9kZSxcbi5qc3RyZWUtZGVmYXVsdC1zbWFsbC5qc3RyZWUtcnRsID4gLmpzdHJlZS1uby1kb3RzIC5qc3RyZWUtbGVhZiA+IC5qc3RyZWUtb2NsIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwuanN0cmVlLXJ0bCA+IC5qc3RyZWUtbm8tZG90cyAuanN0cmVlLW9wZW4gPiAuanN0cmVlLW9jbCB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0zOXB4IC0zOXB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsLmpzdHJlZS1ydGwgPiAuanN0cmVlLW5vLWRvdHMgLmpzdHJlZS1jbG9zZWQgPiAuanN0cmVlLW9jbCB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC03cHggLTM5cHg7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwgLmpzdHJlZS10aGVtZWljb24tY3VzdG9tIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IDAgMDtcbn1cbi5qc3RyZWUtZGVmYXVsdC1zbWFsbCA+IC5qc3RyZWUtY29udGFpbmVyLXVsIC5qc3RyZWUtbG9hZGluZyA+IC5qc3RyZWUtb2NsIHtcbiAgYmFja2dyb3VuZDogdXJsKFwidGhyb2JiZXIuZ2lmXCIpIGNlbnRlciBjZW50ZXIgbm8tcmVwZWF0O1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsIC5qc3RyZWUtZmlsZSB7XG4gIGJhY2tncm91bmQ6IHVybChcIjMycHgucG5nXCIpIC0xMDNweCAtNzFweCBuby1yZXBlYXQ7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwgLmpzdHJlZS1mb2xkZXIge1xuICBiYWNrZ3JvdW5kOiB1cmwoXCIzMnB4LnBuZ1wiKSAtMjYzcHggLTdweCBuby1yZXBlYXQ7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwgPiAuanN0cmVlLWNvbnRhaW5lci11bCA+IC5qc3RyZWUtbm9kZSB7XG4gIG1hcmdpbi1sZWZ0OiAwO1xuICBtYXJnaW4tcmlnaHQ6IDA7XG59XG4janN0cmVlLWRuZC5qc3RyZWUtZGVmYXVsdC1zbWFsbCB7XG4gIGxpbmUtaGVpZ2h0OiAxOHB4O1xuICBwYWRkaW5nOiAwIDRweDtcbn1cbiNqc3RyZWUtZG5kLmpzdHJlZS1kZWZhdWx0LXNtYWxsIC5qc3RyZWUtb2ssXG4janN0cmVlLWRuZC5qc3RyZWUtZGVmYXVsdC1zbWFsbCAuanN0cmVlLWVyIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiMzJweC5wbmdcIik7XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuI2pzdHJlZS1kbmQuanN0cmVlLWRlZmF1bHQtc21hbGwgaSB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICB3aWR0aDogMThweDtcbiAgaGVpZ2h0OiAxOHB4O1xuICBsaW5lLWhlaWdodDogMThweDtcbn1cbiNqc3RyZWUtZG5kLmpzdHJlZS1kZWZhdWx0LXNtYWxsIC5qc3RyZWUtb2sge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtN3B4IC03MXB4O1xufVxuI2pzdHJlZS1kbmQuanN0cmVlLWRlZmF1bHQtc21hbGwgLmpzdHJlZS1lciB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0zOXB4IC03MXB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsIC5qc3RyZWUtZWxsaXBzaXMge1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsIC5qc3RyZWUtZWxsaXBzaXMgLmpzdHJlZS1hbmNob3Ige1xuICB3aWR0aDogY2FsYygxMDAlIC0gMjNweCk7XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuLmpzdHJlZS1kZWZhdWx0LXNtYWxsIC5qc3RyZWUtZWxsaXBzaXMuanN0cmVlLW5vLWljb25zIC5qc3RyZWUtYW5jaG9yIHtcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDVweCk7XG59XG4uanN0cmVlLWRlZmF1bHQtc21hbGwuanN0cmVlLXJ0bCAuanN0cmVlLW5vZGUge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJJQUFBQUNBUU1BQUFCdjFoNlBBQUFBQmxCTVZFVUFBQUFkSFJ2RWtDd2NBQUFBQVhSU1RsTUFRT2JZWmdBQUFBeEpSRUZVQ05kakFBTUhCZ0FBaUFCQkk0Z3o5QUFBQUFCSlJVNUVya0pnZ2c9PVwiKTtcbn1cbi5qc3RyZWUtZGVmYXVsdC1zbWFsbC5qc3RyZWUtcnRsIC5qc3RyZWUtbGFzdCB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuLmpzdHJlZS1kZWZhdWx0LWxhcmdlIC5qc3RyZWUtbm9kZSB7XG4gIG1pbi1oZWlnaHQ6IDMycHg7XG4gIGxpbmUtaGVpZ2h0OiAzMnB4O1xuICBtYXJnaW4tbGVmdDogMzJweDtcbiAgbWluLXdpZHRoOiAzMnB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LWxhcmdlIC5qc3RyZWUtYW5jaG9yIHtcbiAgbGluZS1oZWlnaHQ6IDMycHg7XG4gIGhlaWdodDogMzJweDtcbn1cbi5qc3RyZWUtZGVmYXVsdC1sYXJnZSAuanN0cmVlLWljb24ge1xuICB3aWR0aDogMzJweDtcbiAgaGVpZ2h0OiAzMnB4O1xuICBsaW5lLWhlaWdodDogMzJweDtcbn1cbi5qc3RyZWUtZGVmYXVsdC1sYXJnZSAuanN0cmVlLWljb246ZW1wdHkge1xuICB3aWR0aDogMzJweDtcbiAgaGVpZ2h0OiAzMnB4O1xuICBsaW5lLWhlaWdodDogMzJweDtcbn1cbi5qc3RyZWUtZGVmYXVsdC1sYXJnZS5qc3RyZWUtcnRsIC5qc3RyZWUtbm9kZSB7XG4gIG1hcmdpbi1yaWdodDogMzJweDtcbn1cbi5qc3RyZWUtZGVmYXVsdC1sYXJnZSAuanN0cmVlLXdob2xlcm93IHtcbiAgaGVpZ2h0OiAzMnB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LWxhcmdlIC5qc3RyZWUtbm9kZSxcbi5qc3RyZWUtZGVmYXVsdC1sYXJnZSAuanN0cmVlLWljb24ge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIzMnB4LnBuZ1wiKTtcbn1cbi5qc3RyZWUtZGVmYXVsdC1sYXJnZSAuanN0cmVlLW5vZGUge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjg4cHggMHB4O1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXk7XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UgLmpzdHJlZS1sYXN0IHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UgLmpzdHJlZS1vcGVuID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTI4cHggMHB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LWxhcmdlIC5qc3RyZWUtY2xvc2VkID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtOTZweCAwcHg7XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UgLmpzdHJlZS1sZWFmID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNjRweCAwcHg7XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UgLmpzdHJlZS10aGVtZWljb24ge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjU2cHggMHB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LWxhcmdlID4gLmpzdHJlZS1uby1kb3RzIC5qc3RyZWUtbm9kZSxcbi5qc3RyZWUtZGVmYXVsdC1sYXJnZSA+IC5qc3RyZWUtbm8tZG90cyAuanN0cmVlLWxlYWYgPiAuanN0cmVlLW9jbCB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuLmpzdHJlZS1kZWZhdWx0LWxhcmdlID4gLmpzdHJlZS1uby1kb3RzIC5qc3RyZWUtb3BlbiA+IC5qc3RyZWUtb2NsIHtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMycHggMHB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LWxhcmdlID4gLmpzdHJlZS1uby1kb3RzIC5qc3RyZWUtY2xvc2VkID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwcHggMHB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LWxhcmdlIC5qc3RyZWUtZGlzYWJsZWQge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cbi5qc3RyZWUtZGVmYXVsdC1sYXJnZSAuanN0cmVlLWRpc2FibGVkLmpzdHJlZS1ob3ZlcmVkIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UgLmpzdHJlZS1kaXNhYmxlZC5qc3RyZWUtY2xpY2tlZCB7XG4gIGJhY2tncm91bmQ6ICNlZmVmZWY7XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UgLmpzdHJlZS1jaGVja2JveCB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0xNjBweCAwcHg7XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UgLmpzdHJlZS1jaGVja2JveDpob3ZlciB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0xNjBweCAtMzJweDtcbn1cbi5qc3RyZWUtZGVmYXVsdC1sYXJnZS5qc3RyZWUtY2hlY2tib3gtc2VsZWN0aW9uIC5qc3RyZWUtY2xpY2tlZCA+IC5qc3RyZWUtY2hlY2tib3gsXG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UgLmpzdHJlZS1jaGVja2VkID4gLmpzdHJlZS1jaGVja2JveCB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0yMjRweCAwcHg7XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UuanN0cmVlLWNoZWNrYm94LXNlbGVjdGlvbiAuanN0cmVlLWNsaWNrZWQgPiAuanN0cmVlLWNoZWNrYm94OmhvdmVyLFxuLmpzdHJlZS1kZWZhdWx0LWxhcmdlIC5qc3RyZWUtY2hlY2tlZCA+IC5qc3RyZWUtY2hlY2tib3g6aG92ZXIge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjI0cHggLTMycHg7XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UgLmpzdHJlZS1hbmNob3IgPiAuanN0cmVlLXVuZGV0ZXJtaW5lZCB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0xOTJweCAwcHg7XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UgLmpzdHJlZS1hbmNob3IgPiAuanN0cmVlLXVuZGV0ZXJtaW5lZDpob3ZlciB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0xOTJweCAtMzJweDtcbn1cbi5qc3RyZWUtZGVmYXVsdC1sYXJnZSAuanN0cmVlLWNoZWNrYm94LWRpc2FibGVkIHtcbiAgb3BhY2l0eTogMC44O1xuICBmaWx0ZXI6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDt1dGY4LDxzdmcgeG1sbnM9XFwnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXCc+PGZpbHRlciBpZD1cXCdqc3RyZWUtZ3JheXNjYWxlXFwnPjxmZUNvbG9yTWF0cml4IHR5cGU9XFwnbWF0cml4XFwnIHZhbHVlcz1cXCcwLjMzMzMgMC4zMzMzIDAuMzMzMyAwIDAgMC4zMzMzIDAuMzMzMyAwLjMzMzMgMCAwIDAuMzMzMyAwLjMzMzMgMC4zMzMzIDAgMCAwIDAgMCAxIDBcXCcvPjwvZmlsdGVyPjwvc3ZnPiNqc3RyZWUtZ3JheXNjYWxlXCIpO1xuICAvKiBGaXJlZm94IDEwKyAqL1xuICBmaWx0ZXI6IGdyYXk7XG4gIC8qIElFNi05ICovXG4gIC13ZWJraXQtZmlsdGVyOiBncmF5c2NhbGUoMTAwJSk7XG4gIC8qIENocm9tZSAxOSsgJiBTYWZhcmkgNisgKi9cbn1cbi5qc3RyZWUtZGVmYXVsdC1sYXJnZSA+IC5qc3RyZWUtc3RyaXBlZCB7XG4gIGJhY2tncm91bmQtc2l6ZTogYXV0byA2NHB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LWxhcmdlLmpzdHJlZS1ydGwgLmpzdHJlZS1ub2RlIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCZ0FBQUFDQVFNQUFBQjQ5STVHQUFBQUJsQk1WRVVBQUFBZEhSdkVrQ3djQUFBQUFYUlNUbE1BUU9iWVpnQUFBQXhKUkVGVUNOZGpBQU1PQmdBQUdBQUpNd1FIZFFBQUFBQkpSVTVFcmtKZ2dnPT1cIik7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IDEwMCUgMXB4O1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXk7XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UuanN0cmVlLXJ0bCAuanN0cmVlLWxhc3Qge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cbi5qc3RyZWUtZGVmYXVsdC1sYXJnZS5qc3RyZWUtcnRsIC5qc3RyZWUtb3BlbiA+IC5qc3RyZWUtb2NsIHtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTEyOHB4IC0zMnB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LWxhcmdlLmpzdHJlZS1ydGwgLmpzdHJlZS1jbG9zZWQgPiAuanN0cmVlLW9jbCB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC05NnB4IC0zMnB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LWxhcmdlLmpzdHJlZS1ydGwgLmpzdHJlZS1sZWFmID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNjRweCAtMzJweDtcbn1cbi5qc3RyZWUtZGVmYXVsdC1sYXJnZS5qc3RyZWUtcnRsID4gLmpzdHJlZS1uby1kb3RzIC5qc3RyZWUtbm9kZSxcbi5qc3RyZWUtZGVmYXVsdC1sYXJnZS5qc3RyZWUtcnRsID4gLmpzdHJlZS1uby1kb3RzIC5qc3RyZWUtbGVhZiA+IC5qc3RyZWUtb2NsIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UuanN0cmVlLXJ0bCA+IC5qc3RyZWUtbm8tZG90cyAuanN0cmVlLW9wZW4gPiAuanN0cmVlLW9jbCB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IC0zMnB4O1xufVxuLmpzdHJlZS1kZWZhdWx0LWxhcmdlLmpzdHJlZS1ydGwgPiAuanN0cmVlLW5vLWRvdHMgLmpzdHJlZS1jbG9zZWQgPiAuanN0cmVlLW9jbCB7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IDBweCAtMzJweDtcbn1cbi5qc3RyZWUtZGVmYXVsdC1sYXJnZSAuanN0cmVlLXRoZW1laWNvbi1jdXN0b20ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgYmFja2dyb3VuZC1pbWFnZTogbm9uZTtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwO1xufVxuLmpzdHJlZS1kZWZhdWx0LWxhcmdlID4gLmpzdHJlZS1jb250YWluZXItdWwgLmpzdHJlZS1sb2FkaW5nID4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kOiB1cmwoXCJ0aHJvYmJlci5naWZcIikgY2VudGVyIGNlbnRlciBuby1yZXBlYXQ7XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UgLmpzdHJlZS1maWxlIHtcbiAgYmFja2dyb3VuZDogdXJsKFwiMzJweC5wbmdcIikgLTk2cHggLTY0cHggbm8tcmVwZWF0O1xufVxuLmpzdHJlZS1kZWZhdWx0LWxhcmdlIC5qc3RyZWUtZm9sZGVyIHtcbiAgYmFja2dyb3VuZDogdXJsKFwiMzJweC5wbmdcIikgLTI1NnB4IDBweCBuby1yZXBlYXQ7XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UgPiAuanN0cmVlLWNvbnRhaW5lci11bCA+IC5qc3RyZWUtbm9kZSB7XG4gIG1hcmdpbi1sZWZ0OiAwO1xuICBtYXJnaW4tcmlnaHQ6IDA7XG59XG4janN0cmVlLWRuZC5qc3RyZWUtZGVmYXVsdC1sYXJnZSB7XG4gIGxpbmUtaGVpZ2h0OiAzMnB4O1xuICBwYWRkaW5nOiAwIDRweDtcbn1cbiNqc3RyZWUtZG5kLmpzdHJlZS1kZWZhdWx0LWxhcmdlIC5qc3RyZWUtb2ssXG4janN0cmVlLWRuZC5qc3RyZWUtZGVmYXVsdC1sYXJnZSAuanN0cmVlLWVyIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiMzJweC5wbmdcIik7XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuI2pzdHJlZS1kbmQuanN0cmVlLWRlZmF1bHQtbGFyZ2UgaSB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICB3aWR0aDogMzJweDtcbiAgaGVpZ2h0OiAzMnB4O1xuICBsaW5lLWhlaWdodDogMzJweDtcbn1cbiNqc3RyZWUtZG5kLmpzdHJlZS1kZWZhdWx0LWxhcmdlIC5qc3RyZWUtb2sge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwcHggLTY0cHg7XG59XG4janN0cmVlLWRuZC5qc3RyZWUtZGVmYXVsdC1sYXJnZSAuanN0cmVlLWVyIHtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMycHggLTY0cHg7XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UgLmpzdHJlZS1lbGxpcHNpcyB7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UgLmpzdHJlZS1lbGxpcHNpcyAuanN0cmVlLWFuY2hvciB7XG4gIHdpZHRoOiBjYWxjKDEwMCUgLSAzN3B4KTtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG4uanN0cmVlLWRlZmF1bHQtbGFyZ2UgLmpzdHJlZS1lbGxpcHNpcy5qc3RyZWUtbm8taWNvbnMgLmpzdHJlZS1hbmNob3Ige1xuICB3aWR0aDogY2FsYygxMDAlIC0gNXB4KTtcbn1cbi5qc3RyZWUtZGVmYXVsdC1sYXJnZS5qc3RyZWUtcnRsIC5qc3RyZWUtbm9kZSB7XG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBQ0FRTUFBQUFEMEV5S0FBQUFCbEJNVkVVQUFBQWRIUnZFa0N3Y0FBQUFBWFJTVGxNQVFPYllaZ0FBQUF4SlJFRlVDTmRqZ0lJR0JnQUJDZ0NCdlZMWGNBQUFBQUJKUlU1RXJrSmdnZz09XCIpO1xufVxuLmpzdHJlZS1kZWZhdWx0LWxhcmdlLmpzdHJlZS1ydGwgLmpzdHJlZS1sYXN0IHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgI2pzdHJlZS1kbmQuanN0cmVlLWRuZC1yZXNwb25zaXZlIHtcbiAgICBsaW5lLWhlaWdodDogNDBweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBmb250LXNpemU6IDEuMWVtO1xuICAgIHRleHQtc2hhZG93OiAxcHggMXB4IHdoaXRlO1xuICB9XG4gICNqc3RyZWUtZG5kLmpzdHJlZS1kbmQtcmVzcG9uc2l2ZSA+IGkge1xuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgIHdpZHRoOiA0MHB4O1xuICAgIGhlaWdodDogNDBweDtcbiAgfVxuICAjanN0cmVlLWRuZC5qc3RyZWUtZG5kLXJlc3BvbnNpdmUgPiAuanN0cmVlLW9rIHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCI0MHB4LnBuZ1wiKTtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC0yMDBweDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDEyMHB4IDI0MHB4O1xuICB9XG4gICNqc3RyZWUtZG5kLmpzdHJlZS1kbmQtcmVzcG9uc2l2ZSA+IC5qc3RyZWUtZXIge1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIjQwcHgucG5nXCIpO1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IC00MHB4IC0yMDBweDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDEyMHB4IDI0MHB4O1xuICB9XG4gICNqc3RyZWUtbWFya2VyLmpzdHJlZS1kbmQtcmVzcG9uc2l2ZSB7XG4gICAgYm9yZGVyLWxlZnQtd2lkdGg6IDEwcHg7XG4gICAgYm9yZGVyLXRvcC13aWR0aDogMTBweDtcbiAgICBib3JkZXItYm90dG9tLXdpZHRoOiAxMHB4O1xuICAgIG1hcmdpbi10b3A6IC0xMHB4O1xuICB9XG59XG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLmpzdHJlZS1kZWZhdWx0LXJlc3BvbnNpdmUge1xuICAgIC8qXG5cdC5qc3RyZWUtb3BlbiA+IC5qc3RyZWUtb2NsLFxuXHQuanN0cmVlLWNsb3NlZCA+IC5qc3RyZWUtb2NsIHsgYm9yZGVyLXJhZGl1czoyMHB4OyBiYWNrZ3JvdW5kLWNvbG9yOndoaXRlOyB9XG5cdCovXG4gIH1cbiAgLmpzdHJlZS1kZWZhdWx0LXJlc3BvbnNpdmUgLmpzdHJlZS1pY29uIHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCI0MHB4LnBuZ1wiKTtcbiAgfVxuICAuanN0cmVlLWRlZmF1bHQtcmVzcG9uc2l2ZSAuanN0cmVlLW5vZGUsXG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlIC5qc3RyZWUtbGVhZiA+IC5qc3RyZWUtb2NsIHtcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgfVxuICAuanN0cmVlLWRlZmF1bHQtcmVzcG9uc2l2ZSAuanN0cmVlLW5vZGUge1xuICAgIG1pbi1oZWlnaHQ6IDQwcHg7XG4gICAgbGluZS1oZWlnaHQ6IDQwcHg7XG4gICAgbWFyZ2luLWxlZnQ6IDQwcHg7XG4gICAgbWluLXdpZHRoOiA0MHB4O1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIH1cbiAgLmpzdHJlZS1kZWZhdWx0LXJlc3BvbnNpdmUgLmpzdHJlZS1hbmNob3Ige1xuICAgIGxpbmUtaGVpZ2h0OiA0MHB4O1xuICAgIGhlaWdodDogNDBweDtcbiAgfVxuICAuanN0cmVlLWRlZmF1bHQtcmVzcG9uc2l2ZSAuanN0cmVlLWljb24sXG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlIC5qc3RyZWUtaWNvbjplbXB0eSB7XG4gICAgd2lkdGg6IDQwcHg7XG4gICAgaGVpZ2h0OiA0MHB4O1xuICAgIGxpbmUtaGVpZ2h0OiA0MHB4O1xuICB9XG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlID4gLmpzdHJlZS1jb250YWluZXItdWwgPiAuanN0cmVlLW5vZGUge1xuICAgIG1hcmdpbi1sZWZ0OiAwO1xuICB9XG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlLmpzdHJlZS1ydGwgLmpzdHJlZS1ub2RlIHtcbiAgICBtYXJnaW4tbGVmdDogMDtcbiAgICBtYXJnaW4tcmlnaHQ6IDQwcHg7XG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIH1cbiAgLmpzdHJlZS1kZWZhdWx0LXJlc3BvbnNpdmUuanN0cmVlLXJ0bCAuanN0cmVlLWNvbnRhaW5lci11bCA+IC5qc3RyZWUtbm9kZSB7XG4gICAgbWFyZ2luLXJpZ2h0OiAwO1xuICB9XG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlIC5qc3RyZWUtb2NsLFxuICAuanN0cmVlLWRlZmF1bHQtcmVzcG9uc2l2ZSAuanN0cmVlLXRoZW1laWNvbixcbiAgLmpzdHJlZS1kZWZhdWx0LXJlc3BvbnNpdmUgLmpzdHJlZS1jaGVja2JveCB7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxMjBweCAyNDBweDtcbiAgfVxuICAuanN0cmVlLWRlZmF1bHQtcmVzcG9uc2l2ZSAuanN0cmVlLWxlYWYgPiAuanN0cmVlLW9jbCxcbiAgLmpzdHJlZS1kZWZhdWx0LXJlc3BvbnNpdmUuanN0cmVlLXJ0bCAuanN0cmVlLWxlYWYgPiAuanN0cmVlLW9jbCB7XG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIH1cbiAgLmpzdHJlZS1kZWZhdWx0LXJlc3BvbnNpdmUgLmpzdHJlZS1vcGVuID4gLmpzdHJlZS1vY2wge1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDAgMHB4ICFpbXBvcnRhbnQ7XG4gIH1cbiAgLmpzdHJlZS1kZWZhdWx0LXJlc3BvbnNpdmUgLmpzdHJlZS1jbG9zZWQgPiAuanN0cmVlLW9jbCB7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAtNDBweCAhaW1wb3J0YW50O1xuICB9XG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlLmpzdHJlZS1ydGwgLmpzdHJlZS1jbG9zZWQgPiAuanN0cmVlLW9jbCB7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQwcHggMHB4ICFpbXBvcnRhbnQ7XG4gIH1cbiAgLmpzdHJlZS1kZWZhdWx0LXJlc3BvbnNpdmUgLmpzdHJlZS10aGVtZWljb24ge1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IC00MHB4IC00MHB4O1xuICB9XG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlIC5qc3RyZWUtY2hlY2tib3gsXG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlIC5qc3RyZWUtY2hlY2tib3g6aG92ZXIge1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IC00MHB4IC04MHB4O1xuICB9XG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlLmpzdHJlZS1jaGVja2JveC1zZWxlY3Rpb24gLmpzdHJlZS1jbGlja2VkID4gLmpzdHJlZS1jaGVja2JveCxcbiAgLmpzdHJlZS1kZWZhdWx0LXJlc3BvbnNpdmUuanN0cmVlLWNoZWNrYm94LXNlbGVjdGlvbiAuanN0cmVlLWNsaWNrZWQgPiAuanN0cmVlLWNoZWNrYm94OmhvdmVyLFxuICAuanN0cmVlLWRlZmF1bHQtcmVzcG9uc2l2ZSAuanN0cmVlLWNoZWNrZWQgPiAuanN0cmVlLWNoZWNrYm94LFxuICAuanN0cmVlLWRlZmF1bHQtcmVzcG9uc2l2ZSAuanN0cmVlLWNoZWNrZWQgPiAuanN0cmVlLWNoZWNrYm94OmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC04MHB4O1xuICB9XG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlIC5qc3RyZWUtYW5jaG9yID4gLmpzdHJlZS11bmRldGVybWluZWQsXG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlIC5qc3RyZWUtYW5jaG9yID4gLmpzdHJlZS11bmRldGVybWluZWQ6aG92ZXIge1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDAgLTEyMHB4O1xuICB9XG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlIC5qc3RyZWUtYW5jaG9yIHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBmb250LXNpemU6IDEuMWVtO1xuICAgIHRleHQtc2hhZG93OiAxcHggMXB4IHdoaXRlO1xuICB9XG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlID4gLmpzdHJlZS1zdHJpcGVkIHtcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgfVxuICAuanN0cmVlLWRlZmF1bHQtcmVzcG9uc2l2ZSAuanN0cmVlLXdob2xlcm93IHtcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpO1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDY0LCA2NCwgNjQsIDAuMik7XG4gICAgYmFja2dyb3VuZDogI2ViZWJlYjtcbiAgICBoZWlnaHQ6IDQwcHg7XG4gIH1cbiAgLmpzdHJlZS1kZWZhdWx0LXJlc3BvbnNpdmUgLmpzdHJlZS13aG9sZXJvdy1ob3ZlcmVkIHtcbiAgICBiYWNrZ3JvdW5kOiAjZTdmNGY5O1xuICB9XG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlIC5qc3RyZWUtd2hvbGVyb3ctY2xpY2tlZCB7XG4gICAgYmFja2dyb3VuZDogI2JlZWJmZjtcbiAgfVxuICAuanN0cmVlLWRlZmF1bHQtcmVzcG9uc2l2ZSAuanN0cmVlLWNoaWxkcmVuIC5qc3RyZWUtbGFzdCA+IC5qc3RyZWUtd2hvbGVyb3cge1xuICAgIGJveC1zaGFkb3c6IGluc2V0IDAgLTZweCAzcHggLTVweCAjNjY2NjY2O1xuICB9XG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlIC5qc3RyZWUtY2hpbGRyZW4gLmpzdHJlZS1vcGVuID4gLmpzdHJlZS13aG9sZXJvdyB7XG4gICAgYm94LXNoYWRvdzogaW5zZXQgMCA2cHggM3B4IC01cHggIzY2NjY2NjtcbiAgICBib3JkZXItdG9wOiAwO1xuICB9XG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlIC5qc3RyZWUtY2hpbGRyZW4gLmpzdHJlZS1vcGVuICsgLmpzdHJlZS1vcGVuIHtcbiAgICBib3gtc2hhZG93OiBub25lO1xuICB9XG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlIC5qc3RyZWUtbm9kZSxcbiAgLmpzdHJlZS1kZWZhdWx0LXJlc3BvbnNpdmUgLmpzdHJlZS1pY29uLFxuICAuanN0cmVlLWRlZmF1bHQtcmVzcG9uc2l2ZSAuanN0cmVlLW5vZGUgPiAuanN0cmVlLW9jbCxcbiAgLmpzdHJlZS1kZWZhdWx0LXJlc3BvbnNpdmUgLmpzdHJlZS10aGVtZWljb24sXG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlIC5qc3RyZWUtY2hlY2tib3gge1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIjQwcHgucG5nXCIpO1xuICAgIGJhY2tncm91bmQtc2l6ZTogMTIwcHggMjQwcHg7XG4gIH1cbiAgLmpzdHJlZS1kZWZhdWx0LXJlc3BvbnNpdmUgLmpzdHJlZS1ub2RlIHtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtODBweCAwO1xuICAgIGJhY2tncm91bmQtcmVwZWF0OiByZXBlYXQteTtcbiAgfVxuICAuanN0cmVlLWRlZmF1bHQtcmVzcG9uc2l2ZSAuanN0cmVlLWxhc3Qge1xuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICB9XG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlIC5qc3RyZWUtbGVhZiA+IC5qc3RyZWUtb2NsIHtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDBweCAtMTIwcHg7XG4gIH1cbiAgLmpzdHJlZS1kZWZhdWx0LXJlc3BvbnNpdmUgLmpzdHJlZS1sYXN0ID4gLmpzdHJlZS1vY2wge1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IC00MHB4IC0xNjBweDtcbiAgfVxuICAuanN0cmVlLWRlZmF1bHQtcmVzcG9uc2l2ZSAuanN0cmVlLXRoZW1laWNvbi1jdXN0b20ge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwO1xuICB9XG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlIC5qc3RyZWUtZmlsZSB7XG4gICAgYmFja2dyb3VuZDogdXJsKFwiNDBweC5wbmdcIikgMCAtMTYwcHggbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtc2l6ZTogMTIwcHggMjQwcHg7XG4gIH1cbiAgLmpzdHJlZS1kZWZhdWx0LXJlc3BvbnNpdmUgLmpzdHJlZS1mb2xkZXIge1xuICAgIGJhY2tncm91bmQ6IHVybChcIjQwcHgucG5nXCIpIC00MHB4IC00MHB4IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDEyMHB4IDI0MHB4O1xuICB9XG4gIC5qc3RyZWUtZGVmYXVsdC1yZXNwb25zaXZlID4gLmpzdHJlZS1jb250YWluZXItdWwgPiAuanN0cmVlLW5vZGUge1xuICAgIG1hcmdpbi1sZWZ0OiAwO1xuICAgIG1hcmdpbi1yaWdodDogMDtcbiAgfVxufVxuIgoKLyoqKi8gfSwKLyogMTEgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJbW9kdWxlLmV4cG9ydHMgPSAiLypcbipcdE1hdHRlclRvb2xzLkluc3BlY3RvclxuKi9cblxuLmlucy1jb250YWluZXIsXG4uanN0cmVlIHtcbiAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7XG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XG59XG5cbi5pbnMtY3Vyc29yLW1vdmUgY2FudmFzIHtcbiAgY3Vyc29yOiBtb3ZlICFpbXBvcnRhbnQ7XG59XG5cbi5pbnMtY3Vyc29yLXJvdGF0ZSBjYW52YXMge1xuICBjdXJzb3I6IGV3LXJlc2l6ZSAhaW1wb3J0YW50O1xufVxuXG4uaW5zLWN1cnNvci1zY2FsZSBjYW52YXMge1xuICBjdXJzb3I6IG53c2UtcmVzaXplICFpbXBvcnRhbnQ7XG59XG5cbi5pbnMtY29udGFpbmVyIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBvdmVyZmxvdzogYXV0bztcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICB6LWluZGV4OiAxMDtcbiAgd2lkdGg6IDI0NXB4O1xuICBib3R0b206IDA7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgYmFja2dyb3VuZDogIzFjMWMyNTtcbiAgcGFkZGluZzogMDtcbiAgZm9udC1mYW1pbHk6IEFyaWFsO1xuICBmb250LXNpemU6IDEycHg7XG4gIGNvbG9yOiAjYWFhO1xuICBib3gtc2hhZG93OiAwIDAgMzBweCByZ2JhKDAsMCwwLDAuMik7XG59XG5cbmJvZHkgLmlucy1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgYmFja2dyb3VuZDogIzFjMWMyNTtcbiAgd2lkdGg6IDEycHg7XG59XG5cbmJvZHkgLmlucy1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIHdpZHRoOiA1cHg7XG4gIGJvcmRlci1sZWZ0OiA1cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci1yaWdodDogNnB4IHNvbGlkICMyYTJhMzE7XG4gIGJvcmRlci1yYWRpdXM6IDA7XG59XG5cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aCA6IDE1MDBweCkge1xuICAuaW5zLWNvbnRhaW5lciB7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTIzMHB4LCAwKTtcbiAgfVxuXG4gIC5pbnMtY29udGFpbmVyOmhvdmVyIHtcbiAgICB0cmFuc2Zvcm06IG5vbmU7XG4gIH1cblxuICAuaW5zLWNvbnRhaW5lciB7XG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgNTAwbXMgY3ViaWMtYmV6aWVyKDAuOTY1LCAwLjAyNSwgMC43MzUsIDAuNDE1KTsgXG4gICAgICAgLW1vei10cmFuc2l0aW9uOiBhbGwgNTAwbXMgY3ViaWMtYmV6aWVyKDAuOTY1LCAwLjAyNSwgMC43MzUsIDAuNDE1KTsgXG4gICAgICAgLW8tdHJhbnNpdGlvbjogYWxsIDUwMG1zIGN1YmljLWJlemllcigwLjk2NSwgMC4wMjUsIDAuNzM1LCAwLjQxNSk7IFxuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgNTAwbXMgY3ViaWMtYmV6aWVyKDAuOTY1LCAwLjAyNSwgMC43MzUsIDAuNDE1KTtcblxuICAgIC13ZWJraXQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjk2NSwgMC4wMjUsIDAuNzM1LCAwLjQxNSk7IFxuICAgICAgIC1tb3otdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjk2NSwgMC4wMjUsIDAuNzM1LCAwLjQxNSk7IFxuICAgICAgIC1vLXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC45NjUsIDAuMDI1LCAwLjczNSwgMC40MTUpOyBcbiAgICAgICAgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246IGN1YmljLWJlemllcigwLjk2NSwgMC4wMjUsIDAuNzM1LCAwLjQxNSk7XG5cbiAgICB0cmFuc2l0aW9uLWRlbGF5OiAzcztcbiAgICAtd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6IDNzO1xuICB9XG5cbiAgLmlucy1jb250YWluZXI6aG92ZXIge1xuICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDUwMG1zIGN1YmljLWJlemllcigwLjA5NSwgMC42NjUsIDAuNDAwLCAwLjgzNSk7IFxuICAgICAgIC1tb3otdHJhbnNpdGlvbjogYWxsIDUwMG1zIGN1YmljLWJlemllcigwLjA5NSwgMC42NjUsIDAuNDAwLCAwLjgzNSk7IFxuICAgICAgIC1vLXRyYW5zaXRpb246IGFsbCA1MDBtcyBjdWJpYy1iZXppZXIoMC4wOTUsIDAuNjY1LCAwLjQwMCwgMC44MzUpOyBcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDUwMG1zIGN1YmljLWJlemllcigwLjA5NSwgMC42NjUsIDAuNDAwLCAwLjgzNSk7XG5cbiAgICAtd2Via2l0LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4wOTUsIDAuNjY1LCAwLjQwMCwgMC44MzUpOyBcbiAgICAgICAtbW96LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4wOTUsIDAuNjY1LCAwLjQwMCwgMC44MzUpOyBcbiAgICAgICAtby10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMDk1LCAwLjY2NSwgMC40MDAsIDAuODM1KTsgXG4gICAgICAgIHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4wOTUsIDAuNjY1LCAwLjQwMCwgMC44MzUpO1xuXG4gICAgdHJhbnNpdGlvbi1kZWxheTogMDtcbiAgICAtd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6IDA7XG4gIH1cbn1cblxuLmlucy1hZGQtYnV0dG9uLmlucy1idXR0b24ge1xuICB3aWR0aDogYXV0bztcbiAgaGVpZ2h0OiBhdXRvO1xuICBwYWRkaW5nOiAycHggNXB4O1xuICBtYXJnaW46IDRweCAwIDAgMDtcbiAgcmlnaHQ6IDBweDtcbiAgbWluLXdpZHRoOiAwO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDEwMDtcbn1cblxuLmlucy1zZWFyY2gtYm94IHtcbiAgbWFyZ2luOiAyMHB4IDBweCAxNnB4IDEzcHg7XG4gIGJvcmRlcjogMDtcbiAgcGFkZGluZzogN3B4IDhweDtcbiAgZm9udC1zaXplOiAxMnB4O1xuICB3aWR0aDogMTAwJTtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBiYWNrZ3JvdW5kOiAjMTExMTE3O1xuICBjb2xvcjogIzkxOTY5MTtcbiAgYXBwZWFyYW5jZTogbm9uZTtcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XG59XG5cbi5pbnMtc2VhcmNoLWJveDpmb2N1cyB7XG4gIGJhY2tncm91bmQ6ICMxNTE1MWQ7XG4gIGJvcmRlcjogMDtcbiAgb3V0bGluZTogMDtcbn1cblxuLmlucy1zZWFyY2gtYm94Ojotd2Via2l0LXNlYXJjaC1jYW5jZWwtYnV0dG9uIHtcbiAgYXBwZWFyYW5jZTogbm9uZTtcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XG4gIGhlaWdodDogMTVweDtcbiAgd2lkdGg6IDhweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uaW5zLXNlYXJjaC1ib3g6Oi13ZWJraXQtc2VhcmNoLWNhbmNlbC1idXR0b246YmVmb3JlIHtcbiAgaGVpZ2h0OiAxMHB4O1xuICB3aWR0aDogMTBweDtcbiAgY29udGVudDogJ3gnO1xuICBmb250LWZhbWlseTogQXJpYWw7XG4gIGxpbmUtaGVpZ2h0OiAwO1xuICBmb250LXNpemU6IDEzcHg7XG4gIGNvbG9yOiAjOTk5O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uaW5zLXNlYXJjaC1ib3g6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xuICBjb2xvcjogIzc3Nztcbn1cblxuLmlucy1zZWFyY2gtYm94Oi1tb3otcGxhY2Vob2xkZXIge1xuICBjb2xvcjogIzc3Nztcbn1cblxuLmlucy1zZWFyY2gtYm94OjotbW96LXBsYWNlaG9sZGVyIHtcbiAgY29sb3I6ICM3Nzc7XG59XG5cbi5pbnMtc2VhcmNoLWJveDotbXMtaW5wdXQtcGxhY2Vob2xkZXIgeyAgXG4gIGNvbG9yOiAjNzc3O1xufVxuXG4uaW5zLXdvcmxkLXRyZWUge1xuXG59XG5cbi5pbnMtY29udHJvbC1ncm91cCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBjbGVhcjogYm90aDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgcGFkZGluZzogMTRweCAyMHB4IDEycHggMjBweDtcbiAgYmFja2dyb3VuZDogIzBkMGYxYjtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMyOTI5MmQ7XG59XG5cbi5pbnMtYnV0dG9uIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZsb2F0OiBsZWZ0O1xuICBmb250LXNpemU6IDExcHg7XG4gIGxpbmUtaGVpZ2h0OiAxO1xuICBwYWRkaW5nOiAxMHB4IDExcHg7XG4gIG1pbi13aWR0aDogNDlweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBiYWNrZ3JvdW5kOiAjMGQwZjFiO1xuICBib3JkZXI6IDA7XG4gIGNvbG9yOiAjYWFhO1xuICBib3JkZXItcmFkaXVzOiAycHg7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIG91dGxpbmU6IG5vbmU7XG4gIG1hcmdpbjogMDtcbn1cblxuLmlucy1idXR0b246aG92ZXIge1xuICBiYWNrZ3JvdW5kOiAjMjEyYTNhO1xufVxuXG4uaW5zLWJ1dHRvbjphY3RpdmUge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMnB4KTtcbiAgYmFja2dyb3VuZDogIzIxMmEzYTtcbn1cblxuLmlucy1idXR0b246Oi1tb3otZm9jdXMtaW5uZXIge1xuICBwYWRkaW5nOiAwO1xuICBib3JkZXI6IDA7XG59XG5cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLXNlYXJjaCB7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgY29sb3I6ICNhYWE7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG59XG5cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLXdob2xlcm93LWhvdmVyZWQsXG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1ob3ZlcmVkIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci1yYWRpdXM6IDA7XG4gIGJveC1zaGFkb3c6IG5vbmU7XG59XG5cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLXdob2xlcm93IHtcbiAgaGVpZ2h0OiAyNnB4O1xufVxuXG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS13aG9sZXJvdy1jbGlja2VkLFxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtY2xpY2tlZCB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBib3gtc2hhZG93OiBub25lO1xuICB0cmFuc2l0aW9uOiBub25lO1xufVxuXG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1sZWFmIC5qc3RyZWUtY2xpY2tlZCB7XG4gIGNvbG9yOiAjYmJiICFpbXBvcnRhbnQ7XG5cbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBjb2xvciAxMDBtcyBsaW5lYXI7IFxuICAgICAtbW96LXRyYW5zaXRpb246IGNvbG9yIDEwMG1zIGxpbmVhcjsgXG4gICAgIC1vLXRyYW5zaXRpb246IGNvbG9yIDEwMG1zIGxpbmVhcjsgXG4gICAgICB0cmFuc2l0aW9uOiBjb2xvciAxMDBtcyBsaW5lYXI7IFxufVxuXG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1hbmNob3Ige1xuICBsaW5lLWhlaWdodDogMjdweDtcbn1cblxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtY29udGFpbmVyLXVsPiAuanN0cmVlLW5vZGUgPiAuanN0cmVlLWFuY2hvcjpiZWZvcmUsXG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1vcGVuID4gLmpzdHJlZS1jaGlsZHJlbiA+IC5qc3RyZWUtbm9kZSA+IC5qc3RyZWUtYW5jaG9yOmJlZm9yZSB7XG4gIGNvbnRlbnQ6ICcnO1xuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICByaWdodDogMXB4O1xuICBoZWlnaHQ6IDI2cHg7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBib3gtc2hhZG93OiBub25lO1xuICBib3JkZXItcmlnaHQ6IG5vbmU7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDApO1xuXG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYmFja2dyb3VuZCAxMDBtcyBsaW5lYXI7IFxuICAgICAtbW96LXRyYW5zaXRpb246IGJhY2tncm91bmQgMTAwbXMgbGluZWFyOyBcbiAgICAgLW8tdHJhbnNpdGlvbjogYmFja2dyb3VuZCAxMDBtcyBsaW5lYXI7IFxuICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAxMDBtcyBsaW5lYXI7IFxufVxuXG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1hbmNob3IuanN0cmVlLWNsaWNrZWQ6YmVmb3JlIHtcbiAgYmFja2dyb3VuZDogcmdiYSg1OCwgNjMsIDg4LCAwLjM1KSAhaW1wb3J0YW50O1xuXG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYmFja2dyb3VuZCAxMDBtcyBsaW5lYXI7IFxuICAgICAtbW96LXRyYW5zaXRpb246IGJhY2tncm91bmQgMTAwbXMgbGluZWFyOyBcbiAgICAgLW8tdHJhbnNpdGlvbjogYmFja2dyb3VuZCAxMDBtcyBsaW5lYXI7IFxuICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAxMDBtcyBsaW5lYXI7IFxuXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xufVxuXG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1ub2RlLFxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtbGVhZiAuanN0cmVlLW9jbCxcbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLWljb24ge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cblxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtbm9kZSB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuXG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1pY29uIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1pY29uOmJlZm9yZSB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgY29sb3I6ICNkNmQ2ZDY7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC1zaXplOiAxMXB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMHB4O1xuICBsZWZ0OiAxMHB4O1xufVxuXG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1vcGVuID4gLmpzdHJlZS1pY29uOmJlZm9yZSB7XG4gIGNvbnRlbnQ6ICfilr4nO1xuICB0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpO1xuICB0b3A6IDJweDtcbn1cblxuLmpzdHJlZS1kZWZhdWx0IC5qc3RyZWUtY2xvc2VkID4gLmpzdHJlZS1pY29uOmJlZm9yZSB7XG4gIGNvbnRlbnQ6ICfilr4nO1xufVxuXG4uanN0cmVlLWxlYWYgLmpzdHJlZS1pY29uOmJlZm9yZSB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi5qc3RyZWUtZGVmYXVsdCAuanN0cmVlLW9wZW4gLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzhweCAtMXB4O1xufVxuXG4uanN0cmVlLWRlZmF1bHQgLmpzdHJlZS1jbG9zZWQgLmpzdHJlZS1vY2wge1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNHB4IC0ycHg7XG59XG5cbi5qc3RyZWUtYW5jaG9yIHtcbiAgcGFkZGluZzogMXB4IDA7XG4gIHRyYW5zaXRpb246IG5vbmU7XG59XG5cbi5qc3RyZWUtYW5jaG9yIC5qc3RyZWUtaWNvbiB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi5qc3RyZWUtbm9kZS10eXBlLWJvZGllcyA+IC5qc3RyZWUtYW5jaG9yLFxuLmpzdHJlZS1ub2RlLXR5cGUtY29uc3RyYWludHMgPiAuanN0cmVlLWFuY2hvcixcbi5qc3RyZWUtbm9kZS10eXBlLWNvbXBvc2l0ZXMgPiAuanN0cmVlLWFuY2hvciB7XG4gIGNvbG9yOiAjODg4O1xufVxuXG4uaW5zLWNvbnRhaW5lciAqOjotd2Via2l0LXNjcm9sbGJhciB7XG4gIHdpZHRoOiAxMHB4O1xuICBoZWlnaHQ6IDEwcHg7XG59XG5cbi5pbnMtY29udGFpbmVyICo6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOnZlcnRpY2FsIHtcbiAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCAjMWMxYzI1O1xuICBiYWNrZ3JvdW5kOiAjMWMxZDJmO1xuICB3aWR0aDogMTBweDtcbn1cblxuLmlucy1jb250YWluZXIgKjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG9yaXpvbnRhbCB7XG4gIGJvcmRlci10b3A6IDNweCBzb2xpZCAjMWMxYzI1O1xuICBiYWNrZ3JvdW5kOiAjMWMxZDJmO1xuICBoZWlnaHQ6IDEwcHg7XG59XG5cbi5pbnMtY29udGFpbmVyICo6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrLFxuLmlucy1jb250YWluZXIgKjo6LXdlYmtpdC1zY3JvbGxiYXItY29ybmVyIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5cbiN2YWthdGEtZG5kIHtcbiAgZm9udC1mYW1pbHk6IEFyaWFsO1xuICBmb250LXNpemU6IDEycHg7XG4gIGNvbG9yOiAjYWFhO1xufSIKCi8qKiovIH0KLyoqKioqKi8gXSkKfSk7Cjs=","options":{"isTrashed":false},"credits":[]},{"name":"main.js","type":"application/javascript","lastModified":1492756455000,"composed":"ZmVlbGVzLm9wZW5SZWFkbWUoJ1JFQURNRS5tZCcpOwo=","options":{"isTrashed":false},"credits":[]},{"name":"manipulation/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgqrjg5bjgrjjgqfjgq/jg4jjgpLnm7TmjqXmk43kvZzjgZnjgosKCmBCb2R5YCDjgpLkvb/jgYjjgbDjgIHjgqrjg5bjgrjjgqfjgq/jg4jjga7kvY3nva7jgoTpgJ/luqbjgpIgIArnm7TmjqXmk43kvZzjgZnjgovjgZPjgajjgYzjgafjgY3jgovjgogKCumdmeatouOBl+OBpuOBhOOCi++8iGBpc1N0YXRpY2DvvInniankvZPjgpLli5XjgYvjgZfjgZ/jgYTjgajjgY3jgoLjgIEgIArjgZPjga7mlrnms5XjgYzkvb/jgYjjgovjgogKCgojIyAhW+aUuemAoOOBmeOCi10obWFuaXB1bGF0aW9uL21haW4uanMpCgoKIyMjIEJvZHkuc2V0UG9zaXRpb24oYGJvZHlgLCB7IHg6IGB4YCwgeTogYHlgIH0pCuaMh+WumuOBl+OBn+S9jee9ruOBq+OCquODluOCuOOCp+OCr+ODiOOCkuenu+WLleOBmeOCiwoK44OR44Op44Oh44O844K/IHwg5oSP5ZGzIHwg5Y2Y5L2NIHwg5pyA5bCPIHwg5pyA5aSnIAotLS0gfCAtLS0gfCAtLS0gfCAtLS0gfCAtLS0KYm9keSB8IOaTjeS9nOOBl+OBn+OBhOOCquODluOCuOOCp+OCr+ODiCB8ICB8ICB8ICAKeCB8IOWLleOBi+OBl+OBn+OBhOS9jee9ru+8iOaoqu+8iSB8IHB4IHwgMCB8IDgwMAp5IHwg5YuV44GL44GX44Gf44GE5L2N572u77yI57im77yJIHwgcHggfCAwIHwgNjAwIAoKIyMjIEJvZHkuc2V0VmVsb2NpdHkoYGJvZHlgLCB7IHg6IGB4YCwgeTogYHlgIH0pCuaMh+WumuOBl+OBn+mAn+W6puOBp+OCquODluOCuOOCp+OCr+ODiOOCkuenu+WLleOBleOBm+OCiwoK44OR44Op44Oh44O844K/IHwg5oSP5ZGzIHwg5Y2Y5L2NIHwg5pyA5bCPIHwg5pyA5aSnIAotLS0gfCAtLS0gfCAtLS0gfCAtLS0gfCAtLS0KYm9keSB8IOaTjeS9nOOBl+OBn+OBhOOCquODluOCuOOCp+OCr+ODiCB8ICB8ICB8ICAKeCB8IOmAn+W6pu+8iOWPs+WQkeOBje+8iSB8ICpweCAvIHMqIHwgLUluZmluaXR5IHwgSW5maW5pdHkKeSB8IOmAn+W6pu+8iOS4i+WQkeOBje+8iSB8ICpweCAvIHMqIHwgLUluZmluaXR5IHwgSW5maW5pdHkgCgojIyMgQm9keS5zZXRBbmdsZShgYm9keWAsIGBhbmdsZWApCuaMh+WumuOBl+OBn+inkuW6puOBq+OCquODluOCuOOCp+OCr+ODiOOCkuWbnui7ouOBmeOCiwoK44OR44Op44Oh44O844K/IHwg5oSP5ZGzIHwg5Y2Y5L2NIHwg5pyA5bCPIHwg5pyA5aSnIAotLS0gfCAtLS0gfCAtLS0gfCAtLS0gfCAtLS0KYm9keSB8IOaTjeS9nOOBl+OBn+OBhOOCquODluOCuOOCp+OCr+ODiCB8ICB8ICB8ICAKYW5nbGUgfCDop5LluqYgfCAqcmFkKiB8IC1NYXRoLlBJIHwgTWF0aC5QSQoKIyMjIEJvZHkuc2V0QW5ndWxhclZlbG9jaXR5KGBib2R5YCwgYGFuZ3VsYXJWZWxvY2l0eWApCuaMh+WumuOBl+OBn+inkumAn+W6puOBp+OCquODluOCuOOCp+OCr+ODiOOCkuWbnui7ouOBleOBm+OCiwoK44OR44Op44Oh44O844K/IHwg5oSP5ZGzIHwg5Y2Y5L2NIHwg5pyA5bCPIHwg5pyA5aSnIAotLS0gfCAtLS0gfCAtLS0gfCAtLS0gfCAtLS0KYm9keSB8IOaTjeS9nOOBl+OBn+OBhOOCquODluOCuOOCp+OCr+ODiCB8ICB8ICB8ICAKYW5ndWxhclZlbG9jaXR5IHwg6KeS6YCf5bqmIHwgKnJhZCAvIHMqIHwgLUluZmluaXR5IHwgSW5maW5pdHkgCgoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCg==","options":{"isTrashed":false},"credits":[]},{"name":"manipulation/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgqrjg5bjgrjjgqfjgq/jg4jjgpLnm7TmjqXmk43kvZzjgZnjgos8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJtYW5pcHVsYXRpb24vbWFpbi5qcyI+PC9zY3JpcHQ+Cgk8L2hlYWQ+Cgk8Ym9keT4KCTwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"manipulation/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUJvZHksCglFdmVudHMsCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgoKaW1wb3J0IGVuZ2luZSBmcm9tICdlbmdpbmUnOwpjb25zdCB3b3JsZCA9IGVuZ2luZS53b3JsZDsKCmltcG9ydCByZW5kZXIgZnJvbSAncmVuZGVyJzsKcmVuZGVyLm9wdGlvbnMuc2hvd0F4ZXMgPSB0cnVlOwpyZW5kZXIub3B0aW9ucy5zaG93Q29sbGlzaW9ucyA9IHRydWU7CnJlbmRlci5vcHRpb25zLnNob3dDb252ZXhIdWxscyA9IHRydWU7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g5bem44Gn6Z2Z5q2i44GX44Gm44GE44KL44Kq44OW44K444Kn44Kv44OICmNvbnN0IGJvZHlBID0gQm9kaWVzLnJlY3RhbmdsZSgxMDAsIDIwMCwgNTAsIDUwLCB7Cglpc1N0YXRpYzogdHJ1ZQp9KTsKLy8g5Zub6KeS44GE44Kq44OW44K444Kn44Kv44OI77yI5bem44GL44KJ6aCG77yJCmNvbnN0IGJvZHlCID0gQm9kaWVzLnJlY3RhbmdsZSgyMDAsIDIwMCwgNTAsIDUwKTsKY29uc3QgYm9keUMgPSBCb2RpZXMucmVjdGFuZ2xlKDMwMCwgMjAwLCA1MCwgNTApOwpjb25zdCBib2R5RCA9IEJvZGllcy5yZWN0YW5nbGUoNDAwLCAyMDAsIDUwLCA1MCk7CmNvbnN0IGJvZHlFID0gQm9kaWVzLnJlY3RhbmdsZSg1NTAsIDIwMCwgNTAsIDUwKTsKY29uc3QgYm9keUYgPSBCb2RpZXMucmVjdGFuZ2xlKDcwMCwgMjAwLCA1MCwgNTApOwovLyDlp4vjgb7jgaPjgabjgZnjgZDpnZnmraLjgZnjgovlhobjga7jgqrjg5bjgrjjgqfjgq/jg4gKY29uc3QgYm9keUcgPSBCb2RpZXMuY2lyY2xlKDQwMCwgMTAwLCAyNSk7Ci8vIOWNgeWtl+OBruOCquODluOCuOOCp+OCr+ODiApjb25zdCBwYXJ0QSA9IEJvZGllcy5yZWN0YW5nbGUoNjAwLCAyMDAsIDEyMCwgNTApOwpjb25zdCBwYXJ0QiA9IEJvZGllcy5yZWN0YW5nbGUoNjYwLCAyMDAsIDUwLCAxOTApOwpjb25zdCBjb21wb3VuZCA9IEJvZHkuY3JlYXRlKHsKCXBhcnRzOiBbcGFydEEsIHBhcnRCXSwKCWlzU3RhdGljOiB0cnVlCn0pOwoKV29ybGQuYWRkKHdvcmxkLCBbYm9keUEsIGJvZHlCLCBib2R5QywgYm9keUQsIGJvZHlFLCBib2R5RiwgYm9keUcsIGNvbXBvdW5kXSk7CgpXb3JsZC5hZGQod29ybGQsIFsKCS8vIOWjgQoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg4MDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pCl0pOwoKLy8gYmVmb3JlVXBkYXRlIOOBlOOBqOOBqyAxIOOBmuOBpOWil+OBiOOCi+WkieaVsApsZXQgY291bnRlciA9IDA7CgpFdmVudHMub24oZW5naW5lLCAnYmVmb3JlVXBkYXRlJywgKGV2ZW50KSA9PiB7CgkvLyDlrp/ooYzkuK3luLjjgavmr47jg5Xjg6zjg7zjg6DjgIHjgZPjgZPjgavlhaXjgosKCgkvLyBiZWZvcmVVcGRhdGUg44GU44Go44GrIDEg44Ga44Gk5aKX44GI44KL5aSJ5pWwCgljb3VudGVyICs9IDE7CgkvLyDlp4vjgb7jgaPjgabjgYvjgonjga7ntYzpgY7mmYLplpPvvIjnp5LvvIkKCWNvbnN0IHRpbWUgPSBldmVudC50aW1lc3RhbXAgLyAxMDAwOwoKCWlmICh0aW1lID4gMikgewoJCS8vIO+8kuenkuOBn+OBo+OBn+OCieOBk+OBk+OBq+WFpeOCiwoJCWlmICghYm9keUcuaXNTdGF0aWMpIHsKCQkJQm9keS5zZXRTdGF0aWMoYm9keUcsIHRydWUpOwoJCX0KCgl9CgoJLy8g6Z2Z5q2i44GX44Gm44GE44KLIGJvZHlBIOOBruS9jee9ruOCkuebtOaOpeWkieabtOOBmeOCiwoJY29uc3QgcHkgPSAzMDAgKyAxMDAgKiBNYXRoLnNpbih0aW1lICogMik7CglCb2R5LnNldFZlbG9jaXR5KGJvZHlBLCB7CgkJeDogMCwKCQl5OiBweSAtIGJvZHlBLnBvc2l0aW9uLnkKCX0pOwoJQm9keS5zZXRQb3NpdGlvbihib2R5QSwgewoJCXg6IDEwMCwKCQl5OiBweQoJfSk7CgoJLy8g5Y2B5a2X44Gu44Kq44OW44K444Kn44Kv44OI44KS5oyv44KK5a2Q44Gu44KI44GG44Gr5YuV44GL44GZCglCb2R5LnNldFZlbG9jaXR5KGNvbXBvdW5kLCB7CgkJeDogMCwKCQl5OiBweSAtIGNvbXBvdW5kLnBvc2l0aW9uLnkKCX0pOwoJQm9keS5zZXRBbmd1bGFyVmVsb2NpdHkoY29tcG91bmQsIDAuMDIpOwoJQm9keS5zZXRQb3NpdGlvbihjb21wb3VuZCwgewoJCXg6IDYwMCwKCQl5OiBweQoJfSk7CgkvLyDljYHlrZfjga7jgqrjg5bjgrjjgqfjgq/jg4jjgpLlm57ou6LjgZXjgZvjgosKCUJvZHkucm90YXRlKGNvbXBvdW5kLCAwLjAyKTsKCglpZiAoY291bnRlciAlIDEwMCA9PT0gMCkgewoJCS8vIGNvdW50ZXIg44GMIDEwMCDjga7lgI3mlbDjga7jgajjgY3jgaDjgZHjgIHjgZPjgZPjgavlhaXjgosKCgkJLy8gYm9keUIg44KS44K444Oj44Oz44OX44GV44Gb44KLCgkJQm9keS5zZXRWZWxvY2l0eShib2R5QiwgewoJCQl4OiAwLAoJCQl5OiAtMTAKCQl9KTsKCQkvLyBib2R5QyDjgpLjg4rjg4rjg6HjgavjgZnjgosKCQlCb2R5LnNldEFuZ2xlKGJvZHlDLCAtTWF0aC5QSSAqIDAuMjYpOwoJCS8vIGJvZHlEIOOCkuWbnui7ouOBleOBm+OCiwoJCUJvZHkuc2V0QW5ndWxhclZlbG9jaXR5KGJvZHlELCAwLjIpOwoKCX0KfSk7CgovLyDjg57jgqbjgrnmk43kvZwKY29uc3QgbW91c2UgPSBNb3VzZS5jcmVhdGUocmVuZGVyLmNhbnZhcyk7CmNvbnN0IG1vdXNlQ29uc3RyYWludCA9IE1vdXNlQ29uc3RyYWludC5jcmVhdGUoZW5naW5lLCB7Cgltb3VzZTogbW91c2UsCgljb25zdHJhaW50OiB7CgkJc3RpZmZuZXNzOiAwLjIsCgkJcmVuZGVyOiB7CgkJCXZpc2libGU6IGZhbHNlCgkJfQoJfQp9KTsKCldvcmxkLmFkZCh3b3JsZCwgbW91c2VDb25zdHJhaW50KTsKCi8vIGtlZXAgdGhlIG1vdXNlIGluIHN5bmMgd2l0aCByZW5kZXJpbmcKcmVuZGVyLm1vdXNlID0gbW91c2U7CgoKZmVlbGVzLm9wZW5SZWFkbWUoJ21hbmlwdWxhdGlvbi9SRUFETUUubWQnKTsK","options":{"isTrashed":false},"credits":[]},{"name":"matter.js","type":"application/javascript","lastModified":1492756455000,"composed":"LyoqCiogbWF0dGVyLWpzIDAuMTEuMS1hbHBoYSBieSBAbGlhYnJ1IDIwMTctMDEtMjYKKiBodHRwOi8vYnJtLmlvL21hdHRlci1qcy8KKiBMaWNlbnNlIE1JVAoqLwoKLyoqCiAqIFRoZSBNSVQgTGljZW5zZSAoTUlUKQogKiAKICogQ29weXJpZ2h0IChjKSAyMDE0IExpYW0gQnJ1bW1pdHQKICogCiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkKICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwKICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwogKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsCiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcwogKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgogKiAKICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCiAqIAogKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgogKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFCiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTgogKiBUSEUgU09GVFdBUkUuCiAqLwoKKGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuTWF0dGVyID0gZigpfX0pKGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT0iZnVuY3Rpb24iJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrbysiJyIpO3Rocm93IGYuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT0iZnVuY3Rpb24iJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7Ci8qKgoqIFRoZSBgTWF0dGVyLkJvZHlgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIGJvZHkgbW9kZWxzLgoqIEEgYE1hdHRlci5Cb2R5YCBpcyBhIHJpZ2lkIGJvZHkgdGhhdCBjYW4gYmUgc2ltdWxhdGVkIGJ5IGEgYE1hdHRlci5FbmdpbmVgLgoqIEZhY3RvcmllcyBmb3IgY29tbW9ubHkgdXNlZCBib2R5IGNvbmZpZ3VyYXRpb25zIChzdWNoIGFzIHJlY3RhbmdsZXMsIGNpcmNsZXMgYW5kIG90aGVyIHBvbHlnb25zKSBjYW4gYmUgZm91bmQgaW4gdGhlIG1vZHVsZSBgTWF0dGVyLkJvZGllc2AuCioKKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLgoKKiBAY2xhc3MgQm9keQoqLwoKdmFyIEJvZHkgPSB7fTsKCm1vZHVsZS5leHBvcnRzID0gQm9keTsKCnZhciBWZXJ0aWNlcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L1ZlcnRpY2VzJyk7CnZhciBWZWN0b3IgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9WZWN0b3InKTsKdmFyIFNsZWVwaW5nID0gX2RlcmVxXygnLi4vY29yZS9TbGVlcGluZycpOwp2YXIgUmVuZGVyID0gX2RlcmVxXygnLi4vcmVuZGVyL1JlbmRlcicpOwp2YXIgQ29tbW9uID0gX2RlcmVxXygnLi4vY29yZS9Db21tb24nKTsKdmFyIEJvdW5kcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L0JvdW5kcycpOwp2YXIgQXhlcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L0F4ZXMnKTsKCihmdW5jdGlvbigpIHsKCiAgICBCb2R5Ll9pbmVydGlhU2NhbGUgPSA0OwogICAgQm9keS5fbmV4dENvbGxpZGluZ0dyb3VwSWQgPSAxOwogICAgQm9keS5fbmV4dE5vbkNvbGxpZGluZ0dyb3VwSWQgPSAtMTsKICAgIEJvZHkuX25leHRDYXRlZ29yeSA9IDB4MDAwMTsKCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBuZXcgcmlnaWQgYm9keSBtb2RlbC4gVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuCiAgICAgKiBBbGwgcHJvcGVydGllcyBoYXZlIGRlZmF1bHQgdmFsdWVzLCBhbmQgbWFueSBhcmUgcHJlLWNhbGN1bGF0ZWQgYXV0b21hdGljYWxseSBiYXNlZCBvbiBvdGhlciBwcm9wZXJ0aWVzLgogICAgICogVmVydGljZXMgbXVzdCBiZSBzcGVjaWZpZWQgaW4gY2xvY2t3aXNlIG9yZGVyLgogICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gYmVsb3cgZm9yIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgeW91IGNhbiBwYXNzIHZpYSB0aGUgYG9wdGlvbnNgIG9iamVjdC4KICAgICAqIEBtZXRob2QgY3JlYXRlCiAgICAgKiBAcGFyYW0ge30gb3B0aW9ucwogICAgICogQHJldHVybiB7Ym9keX0gYm9keQogICAgICovCiAgICBCb2R5LmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICB2YXIgZGVmYXVsdHMgPSB7CiAgICAgICAgICAgIGlkOiBDb21tb24ubmV4dElkKCksCiAgICAgICAgICAgIHR5cGU6ICdib2R5JywKICAgICAgICAgICAgbGFiZWw6ICdCb2R5JywKICAgICAgICAgICAgcGFydHM6IFtdLAogICAgICAgICAgICBwbHVnaW46IHt9LAogICAgICAgICAgICBhbmdsZTogMCwKICAgICAgICAgICAgdmVydGljZXM6IFZlcnRpY2VzLmZyb21QYXRoKCdMIDAgMCBMIDQwIDAgTCA0MCA0MCBMIDAgNDAnKSwKICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMCwgeTogMCB9LAogICAgICAgICAgICBmb3JjZTogeyB4OiAwLCB5OiAwIH0sCiAgICAgICAgICAgIHRvcnF1ZTogMCwKICAgICAgICAgICAgcG9zaXRpb25JbXB1bHNlOiB7IHg6IDAsIHk6IDAgfSwKICAgICAgICAgICAgY29uc3RyYWludEltcHVsc2U6IHsgeDogMCwgeTogMCwgYW5nbGU6IDAgfSwKICAgICAgICAgICAgdG90YWxDb250YWN0czogMCwKICAgICAgICAgICAgc3BlZWQ6IDAsCiAgICAgICAgICAgIGFuZ3VsYXJTcGVlZDogMCwKICAgICAgICAgICAgdmVsb2NpdHk6IHsgeDogMCwgeTogMCB9LAogICAgICAgICAgICBhbmd1bGFyVmVsb2NpdHk6IDAsCiAgICAgICAgICAgIGlzU2Vuc29yOiBmYWxzZSwKICAgICAgICAgICAgaXNTdGF0aWM6IGZhbHNlLAogICAgICAgICAgICBpc1NsZWVwaW5nOiBmYWxzZSwKICAgICAgICAgICAgbW90aW9uOiAwLAogICAgICAgICAgICBzbGVlcFRocmVzaG9sZDogNjAsCiAgICAgICAgICAgIGRlbnNpdHk6IDAuMDAxLAogICAgICAgICAgICByZXN0aXR1dGlvbjogMCwKICAgICAgICAgICAgZnJpY3Rpb246IDAuMSwKICAgICAgICAgICAgZnJpY3Rpb25TdGF0aWM6IDAuNSwKICAgICAgICAgICAgZnJpY3Rpb25BaXI6IDAuMDEsCiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlcjogewogICAgICAgICAgICAgICAgY2F0ZWdvcnk6IDB4MDAwMSwKICAgICAgICAgICAgICAgIG1hc2s6IDB4RkZGRkZGRkYsCiAgICAgICAgICAgICAgICBncm91cDogMAogICAgICAgICAgICB9LAogICAgICAgICAgICBzbG9wOiAwLjA1LAogICAgICAgICAgICB0aW1lU2NhbGU6IDEsCiAgICAgICAgICAgIHJlbmRlcjogewogICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICBzcHJpdGU6IHsKICAgICAgICAgICAgICAgICAgICB4U2NhbGU6IDEsCiAgICAgICAgICAgICAgICAgICAgeVNjYWxlOiAxLAogICAgICAgICAgICAgICAgICAgIHhPZmZzZXQ6IDAsCiAgICAgICAgICAgICAgICAgICAgeU9mZnNldDogMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogMAogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgdmFyIGJvZHkgPSBDb21tb24uZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTsKCiAgICAgICAgX2luaXRQcm9wZXJ0aWVzKGJvZHksIG9wdGlvbnMpOwoKICAgICAgICByZXR1cm4gYm9keTsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBuZXh0IHVuaXF1ZSBncm91cCBpbmRleCBmb3Igd2hpY2ggYm9kaWVzIHdpbGwgY29sbGlkZS4KICAgICAqIElmIGBpc05vbkNvbGxpZGluZ2AgaXMgYHRydWVgLCByZXR1cm5zIHRoZSBuZXh0IHVuaXF1ZSBncm91cCBpbmRleCBmb3Igd2hpY2ggYm9kaWVzIHdpbGwgX25vdF8gY29sbGlkZS4KICAgICAqIFNlZSBgYm9keS5jb2xsaXNpb25GaWx0ZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLgogICAgICogQG1ldGhvZCBuZXh0R3JvdXAKICAgICAqIEBwYXJhbSB7Ym9vbH0gW2lzTm9uQ29sbGlkaW5nPWZhbHNlXQogICAgICogQHJldHVybiB7TnVtYmVyfSBVbmlxdWUgZ3JvdXAgaW5kZXgKICAgICAqLwogICAgQm9keS5uZXh0R3JvdXAgPSBmdW5jdGlvbihpc05vbkNvbGxpZGluZykgewogICAgICAgIGlmIChpc05vbkNvbGxpZGluZykKICAgICAgICAgICAgcmV0dXJuIEJvZHkuX25leHROb25Db2xsaWRpbmdHcm91cElkLS07CgogICAgICAgIHJldHVybiBCb2R5Ll9uZXh0Q29sbGlkaW5nR3JvdXBJZCsrOwogICAgfTsKCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIG5leHQgdW5pcXVlIGNhdGVnb3J5IGJpdGZpZWxkIChzdGFydGluZyBhZnRlciB0aGUgaW5pdGlhbCBkZWZhdWx0IGNhdGVnb3J5IGAweDAwMDFgKS4KICAgICAqIFRoZXJlIGFyZSAzMiBhdmFpbGFibGUuIFNlZSBgYm9keS5jb2xsaXNpb25GaWx0ZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLgogICAgICogQG1ldGhvZCBuZXh0Q2F0ZWdvcnkKICAgICAqIEByZXR1cm4ge051bWJlcn0gVW5pcXVlIGNhdGVnb3J5IGJpdGZpZWxkCiAgICAgKi8KICAgIEJvZHkubmV4dENhdGVnb3J5ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgQm9keS5fbmV4dENhdGVnb3J5ID0gQm9keS5fbmV4dENhdGVnb3J5IDw8IDE7CiAgICAgICAgcmV0dXJuIEJvZHkuX25leHRDYXRlZ29yeTsKICAgIH07CgogICAgLyoqCiAgICAgKiBJbml0aWFsaXNlcyBib2R5IHByb3BlcnRpZXMuCiAgICAgKiBAbWV0aG9kIF9pbml0UHJvcGVydGllcwogICAgICogQHByaXZhdGUKICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keQogICAgICogQHBhcmFtIHt9IFtvcHRpb25zXQogICAgICovCiAgICB2YXIgX2luaXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24oYm9keSwgb3B0aW9ucykgewogICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwoKICAgICAgICAvLyBpbml0IHJlcXVpcmVkIHByb3BlcnRpZXMgKG9yZGVyIGlzIGltcG9ydGFudCkKICAgICAgICBCb2R5LnNldChib2R5LCB7CiAgICAgICAgICAgIGJvdW5kczogYm9keS5ib3VuZHMgfHwgQm91bmRzLmNyZWF0ZShib2R5LnZlcnRpY2VzKSwKICAgICAgICAgICAgcG9zaXRpb25QcmV2OiBib2R5LnBvc2l0aW9uUHJldiB8fCBWZWN0b3IuY2xvbmUoYm9keS5wb3NpdGlvbiksCiAgICAgICAgICAgIGFuZ2xlUHJldjogYm9keS5hbmdsZVByZXYgfHwgYm9keS5hbmdsZSwKICAgICAgICAgICAgdmVydGljZXM6IGJvZHkudmVydGljZXMsCiAgICAgICAgICAgIHBhcnRzOiBib2R5LnBhcnRzIHx8IFtib2R5XSwKICAgICAgICAgICAgaXNTdGF0aWM6IGJvZHkuaXNTdGF0aWMsCiAgICAgICAgICAgIGlzU2xlZXBpbmc6IGJvZHkuaXNTbGVlcGluZywKICAgICAgICAgICAgcGFyZW50OiBib2R5LnBhcmVudCB8fCBib2R5CiAgICAgICAgfSk7CgogICAgICAgIFZlcnRpY2VzLnJvdGF0ZShib2R5LnZlcnRpY2VzLCBib2R5LmFuZ2xlLCBib2R5LnBvc2l0aW9uKTsKICAgICAgICBBeGVzLnJvdGF0ZShib2R5LmF4ZXMsIGJvZHkuYW5nbGUpOwogICAgICAgIEJvdW5kcy51cGRhdGUoYm9keS5ib3VuZHMsIGJvZHkudmVydGljZXMsIGJvZHkudmVsb2NpdHkpOwoKICAgICAgICAvLyBhbGxvdyBvcHRpb25zIHRvIG92ZXJyaWRlIHRoZSBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQgcHJvcGVydGllcwogICAgICAgIEJvZHkuc2V0KGJvZHksIHsKICAgICAgICAgICAgYXhlczogb3B0aW9ucy5heGVzIHx8IGJvZHkuYXhlcywKICAgICAgICAgICAgYXJlYTogb3B0aW9ucy5hcmVhIHx8IGJvZHkuYXJlYSwKICAgICAgICAgICAgbWFzczogb3B0aW9ucy5tYXNzIHx8IGJvZHkubWFzcywKICAgICAgICAgICAgaW5lcnRpYTogb3B0aW9ucy5pbmVydGlhIHx8IGJvZHkuaW5lcnRpYQogICAgICAgIH0pOwoKICAgICAgICAvLyByZW5kZXIgcHJvcGVydGllcwogICAgICAgIHZhciBkZWZhdWx0RmlsbFN0eWxlID0gKGJvZHkuaXNTdGF0aWMgPyAnIzJlMmI0NCcgOiBDb21tb24uY2hvb3NlKFsnIzAwNkJBNicsICcjMDQ5NkZGJywgJyNGRkJDNDInLCAnI0Q4MTE1OScsICcjOEYyRDU2J10pKSwKICAgICAgICAgICAgZGVmYXVsdFN0cm9rZVN0eWxlID0gQ29tbW9uLnNoYWRlQ29sb3IoZGVmYXVsdEZpbGxTdHlsZSwgLTIwKTsKICAgICAgICBib2R5LnJlbmRlci5maWxsU3R5bGUgPSBib2R5LnJlbmRlci5maWxsU3R5bGUgfHwgZGVmYXVsdEZpbGxTdHlsZTsKICAgICAgICBib2R5LnJlbmRlci5zdHJva2VTdHlsZSA9IGJvZHkucmVuZGVyLnN0cm9rZVN0eWxlIHx8IGRlZmF1bHRTdHJva2VTdHlsZTsKICAgICAgICBib2R5LnJlbmRlci5zcHJpdGUueE9mZnNldCArPSAtKGJvZHkuYm91bmRzLm1pbi54IC0gYm9keS5wb3NpdGlvbi54KSAvIChib2R5LmJvdW5kcy5tYXgueCAtIGJvZHkuYm91bmRzLm1pbi54KTsKICAgICAgICBib2R5LnJlbmRlci5zcHJpdGUueU9mZnNldCArPSAtKGJvZHkuYm91bmRzLm1pbi55IC0gYm9keS5wb3NpdGlvbi55KSAvIChib2R5LmJvdW5kcy5tYXgueSAtIGJvZHkuYm91bmRzLm1pbi55KTsKICAgIH07CgogICAgLyoqCiAgICAgKiBHaXZlbiBhIHByb3BlcnR5IGFuZCBhIHZhbHVlIChvciBtYXAgb2YpLCBzZXRzIHRoZSBwcm9wZXJ0eShzKSBvbiB0aGUgYm9keSwgdXNpbmcgdGhlIGFwcHJvcHJpYXRlIHNldHRlciBmdW5jdGlvbnMgaWYgdGhleSBleGlzdC4KICAgICAqIFByZWZlciB0byB1c2UgdGhlIGFjdHVhbCBzZXR0ZXIgZnVuY3Rpb25zIGluIHBlcmZvcm1hbmNlIGNyaXRpY2FsIHNpdHVhdGlvbnMuCiAgICAgKiBAbWV0aG9kIHNldAogICAgICogQHBhcmFtIHtib2R5fSBib2R5CiAgICAgKiBAcGFyYW0ge30gc2V0dGluZ3MgQSBwcm9wZXJ0eSBuYW1lIChvciBtYXAgb2YgcHJvcGVydGllcyBhbmQgdmFsdWVzKSB0byBzZXQgb24gdGhlIGJvZHkuCiAgICAgKiBAcGFyYW0ge30gdmFsdWUgVGhlIHZhbHVlIHRvIHNldCBpZiBgc2V0dGluZ3NgIGlzIGEgc2luZ2xlIHByb3BlcnR5IG5hbWUuCiAgICAgKi8KICAgIEJvZHkuc2V0ID0gZnVuY3Rpb24oYm9keSwgc2V0dGluZ3MsIHZhbHVlKSB7CiAgICAgICAgdmFyIHByb3BlcnR5OwoKICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzID09PSAnc3RyaW5nJykgewogICAgICAgICAgICBwcm9wZXJ0eSA9IHNldHRpbmdzOwogICAgICAgICAgICBzZXR0aW5ncyA9IHt9OwogICAgICAgICAgICBzZXR0aW5nc1twcm9wZXJ0eV0gPSB2YWx1ZTsKICAgICAgICB9CgogICAgICAgIGZvciAocHJvcGVydHkgaW4gc2V0dGluZ3MpIHsKICAgICAgICAgICAgdmFsdWUgPSBzZXR0aW5nc1twcm9wZXJ0eV07CgogICAgICAgICAgICBpZiAoIXNldHRpbmdzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICAgICAgc3dpdGNoIChwcm9wZXJ0eSkgewoKICAgICAgICAgICAgY2FzZSAnaXNTdGF0aWMnOgogICAgICAgICAgICAgICAgQm9keS5zZXRTdGF0aWMoYm9keSwgdmFsdWUpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ2lzU2xlZXBpbmcnOgogICAgICAgICAgICAgICAgU2xlZXBpbmcuc2V0KGJvZHksIHZhbHVlKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdtYXNzJzoKICAgICAgICAgICAgICAgIEJvZHkuc2V0TWFzcyhib2R5LCB2YWx1ZSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnZGVuc2l0eSc6CiAgICAgICAgICAgICAgICBCb2R5LnNldERlbnNpdHkoYm9keSwgdmFsdWUpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ2luZXJ0aWEnOgogICAgICAgICAgICAgICAgQm9keS5zZXRJbmVydGlhKGJvZHksIHZhbHVlKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICd2ZXJ0aWNlcyc6CiAgICAgICAgICAgICAgICBCb2R5LnNldFZlcnRpY2VzKGJvZHksIHZhbHVlKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdwb3NpdGlvbic6CiAgICAgICAgICAgICAgICBCb2R5LnNldFBvc2l0aW9uKGJvZHksIHZhbHVlKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdhbmdsZSc6CiAgICAgICAgICAgICAgICBCb2R5LnNldEFuZ2xlKGJvZHksIHZhbHVlKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICd2ZWxvY2l0eSc6CiAgICAgICAgICAgICAgICBCb2R5LnNldFZlbG9jaXR5KGJvZHksIHZhbHVlKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdhbmd1bGFyVmVsb2NpdHknOgogICAgICAgICAgICAgICAgQm9keS5zZXRBbmd1bGFyVmVsb2NpdHkoYm9keSwgdmFsdWUpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ3BhcnRzJzoKICAgICAgICAgICAgICAgIEJvZHkuc2V0UGFydHMoYm9keSwgdmFsdWUpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICBib2R5W3Byb3BlcnR5XSA9IHZhbHVlOwoKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CgogICAgLyoqCiAgICAgKiBTZXRzIHRoZSBib2R5IGFzIHN0YXRpYywgaW5jbHVkaW5nIGlzU3RhdGljIGZsYWcgYW5kIHNldHRpbmcgbWFzcyBhbmQgaW5lcnRpYSB0byBJbmZpbml0eS4KICAgICAqIEBtZXRob2Qgc2V0U3RhdGljCiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHkKICAgICAqIEBwYXJhbSB7Ym9vbH0gaXNTdGF0aWMKICAgICAqLwogICAgQm9keS5zZXRTdGF0aWMgPSBmdW5jdGlvbihib2R5LCBpc1N0YXRpYykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgcGFydCA9IGJvZHkucGFydHNbaV07CiAgICAgICAgICAgIHBhcnQuaXNTdGF0aWMgPSBpc1N0YXRpYzsKCiAgICAgICAgICAgIGlmIChpc1N0YXRpYykgewogICAgICAgICAgICAgICAgcGFydC5fb3JpZ2luYWwgPSB7CiAgICAgICAgICAgICAgICAgICAgcmVzdGl0dXRpb246IHBhcnQucmVzdGl0dXRpb24sCiAgICAgICAgICAgICAgICAgICAgZnJpY3Rpb246IHBhcnQuZnJpY3Rpb24sCiAgICAgICAgICAgICAgICAgICAgbWFzczogcGFydC5tYXNzLAogICAgICAgICAgICAgICAgICAgIGluZXJ0aWE6IHBhcnQuaW5lcnRpYSwKICAgICAgICAgICAgICAgICAgICBkZW5zaXR5OiBwYXJ0LmRlbnNpdHksCiAgICAgICAgICAgICAgICAgICAgaW52ZXJzZU1hc3M6IHBhcnQuaW52ZXJzZU1hc3MsCiAgICAgICAgICAgICAgICAgICAgaW52ZXJzZUluZXJ0aWE6IHBhcnQuaW52ZXJzZUluZXJ0aWEKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgcGFydC5yZXN0aXR1dGlvbiA9IDA7CiAgICAgICAgICAgICAgICBwYXJ0LmZyaWN0aW9uID0gMTsKICAgICAgICAgICAgICAgIHBhcnQubWFzcyA9IHBhcnQuaW5lcnRpYSA9IHBhcnQuZGVuc2l0eSA9IEluZmluaXR5OwogICAgICAgICAgICAgICAgcGFydC5pbnZlcnNlTWFzcyA9IHBhcnQuaW52ZXJzZUluZXJ0aWEgPSAwOwoKICAgICAgICAgICAgICAgIHBhcnQucG9zaXRpb25QcmV2LnggPSBwYXJ0LnBvc2l0aW9uLng7CiAgICAgICAgICAgICAgICBwYXJ0LnBvc2l0aW9uUHJldi55ID0gcGFydC5wb3NpdGlvbi55OwogICAgICAgICAgICAgICAgcGFydC5hbmdsZVByZXYgPSBwYXJ0LmFuZ2xlOwogICAgICAgICAgICAgICAgcGFydC5hbmd1bGFyVmVsb2NpdHkgPSAwOwogICAgICAgICAgICAgICAgcGFydC5zcGVlZCA9IDA7CiAgICAgICAgICAgICAgICBwYXJ0LmFuZ3VsYXJTcGVlZCA9IDA7CiAgICAgICAgICAgICAgICBwYXJ0Lm1vdGlvbiA9IDA7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydC5fb3JpZ2luYWwpIHsKICAgICAgICAgICAgICAgIHBhcnQucmVzdGl0dXRpb24gPSBwYXJ0Ll9vcmlnaW5hbC5yZXN0aXR1dGlvbjsKICAgICAgICAgICAgICAgIHBhcnQuZnJpY3Rpb24gPSBwYXJ0Ll9vcmlnaW5hbC5mcmljdGlvbjsKICAgICAgICAgICAgICAgIHBhcnQubWFzcyA9IHBhcnQuX29yaWdpbmFsLm1hc3M7CiAgICAgICAgICAgICAgICBwYXJ0LmluZXJ0aWEgPSBwYXJ0Ll9vcmlnaW5hbC5pbmVydGlhOwogICAgICAgICAgICAgICAgcGFydC5kZW5zaXR5ID0gcGFydC5fb3JpZ2luYWwuZGVuc2l0eTsKICAgICAgICAgICAgICAgIHBhcnQuaW52ZXJzZU1hc3MgPSBwYXJ0Ll9vcmlnaW5hbC5pbnZlcnNlTWFzczsKICAgICAgICAgICAgICAgIHBhcnQuaW52ZXJzZUluZXJ0aWEgPSBwYXJ0Ll9vcmlnaW5hbC5pbnZlcnNlSW5lcnRpYTsKCiAgICAgICAgICAgICAgICBkZWxldGUgcGFydC5fb3JpZ2luYWw7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogU2V0cyB0aGUgbWFzcyBvZiB0aGUgYm9keS4gSW52ZXJzZSBtYXNzIGFuZCBkZW5zaXR5IGFyZSBhdXRvbWF0aWNhbGx5IHVwZGF0ZWQgdG8gcmVmbGVjdCB0aGUgY2hhbmdlLgogICAgICogQG1ldGhvZCBzZXRNYXNzCiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHkKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXNzCiAgICAgKi8KICAgIEJvZHkuc2V0TWFzcyA9IGZ1bmN0aW9uKGJvZHksIG1hc3MpIHsKICAgICAgICBib2R5Lm1hc3MgPSBtYXNzOwogICAgICAgIGJvZHkuaW52ZXJzZU1hc3MgPSAxIC8gYm9keS5tYXNzOwogICAgICAgIGJvZHkuZGVuc2l0eSA9IGJvZHkubWFzcyAvIGJvZHkuYXJlYTsKICAgIH07CgogICAgLyoqCiAgICAgKiBTZXRzIHRoZSBkZW5zaXR5IG9mIHRoZSBib2R5LiBNYXNzIGlzIGF1dG9tYXRpY2FsbHkgdXBkYXRlZCB0byByZWZsZWN0IHRoZSBjaGFuZ2UuCiAgICAgKiBAbWV0aG9kIHNldERlbnNpdHkKICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keQogICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbnNpdHkKICAgICAqLwogICAgQm9keS5zZXREZW5zaXR5ID0gZnVuY3Rpb24oYm9keSwgZGVuc2l0eSkgewogICAgICAgIEJvZHkuc2V0TWFzcyhib2R5LCBkZW5zaXR5ICogYm9keS5hcmVhKTsKICAgICAgICBib2R5LmRlbnNpdHkgPSBkZW5zaXR5OwogICAgfTsKCiAgICAvKioKICAgICAqIFNldHMgdGhlIG1vbWVudCBvZiBpbmVydGlhIChpLmUuIHNlY29uZCBtb21lbnQgb2YgYXJlYSkgb2YgdGhlIGJvZHkgb2YgdGhlIGJvZHkuIAogICAgICogSW52ZXJzZSBpbmVydGlhIGlzIGF1dG9tYXRpY2FsbHkgdXBkYXRlZCB0byByZWZsZWN0IHRoZSBjaGFuZ2UuIE1hc3MgaXMgbm90IGNoYW5nZWQuCiAgICAgKiBAbWV0aG9kIHNldEluZXJ0aWEKICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keQogICAgICogQHBhcmFtIHtudW1iZXJ9IGluZXJ0aWEKICAgICAqLwogICAgQm9keS5zZXRJbmVydGlhID0gZnVuY3Rpb24oYm9keSwgaW5lcnRpYSkgewogICAgICAgIGJvZHkuaW5lcnRpYSA9IGluZXJ0aWE7CiAgICAgICAgYm9keS5pbnZlcnNlSW5lcnRpYSA9IDEgLyBib2R5LmluZXJ0aWE7CiAgICB9OwoKICAgIC8qKgogICAgICogU2V0cyB0aGUgYm9keSdzIHZlcnRpY2VzIGFuZCB1cGRhdGVzIGJvZHkgcHJvcGVydGllcyBhY2NvcmRpbmdseSwgaW5jbHVkaW5nIGluZXJ0aWEsIGFyZWEgYW5kIG1hc3MgKHdpdGggcmVzcGVjdCB0byBgYm9keS5kZW5zaXR5YCkuCiAgICAgKiBWZXJ0aWNlcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgdHJhbnNmb3JtZWQgdG8gYmUgb3JpZW50YXRlZCBhcm91bmQgdGhlaXIgY2VudHJlIG9mIG1hc3MgYXMgdGhlIG9yaWdpbi4KICAgICAqIFRoZXkgYXJlIHRoZW4gYXV0b21hdGljYWxseSB0cmFuc2xhdGVkIHRvIHdvcmxkIHNwYWNlIGJhc2VkIG9uIGBib2R5LnBvc2l0aW9uYC4KICAgICAqCiAgICAgKiBUaGUgYHZlcnRpY2VzYCBhcmd1bWVudCBzaG91bGQgYmUgcGFzc2VkIGFzIGFuIGFycmF5IG9mIGBNYXR0ZXIuVmVjdG9yYCBwb2ludHMgKG9yIGEgYE1hdHRlci5WZXJ0aWNlc2AgYXJyYXkpLgogICAgICogVmVydGljZXMgbXVzdCBmb3JtIGEgY29udmV4IGh1bGwsIGNvbmNhdmUgaHVsbHMgYXJlIG5vdCBzdXBwb3J0ZWQuCiAgICAgKgogICAgICogQG1ldGhvZCBzZXRWZXJ0aWNlcwogICAgICogQHBhcmFtIHtib2R5fSBib2R5CiAgICAgKiBAcGFyYW0ge3ZlY3RvcltdfSB2ZXJ0aWNlcwogICAgICovCiAgICBCb2R5LnNldFZlcnRpY2VzID0gZnVuY3Rpb24oYm9keSwgdmVydGljZXMpIHsKICAgICAgICAvLyBjaGFuZ2UgdmVydGljZXMKICAgICAgICBpZiAodmVydGljZXNbMF0uYm9keSA9PT0gYm9keSkgewogICAgICAgICAgICBib2R5LnZlcnRpY2VzID0gdmVydGljZXM7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYm9keS52ZXJ0aWNlcyA9IFZlcnRpY2VzLmNyZWF0ZSh2ZXJ0aWNlcywgYm9keSk7CiAgICAgICAgfQoKICAgICAgICAvLyB1cGRhdGUgcHJvcGVydGllcwogICAgICAgIGJvZHkuYXhlcyA9IEF4ZXMuZnJvbVZlcnRpY2VzKGJvZHkudmVydGljZXMpOwogICAgICAgIGJvZHkuYXJlYSA9IFZlcnRpY2VzLmFyZWEoYm9keS52ZXJ0aWNlcyk7CiAgICAgICAgQm9keS5zZXRNYXNzKGJvZHksIGJvZHkuZGVuc2l0eSAqIGJvZHkuYXJlYSk7CgogICAgICAgIC8vIG9yaWVudCB2ZXJ0aWNlcyBhcm91bmQgdGhlIGNlbnRyZSBvZiBtYXNzIGF0IG9yaWdpbiAoMCwgMCkKICAgICAgICB2YXIgY2VudHJlID0gVmVydGljZXMuY2VudHJlKGJvZHkudmVydGljZXMpOwogICAgICAgIFZlcnRpY2VzLnRyYW5zbGF0ZShib2R5LnZlcnRpY2VzLCBjZW50cmUsIC0xKTsKCiAgICAgICAgLy8gdXBkYXRlIGluZXJ0aWEgd2hpbGUgdmVydGljZXMgYXJlIGF0IG9yaWdpbiAoMCwgMCkKICAgICAgICBCb2R5LnNldEluZXJ0aWEoYm9keSwgQm9keS5faW5lcnRpYVNjYWxlICogVmVydGljZXMuaW5lcnRpYShib2R5LnZlcnRpY2VzLCBib2R5Lm1hc3MpKTsKCiAgICAgICAgLy8gdXBkYXRlIGdlb21ldHJ5CiAgICAgICAgVmVydGljZXMudHJhbnNsYXRlKGJvZHkudmVydGljZXMsIGJvZHkucG9zaXRpb24pOwogICAgICAgIEJvdW5kcy51cGRhdGUoYm9keS5ib3VuZHMsIGJvZHkudmVydGljZXMsIGJvZHkudmVsb2NpdHkpOwogICAgfTsKCiAgICAvKioKICAgICAqIFNldHMgdGhlIHBhcnRzIG9mIHRoZSBgYm9keWAgYW5kIHVwZGF0ZXMgbWFzcywgaW5lcnRpYSBhbmQgY2VudHJvaWQuCiAgICAgKiBFYWNoIHBhcnQgd2lsbCBoYXZlIGl0cyBwYXJlbnQgc2V0IHRvIGBib2R5YC4KICAgICAqIEJ5IGRlZmF1bHQgdGhlIGNvbnZleCBodWxsIHdpbGwgYmUgYXV0b21hdGljYWxseSBjb21wdXRlZCBhbmQgc2V0IG9uIGBib2R5YCwgdW5sZXNzIGBhdXRvSHVsbGAgaXMgc2V0IHRvIGBmYWxzZS5gCiAgICAgKiBOb3RlIHRoYXQgdGhpcyBtZXRob2Qgd2lsbCBlbnN1cmUgdGhhdCB0aGUgZmlyc3QgcGFydCBpbiBgYm9keS5wYXJ0c2Agd2lsbCBhbHdheXMgYmUgdGhlIGBib2R5YC4KICAgICAqIEBtZXRob2Qgc2V0UGFydHMKICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keQogICAgICogQHBhcmFtIFtib2R5XSBwYXJ0cwogICAgICogQHBhcmFtIHtib29sfSBbYXV0b0h1bGw9dHJ1ZV0KICAgICAqLwogICAgQm9keS5zZXRQYXJ0cyA9IGZ1bmN0aW9uKGJvZHksIHBhcnRzLCBhdXRvSHVsbCkgewogICAgICAgIHZhciBpOwoKICAgICAgICAvLyBhZGQgYWxsIHRoZSBwYXJ0cywgZW5zdXJpbmcgdGhhdCB0aGUgZmlyc3QgcGFydCBpcyBhbHdheXMgdGhlIHBhcmVudCBib2R5CiAgICAgICAgcGFydHMgPSBwYXJ0cy5zbGljZSgwKTsKICAgICAgICBib2R5LnBhcnRzLmxlbmd0aCA9IDA7CiAgICAgICAgYm9keS5wYXJ0cy5wdXNoKGJvZHkpOwogICAgICAgIGJvZHkucGFyZW50ID0gYm9keTsKCiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBwYXJ0ID0gcGFydHNbaV07CiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSBib2R5KSB7CiAgICAgICAgICAgICAgICBwYXJ0LnBhcmVudCA9IGJvZHk7CiAgICAgICAgICAgICAgICBib2R5LnBhcnRzLnB1c2gocGFydCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChib2R5LnBhcnRzLmxlbmd0aCA9PT0gMSkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICBhdXRvSHVsbCA9IHR5cGVvZiBhdXRvSHVsbCAhPT0gJ3VuZGVmaW5lZCcgPyBhdXRvSHVsbCA6IHRydWU7CgogICAgICAgIC8vIGZpbmQgdGhlIGNvbnZleCBodWxsIG9mIGFsbCBwYXJ0cyB0byBzZXQgb24gdGhlIHBhcmVudCBib2R5CiAgICAgICAgaWYgKGF1dG9IdWxsKSB7CiAgICAgICAgICAgIHZhciB2ZXJ0aWNlcyA9IFtdOwogICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHZlcnRpY2VzID0gdmVydGljZXMuY29uY2F0KHBhcnRzW2ldLnZlcnRpY2VzKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgVmVydGljZXMuY2xvY2t3aXNlU29ydCh2ZXJ0aWNlcyk7CgogICAgICAgICAgICB2YXIgaHVsbCA9IFZlcnRpY2VzLmh1bGwodmVydGljZXMpLAogICAgICAgICAgICAgICAgaHVsbENlbnRyZSA9IFZlcnRpY2VzLmNlbnRyZShodWxsKTsKCiAgICAgICAgICAgIEJvZHkuc2V0VmVydGljZXMoYm9keSwgaHVsbCk7CiAgICAgICAgICAgIFZlcnRpY2VzLnRyYW5zbGF0ZShib2R5LnZlcnRpY2VzLCBodWxsQ2VudHJlKTsKICAgICAgICB9CgogICAgICAgIC8vIHN1bSB0aGUgcHJvcGVydGllcyBvZiBhbGwgY29tcG91bmQgcGFydHMgb2YgdGhlIHBhcmVudCBib2R5CiAgICAgICAgdmFyIHRvdGFsID0gX3RvdGFsUHJvcGVydGllcyhib2R5KTsKCiAgICAgICAgYm9keS5hcmVhID0gdG90YWwuYXJlYTsKICAgICAgICBib2R5LnBhcmVudCA9IGJvZHk7CiAgICAgICAgYm9keS5wb3NpdGlvbi54ID0gdG90YWwuY2VudHJlLng7CiAgICAgICAgYm9keS5wb3NpdGlvbi55ID0gdG90YWwuY2VudHJlLnk7CiAgICAgICAgYm9keS5wb3NpdGlvblByZXYueCA9IHRvdGFsLmNlbnRyZS54OwogICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnkgPSB0b3RhbC5jZW50cmUueTsKCiAgICAgICAgQm9keS5zZXRNYXNzKGJvZHksIHRvdGFsLm1hc3MpOwogICAgICAgIEJvZHkuc2V0SW5lcnRpYShib2R5LCB0b3RhbC5pbmVydGlhKTsKICAgICAgICBCb2R5LnNldFBvc2l0aW9uKGJvZHksIHRvdGFsLmNlbnRyZSk7CiAgICB9OwoKICAgIC8qKgogICAgICogU2V0cyB0aGUgcG9zaXRpb24gb2YgdGhlIGJvZHkgaW5zdGFudGx5LiBWZWxvY2l0eSwgYW5nbGUsIGZvcmNlIGV0Yy4gYXJlIHVuY2hhbmdlZC4KICAgICAqIEBtZXRob2Qgc2V0UG9zaXRpb24KICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keQogICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvc2l0aW9uCiAgICAgKi8KICAgIEJvZHkuc2V0UG9zaXRpb24gPSBmdW5jdGlvbihib2R5LCBwb3NpdGlvbikgewogICAgICAgIHZhciBkZWx0YSA9IFZlY3Rvci5zdWIocG9zaXRpb24sIGJvZHkucG9zaXRpb24pOwogICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnggKz0gZGVsdGEueDsKICAgICAgICBib2R5LnBvc2l0aW9uUHJldi55ICs9IGRlbHRhLnk7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgcGFydCA9IGJvZHkucGFydHNbaV07CiAgICAgICAgICAgIHBhcnQucG9zaXRpb24ueCArPSBkZWx0YS54OwogICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnkgKz0gZGVsdGEueTsKICAgICAgICAgICAgVmVydGljZXMudHJhbnNsYXRlKHBhcnQudmVydGljZXMsIGRlbHRhKTsKICAgICAgICAgICAgQm91bmRzLnVwZGF0ZShwYXJ0LmJvdW5kcywgcGFydC52ZXJ0aWNlcywgYm9keS52ZWxvY2l0eSk7CiAgICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIFNldHMgdGhlIGFuZ2xlIG9mIHRoZSBib2R5IGluc3RhbnRseS4gQW5ndWxhciB2ZWxvY2l0eSwgcG9zaXRpb24sIGZvcmNlIGV0Yy4gYXJlIHVuY2hhbmdlZC4KICAgICAqIEBtZXRob2Qgc2V0QW5nbGUKICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keQogICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlCiAgICAgKi8KICAgIEJvZHkuc2V0QW5nbGUgPSBmdW5jdGlvbihib2R5LCBhbmdsZSkgewogICAgICAgIHZhciBkZWx0YSA9IGFuZ2xlIC0gYm9keS5hbmdsZTsKICAgICAgICBib2R5LmFuZ2xlUHJldiArPSBkZWx0YTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2R5LnBhcnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tpXTsKICAgICAgICAgICAgcGFydC5hbmdsZSArPSBkZWx0YTsKICAgICAgICAgICAgVmVydGljZXMucm90YXRlKHBhcnQudmVydGljZXMsIGRlbHRhLCBib2R5LnBvc2l0aW9uKTsKICAgICAgICAgICAgQXhlcy5yb3RhdGUocGFydC5heGVzLCBkZWx0YSk7CiAgICAgICAgICAgIEJvdW5kcy51cGRhdGUocGFydC5ib3VuZHMsIHBhcnQudmVydGljZXMsIGJvZHkudmVsb2NpdHkpOwogICAgICAgICAgICBpZiAoaSA+IDApIHsKICAgICAgICAgICAgICAgIFZlY3Rvci5yb3RhdGVBYm91dChwYXJ0LnBvc2l0aW9uLCBkZWx0YSwgYm9keS5wb3NpdGlvbiwgcGFydC5wb3NpdGlvbik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogU2V0cyB0aGUgbGluZWFyIHZlbG9jaXR5IG9mIHRoZSBib2R5IGluc3RhbnRseS4gUG9zaXRpb24sIGFuZ2xlLCBmb3JjZSBldGMuIGFyZSB1bmNoYW5nZWQuIFNlZSBhbHNvIGBCb2R5LmFwcGx5Rm9yY2VgLgogICAgICogQG1ldGhvZCBzZXRWZWxvY2l0eQogICAgICogQHBhcmFtIHtib2R5fSBib2R5CiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVsb2NpdHkKICAgICAqLwogICAgQm9keS5zZXRWZWxvY2l0eSA9IGZ1bmN0aW9uKGJvZHksIHZlbG9jaXR5KSB7CiAgICAgICAgYm9keS5wb3NpdGlvblByZXYueCA9IGJvZHkucG9zaXRpb24ueCAtIHZlbG9jaXR5Lng7CiAgICAgICAgYm9keS5wb3NpdGlvblByZXYueSA9IGJvZHkucG9zaXRpb24ueSAtIHZlbG9jaXR5Lnk7CiAgICAgICAgYm9keS52ZWxvY2l0eS54ID0gdmVsb2NpdHkueDsKICAgICAgICBib2R5LnZlbG9jaXR5LnkgPSB2ZWxvY2l0eS55OwogICAgICAgIGJvZHkuc3BlZWQgPSBWZWN0b3IubWFnbml0dWRlKGJvZHkudmVsb2NpdHkpOwogICAgfTsKCiAgICAvKioKICAgICAqIFNldHMgdGhlIGFuZ3VsYXIgdmVsb2NpdHkgb2YgdGhlIGJvZHkgaW5zdGFudGx5LiBQb3NpdGlvbiwgYW5nbGUsIGZvcmNlIGV0Yy4gYXJlIHVuY2hhbmdlZC4gU2VlIGFsc28gYEJvZHkuYXBwbHlGb3JjZWAuCiAgICAgKiBAbWV0aG9kIHNldEFuZ3VsYXJWZWxvY2l0eQogICAgICogQHBhcmFtIHtib2R5fSBib2R5CiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmVsb2NpdHkKICAgICAqLwogICAgQm9keS5zZXRBbmd1bGFyVmVsb2NpdHkgPSBmdW5jdGlvbihib2R5LCB2ZWxvY2l0eSkgewogICAgICAgIGJvZHkuYW5nbGVQcmV2ID0gYm9keS5hbmdsZSAtIHZlbG9jaXR5OwogICAgICAgIGJvZHkuYW5ndWxhclZlbG9jaXR5ID0gdmVsb2NpdHk7CiAgICAgICAgYm9keS5hbmd1bGFyU3BlZWQgPSBNYXRoLmFicyhib2R5LmFuZ3VsYXJWZWxvY2l0eSk7CiAgICB9OwoKICAgIC8qKgogICAgICogTW92ZXMgYSBib2R5IGJ5IGEgZ2l2ZW4gdmVjdG9yIHJlbGF0aXZlIHRvIGl0cyBjdXJyZW50IHBvc2l0aW9uLCB3aXRob3V0IGltcGFydGluZyBhbnkgdmVsb2NpdHkuCiAgICAgKiBAbWV0aG9kIHRyYW5zbGF0ZQogICAgICogQHBhcmFtIHtib2R5fSBib2R5CiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdHJhbnNsYXRpb24KICAgICAqLwogICAgQm9keS50cmFuc2xhdGUgPSBmdW5jdGlvbihib2R5LCB0cmFuc2xhdGlvbikgewogICAgICAgIEJvZHkuc2V0UG9zaXRpb24oYm9keSwgVmVjdG9yLmFkZChib2R5LnBvc2l0aW9uLCB0cmFuc2xhdGlvbikpOwogICAgfTsKCiAgICAvKioKICAgICAqIFJvdGF0ZXMgYSBib2R5IGJ5IGEgZ2l2ZW4gYW5nbGUgcmVsYXRpdmUgdG8gaXRzIGN1cnJlbnQgYW5nbGUsIHdpdGhvdXQgaW1wYXJ0aW5nIGFueSBhbmd1bGFyIHZlbG9jaXR5LgogICAgICogQG1ldGhvZCByb3RhdGUKICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keQogICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uCiAgICAgKi8KICAgIEJvZHkucm90YXRlID0gZnVuY3Rpb24oYm9keSwgcm90YXRpb24pIHsKICAgICAgICBCb2R5LnNldEFuZ2xlKGJvZHksIGJvZHkuYW5nbGUgKyByb3RhdGlvbik7CiAgICB9OwoKICAgIC8qKgogICAgICogU2NhbGVzIHRoZSBib2R5LCBpbmNsdWRpbmcgdXBkYXRpbmcgcGh5c2ljYWwgcHJvcGVydGllcyAobWFzcywgYXJlYSwgYXhlcywgaW5lcnRpYSksIGZyb20gYSB3b3JsZC1zcGFjZSBwb2ludCAoZGVmYXVsdCBpcyBib2R5IGNlbnRyZSkuCiAgICAgKiBAbWV0aG9kIHNjYWxlCiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHkKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVgKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVkKICAgICAqIEBwYXJhbSB7dmVjdG9yfSBbcG9pbnRdCiAgICAgKi8KICAgIEJvZHkuc2NhbGUgPSBmdW5jdGlvbihib2R5LCBzY2FsZVgsIHNjYWxlWSwgcG9pbnQpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZHkucGFydHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2ldOwoKICAgICAgICAgICAgLy8gc2NhbGUgdmVydGljZXMKICAgICAgICAgICAgVmVydGljZXMuc2NhbGUocGFydC52ZXJ0aWNlcywgc2NhbGVYLCBzY2FsZVksIGJvZHkucG9zaXRpb24pOwoKICAgICAgICAgICAgLy8gdXBkYXRlIHByb3BlcnRpZXMKICAgICAgICAgICAgcGFydC5heGVzID0gQXhlcy5mcm9tVmVydGljZXMocGFydC52ZXJ0aWNlcyk7CgogICAgICAgICAgICBpZiAoIWJvZHkuaXNTdGF0aWMpIHsKICAgICAgICAgICAgICAgIHBhcnQuYXJlYSA9IFZlcnRpY2VzLmFyZWEocGFydC52ZXJ0aWNlcyk7CiAgICAgICAgICAgICAgICBCb2R5LnNldE1hc3MocGFydCwgYm9keS5kZW5zaXR5ICogcGFydC5hcmVhKTsKCiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgaW5lcnRpYSAocmVxdWlyZXMgdmVydGljZXMgdG8gYmUgYXQgb3JpZ2luKQogICAgICAgICAgICAgICAgVmVydGljZXMudHJhbnNsYXRlKHBhcnQudmVydGljZXMsIHsgeDogLXBhcnQucG9zaXRpb24ueCwgeTogLXBhcnQucG9zaXRpb24ueSB9KTsKICAgICAgICAgICAgICAgIEJvZHkuc2V0SW5lcnRpYShwYXJ0LCBWZXJ0aWNlcy5pbmVydGlhKHBhcnQudmVydGljZXMsIHBhcnQubWFzcykpOwogICAgICAgICAgICAgICAgVmVydGljZXMudHJhbnNsYXRlKHBhcnQudmVydGljZXMsIHsgeDogcGFydC5wb3NpdGlvbi54LCB5OiBwYXJ0LnBvc2l0aW9uLnkgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIHVwZGF0ZSBib3VuZHMKICAgICAgICAgICAgQm91bmRzLnVwZGF0ZShwYXJ0LmJvdW5kcywgcGFydC52ZXJ0aWNlcywgYm9keS52ZWxvY2l0eSk7CiAgICAgICAgfQoKICAgICAgICAvLyBoYW5kbGUgY2lyY2xlcwogICAgICAgIGlmIChib2R5LmNpcmNsZVJhZGl1cykgeyAKICAgICAgICAgICAgaWYgKHNjYWxlWCA9PT0gc2NhbGVZKSB7CiAgICAgICAgICAgICAgICBib2R5LmNpcmNsZVJhZGl1cyAqPSBzY2FsZVg7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBib2R5IGlzIG5vIGxvbmdlciBhIGNpcmNsZQogICAgICAgICAgICAgICAgYm9keS5jaXJjbGVSYWRpdXMgPSBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoIWJvZHkuaXNTdGF0aWMpIHsKICAgICAgICAgICAgdmFyIHRvdGFsID0gX3RvdGFsUHJvcGVydGllcyhib2R5KTsKICAgICAgICAgICAgYm9keS5hcmVhID0gdG90YWwuYXJlYTsKICAgICAgICAgICAgQm9keS5zZXRNYXNzKGJvZHksIHRvdGFsLm1hc3MpOwogICAgICAgICAgICBCb2R5LnNldEluZXJ0aWEoYm9keSwgdG90YWwuaW5lcnRpYSk7CiAgICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIFBlcmZvcm1zIGEgc2ltdWxhdGlvbiBzdGVwIGZvciB0aGUgZ2l2ZW4gYGJvZHlgLCBpbmNsdWRpbmcgdXBkYXRpbmcgcG9zaXRpb24gYW5kIGFuZ2xlIHVzaW5nIFZlcmxldCBpbnRlZ3JhdGlvbi4KICAgICAqIEBtZXRob2QgdXBkYXRlCiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHkKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lU2NhbGUKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb3JyZWN0aW9uCiAgICAgKi8KICAgIEJvZHkudXBkYXRlID0gZnVuY3Rpb24oYm9keSwgZGVsdGFUaW1lLCB0aW1lU2NhbGUsIGNvcnJlY3Rpb24pIHsKICAgICAgICB2YXIgZGVsdGFUaW1lU3F1YXJlZCA9IE1hdGgucG93KGRlbHRhVGltZSAqIHRpbWVTY2FsZSAqIGJvZHkudGltZVNjYWxlLCAyKTsKCiAgICAgICAgLy8gZnJvbSB0aGUgcHJldmlvdXMgc3RlcAogICAgICAgIHZhciBmcmljdGlvbkFpciA9IDEgLSBib2R5LmZyaWN0aW9uQWlyICogdGltZVNjYWxlICogYm9keS50aW1lU2NhbGUsCiAgICAgICAgICAgIHZlbG9jaXR5UHJldlggPSBib2R5LnBvc2l0aW9uLnggLSBib2R5LnBvc2l0aW9uUHJldi54LAogICAgICAgICAgICB2ZWxvY2l0eVByZXZZID0gYm9keS5wb3NpdGlvbi55IC0gYm9keS5wb3NpdGlvblByZXYueTsKCiAgICAgICAgLy8gdXBkYXRlIHZlbG9jaXR5IHdpdGggVmVybGV0IGludGVncmF0aW9uCiAgICAgICAgYm9keS52ZWxvY2l0eS54ID0gKHZlbG9jaXR5UHJldlggKiBmcmljdGlvbkFpciAqIGNvcnJlY3Rpb24pICsgKGJvZHkuZm9yY2UueCAvIGJvZHkubWFzcykgKiBkZWx0YVRpbWVTcXVhcmVkOwogICAgICAgIGJvZHkudmVsb2NpdHkueSA9ICh2ZWxvY2l0eVByZXZZICogZnJpY3Rpb25BaXIgKiBjb3JyZWN0aW9uKSArIChib2R5LmZvcmNlLnkgLyBib2R5Lm1hc3MpICogZGVsdGFUaW1lU3F1YXJlZDsKCiAgICAgICAgYm9keS5wb3NpdGlvblByZXYueCA9IGJvZHkucG9zaXRpb24ueDsKICAgICAgICBib2R5LnBvc2l0aW9uUHJldi55ID0gYm9keS5wb3NpdGlvbi55OwogICAgICAgIGJvZHkucG9zaXRpb24ueCArPSBib2R5LnZlbG9jaXR5Lng7CiAgICAgICAgYm9keS5wb3NpdGlvbi55ICs9IGJvZHkudmVsb2NpdHkueTsKCiAgICAgICAgLy8gdXBkYXRlIGFuZ3VsYXIgdmVsb2NpdHkgd2l0aCBWZXJsZXQgaW50ZWdyYXRpb24KICAgICAgICBib2R5LmFuZ3VsYXJWZWxvY2l0eSA9ICgoYm9keS5hbmdsZSAtIGJvZHkuYW5nbGVQcmV2KSAqIGZyaWN0aW9uQWlyICogY29ycmVjdGlvbikgKyAoYm9keS50b3JxdWUgLyBib2R5LmluZXJ0aWEpICogZGVsdGFUaW1lU3F1YXJlZDsKICAgICAgICBib2R5LmFuZ2xlUHJldiA9IGJvZHkuYW5nbGU7CiAgICAgICAgYm9keS5hbmdsZSArPSBib2R5LmFuZ3VsYXJWZWxvY2l0eTsKCiAgICAgICAgLy8gdHJhY2sgc3BlZWQgYW5kIGFjY2VsZXJhdGlvbgogICAgICAgIGJvZHkuc3BlZWQgPSBWZWN0b3IubWFnbml0dWRlKGJvZHkudmVsb2NpdHkpOwogICAgICAgIGJvZHkuYW5ndWxhclNwZWVkID0gTWF0aC5hYnMoYm9keS5hbmd1bGFyVmVsb2NpdHkpOwoKICAgICAgICAvLyB0cmFuc2Zvcm0gdGhlIGJvZHkgZ2VvbWV0cnkKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZHkucGFydHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2ldOwoKICAgICAgICAgICAgVmVydGljZXMudHJhbnNsYXRlKHBhcnQudmVydGljZXMsIGJvZHkudmVsb2NpdHkpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGkgPiAwKSB7CiAgICAgICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnggKz0gYm9keS52ZWxvY2l0eS54OwogICAgICAgICAgICAgICAgcGFydC5wb3NpdGlvbi55ICs9IGJvZHkudmVsb2NpdHkueTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGJvZHkuYW5ndWxhclZlbG9jaXR5ICE9PSAwKSB7CiAgICAgICAgICAgICAgICBWZXJ0aWNlcy5yb3RhdGUocGFydC52ZXJ0aWNlcywgYm9keS5hbmd1bGFyVmVsb2NpdHksIGJvZHkucG9zaXRpb24pOwogICAgICAgICAgICAgICAgQXhlcy5yb3RhdGUocGFydC5heGVzLCBib2R5LmFuZ3VsYXJWZWxvY2l0eSk7CiAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHsKICAgICAgICAgICAgICAgICAgICBWZWN0b3Iucm90YXRlQWJvdXQocGFydC5wb3NpdGlvbiwgYm9keS5hbmd1bGFyVmVsb2NpdHksIGJvZHkucG9zaXRpb24sIHBhcnQucG9zaXRpb24pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBCb3VuZHMudXBkYXRlKHBhcnQuYm91bmRzLCBwYXJ0LnZlcnRpY2VzLCBib2R5LnZlbG9jaXR5KTsKICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogQXBwbGllcyBhIGZvcmNlIHRvIGEgYm9keSBmcm9tIGEgZ2l2ZW4gd29ybGQtc3BhY2UgcG9zaXRpb24sIGluY2x1ZGluZyByZXN1bHRpbmcgdG9ycXVlLgogICAgICogQG1ldGhvZCBhcHBseUZvcmNlCiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHkKICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb3NpdGlvbgogICAgICogQHBhcmFtIHt2ZWN0b3J9IGZvcmNlCiAgICAgKi8KICAgIEJvZHkuYXBwbHlGb3JjZSA9IGZ1bmN0aW9uKGJvZHksIHBvc2l0aW9uLCBmb3JjZSkgewogICAgICAgIGJvZHkuZm9yY2UueCArPSBmb3JjZS54OwogICAgICAgIGJvZHkuZm9yY2UueSArPSBmb3JjZS55OwogICAgICAgIHZhciBvZmZzZXQgPSB7IHg6IHBvc2l0aW9uLnggLSBib2R5LnBvc2l0aW9uLngsIHk6IHBvc2l0aW9uLnkgLSBib2R5LnBvc2l0aW9uLnkgfTsKICAgICAgICBib2R5LnRvcnF1ZSArPSBvZmZzZXQueCAqIGZvcmNlLnkgLSBvZmZzZXQueSAqIGZvcmNlLng7CiAgICB9OwoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgc3VtcyBvZiB0aGUgcHJvcGVydGllcyBvZiBhbGwgY29tcG91bmQgcGFydHMgb2YgdGhlIHBhcmVudCBib2R5LgogICAgICogQG1ldGhvZCBfdG90YWxQcm9wZXJ0aWVzCiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHtib2R5fSBib2R5CiAgICAgKiBAcmV0dXJuIHt9CiAgICAgKi8KICAgIHZhciBfdG90YWxQcm9wZXJ0aWVzID0gZnVuY3Rpb24oYm9keSkgewogICAgICAgIC8vIGh0dHBzOi8vZWNvdXJzZXMub3UuZWR1L2NnaS1iaW4vZWJvb2suY2dpP2RvYz0mdG9waWM9c3QmY2hhcF9zZWM9MDcuMiZwYWdlPXRoZW9yeQogICAgICAgIC8vIGh0dHA6Ly9vdXRwdXQudG8vc2lkZXdheS9kZWZhdWx0LmFzcD9xbm89MTIxMTAwMDg3CgogICAgICAgIHZhciBwcm9wZXJ0aWVzID0gewogICAgICAgICAgICBtYXNzOiAwLAogICAgICAgICAgICBhcmVhOiAwLAogICAgICAgICAgICBpbmVydGlhOiAwLAogICAgICAgICAgICBjZW50cmU6IHsgeDogMCwgeTogMCB9CiAgICAgICAgfTsKCiAgICAgICAgLy8gc3VtIHRoZSBwcm9wZXJ0aWVzIG9mIGFsbCBjb21wb3VuZCBwYXJ0cyBvZiB0aGUgcGFyZW50IGJvZHkKICAgICAgICBmb3IgKHZhciBpID0gYm9keS5wYXJ0cy5sZW5ndGggPT09IDEgPyAwIDogMTsgaSA8IGJvZHkucGFydHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2ldOwogICAgICAgICAgICBwcm9wZXJ0aWVzLm1hc3MgKz0gcGFydC5tYXNzOwogICAgICAgICAgICBwcm9wZXJ0aWVzLmFyZWEgKz0gcGFydC5hcmVhOwogICAgICAgICAgICBwcm9wZXJ0aWVzLmluZXJ0aWEgKz0gcGFydC5pbmVydGlhOwogICAgICAgICAgICBwcm9wZXJ0aWVzLmNlbnRyZSA9IFZlY3Rvci5hZGQocHJvcGVydGllcy5jZW50cmUsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmVjdG9yLm11bHQocGFydC5wb3NpdGlvbiwgcGFydC5tYXNzICE9PSBJbmZpbml0eSA/IHBhcnQubWFzcyA6IDEpKTsKICAgICAgICB9CgogICAgICAgIHByb3BlcnRpZXMuY2VudHJlID0gVmVjdG9yLmRpdihwcm9wZXJ0aWVzLmNlbnRyZSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMubWFzcyAhPT0gSW5maW5pdHkgPyBwcm9wZXJ0aWVzLm1hc3MgOiBib2R5LnBhcnRzLmxlbmd0aCk7CgogICAgICAgIHJldHVybiBwcm9wZXJ0aWVzOwogICAgfTsKCiAgICAvKgogICAgKgogICAgKiAgRXZlbnRzIERvY3VtZW50YXRpb24KICAgICoKICAgICovCgogICAgLyoqCiAgICAqIEZpcmVkIHdoZW4gYSBib2R5IHN0YXJ0cyBzbGVlcGluZyAod2hlcmUgYHRoaXNgIGlzIHRoZSBib2R5KS4KICAgICoKICAgICogQGV2ZW50IHNsZWVwU3RhcnQKICAgICogQHRoaXMge2JvZHl9IFRoZSBib2R5IHRoYXQgaGFzIHN0YXJ0ZWQgc2xlZXBpbmcKICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdAogICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKICAgICovCgogICAgLyoqCiAgICAqIEZpcmVkIHdoZW4gYSBib2R5IGVuZHMgc2xlZXBpbmcgKHdoZXJlIGB0aGlzYCBpcyB0aGUgYm9keSkuCiAgICAqCiAgICAqIEBldmVudCBzbGVlcEVuZAogICAgKiBAdGhpcyB7Ym9keX0gVGhlIGJvZHkgdGhhdCBoYXMgZW5kZWQgc2xlZXBpbmcKICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdAogICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKICAgICovCgogICAgLyoKICAgICoKICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvbgogICAgKgogICAgKi8KCiAgICAvKioKICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdW5pcXVlbHkgaWRlbnRpZnlpbmcgbnVtYmVyIGdlbmVyYXRlZCBpbiBgQm9keS5jcmVhdGVgIGJ5IGBDb21tb24ubmV4dElkYC4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgaWQKICAgICAqIEB0eXBlIG51bWJlcgogICAgICovCgogICAgLyoqCiAgICAgKiBBIGBTdHJpbmdgIGRlbm90aW5nIHRoZSB0eXBlIG9mIG9iamVjdC4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgdHlwZQogICAgICogQHR5cGUgc3RyaW5nCiAgICAgKiBAZGVmYXVsdCAiYm9keSIKICAgICAqIEByZWFkT25seQogICAgICovCgogICAgLyoqCiAgICAgKiBBbiBhcmJpdHJhcnkgYFN0cmluZ2AgbmFtZSB0byBoZWxwIHRoZSB1c2VyIGlkZW50aWZ5IGFuZCBtYW5hZ2UgYm9kaWVzLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBsYWJlbAogICAgICogQHR5cGUgc3RyaW5nCiAgICAgKiBAZGVmYXVsdCAiQm9keSIKICAgICAqLwoKICAgIC8qKgogICAgICogQW4gYXJyYXkgb2YgYm9kaWVzIHRoYXQgbWFrZSB1cCB0aGlzIGJvZHkuIAogICAgICogVGhlIGZpcnN0IGJvZHkgaW4gdGhlIGFycmF5IG11c3QgYWx3YXlzIGJlIGEgc2VsZiByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgYm9keSBpbnN0YW5jZS4KICAgICAqIEFsbCBib2RpZXMgaW4gdGhlIGBwYXJ0c2AgYXJyYXkgdG9nZXRoZXIgZm9ybSBhIHNpbmdsZSByaWdpZCBjb21wb3VuZCBib2R5LgogICAgICogUGFydHMgYXJlIGFsbG93ZWQgdG8gb3ZlcmxhcCwgaGF2ZSBnYXBzIG9yIGhvbGVzIG9yIGV2ZW4gZm9ybSBjb25jYXZlIGJvZGllcy4KICAgICAqIFBhcnRzIHRoZW1zZWx2ZXMgc2hvdWxkIG5ldmVyIGJlIGFkZGVkIHRvIGEgYFdvcmxkYCwgb25seSB0aGUgcGFyZW50IGJvZHkgc2hvdWxkIGJlLgogICAgICogVXNlIGBCb2R5LnNldFBhcnRzYCB3aGVuIHNldHRpbmcgcGFydHMgdG8gZW5zdXJlIGNvcnJlY3QgdXBkYXRlcyBvZiBhbGwgcHJvcGVydGllcy4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgcGFydHMKICAgICAqIEB0eXBlIGJvZHlbXQogICAgICovCgogICAgLyoqCiAgICAgKiBBbiBvYmplY3QgcmVzZXJ2ZWQgZm9yIHN0b3JpbmcgcGx1Z2luLXNwZWNpZmljIHByb3BlcnRpZXMuCiAgICAgKgogICAgICogQHByb3BlcnR5IHBsdWdpbgogICAgICogQHR5cGUge30KICAgICAqLwoKICAgIC8qKgogICAgICogQSBzZWxmIHJlZmVyZW5jZSBpZiB0aGUgYm9keSBpcyBfbm90XyBhIHBhcnQgb2YgYW5vdGhlciBib2R5LgogICAgICogT3RoZXJ3aXNlIHRoaXMgaXMgYSByZWZlcmVuY2UgdG8gdGhlIGJvZHkgdGhhdCB0aGlzIGlzIGEgcGFydCBvZi4KICAgICAqIFNlZSBgYm9keS5wYXJ0c2AuCiAgICAgKgogICAgICogQHByb3BlcnR5IHBhcmVudAogICAgICogQHR5cGUgYm9keQogICAgICovCgogICAgLyoqCiAgICAgKiBBIGBOdW1iZXJgIHNwZWNpZnlpbmcgdGhlIGFuZ2xlIG9mIHRoZSBib2R5LCBpbiByYWRpYW5zLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBhbmdsZQogICAgICogQHR5cGUgbnVtYmVyCiAgICAgKiBAZGVmYXVsdCAwCiAgICAgKi8KCiAgICAvKioKICAgICAqIEFuIGFycmF5IG9mIGBWZWN0b3JgIG9iamVjdHMgdGhhdCBzcGVjaWZ5IHRoZSBjb252ZXggaHVsbCBvZiB0aGUgcmlnaWQgYm9keS4KICAgICAqIFRoZXNlIHNob3VsZCBiZSBwcm92aWRlZCBhYm91dCB0aGUgb3JpZ2luIGAoMCwgMClgLiBFLmcuCiAgICAgKgogICAgICogICAgIFt7IHg6IDAsIHk6IDAgfSwgeyB4OiAyNSwgeTogNTAgfSwgeyB4OiA1MCwgeTogMCB9XQogICAgICoKICAgICAqIFdoZW4gcGFzc2VkIHZpYSBgQm9keS5jcmVhdGVgLCB0aGUgdmVydGljZXMgYXJlIHRyYW5zbGF0ZWQgcmVsYXRpdmUgdG8gYGJvZHkucG9zaXRpb25gIChpLmUuIHdvcmxkLXNwYWNlLCBhbmQgY29uc3RhbnRseSB1cGRhdGVkIGJ5IGBCb2R5LnVwZGF0ZWAgZHVyaW5nIHNpbXVsYXRpb24pLgogICAgICogVGhlIGBWZWN0b3JgIG9iamVjdHMgYXJlIGFsc28gYXVnbWVudGVkIHdpdGggYWRkaXRpb25hbCBwcm9wZXJ0aWVzIHJlcXVpcmVkIGZvciBlZmZpY2llbnQgY29sbGlzaW9uIGRldGVjdGlvbi4gCiAgICAgKgogICAgICogT3RoZXIgcHJvcGVydGllcyBzdWNoIGFzIGBpbmVydGlhYCBhbmQgYGJvdW5kc2AgYXJlIGF1dG9tYXRpY2FsbHkgY2FsY3VsYXRlZCBmcm9tIHRoZSBwYXNzZWQgdmVydGljZXMgKHVubGVzcyBwcm92aWRlZCB2aWEgYG9wdGlvbnNgKS4KICAgICAqIENvbmNhdmUgaHVsbHMgYXJlIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkLiBUaGUgbW9kdWxlIGBNYXR0ZXIuVmVydGljZXNgIGNvbnRhaW5zIHVzZWZ1bCBtZXRob2RzIGZvciB3b3JraW5nIHdpdGggdmVydGljZXMuCiAgICAgKgogICAgICogQHByb3BlcnR5IHZlcnRpY2VzCiAgICAgKiBAdHlwZSB2ZWN0b3JbXQogICAgICovCgogICAgLyoqCiAgICAgKiBBIGBWZWN0b3JgIHRoYXQgc3BlY2lmaWVzIHRoZSBjdXJyZW50IHdvcmxkLXNwYWNlIHBvc2l0aW9uIG9mIHRoZSBib2R5LgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBwb3NpdGlvbgogICAgICogQHR5cGUgdmVjdG9yCiAgICAgKiBAZGVmYXVsdCB7IHg6IDAsIHk6IDAgfQogICAgICovCgogICAgLyoqCiAgICAgKiBBIGBWZWN0b3JgIHRoYXQgc3BlY2lmaWVzIHRoZSBmb3JjZSB0byBhcHBseSBpbiB0aGUgY3VycmVudCBzdGVwLiBJdCBpcyB6ZXJvZWQgYWZ0ZXIgZXZlcnkgYEJvZHkudXBkYXRlYC4gU2VlIGFsc28gYEJvZHkuYXBwbHlGb3JjZWAuCiAgICAgKgogICAgICogQHByb3BlcnR5IGZvcmNlCiAgICAgKiBAdHlwZSB2ZWN0b3IKICAgICAqIEBkZWZhdWx0IHsgeDogMCwgeTogMCB9CiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIHRvcnF1ZSAodHVybmluZyBmb3JjZSkgdG8gYXBwbHkgaW4gdGhlIGN1cnJlbnQgc3RlcC4gSXQgaXMgemVyb2VkIGFmdGVyIGV2ZXJ5IGBCb2R5LnVwZGF0ZWAuCiAgICAgKgogICAgICogQHByb3BlcnR5IHRvcnF1ZQogICAgICogQHR5cGUgbnVtYmVyCiAgICAgKiBAZGVmYXVsdCAwCiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgYE51bWJlcmAgdGhhdCBfbWVhc3VyZXNfIHRoZSBjdXJyZW50IHNwZWVkIG9mIHRoZSBib2R5IGFmdGVyIHRoZSBsYXN0IGBCb2R5LnVwZGF0ZWAuIEl0IGlzIHJlYWQtb25seSBhbmQgYWx3YXlzIHBvc2l0aXZlIChpdCdzIHRoZSBtYWduaXR1ZGUgb2YgYGJvZHkudmVsb2NpdHlgKS4KICAgICAqCiAgICAgKiBAcmVhZE9ubHkKICAgICAqIEBwcm9wZXJ0eSBzcGVlZAogICAgICogQHR5cGUgbnVtYmVyCiAgICAgKiBAZGVmYXVsdCAwCiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgYE51bWJlcmAgdGhhdCBfbWVhc3VyZXNfIHRoZSBjdXJyZW50IGFuZ3VsYXIgc3BlZWQgb2YgdGhlIGJvZHkgYWZ0ZXIgdGhlIGxhc3QgYEJvZHkudXBkYXRlYC4gSXQgaXMgcmVhZC1vbmx5IGFuZCBhbHdheXMgcG9zaXRpdmUgKGl0J3MgdGhlIG1hZ25pdHVkZSBvZiBgYm9keS5hbmd1bGFyVmVsb2NpdHlgKS4KICAgICAqCiAgICAgKiBAcmVhZE9ubHkKICAgICAqIEBwcm9wZXJ0eSBhbmd1bGFyU3BlZWQKICAgICAqIEB0eXBlIG51bWJlcgogICAgICogQGRlZmF1bHQgMAogICAgICovCgogICAgLyoqCiAgICAgKiBBIGBWZWN0b3JgIHRoYXQgX21lYXN1cmVzXyB0aGUgY3VycmVudCB2ZWxvY2l0eSBvZiB0aGUgYm9keSBhZnRlciB0aGUgbGFzdCBgQm9keS51cGRhdGVgLiBJdCBpcyByZWFkLW9ubHkuIAogICAgICogSWYgeW91IG5lZWQgdG8gbW9kaWZ5IGEgYm9keSdzIHZlbG9jaXR5IGRpcmVjdGx5LCB5b3Ugc2hvdWxkIGVpdGhlciBhcHBseSBhIGZvcmNlIG9yIHNpbXBseSBjaGFuZ2UgdGhlIGJvZHkncyBgcG9zaXRpb25gIChhcyB0aGUgZW5naW5lIHVzZXMgcG9zaXRpb24tVmVybGV0IGludGVncmF0aW9uKS4KICAgICAqCiAgICAgKiBAcmVhZE9ubHkKICAgICAqIEBwcm9wZXJ0eSB2ZWxvY2l0eQogICAgICogQHR5cGUgdmVjdG9yCiAgICAgKiBAZGVmYXVsdCB7IHg6IDAsIHk6IDAgfQogICAgICovCgogICAgLyoqCiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgX21lYXN1cmVzXyB0aGUgY3VycmVudCBhbmd1bGFyIHZlbG9jaXR5IG9mIHRoZSBib2R5IGFmdGVyIHRoZSBsYXN0IGBCb2R5LnVwZGF0ZWAuIEl0IGlzIHJlYWQtb25seS4gCiAgICAgKiBJZiB5b3UgbmVlZCB0byBtb2RpZnkgYSBib2R5J3MgYW5ndWxhciB2ZWxvY2l0eSBkaXJlY3RseSwgeW91IHNob3VsZCBhcHBseSBhIHRvcnF1ZSBvciBzaW1wbHkgY2hhbmdlIHRoZSBib2R5J3MgYGFuZ2xlYCAoYXMgdGhlIGVuZ2luZSB1c2VzIHBvc2l0aW9uLVZlcmxldCBpbnRlZ3JhdGlvbikuCiAgICAgKgogICAgICogQHJlYWRPbmx5CiAgICAgKiBAcHJvcGVydHkgYW5ndWxhclZlbG9jaXR5CiAgICAgKiBAdHlwZSBudW1iZXIKICAgICAqIEBkZWZhdWx0IDAKICAgICAqLwoKICAgIC8qKgogICAgICogQSBmbGFnIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgYSBib2R5IGlzIGNvbnNpZGVyZWQgc3RhdGljLiBBIHN0YXRpYyBib2R5IGNhbiBuZXZlciBjaGFuZ2UgcG9zaXRpb24gb3IgYW5nbGUgYW5kIGlzIGNvbXBsZXRlbHkgZml4ZWQuCiAgICAgKiBJZiB5b3UgbmVlZCB0byBzZXQgYSBib2R5IGFzIHN0YXRpYyBhZnRlciBpdHMgY3JlYXRpb24sIHlvdSBzaG91bGQgdXNlIGBCb2R5LnNldFN0YXRpY2AgYXMgdGhpcyByZXF1aXJlcyBtb3JlIHRoYW4ganVzdCBzZXR0aW5nIHRoaXMgZmxhZy4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgaXNTdGF0aWMKICAgICAqIEB0eXBlIGJvb2xlYW4KICAgICAqIEBkZWZhdWx0IGZhbHNlCiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgZmxhZyB0aGF0IGluZGljYXRlcyB3aGV0aGVyIGEgYm9keSBpcyBhIHNlbnNvci4gU2Vuc29yIHRyaWdnZXJzIGNvbGxpc2lvbiBldmVudHMsIGJ1dCBkb2Vzbid0IHJlYWN0IHdpdGggY29sbGlkaW5nIGJvZHkgcGh5c2ljYWxseS4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgaXNTZW5zb3IKICAgICAqIEB0eXBlIGJvb2xlYW4KICAgICAqIEBkZWZhdWx0IGZhbHNlCiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgZmxhZyB0aGF0IGluZGljYXRlcyB3aGV0aGVyIHRoZSBib2R5IGlzIGNvbnNpZGVyZWQgc2xlZXBpbmcuIEEgc2xlZXBpbmcgYm9keSBhY3RzIHNpbWlsYXIgdG8gYSBzdGF0aWMgYm9keSwgZXhjZXB0IGl0IGlzIG9ubHkgdGVtcG9yYXJ5IGFuZCBjYW4gYmUgYXdva2VuLgogICAgICogSWYgeW91IG5lZWQgdG8gc2V0IGEgYm9keSBhcyBzbGVlcGluZywgeW91IHNob3VsZCB1c2UgYFNsZWVwaW5nLnNldGAgYXMgdGhpcyByZXF1aXJlcyBtb3JlIHRoYW4ganVzdCBzZXR0aW5nIHRoaXMgZmxhZy4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgaXNTbGVlcGluZwogICAgICogQHR5cGUgYm9vbGVhbgogICAgICogQGRlZmF1bHQgZmFsc2UKICAgICAqLwoKICAgIC8qKgogICAgICogQSBgTnVtYmVyYCB0aGF0IF9tZWFzdXJlc18gdGhlIGFtb3VudCBvZiBtb3ZlbWVudCBhIGJvZHkgY3VycmVudGx5IGhhcyAoYSBjb21iaW5hdGlvbiBvZiBgc3BlZWRgIGFuZCBgYW5ndWxhclNwZWVkYCkuIEl0IGlzIHJlYWQtb25seSBhbmQgYWx3YXlzIHBvc2l0aXZlLgogICAgICogSXQgaXMgdXNlZCBhbmQgdXBkYXRlZCBieSB0aGUgYE1hdHRlci5TbGVlcGluZ2AgbW9kdWxlIGR1cmluZyBzaW11bGF0aW9uIHRvIGRlY2lkZSBpZiBhIGJvZHkgaGFzIGNvbWUgdG8gcmVzdC4KICAgICAqCiAgICAgKiBAcmVhZE9ubHkKICAgICAqIEBwcm9wZXJ0eSBtb3Rpb24KICAgICAqIEB0eXBlIG51bWJlcgogICAgICogQGRlZmF1bHQgMAogICAgICovCgogICAgLyoqCiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgbnVtYmVyIG9mIHVwZGF0ZXMgaW4gd2hpY2ggdGhpcyBib2R5IG11c3QgaGF2ZSBuZWFyLXplcm8gdmVsb2NpdHkgYmVmb3JlIGl0IGlzIHNldCBhcyBzbGVlcGluZyBieSB0aGUgYE1hdHRlci5TbGVlcGluZ2AgbW9kdWxlIChpZiBzbGVlcGluZyBpcyBlbmFibGVkIGJ5IHRoZSBlbmdpbmUpLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBzbGVlcFRocmVzaG9sZAogICAgICogQHR5cGUgbnVtYmVyCiAgICAgKiBAZGVmYXVsdCA2MAogICAgICovCgogICAgLyoqCiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgZGVuc2l0eSBvZiB0aGUgYm9keSwgdGhhdCBpcyBpdHMgbWFzcyBwZXIgdW5pdCBhcmVhLgogICAgICogSWYgeW91IHBhc3MgdGhlIGRlbnNpdHkgdmlhIGBCb2R5LmNyZWF0ZWAgdGhlIGBtYXNzYCBwcm9wZXJ0eSBpcyBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQgZm9yIHlvdSBiYXNlZCBvbiB0aGUgc2l6ZSAoYXJlYSkgb2YgdGhlIG9iamVjdC4KICAgICAqIFRoaXMgaXMgZ2VuZXJhbGx5IHByZWZlcmFibGUgdG8gc2ltcGx5IHNldHRpbmcgbWFzcyBhbmQgYWxsb3dzIGZvciBtb3JlIGludHVpdGl2ZSBkZWZpbml0aW9uIG9mIG1hdGVyaWFscyAoZS5nLiByb2NrIGhhcyBhIGhpZ2hlciBkZW5zaXR5IHRoYW4gd29vZCkuCiAgICAgKgogICAgICogQHByb3BlcnR5IGRlbnNpdHkKICAgICAqIEB0eXBlIG51bWJlcgogICAgICogQGRlZmF1bHQgMC4wMDEKICAgICAqLwoKICAgIC8qKgogICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIG1hc3Mgb2YgdGhlIGJvZHksIGFsdGhvdWdoIGl0IG1heSBiZSBtb3JlIGFwcHJvcHJpYXRlIHRvIHNwZWNpZnkgdGhlIGBkZW5zaXR5YCBwcm9wZXJ0eSBpbnN0ZWFkLgogICAgICogSWYgeW91IG1vZGlmeSB0aGlzIHZhbHVlLCB5b3UgbXVzdCBhbHNvIG1vZGlmeSB0aGUgYGJvZHkuaW52ZXJzZU1hc3NgIHByb3BlcnR5IChgMSAvIG1hc3NgKS4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgbWFzcwogICAgICogQHR5cGUgbnVtYmVyCiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBpbnZlcnNlIG1hc3Mgb2YgdGhlIGJvZHkgKGAxIC8gbWFzc2ApLgogICAgICogSWYgeW91IG1vZGlmeSB0aGlzIHZhbHVlLCB5b3UgbXVzdCBhbHNvIG1vZGlmeSB0aGUgYGJvZHkubWFzc2AgcHJvcGVydHkuCiAgICAgKgogICAgICogQHByb3BlcnR5IGludmVyc2VNYXNzCiAgICAgKiBAdHlwZSBudW1iZXIKICAgICAqLwoKICAgIC8qKgogICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIG1vbWVudCBvZiBpbmVydGlhIChpLmUuIHNlY29uZCBtb21lbnQgb2YgYXJlYSkgb2YgdGhlIGJvZHkuCiAgICAgKiBJdCBpcyBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQgZnJvbSB0aGUgZ2l2ZW4gY29udmV4IGh1bGwgKGB2ZXJ0aWNlc2AgYXJyYXkpIGFuZCBkZW5zaXR5IGluIGBCb2R5LmNyZWF0ZWAuCiAgICAgKiBJZiB5b3UgbW9kaWZ5IHRoaXMgdmFsdWUsIHlvdSBtdXN0IGFsc28gbW9kaWZ5IHRoZSBgYm9keS5pbnZlcnNlSW5lcnRpYWAgcHJvcGVydHkgKGAxIC8gaW5lcnRpYWApLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBpbmVydGlhCiAgICAgKiBAdHlwZSBudW1iZXIKICAgICAqLwoKICAgIC8qKgogICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIGludmVyc2UgbW9tZW50IG9mIGluZXJ0aWEgb2YgdGhlIGJvZHkgKGAxIC8gaW5lcnRpYWApLgogICAgICogSWYgeW91IG1vZGlmeSB0aGlzIHZhbHVlLCB5b3UgbXVzdCBhbHNvIG1vZGlmeSB0aGUgYGJvZHkuaW5lcnRpYWAgcHJvcGVydHkuCiAgICAgKgogICAgICogQHByb3BlcnR5IGludmVyc2VJbmVydGlhCiAgICAgKiBAdHlwZSBudW1iZXIKICAgICAqLwoKICAgIC8qKgogICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIHJlc3RpdHV0aW9uIChlbGFzdGljaXR5KSBvZiB0aGUgYm9keS4gVGhlIHZhbHVlIGlzIGFsd2F5cyBwb3NpdGl2ZSBhbmQgaXMgaW4gdGhlIHJhbmdlIGAoMCwgMSlgLgogICAgICogQSB2YWx1ZSBvZiBgMGAgbWVhbnMgY29sbGlzaW9ucyBtYXkgYmUgcGVyZmVjdGx5IGluZWxhc3RpYyBhbmQgbm8gYm91bmNpbmcgbWF5IG9jY3VyLiAKICAgICAqIEEgdmFsdWUgb2YgYDAuOGAgbWVhbnMgdGhlIGJvZHkgbWF5IGJvdW5jZSBiYWNrIHdpdGggYXBwcm94aW1hdGVseSA4MCUgb2YgaXRzIGtpbmV0aWMgZW5lcmd5LgogICAgICogTm90ZSB0aGF0IGNvbGxpc2lvbiByZXNwb25zZSBpcyBiYXNlZCBvbiBfcGFpcnNfIG9mIGJvZGllcywgYW5kIHRoYXQgYHJlc3RpdHV0aW9uYCB2YWx1ZXMgYXJlIF9jb21iaW5lZF8gd2l0aCB0aGUgZm9sbG93aW5nIGZvcm11bGE6CiAgICAgKgogICAgICogICAgIE1hdGgubWF4KGJvZHlBLnJlc3RpdHV0aW9uLCBib2R5Qi5yZXN0aXR1dGlvbikKICAgICAqCiAgICAgKiBAcHJvcGVydHkgcmVzdGl0dXRpb24KICAgICAqIEB0eXBlIG51bWJlcgogICAgICogQGRlZmF1bHQgMAogICAgICovCgogICAgLyoqCiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgZnJpY3Rpb24gb2YgdGhlIGJvZHkuIFRoZSB2YWx1ZSBpcyBhbHdheXMgcG9zaXRpdmUgYW5kIGlzIGluIHRoZSByYW5nZSBgKDAsIDEpYC4KICAgICAqIEEgdmFsdWUgb2YgYDBgIG1lYW5zIHRoYXQgdGhlIGJvZHkgbWF5IHNsaWRlIGluZGVmaW5pdGVseS4KICAgICAqIEEgdmFsdWUgb2YgYDFgIG1lYW5zIHRoZSBib2R5IG1heSBjb21lIHRvIGEgc3RvcCBhbG1vc3QgaW5zdGFudGx5IGFmdGVyIGEgZm9yY2UgaXMgYXBwbGllZC4KICAgICAqCiAgICAgKiBUaGUgZWZmZWN0cyBvZiB0aGUgdmFsdWUgbWF5IGJlIG5vbi1saW5lYXIuIAogICAgICogSGlnaCB2YWx1ZXMgbWF5IGJlIHVuc3RhYmxlIGRlcGVuZGluZyBvbiB0aGUgYm9keS4KICAgICAqIFRoZSBlbmdpbmUgdXNlcyBhIENvdWxvbWIgZnJpY3Rpb24gbW9kZWwgaW5jbHVkaW5nIHN0YXRpYyBhbmQga2luZXRpYyBmcmljdGlvbi4KICAgICAqIE5vdGUgdGhhdCBjb2xsaXNpb24gcmVzcG9uc2UgaXMgYmFzZWQgb24gX3BhaXJzXyBvZiBib2RpZXMsIGFuZCB0aGF0IGBmcmljdGlvbmAgdmFsdWVzIGFyZSBfY29tYmluZWRfIHdpdGggdGhlIGZvbGxvd2luZyBmb3JtdWxhOgogICAgICoKICAgICAqICAgICBNYXRoLm1pbihib2R5QS5mcmljdGlvbiwgYm9keUIuZnJpY3Rpb24pCiAgICAgKgogICAgICogQHByb3BlcnR5IGZyaWN0aW9uCiAgICAgKiBAdHlwZSBudW1iZXIKICAgICAqIEBkZWZhdWx0IDAuMQogICAgICovCgogICAgLyoqCiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgc3RhdGljIGZyaWN0aW9uIG9mIHRoZSBib2R5IChpbiB0aGUgQ291bG9tYiBmcmljdGlvbiBtb2RlbCkuIAogICAgICogQSB2YWx1ZSBvZiBgMGAgbWVhbnMgdGhlIGJvZHkgd2lsbCBuZXZlciAnc3RpY2snIHdoZW4gaXQgaXMgbmVhcmx5IHN0YXRpb25hcnkgYW5kIG9ubHkgZHluYW1pYyBgZnJpY3Rpb25gIGlzIHVzZWQuCiAgICAgKiBUaGUgaGlnaGVyIHRoZSB2YWx1ZSAoZS5nLiBgMTBgKSwgdGhlIG1vcmUgZm9yY2UgaXQgd2lsbCB0YWtlIHRvIGluaXRpYWxseSBnZXQgdGhlIGJvZHkgbW92aW5nIHdoZW4gbmVhcmx5IHN0YXRpb25hcnkuCiAgICAgKiBUaGlzIHZhbHVlIGlzIG11bHRpcGxpZWQgd2l0aCB0aGUgYGZyaWN0aW9uYCBwcm9wZXJ0eSB0byBtYWtlIGl0IGVhc2llciB0byBjaGFuZ2UgYGZyaWN0aW9uYCBhbmQgbWFpbnRhaW4gYW4gYXBwcm9wcmlhdGUgYW1vdW50IG9mIHN0YXRpYyBmcmljdGlvbi4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgZnJpY3Rpb25TdGF0aWMKICAgICAqIEB0eXBlIG51bWJlcgogICAgICogQGRlZmF1bHQgMC41CiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBhaXIgZnJpY3Rpb24gb2YgdGhlIGJvZHkgKGFpciByZXNpc3RhbmNlKS4gCiAgICAgKiBBIHZhbHVlIG9mIGAwYCBtZWFucyB0aGUgYm9keSB3aWxsIG5ldmVyIHNsb3cgYXMgaXQgbW92ZXMgdGhyb3VnaCBzcGFjZS4KICAgICAqIFRoZSBoaWdoZXIgdGhlIHZhbHVlLCB0aGUgZmFzdGVyIGEgYm9keSBzbG93cyB3aGVuIG1vdmluZyB0aHJvdWdoIHNwYWNlLgogICAgICogVGhlIGVmZmVjdHMgb2YgdGhlIHZhbHVlIGFyZSBub24tbGluZWFyLiAKICAgICAqCiAgICAgKiBAcHJvcGVydHkgZnJpY3Rpb25BaXIKICAgICAqIEB0eXBlIG51bWJlcgogICAgICogQGRlZmF1bHQgMC4wMQogICAgICovCgogICAgLyoqCiAgICAgKiBBbiBgT2JqZWN0YCB0aGF0IHNwZWNpZmllcyB0aGUgY29sbGlzaW9uIGZpbHRlcmluZyBwcm9wZXJ0aWVzIG9mIHRoaXMgYm9keS4KICAgICAqCiAgICAgKiBDb2xsaXNpb25zIGJldHdlZW4gdHdvIGJvZGllcyB3aWxsIG9iZXkgdGhlIGZvbGxvd2luZyBydWxlczoKICAgICAqIC0gSWYgdGhlIHR3byBib2RpZXMgaGF2ZSB0aGUgc2FtZSBub24temVybyB2YWx1ZSBvZiBgY29sbGlzaW9uRmlsdGVyLmdyb3VwYCwKICAgICAqICAgdGhleSB3aWxsIGFsd2F5cyBjb2xsaWRlIGlmIHRoZSB2YWx1ZSBpcyBwb3NpdGl2ZSwgYW5kIHRoZXkgd2lsbCBuZXZlciBjb2xsaWRlCiAgICAgKiAgIGlmIHRoZSB2YWx1ZSBpcyBuZWdhdGl2ZS4KICAgICAqIC0gSWYgdGhlIHR3byBib2RpZXMgaGF2ZSBkaWZmZXJlbnQgdmFsdWVzIG9mIGBjb2xsaXNpb25GaWx0ZXIuZ3JvdXBgIG9yIGlmIG9uZQogICAgICogICAob3IgYm90aCkgb2YgdGhlIGJvZGllcyBoYXMgYSB2YWx1ZSBvZiAwLCB0aGVuIHRoZSBjYXRlZ29yeS9tYXNrIHJ1bGVzIGFwcGx5IGFzIGZvbGxvd3M6CiAgICAgKgogICAgICogRWFjaCBib2R5IGJlbG9uZ3MgdG8gYSBjb2xsaXNpb24gY2F0ZWdvcnksIGdpdmVuIGJ5IGBjb2xsaXNpb25GaWx0ZXIuY2F0ZWdvcnlgLiBUaGlzCiAgICAgKiB2YWx1ZSBpcyB1c2VkIGFzIGEgYml0IGZpZWxkIGFuZCB0aGUgY2F0ZWdvcnkgc2hvdWxkIGhhdmUgb25seSBvbmUgYml0IHNldCwgbWVhbmluZyB0aGF0CiAgICAgKiB0aGUgdmFsdWUgb2YgdGhpcyBwcm9wZXJ0eSBpcyBhIHBvd2VyIG9mIHR3byBpbiB0aGUgcmFuZ2UgWzEsIDJeMzFdLiBUaHVzLCB0aGVyZSBhcmUgMzIKICAgICAqIGRpZmZlcmVudCBjb2xsaXNpb24gY2F0ZWdvcmllcyBhdmFpbGFibGUuCiAgICAgKgogICAgICogRWFjaCBib2R5IGFsc28gZGVmaW5lcyBhIGNvbGxpc2lvbiBiaXRtYXNrLCBnaXZlbiBieSBgY29sbGlzaW9uRmlsdGVyLm1hc2tgIHdoaWNoIHNwZWNpZmllcwogICAgICogdGhlIGNhdGVnb3JpZXMgaXQgY29sbGlkZXMgd2l0aCAodGhlIHZhbHVlIGlzIHRoZSBiaXR3aXNlIEFORCB2YWx1ZSBvZiBhbGwgdGhlc2UgY2F0ZWdvcmllcykuCiAgICAgKgogICAgICogVXNpbmcgdGhlIGNhdGVnb3J5L21hc2sgcnVsZXMsIHR3byBib2RpZXMgYEFgIGFuZCBgQmAgY29sbGlkZSBpZiBlYWNoIGluY2x1ZGVzIHRoZSBvdGhlcidzCiAgICAgKiBjYXRlZ29yeSBpbiBpdHMgbWFzaywgaS5lLiBgKGNhdGVnb3J5QSAmIG1hc2tCKSAhPT0gMGAgYW5kIGAoY2F0ZWdvcnlCICYgbWFza0EpICE9PSAwYAogICAgICogYXJlIGJvdGggdHJ1ZS4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgY29sbGlzaW9uRmlsdGVyCiAgICAgKiBAdHlwZSBvYmplY3QKICAgICAqLwoKICAgIC8qKgogICAgICogQW4gSW50ZWdlciBgTnVtYmVyYCwgdGhhdCBzcGVjaWZpZXMgdGhlIGNvbGxpc2lvbiBncm91cCB0aGlzIGJvZHkgYmVsb25ncyB0by4KICAgICAqIFNlZSBgYm9keS5jb2xsaXNpb25GaWx0ZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBjb2xsaXNpb25GaWx0ZXIuZ3JvdXAKICAgICAqIEB0eXBlIG9iamVjdAogICAgICogQGRlZmF1bHQgMAogICAgICovCgogICAgLyoqCiAgICAgKiBBIGJpdCBmaWVsZCB0aGF0IHNwZWNpZmllcyB0aGUgY29sbGlzaW9uIGNhdGVnb3J5IHRoaXMgYm9keSBiZWxvbmdzIHRvLgogICAgICogVGhlIGNhdGVnb3J5IHZhbHVlIHNob3VsZCBoYXZlIG9ubHkgb25lIGJpdCBzZXQsIGZvciBleGFtcGxlIGAweDAwMDFgLgogICAgICogVGhpcyBtZWFucyB0aGVyZSBhcmUgdXAgdG8gMzIgdW5pcXVlIGNvbGxpc2lvbiBjYXRlZ29yaWVzIGF2YWlsYWJsZS4KICAgICAqIFNlZSBgYm9keS5jb2xsaXNpb25GaWx0ZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBjb2xsaXNpb25GaWx0ZXIuY2F0ZWdvcnkKICAgICAqIEB0eXBlIG9iamVjdAogICAgICogQGRlZmF1bHQgMQogICAgICovCgogICAgLyoqCiAgICAgKiBBIGJpdCBtYXNrIHRoYXQgc3BlY2lmaWVzIHRoZSBjb2xsaXNpb24gY2F0ZWdvcmllcyB0aGlzIGJvZHkgbWF5IGNvbGxpZGUgd2l0aC4KICAgICAqIFNlZSBgYm9keS5jb2xsaXNpb25GaWx0ZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBjb2xsaXNpb25GaWx0ZXIubWFzawogICAgICogQHR5cGUgb2JqZWN0CiAgICAgKiBAZGVmYXVsdCAtMQogICAgICovCgogICAgLyoqCiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIGEgdG9sZXJhbmNlIG9uIGhvdyBmYXIgYSBib2R5IGlzIGFsbG93ZWQgdG8gJ3NpbmsnIG9yIHJvdGF0ZSBpbnRvIG90aGVyIGJvZGllcy4KICAgICAqIEF2b2lkIGNoYW5naW5nIHRoaXMgdmFsdWUgdW5sZXNzIHlvdSB1bmRlcnN0YW5kIHRoZSBwdXJwb3NlIG9mIGBzbG9wYCBpbiBwaHlzaWNzIGVuZ2luZXMuCiAgICAgKiBUaGUgZGVmYXVsdCBzaG91bGQgZ2VuZXJhbGx5IHN1ZmZpY2UsIGFsdGhvdWdoIHZlcnkgbGFyZ2UgYm9kaWVzIG1heSByZXF1aXJlIGxhcmdlciB2YWx1ZXMgZm9yIHN0YWJsZSBzdGFja2luZy4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgc2xvcAogICAgICogQHR5cGUgbnVtYmVyCiAgICAgKiBAZGVmYXVsdCAwLjA1CiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgYE51bWJlcmAgdGhhdCBhbGxvd3MgcGVyLWJvZHkgdGltZSBzY2FsaW5nLCBlLmcuIGEgZm9yY2UtZmllbGQgd2hlcmUgYm9kaWVzIGluc2lkZSBhcmUgaW4gc2xvdy1tb3Rpb24sIHdoaWxlIG90aGVycyBhcmUgYXQgZnVsbCBzcGVlZC4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgdGltZVNjYWxlCiAgICAgKiBAdHlwZSBudW1iZXIKICAgICAqIEBkZWZhdWx0IDEKICAgICAqLwoKICAgIC8qKgogICAgICogQW4gYE9iamVjdGAgdGhhdCBkZWZpbmVzIHRoZSByZW5kZXJpbmcgcHJvcGVydGllcyB0byBiZSBjb25zdW1lZCBieSB0aGUgbW9kdWxlIGBNYXR0ZXIuUmVuZGVyYC4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgcmVuZGVyCiAgICAgKiBAdHlwZSBvYmplY3QKICAgICAqLwoKICAgIC8qKgogICAgICogQSBmbGFnIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBib2R5IHNob3VsZCBiZSByZW5kZXJlZC4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnZpc2libGUKICAgICAqIEB0eXBlIGJvb2xlYW4KICAgICAqIEBkZWZhdWx0IHRydWUKICAgICAqLwoKICAgIC8qKgogICAgICogU2V0cyB0aGUgb3BhY2l0eSB0byB1c2Ugd2hlbiByZW5kZXJpbmcuCiAgICAgKgogICAgICogQHByb3BlcnR5IHJlbmRlci5vcGFjaXR5CiAgICAgKiBAdHlwZSBudW1iZXIKICAgICAqIEBkZWZhdWx0IDEKICAgICovCgogICAgLyoqCiAgICAgKiBBbiBgT2JqZWN0YCB0aGF0IGRlZmluZXMgdGhlIHNwcml0ZSBwcm9wZXJ0aWVzIHRvIHVzZSB3aGVuIHJlbmRlcmluZywgaWYgYW55LgogICAgICoKICAgICAqIEBwcm9wZXJ0eSByZW5kZXIuc3ByaXRlCiAgICAgKiBAdHlwZSBvYmplY3QKICAgICAqLwoKICAgIC8qKgogICAgICogQW4gYFN0cmluZ2AgdGhhdCBkZWZpbmVzIHRoZSBwYXRoIHRvIHRoZSBpbWFnZSB0byB1c2UgYXMgdGhlIHNwcml0ZSB0ZXh0dXJlLCBpZiBhbnkuCiAgICAgKgogICAgICogQHByb3BlcnR5IHJlbmRlci5zcHJpdGUudGV4dHVyZQogICAgICogQHR5cGUgc3RyaW5nCiAgICAgKi8KICAgICAKICAgIC8qKgogICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIHNjYWxpbmcgaW4gdGhlIHgtYXhpcyBmb3IgdGhlIHNwcml0ZSwgaWYgYW55LgogICAgICoKICAgICAqIEBwcm9wZXJ0eSByZW5kZXIuc3ByaXRlLnhTY2FsZQogICAgICogQHR5cGUgbnVtYmVyCiAgICAgKiBAZGVmYXVsdCAxCiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBzY2FsaW5nIGluIHRoZSB5LWF4aXMgZm9yIHRoZSBzcHJpdGUsIGlmIGFueS4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnNwcml0ZS55U2NhbGUKICAgICAqIEB0eXBlIG51bWJlcgogICAgICogQGRlZmF1bHQgMQogICAgICovCgogICAgIC8qKgogICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHgtYXhpcyBmb3IgdGhlIHNwcml0ZSAobm9ybWFsaXNlZCBieSB0ZXh0dXJlIHdpZHRoKS4KICAgICAgKgogICAgICAqIEBwcm9wZXJ0eSByZW5kZXIuc3ByaXRlLnhPZmZzZXQKICAgICAgKiBAdHlwZSBudW1iZXIKICAgICAgKiBAZGVmYXVsdCAwCiAgICAgICovCgogICAgIC8qKgogICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHktYXhpcyBmb3IgdGhlIHNwcml0ZSAobm9ybWFsaXNlZCBieSB0ZXh0dXJlIGhlaWdodCkuCiAgICAgICoKICAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnNwcml0ZS55T2Zmc2V0CiAgICAgICogQHR5cGUgbnVtYmVyCiAgICAgICogQGRlZmF1bHQgMAogICAgICAqLwoKICAgIC8qKgogICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIGxpbmUgd2lkdGggdG8gdXNlIHdoZW4gcmVuZGVyaW5nIHRoZSBib2R5IG91dGxpbmUgKGlmIGEgc3ByaXRlIGlzIG5vdCBkZWZpbmVkKS4KICAgICAqIEEgdmFsdWUgb2YgYDBgIG1lYW5zIG5vIG91dGxpbmUgd2lsbCBiZSByZW5kZXJlZC4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLmxpbmVXaWR0aAogICAgICogQHR5cGUgbnVtYmVyCiAgICAgKiBAZGVmYXVsdCAxLjUKICAgICAqLwoKICAgIC8qKgogICAgICogQSBgU3RyaW5nYCB0aGF0IGRlZmluZXMgdGhlIGZpbGwgc3R5bGUgdG8gdXNlIHdoZW4gcmVuZGVyaW5nIHRoZSBib2R5IChpZiBhIHNwcml0ZSBpcyBub3QgZGVmaW5lZCkuCiAgICAgKiBJdCBpcyB0aGUgc2FtZSBhcyB3aGVuIHVzaW5nIGEgY2FudmFzLCBzbyBpdCBhY2NlcHRzIENTUyBzdHlsZSBwcm9wZXJ0eSB2YWx1ZXMuCiAgICAgKgogICAgICogQHByb3BlcnR5IHJlbmRlci5maWxsU3R5bGUKICAgICAqIEB0eXBlIHN0cmluZwogICAgICogQGRlZmF1bHQgYSByYW5kb20gY29sb3VyCiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgYFN0cmluZ2AgdGhhdCBkZWZpbmVzIHRoZSBzdHJva2Ugc3R5bGUgdG8gdXNlIHdoZW4gcmVuZGVyaW5nIHRoZSBib2R5IG91dGxpbmUgKGlmIGEgc3ByaXRlIGlzIG5vdCBkZWZpbmVkKS4KICAgICAqIEl0IGlzIHRoZSBzYW1lIGFzIHdoZW4gdXNpbmcgYSBjYW52YXMsIHNvIGl0IGFjY2VwdHMgQ1NTIHN0eWxlIHByb3BlcnR5IHZhbHVlcy4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnN0cm9rZVN0eWxlCiAgICAgKiBAdHlwZSBzdHJpbmcKICAgICAqIEBkZWZhdWx0IGEgcmFuZG9tIGNvbG91cgogICAgICovCgogICAgLyoqCiAgICAgKiBBbiBhcnJheSBvZiB1bmlxdWUgYXhpcyB2ZWN0b3JzIChlZGdlIG5vcm1hbHMpIHVzZWQgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24uCiAgICAgKiBUaGVzZSBhcmUgYXV0b21hdGljYWxseSBjYWxjdWxhdGVkIGZyb20gdGhlIGdpdmVuIGNvbnZleCBodWxsIChgdmVydGljZXNgIGFycmF5KSBpbiBgQm9keS5jcmVhdGVgLgogICAgICogVGhleSBhcmUgY29uc3RhbnRseSB1cGRhdGVkIGJ5IGBCb2R5LnVwZGF0ZWAgZHVyaW5nIHRoZSBzaW11bGF0aW9uLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBheGVzCiAgICAgKiBAdHlwZSB2ZWN0b3JbXQogICAgICovCiAgICAgCiAgICAvKioKICAgICAqIEEgYE51bWJlcmAgdGhhdCBfbWVhc3VyZXNfIHRoZSBhcmVhIG9mIHRoZSBib2R5J3MgY29udmV4IGh1bGwsIGNhbGN1bGF0ZWQgYXQgY3JlYXRpb24gYnkgYEJvZHkuY3JlYXRlYC4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgYXJlYQogICAgICogQHR5cGUgc3RyaW5nCiAgICAgKiBAZGVmYXVsdCAKICAgICAqLwoKICAgIC8qKgogICAgICogQSBgQm91bmRzYCBvYmplY3QgdGhhdCBkZWZpbmVzIHRoZSBBQUJCIHJlZ2lvbiBmb3IgdGhlIGJvZHkuCiAgICAgKiBJdCBpcyBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQgZnJvbSB0aGUgZ2l2ZW4gY29udmV4IGh1bGwgKGB2ZXJ0aWNlc2AgYXJyYXkpIGluIGBCb2R5LmNyZWF0ZWAgYW5kIGNvbnN0YW50bHkgdXBkYXRlZCBieSBgQm9keS51cGRhdGVgIGR1cmluZyBzaW11bGF0aW9uLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBib3VuZHMKICAgICAqIEB0eXBlIGJvdW5kcwogICAgICovCgp9KSgpOwoKfSx7Ii4uL2NvcmUvQ29tbW9uIjoxNCwiLi4vY29yZS9TbGVlcGluZyI6MjIsIi4uL2dlb21ldHJ5L0F4ZXMiOjI1LCIuLi9nZW9tZXRyeS9Cb3VuZHMiOjI2LCIuLi9nZW9tZXRyeS9WZWN0b3IiOjI4LCIuLi9nZW9tZXRyeS9WZXJ0aWNlcyI6MjksIi4uL3JlbmRlci9SZW5kZXIiOjMxfV0sMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7Ci8qKgoqIFRoZSBgTWF0dGVyLkNvbXBvc2l0ZWAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgY29tcG9zaXRlIGJvZGllcy4KKiBBIGNvbXBvc2l0ZSBib2R5IGlzIGEgY29sbGVjdGlvbiBvZiBgTWF0dGVyLkJvZHlgLCBgTWF0dGVyLkNvbnN0cmFpbnRgIGFuZCBvdGhlciBgTWF0dGVyLkNvbXBvc2l0ZWAsIHRoZXJlZm9yZSBjb21wb3NpdGVzIGZvcm0gYSB0cmVlIHN0cnVjdHVyZS4KKiBJdCBpcyBpbXBvcnRhbnQgdG8gdXNlIHRoZSBmdW5jdGlvbnMgaW4gdGhpcyBtb2R1bGUgdG8gbW9kaWZ5IGNvbXBvc2l0ZXMsIHJhdGhlciB0aGFuIGRpcmVjdGx5IG1vZGlmeWluZyB0aGVpciBwcm9wZXJ0aWVzLgoqIE5vdGUgdGhhdCB0aGUgYE1hdHRlci5Xb3JsZGAgb2JqZWN0IGlzIGFsc28gYSB0eXBlIG9mIGBNYXR0ZXIuQ29tcG9zaXRlYCBhbmQgYXMgc3VjaCBhbGwgY29tcG9zaXRlIG1ldGhvZHMgaGVyZSBjYW4gYWxzbyBvcGVyYXRlIG9uIGEgYE1hdHRlci5Xb3JsZGAuCioKKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLgoqCiogQGNsYXNzIENvbXBvc2l0ZQoqLwoKdmFyIENvbXBvc2l0ZSA9IHt9OwoKbW9kdWxlLmV4cG9ydHMgPSBDb21wb3NpdGU7Cgp2YXIgRXZlbnRzID0gX2RlcmVxXygnLi4vY29yZS9FdmVudHMnKTsKdmFyIENvbW1vbiA9IF9kZXJlcV8oJy4uL2NvcmUvQ29tbW9uJyk7CnZhciBCb2R5ID0gX2RlcmVxXygnLi9Cb2R5Jyk7CgooZnVuY3Rpb24oKSB7CgogICAgLyoqCiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbXBvc2l0ZS4gVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuCiAgICAgKiBTZWUgdGhlIHByb3Blcml0ZXMgc2VjdGlvbiBiZWxvdyBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LgogICAgICogQG1ldGhvZCBjcmVhdGUKICAgICAqIEBwYXJhbSB7fSBbb3B0aW9uc10KICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gQSBuZXcgY29tcG9zaXRlCiAgICAgKi8KICAgIENvbXBvc2l0ZS5jcmVhdGUgPSBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgICAgcmV0dXJuIENvbW1vbi5leHRlbmQoeyAKICAgICAgICAgICAgaWQ6IENvbW1vbi5uZXh0SWQoKSwKICAgICAgICAgICAgdHlwZTogJ2NvbXBvc2l0ZScsCiAgICAgICAgICAgIHBhcmVudDogbnVsbCwKICAgICAgICAgICAgaXNNb2RpZmllZDogZmFsc2UsCiAgICAgICAgICAgIGJvZGllczogW10sIAogICAgICAgICAgICBjb25zdHJhaW50czogW10sIAogICAgICAgICAgICBjb21wb3NpdGVzOiBbXSwKICAgICAgICAgICAgbGFiZWw6ICdDb21wb3NpdGUnLAogICAgICAgICAgICBwbHVnaW46IHt9CiAgICAgICAgfSwgb3B0aW9ucyk7CiAgICB9OwoKICAgIC8qKgogICAgICogU2V0cyB0aGUgY29tcG9zaXRlJ3MgYGlzTW9kaWZpZWRgIGZsYWcuIAogICAgICogSWYgYHVwZGF0ZVBhcmVudHNgIGlzIHRydWUsIGFsbCBwYXJlbnRzIHdpbGwgYmUgc2V0IChkZWZhdWx0OiBmYWxzZSkuCiAgICAgKiBJZiBgdXBkYXRlQ2hpbGRyZW5gIGlzIHRydWUsIGFsbCBjaGlsZHJlbiB3aWxsIGJlIHNldCAoZGVmYXVsdDogZmFsc2UpLgogICAgICogQG1ldGhvZCBzZXRNb2RpZmllZAogICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZQogICAgICogQHBhcmFtIHtib29sZWFufSBpc01vZGlmaWVkCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1cGRhdGVQYXJlbnRzPWZhbHNlXQogICAgICogQHBhcmFtIHtib29sZWFufSBbdXBkYXRlQ2hpbGRyZW49ZmFsc2VdCiAgICAgKi8KICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZCA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgaXNNb2RpZmllZCwgdXBkYXRlUGFyZW50cywgdXBkYXRlQ2hpbGRyZW4pIHsKICAgICAgICBjb21wb3NpdGUuaXNNb2RpZmllZCA9IGlzTW9kaWZpZWQ7CgogICAgICAgIGlmICh1cGRhdGVQYXJlbnRzICYmIGNvbXBvc2l0ZS5wYXJlbnQpIHsKICAgICAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZS5wYXJlbnQsIGlzTW9kaWZpZWQsIHVwZGF0ZVBhcmVudHMsIHVwZGF0ZUNoaWxkcmVuKTsKICAgICAgICB9CgogICAgICAgIGlmICh1cGRhdGVDaGlsZHJlbikgewogICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHZhciBjaGlsZENvbXBvc2l0ZSA9IGNvbXBvc2l0ZS5jb21wb3NpdGVzW2ldOwogICAgICAgICAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNoaWxkQ29tcG9zaXRlLCBpc01vZGlmaWVkLCB1cGRhdGVQYXJlbnRzLCB1cGRhdGVDaGlsZHJlbik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogR2VuZXJpYyBhZGQgZnVuY3Rpb24uIEFkZHMgb25lIG9yIG1hbnkgYm9keShzKSwgY29uc3RyYWludChzKSBvciBhIGNvbXBvc2l0ZShzKSB0byB0aGUgZ2l2ZW4gY29tcG9zaXRlLgogICAgICogVHJpZ2dlcnMgYGJlZm9yZUFkZGAgYW5kIGBhZnRlckFkZGAgZXZlbnRzIG9uIHRoZSBgY29tcG9zaXRlYC4KICAgICAqIEBtZXRob2QgYWRkCiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlCiAgICAgKiBAcGFyYW0ge30gb2JqZWN0CiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGUgd2l0aCB0aGUgb2JqZWN0cyBhZGRlZAogICAgICovCiAgICBDb21wb3NpdGUuYWRkID0gZnVuY3Rpb24oY29tcG9zaXRlLCBvYmplY3QpIHsKICAgICAgICB2YXIgb2JqZWN0cyA9IFtdLmNvbmNhdChvYmplY3QpOwoKICAgICAgICBFdmVudHMudHJpZ2dlcihjb21wb3NpdGUsICdiZWZvcmVBZGQnLCB7IG9iamVjdDogb2JqZWN0IH0pOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIG9iaiA9IG9iamVjdHNbaV07CgogICAgICAgICAgICBzd2l0Y2ggKG9iai50eXBlKSB7CgogICAgICAgICAgICBjYXNlICdib2R5JzoKICAgICAgICAgICAgICAgIC8vIHNraXAgYWRkaW5nIGNvbXBvdW5kIHBhcnRzCiAgICAgICAgICAgICAgICBpZiAob2JqLnBhcmVudCAhPT0gb2JqKSB7CiAgICAgICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ0NvbXBvc2l0ZS5hZGQ6IHNraXBwZWQgYWRkaW5nIGEgY29tcG91bmQgYm9keSBwYXJ0ICh5b3UgbXVzdCBhZGQgaXRzIHBhcmVudCBpbnN0ZWFkKScpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRCb2R5KGNvbXBvc2l0ZSwgb2JqKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdjb25zdHJhaW50JzoKICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KGNvbXBvc2l0ZSwgb2JqKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdjb21wb3NpdGUnOgogICAgICAgICAgICAgICAgQ29tcG9zaXRlLmFkZENvbXBvc2l0ZShjb21wb3NpdGUsIG9iaik7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnbW91c2VDb25zdHJhaW50JzoKICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KGNvbXBvc2l0ZSwgb2JqLmNvbnN0cmFpbnQpOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBFdmVudHMudHJpZ2dlcihjb21wb3NpdGUsICdhZnRlckFkZCcsIHsgb2JqZWN0OiBvYmplY3QgfSk7CgogICAgICAgIHJldHVybiBjb21wb3NpdGU7CiAgICB9OwoKICAgIC8qKgogICAgICogR2VuZXJpYyByZW1vdmUgZnVuY3Rpb24uIFJlbW92ZXMgb25lIG9yIG1hbnkgYm9keShzKSwgY29uc3RyYWludChzKSBvciBhIGNvbXBvc2l0ZShzKSB0byB0aGUgZ2l2ZW4gY29tcG9zaXRlLgogICAgICogT3B0aW9uYWxseSBzZWFyY2hpbmcgaXRzIGNoaWxkcmVuIHJlY3Vyc2l2ZWx5LgogICAgICogVHJpZ2dlcnMgYGJlZm9yZVJlbW92ZWAgYW5kIGBhZnRlclJlbW92ZWAgZXZlbnRzIG9uIHRoZSBgY29tcG9zaXRlYC4KICAgICAqIEBtZXRob2QgcmVtb3ZlCiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlCiAgICAgKiBAcGFyYW0ge30gb2JqZWN0CiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZWVwPWZhbHNlXQogICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlIHdpdGggdGhlIG9iamVjdHMgcmVtb3ZlZAogICAgICovCiAgICBDb21wb3NpdGUucmVtb3ZlID0gZnVuY3Rpb24oY29tcG9zaXRlLCBvYmplY3QsIGRlZXApIHsKICAgICAgICB2YXIgb2JqZWN0cyA9IFtdLmNvbmNhdChvYmplY3QpOwoKICAgICAgICBFdmVudHMudHJpZ2dlcihjb21wb3NpdGUsICdiZWZvcmVSZW1vdmUnLCB7IG9iamVjdDogb2JqZWN0IH0pOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIG9iaiA9IG9iamVjdHNbaV07CgogICAgICAgICAgICBzd2l0Y2ggKG9iai50eXBlKSB7CgogICAgICAgICAgICBjYXNlICdib2R5JzoKICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVCb2R5KGNvbXBvc2l0ZSwgb2JqLCBkZWVwKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdjb25zdHJhaW50JzoKICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVDb25zdHJhaW50KGNvbXBvc2l0ZSwgb2JqLCBkZWVwKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdjb21wb3NpdGUnOgogICAgICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUNvbXBvc2l0ZShjb21wb3NpdGUsIG9iaiwgZGVlcCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnbW91c2VDb25zdHJhaW50JzoKICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVDb25zdHJhaW50KGNvbXBvc2l0ZSwgb2JqLmNvbnN0cmFpbnQpOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBFdmVudHMudHJpZ2dlcihjb21wb3NpdGUsICdhZnRlclJlbW92ZScsIHsgb2JqZWN0OiBvYmplY3QgfSk7CgogICAgICAgIHJldHVybiBjb21wb3NpdGU7CiAgICB9OwoKICAgIC8qKgogICAgICogQWRkcyBhIGNvbXBvc2l0ZSB0byB0aGUgZ2l2ZW4gY29tcG9zaXRlLgogICAgICogQHByaXZhdGUKICAgICAqIEBtZXRob2QgYWRkQ29tcG9zaXRlCiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlQQogICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZUIKICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIGNvbXBvc2l0ZUEgd2l0aCB0aGUgb2JqZWN0cyBmcm9tIGNvbXBvc2l0ZUIgYWRkZWQKICAgICAqLwogICAgQ29tcG9zaXRlLmFkZENvbXBvc2l0ZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZUEsIGNvbXBvc2l0ZUIpIHsKICAgICAgICBjb21wb3NpdGVBLmNvbXBvc2l0ZXMucHVzaChjb21wb3NpdGVCKTsKICAgICAgICBjb21wb3NpdGVCLnBhcmVudCA9IGNvbXBvc2l0ZUE7CiAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZUEsIHRydWUsIHRydWUsIGZhbHNlKTsKICAgICAgICByZXR1cm4gY29tcG9zaXRlQTsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZW1vdmVzIGEgY29tcG9zaXRlIGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZSwgYW5kIG9wdGlvbmFsbHkgc2VhcmNoaW5nIGl0cyBjaGlsZHJlbiByZWN1cnNpdmVseS4KICAgICAqIEBwcml2YXRlCiAgICAgKiBAbWV0aG9kIHJlbW92ZUNvbXBvc2l0ZQogICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZUEKICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVCCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZWVwPWZhbHNlXQogICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlQSB3aXRoIHRoZSBjb21wb3NpdGUgcmVtb3ZlZAogICAgICovCiAgICBDb21wb3NpdGUucmVtb3ZlQ29tcG9zaXRlID0gZnVuY3Rpb24oY29tcG9zaXRlQSwgY29tcG9zaXRlQiwgZGVlcCkgewogICAgICAgIHZhciBwb3NpdGlvbiA9IENvbW1vbi5pbmRleE9mKGNvbXBvc2l0ZUEuY29tcG9zaXRlcywgY29tcG9zaXRlQik7CiAgICAgICAgaWYgKHBvc2l0aW9uICE9PSAtMSkgewogICAgICAgICAgICBDb21wb3NpdGUucmVtb3ZlQ29tcG9zaXRlQXQoY29tcG9zaXRlQSwgcG9zaXRpb24pOwogICAgICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQoY29tcG9zaXRlQSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGRlZXApIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wb3NpdGVBLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspewogICAgICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUNvbXBvc2l0ZShjb21wb3NpdGVBLmNvbXBvc2l0ZXNbaV0sIGNvbXBvc2l0ZUIsIHRydWUpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gY29tcG9zaXRlQTsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZW1vdmVzIGEgY29tcG9zaXRlIGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZS4KICAgICAqIEBwcml2YXRlCiAgICAgKiBAbWV0aG9kIHJlbW92ZUNvbXBvc2l0ZUF0CiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlCiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9zaXRpb24KICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIGNvbXBvc2l0ZSB3aXRoIHRoZSBjb21wb3NpdGUgcmVtb3ZlZAogICAgICovCiAgICBDb21wb3NpdGUucmVtb3ZlQ29tcG9zaXRlQXQgPSBmdW5jdGlvbihjb21wb3NpdGUsIHBvc2l0aW9uKSB7CiAgICAgICAgY29tcG9zaXRlLmNvbXBvc2l0ZXMuc3BsaWNlKHBvc2l0aW9uLCAxKTsKICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQoY29tcG9zaXRlLCB0cnVlLCB0cnVlLCBmYWxzZSk7CiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTsKICAgIH07CgogICAgLyoqCiAgICAgKiBBZGRzIGEgYm9keSB0byB0aGUgZ2l2ZW4gY29tcG9zaXRlLgogICAgICogQHByaXZhdGUKICAgICAqIEBtZXRob2QgYWRkQm9keQogICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZQogICAgICogQHBhcmFtIHtib2R5fSBib2R5CiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGUgd2l0aCB0aGUgYm9keSBhZGRlZAogICAgICovCiAgICBDb21wb3NpdGUuYWRkQm9keSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgYm9keSkgewogICAgICAgIGNvbXBvc2l0ZS5ib2RpZXMucHVzaChib2R5KTsKICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQoY29tcG9zaXRlLCB0cnVlLCB0cnVlLCBmYWxzZSk7CiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZW1vdmVzIGEgYm9keSBmcm9tIHRoZSBnaXZlbiBjb21wb3NpdGUsIGFuZCBvcHRpb25hbGx5IHNlYXJjaGluZyBpdHMgY2hpbGRyZW4gcmVjdXJzaXZlbHkuCiAgICAgKiBAcHJpdmF0ZQogICAgICogQG1ldGhvZCByZW1vdmVCb2R5CiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlCiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHkKICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZXA9ZmFsc2VdCiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGUgd2l0aCB0aGUgYm9keSByZW1vdmVkCiAgICAgKi8KICAgIENvbXBvc2l0ZS5yZW1vdmVCb2R5ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBib2R5LCBkZWVwKSB7CiAgICAgICAgdmFyIHBvc2l0aW9uID0gQ29tbW9uLmluZGV4T2YoY29tcG9zaXRlLmJvZGllcywgYm9keSk7CiAgICAgICAgaWYgKHBvc2l0aW9uICE9PSAtMSkgewogICAgICAgICAgICBDb21wb3NpdGUucmVtb3ZlQm9keUF0KGNvbXBvc2l0ZSwgcG9zaXRpb24pOwogICAgICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQoY29tcG9zaXRlLCB0cnVlLCB0cnVlLCBmYWxzZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoZGVlcCkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbXBvc2l0ZS5jb21wb3NpdGVzLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVCb2R5KGNvbXBvc2l0ZS5jb21wb3NpdGVzW2ldLCBib2R5LCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZW1vdmVzIGEgYm9keSBmcm9tIHRoZSBnaXZlbiBjb21wb3NpdGUuCiAgICAgKiBAcHJpdmF0ZQogICAgICogQG1ldGhvZCByZW1vdmVCb2R5QXQKICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGUKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb3NpdGlvbgogICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlIHdpdGggdGhlIGJvZHkgcmVtb3ZlZAogICAgICovCiAgICBDb21wb3NpdGUucmVtb3ZlQm9keUF0ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBwb3NpdGlvbikgewogICAgICAgIGNvbXBvc2l0ZS5ib2RpZXMuc3BsaWNlKHBvc2l0aW9uLCAxKTsKICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQoY29tcG9zaXRlLCB0cnVlLCB0cnVlLCBmYWxzZSk7CiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTsKICAgIH07CgogICAgLyoqCiAgICAgKiBBZGRzIGEgY29uc3RyYWludCB0byB0aGUgZ2l2ZW4gY29tcG9zaXRlLgogICAgICogQHByaXZhdGUKICAgICAqIEBtZXRob2QgYWRkQ29uc3RyYWludAogICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZQogICAgICogQHBhcmFtIHtjb25zdHJhaW50fSBjb25zdHJhaW50CiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGUgd2l0aCB0aGUgY29uc3RyYWludCBhZGRlZAogICAgICovCiAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludCA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgY29uc3RyYWludCkgewogICAgICAgIGNvbXBvc2l0ZS5jb25zdHJhaW50cy5wdXNoKGNvbnN0cmFpbnQpOwogICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUsIHRydWUsIHRydWUsIGZhbHNlKTsKICAgICAgICByZXR1cm4gY29tcG9zaXRlOwogICAgfTsKCiAgICAvKioKICAgICAqIFJlbW92ZXMgYSBjb25zdHJhaW50IGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZSwgYW5kIG9wdGlvbmFsbHkgc2VhcmNoaW5nIGl0cyBjaGlsZHJlbiByZWN1cnNpdmVseS4KICAgICAqIEBwcml2YXRlCiAgICAgKiBAbWV0aG9kIHJlbW92ZUNvbnN0cmFpbnQKICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGUKICAgICAqIEBwYXJhbSB7Y29uc3RyYWludH0gY29uc3RyYWludAogICAgICogQHBhcmFtIHtib29sZWFufSBbZGVlcD1mYWxzZV0KICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIGNvbXBvc2l0ZSB3aXRoIHRoZSBjb25zdHJhaW50IHJlbW92ZWQKICAgICAqLwogICAgQ29tcG9zaXRlLnJlbW92ZUNvbnN0cmFpbnQgPSBmdW5jdGlvbihjb21wb3NpdGUsIGNvbnN0cmFpbnQsIGRlZXApIHsKICAgICAgICB2YXIgcG9zaXRpb24gPSBDb21tb24uaW5kZXhPZihjb21wb3NpdGUuY29uc3RyYWludHMsIGNvbnN0cmFpbnQpOwogICAgICAgIGlmIChwb3NpdGlvbiAhPT0gLTEpIHsKICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUNvbnN0cmFpbnRBdChjb21wb3NpdGUsIHBvc2l0aW9uKTsKICAgICAgICB9CgogICAgICAgIGlmIChkZWVwKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspewogICAgICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUNvbnN0cmFpbnQoY29tcG9zaXRlLmNvbXBvc2l0ZXNbaV0sIGNvbnN0cmFpbnQsIHRydWUpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gY29tcG9zaXRlOwogICAgfTsKCiAgICAvKioKICAgICAqIFJlbW92ZXMgYSBib2R5IGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZS4KICAgICAqIEBwcml2YXRlCiAgICAgKiBAbWV0aG9kIHJlbW92ZUNvbnN0cmFpbnRBdAogICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZQogICAgICogQHBhcmFtIHtudW1iZXJ9IHBvc2l0aW9uCiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGUgd2l0aCB0aGUgY29uc3RyYWludCByZW1vdmVkCiAgICAgKi8KICAgIENvbXBvc2l0ZS5yZW1vdmVDb25zdHJhaW50QXQgPSBmdW5jdGlvbihjb21wb3NpdGUsIHBvc2l0aW9uKSB7CiAgICAgICAgY29tcG9zaXRlLmNvbnN0cmFpbnRzLnNwbGljZShwb3NpdGlvbiwgMSk7CiAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpOwogICAgICAgIHJldHVybiBjb21wb3NpdGU7CiAgICB9OwoKICAgIC8qKgogICAgICogUmVtb3ZlcyBhbGwgYm9kaWVzLCBjb25zdHJhaW50cyBhbmQgY29tcG9zaXRlcyBmcm9tIHRoZSBnaXZlbiBjb21wb3NpdGUuCiAgICAgKiBPcHRpb25hbGx5IGNsZWFyaW5nIGl0cyBjaGlsZHJlbiByZWN1cnNpdmVseS4KICAgICAqIEBtZXRob2QgY2xlYXIKICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGUKICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0ga2VlcFN0YXRpYwogICAgICogQHBhcmFtIHtib29sZWFufSBbZGVlcD1mYWxzZV0KICAgICAqLwogICAgQ29tcG9zaXRlLmNsZWFyID0gZnVuY3Rpb24oY29tcG9zaXRlLCBrZWVwU3RhdGljLCBkZWVwKSB7CiAgICAgICAgaWYgKGRlZXApIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wb3NpdGUuY29tcG9zaXRlcy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICBDb21wb3NpdGUuY2xlYXIoY29tcG9zaXRlLmNvbXBvc2l0ZXNbaV0sIGtlZXBTdGF0aWMsIHRydWUpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmIChrZWVwU3RhdGljKSB7CiAgICAgICAgICAgIGNvbXBvc2l0ZS5ib2RpZXMgPSBjb21wb3NpdGUuYm9kaWVzLmZpbHRlcihmdW5jdGlvbihib2R5KSB7IHJldHVybiBib2R5LmlzU3RhdGljOyB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb21wb3NpdGUuYm9kaWVzLmxlbmd0aCA9IDA7CiAgICAgICAgfQoKICAgICAgICBjb21wb3NpdGUuY29uc3RyYWludHMubGVuZ3RoID0gMDsKICAgICAgICBjb21wb3NpdGUuY29tcG9zaXRlcy5sZW5ndGggPSAwOwogICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUsIHRydWUsIHRydWUsIGZhbHNlKTsKCiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGFsbCBib2RpZXMgaW4gdGhlIGdpdmVuIGNvbXBvc2l0ZSwgaW5jbHVkaW5nIGFsbCBib2RpZXMgaW4gaXRzIGNoaWxkcmVuLCByZWN1cnNpdmVseS4KICAgICAqIEBtZXRob2QgYWxsQm9kaWVzCiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlCiAgICAgKiBAcmV0dXJuIHtib2R5W119IEFsbCB0aGUgYm9kaWVzCiAgICAgKi8KICAgIENvbXBvc2l0ZS5hbGxCb2RpZXMgPSBmdW5jdGlvbihjb21wb3NpdGUpIHsKICAgICAgICB2YXIgYm9kaWVzID0gW10uY29uY2F0KGNvbXBvc2l0ZS5ib2RpZXMpOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbXBvc2l0ZS5jb21wb3NpdGVzLmxlbmd0aDsgaSsrKQogICAgICAgICAgICBib2RpZXMgPSBib2RpZXMuY29uY2F0KENvbXBvc2l0ZS5hbGxCb2RpZXMoY29tcG9zaXRlLmNvbXBvc2l0ZXNbaV0pKTsKCiAgICAgICAgcmV0dXJuIGJvZGllczsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGFsbCBjb25zdHJhaW50cyBpbiB0aGUgZ2l2ZW4gY29tcG9zaXRlLCBpbmNsdWRpbmcgYWxsIGNvbnN0cmFpbnRzIGluIGl0cyBjaGlsZHJlbiwgcmVjdXJzaXZlbHkuCiAgICAgKiBAbWV0aG9kIGFsbENvbnN0cmFpbnRzCiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlCiAgICAgKiBAcmV0dXJuIHtjb25zdHJhaW50W119IEFsbCB0aGUgY29uc3RyYWludHMKICAgICAqLwogICAgQ29tcG9zaXRlLmFsbENvbnN0cmFpbnRzID0gZnVuY3Rpb24oY29tcG9zaXRlKSB7CiAgICAgICAgdmFyIGNvbnN0cmFpbnRzID0gW10uY29uY2F0KGNvbXBvc2l0ZS5jb25zdHJhaW50cyk7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIGNvbnN0cmFpbnRzID0gY29uc3RyYWludHMuY29uY2F0KENvbXBvc2l0ZS5hbGxDb25zdHJhaW50cyhjb21wb3NpdGUuY29tcG9zaXRlc1tpXSkpOwoKICAgICAgICByZXR1cm4gY29uc3RyYWludHM7CiAgICB9OwoKICAgIC8qKgogICAgICogUmV0dXJucyBhbGwgY29tcG9zaXRlcyBpbiB0aGUgZ2l2ZW4gY29tcG9zaXRlLCBpbmNsdWRpbmcgYWxsIGNvbXBvc2l0ZXMgaW4gaXRzIGNoaWxkcmVuLCByZWN1cnNpdmVseS4KICAgICAqIEBtZXRob2QgYWxsQ29tcG9zaXRlcwogICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZQogICAgICogQHJldHVybiB7Y29tcG9zaXRlW119IEFsbCB0aGUgY29tcG9zaXRlcwogICAgICovCiAgICBDb21wb3NpdGUuYWxsQ29tcG9zaXRlcyA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSkgewogICAgICAgIHZhciBjb21wb3NpdGVzID0gW10uY29uY2F0KGNvbXBvc2l0ZS5jb21wb3NpdGVzKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wb3NpdGUuY29tcG9zaXRlcy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgY29tcG9zaXRlcyA9IGNvbXBvc2l0ZXMuY29uY2F0KENvbXBvc2l0ZS5hbGxDb21wb3NpdGVzKGNvbXBvc2l0ZS5jb21wb3NpdGVzW2ldKSk7CgogICAgICAgIHJldHVybiBjb21wb3NpdGVzOwogICAgfTsKCiAgICAvKioKICAgICAqIFNlYXJjaGVzIHRoZSBjb21wb3NpdGUgcmVjdXJzaXZlbHkgZm9yIGFuIG9iamVjdCBtYXRjaGluZyB0aGUgdHlwZSBhbmQgaWQgc3VwcGxpZWQsIG51bGwgaWYgbm90IGZvdW5kLgogICAgICogQG1ldGhvZCBnZXQKICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGUKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZAogICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUKICAgICAqIEByZXR1cm4ge29iamVjdH0gVGhlIHJlcXVlc3RlZCBvYmplY3QsIGlmIGZvdW5kCiAgICAgKi8KICAgIENvbXBvc2l0ZS5nZXQgPSBmdW5jdGlvbihjb21wb3NpdGUsIGlkLCB0eXBlKSB7CiAgICAgICAgdmFyIG9iamVjdHMsCiAgICAgICAgICAgIG9iamVjdDsKCiAgICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAnYm9keSc6CiAgICAgICAgICAgIG9iamVjdHMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKGNvbXBvc2l0ZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2NvbnN0cmFpbnQnOgogICAgICAgICAgICBvYmplY3RzID0gQ29tcG9zaXRlLmFsbENvbnN0cmFpbnRzKGNvbXBvc2l0ZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2NvbXBvc2l0ZSc6CiAgICAgICAgICAgIG9iamVjdHMgPSBDb21wb3NpdGUuYWxsQ29tcG9zaXRlcyhjb21wb3NpdGUpLmNvbmNhdChjb21wb3NpdGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIGlmICghb2JqZWN0cykKICAgICAgICAgICAgcmV0dXJuIG51bGw7CgogICAgICAgIG9iamVjdCA9IG9iamVjdHMuZmlsdGVyKGZ1bmN0aW9uKG9iamVjdCkgeyAKICAgICAgICAgICAgcmV0dXJuIG9iamVjdC5pZC50b1N0cmluZygpID09PSBpZC50b1N0cmluZygpOyAKICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIG9iamVjdC5sZW5ndGggPT09IDAgPyBudWxsIDogb2JqZWN0WzBdOwogICAgfTsKCiAgICAvKioKICAgICAqIE1vdmVzIHRoZSBnaXZlbiBvYmplY3QocykgZnJvbSBjb21wb3NpdGVBIHRvIGNvbXBvc2l0ZUIgKGVxdWFsIHRvIGEgcmVtb3ZlIGZvbGxvd2VkIGJ5IGFuIGFkZCkuCiAgICAgKiBAbWV0aG9kIG1vdmUKICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlQX0gY29tcG9zaXRlQQogICAgICogQHBhcmFtIHtvYmplY3RbXX0gb2JqZWN0cwogICAgICogQHBhcmFtIHtjb21wb3NpdGVCfSBjb21wb3NpdGVCCiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFJldHVybnMgY29tcG9zaXRlQQogICAgICovCiAgICBDb21wb3NpdGUubW92ZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZUEsIG9iamVjdHMsIGNvbXBvc2l0ZUIpIHsKICAgICAgICBDb21wb3NpdGUucmVtb3ZlKGNvbXBvc2l0ZUEsIG9iamVjdHMpOwogICAgICAgIENvbXBvc2l0ZS5hZGQoY29tcG9zaXRlQiwgb2JqZWN0cyk7CiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZUE7CiAgICB9OwoKICAgIC8qKgogICAgICogQXNzaWducyBuZXcgaWRzIGZvciBhbGwgb2JqZWN0cyBpbiB0aGUgY29tcG9zaXRlLCByZWN1cnNpdmVseS4KICAgICAqIEBtZXRob2QgcmViYXNlCiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlCiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFJldHVybnMgY29tcG9zaXRlCiAgICAgKi8KICAgIENvbXBvc2l0ZS5yZWJhc2UgPSBmdW5jdGlvbihjb21wb3NpdGUpIHsKICAgICAgICB2YXIgb2JqZWN0cyA9IENvbXBvc2l0ZS5hbGxCb2RpZXMoY29tcG9zaXRlKQogICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KENvbXBvc2l0ZS5hbGxDb25zdHJhaW50cyhjb21wb3NpdGUpKQogICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KENvbXBvc2l0ZS5hbGxDb21wb3NpdGVzKGNvbXBvc2l0ZSkpOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgb2JqZWN0c1tpXS5pZCA9IENvbW1vbi5uZXh0SWQoKTsKICAgICAgICB9CgogICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUsIHRydWUsIHRydWUsIGZhbHNlKTsKCiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTsKICAgIH07CgogICAgLyoqCiAgICAgKiBUcmFuc2xhdGVzIGFsbCBjaGlsZHJlbiBpbiB0aGUgY29tcG9zaXRlIGJ5IGEgZ2l2ZW4gdmVjdG9yIHJlbGF0aXZlIHRvIHRoZWlyIGN1cnJlbnQgcG9zaXRpb25zLCAKICAgICAqIHdpdGhvdXQgaW1wYXJ0aW5nIGFueSB2ZWxvY2l0eS4KICAgICAqIEBtZXRob2QgdHJhbnNsYXRlCiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlCiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdHJhbnNsYXRpb24KICAgICAqIEBwYXJhbSB7Ym9vbH0gW3JlY3Vyc2l2ZT10cnVlXQogICAgICovCiAgICBDb21wb3NpdGUudHJhbnNsYXRlID0gZnVuY3Rpb24oY29tcG9zaXRlLCB0cmFuc2xhdGlvbiwgcmVjdXJzaXZlKSB7CiAgICAgICAgdmFyIGJvZGllcyA9IHJlY3Vyc2l2ZSA/IENvbXBvc2l0ZS5hbGxCb2RpZXMoY29tcG9zaXRlKSA6IGNvbXBvc2l0ZS5ib2RpZXM7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIEJvZHkudHJhbnNsYXRlKGJvZGllc1tpXSwgdHJhbnNsYXRpb24pOwogICAgICAgIH0KCiAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpOwoKICAgICAgICByZXR1cm4gY29tcG9zaXRlOwogICAgfTsKCiAgICAvKioKICAgICAqIFJvdGF0ZXMgYWxsIGNoaWxkcmVuIGluIHRoZSBjb21wb3NpdGUgYnkgYSBnaXZlbiBhbmdsZSBhYm91dCB0aGUgZ2l2ZW4gcG9pbnQsIHdpdGhvdXQgaW1wYXJ0aW5nIGFueSBhbmd1bGFyIHZlbG9jaXR5LgogICAgICogQG1ldGhvZCByb3RhdGUKICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGUKICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbgogICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvaW50CiAgICAgKiBAcGFyYW0ge2Jvb2x9IFtyZWN1cnNpdmU9dHJ1ZV0KICAgICAqLwogICAgQ29tcG9zaXRlLnJvdGF0ZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgcm90YXRpb24sIHBvaW50LCByZWN1cnNpdmUpIHsKICAgICAgICB2YXIgY29zID0gTWF0aC5jb3Mocm90YXRpb24pLAogICAgICAgICAgICBzaW4gPSBNYXRoLnNpbihyb3RhdGlvbiksCiAgICAgICAgICAgIGJvZGllcyA9IHJlY3Vyc2l2ZSA/IENvbXBvc2l0ZS5hbGxCb2RpZXMoY29tcG9zaXRlKSA6IGNvbXBvc2l0ZS5ib2RpZXM7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldLAogICAgICAgICAgICAgICAgZHggPSBib2R5LnBvc2l0aW9uLnggLSBwb2ludC54LAogICAgICAgICAgICAgICAgZHkgPSBib2R5LnBvc2l0aW9uLnkgLSBwb2ludC55OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIEJvZHkuc2V0UG9zaXRpb24oYm9keSwgewogICAgICAgICAgICAgICAgeDogcG9pbnQueCArIChkeCAqIGNvcyAtIGR5ICogc2luKSwKICAgICAgICAgICAgICAgIHk6IHBvaW50LnkgKyAoZHggKiBzaW4gKyBkeSAqIGNvcykKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBCb2R5LnJvdGF0ZShib2R5LCByb3RhdGlvbik7CiAgICAgICAgfQoKICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQoY29tcG9zaXRlLCB0cnVlLCB0cnVlLCBmYWxzZSk7CgogICAgICAgIHJldHVybiBjb21wb3NpdGU7CiAgICB9OwoKICAgIC8qKgogICAgICogU2NhbGVzIGFsbCBjaGlsZHJlbiBpbiB0aGUgY29tcG9zaXRlLCBpbmNsdWRpbmcgdXBkYXRpbmcgcGh5c2ljYWwgcHJvcGVydGllcyAobWFzcywgYXJlYSwgYXhlcywgaW5lcnRpYSksIGZyb20gYSB3b3JsZC1zcGFjZSBwb2ludC4KICAgICAqIEBtZXRob2Qgc2NhbGUKICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGUKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVgKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVkKICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb2ludAogICAgICogQHBhcmFtIHtib29sfSBbcmVjdXJzaXZlPXRydWVdCiAgICAgKi8KICAgIENvbXBvc2l0ZS5zY2FsZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgc2NhbGVYLCBzY2FsZVksIHBvaW50LCByZWN1cnNpdmUpIHsKICAgICAgICB2YXIgYm9kaWVzID0gcmVjdXJzaXZlID8gQ29tcG9zaXRlLmFsbEJvZGllcyhjb21wb3NpdGUpIDogY29tcG9zaXRlLmJvZGllczsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV0sCiAgICAgICAgICAgICAgICBkeCA9IGJvZHkucG9zaXRpb24ueCAtIHBvaW50LngsCiAgICAgICAgICAgICAgICBkeSA9IGJvZHkucG9zaXRpb24ueSAtIHBvaW50Lnk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgQm9keS5zZXRQb3NpdGlvbihib2R5LCB7CiAgICAgICAgICAgICAgICB4OiBwb2ludC54ICsgZHggKiBzY2FsZVgsCiAgICAgICAgICAgICAgICB5OiBwb2ludC55ICsgZHkgKiBzY2FsZVkKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBCb2R5LnNjYWxlKGJvZHksIHNjYWxlWCwgc2NhbGVZKTsKICAgICAgICB9CgogICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUsIHRydWUsIHRydWUsIGZhbHNlKTsKCiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTsKICAgIH07CgogICAgLyoKICAgICoKICAgICogIEV2ZW50cyBEb2N1bWVudGF0aW9uCiAgICAqCiAgICAqLwoKICAgIC8qKgogICAgKiBGaXJlZCB3aGVuIGEgY2FsbCB0byBgQ29tcG9zaXRlLmFkZGAgaXMgbWFkZSwgYmVmb3JlIG9iamVjdHMgaGF2ZSBiZWVuIGFkZGVkLgogICAgKgogICAgKiBAZXZlbnQgYmVmb3JlQWRkCiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3QKICAgICogQHBhcmFtIHt9IGV2ZW50Lm9iamVjdCBUaGUgb2JqZWN0KHMpIHRvIGJlIGFkZGVkIChtYXkgYmUgYSBzaW5nbGUgYm9keSwgY29uc3RyYWludCwgY29tcG9zaXRlIG9yIGEgbWl4ZWQgYXJyYXkgb2YgdGhlc2UpCiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50CiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudAogICAgKi8KCiAgICAvKioKICAgICogRmlyZWQgd2hlbiBhIGNhbGwgdG8gYENvbXBvc2l0ZS5hZGRgIGlzIG1hZGUsIGFmdGVyIG9iamVjdHMgaGF2ZSBiZWVuIGFkZGVkLgogICAgKgogICAgKiBAZXZlbnQgYWZ0ZXJBZGQKICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdAogICAgKiBAcGFyYW0ge30gZXZlbnQub2JqZWN0IFRoZSBvYmplY3QocykgdGhhdCBoYXZlIGJlZW4gYWRkZWQgKG1heSBiZSBhIHNpbmdsZSBib2R5LCBjb25zdHJhaW50LCBjb21wb3NpdGUgb3IgYSBtaXhlZCBhcnJheSBvZiB0aGVzZSkKICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnQKICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50CiAgICAqLwoKICAgIC8qKgogICAgKiBGaXJlZCB3aGVuIGEgY2FsbCB0byBgQ29tcG9zaXRlLnJlbW92ZWAgaXMgbWFkZSwgYmVmb3JlIG9iamVjdHMgaGF2ZSBiZWVuIHJlbW92ZWQuCiAgICAqCiAgICAqIEBldmVudCBiZWZvcmVSZW1vdmUKICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdAogICAgKiBAcGFyYW0ge30gZXZlbnQub2JqZWN0IFRoZSBvYmplY3QocykgdG8gYmUgcmVtb3ZlZCAobWF5IGJlIGEgc2luZ2xlIGJvZHksIGNvbnN0cmFpbnQsIGNvbXBvc2l0ZSBvciBhIG1peGVkIGFycmF5IG9mIHRoZXNlKQogICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKICAgICovCgogICAgLyoqCiAgICAqIEZpcmVkIHdoZW4gYSBjYWxsIHRvIGBDb21wb3NpdGUucmVtb3ZlYCBpcyBtYWRlLCBhZnRlciBvYmplY3RzIGhhdmUgYmVlbiByZW1vdmVkLgogICAgKgogICAgKiBAZXZlbnQgYWZ0ZXJSZW1vdmUKICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdAogICAgKiBAcGFyYW0ge30gZXZlbnQub2JqZWN0IFRoZSBvYmplY3QocykgdGhhdCBoYXZlIGJlZW4gcmVtb3ZlZCAobWF5IGJlIGEgc2luZ2xlIGJvZHksIGNvbnN0cmFpbnQsIGNvbXBvc2l0ZSBvciBhIG1peGVkIGFycmF5IG9mIHRoZXNlKQogICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKICAgICovCgogICAgLyoKICAgICoKICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvbgogICAgKgogICAgKi8KCiAgICAvKioKICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdW5pcXVlbHkgaWRlbnRpZnlpbmcgbnVtYmVyIGdlbmVyYXRlZCBpbiBgQ29tcG9zaXRlLmNyZWF0ZWAgYnkgYENvbW1vbi5uZXh0SWRgLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBpZAogICAgICogQHR5cGUgbnVtYmVyCiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgYFN0cmluZ2AgZGVub3RpbmcgdGhlIHR5cGUgb2Ygb2JqZWN0LgogICAgICoKICAgICAqIEBwcm9wZXJ0eSB0eXBlCiAgICAgKiBAdHlwZSBzdHJpbmcKICAgICAqIEBkZWZhdWx0ICJjb21wb3NpdGUiCiAgICAgKiBAcmVhZE9ubHkKICAgICAqLwoKICAgIC8qKgogICAgICogQW4gYXJiaXRyYXJ5IGBTdHJpbmdgIG5hbWUgdG8gaGVscCB0aGUgdXNlciBpZGVudGlmeSBhbmQgbWFuYWdlIGNvbXBvc2l0ZXMuCiAgICAgKgogICAgICogQHByb3BlcnR5IGxhYmVsCiAgICAgKiBAdHlwZSBzdHJpbmcKICAgICAqIEBkZWZhdWx0ICJDb21wb3NpdGUiCiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgZmxhZyB0aGF0IHNwZWNpZmllcyB3aGV0aGVyIHRoZSBjb21wb3NpdGUgaGFzIGJlZW4gbW9kaWZpZWQgZHVyaW5nIHRoZSBjdXJyZW50IHN0ZXAuCiAgICAgKiBNb3N0IGBNYXR0ZXIuQ29tcG9zaXRlYCBtZXRob2RzIHdpbGwgYXV0b21hdGljYWxseSBzZXQgdGhpcyBmbGFnIHRvIGB0cnVlYCB0byBpbmZvcm0gdGhlIGVuZ2luZSBvZiBjaGFuZ2VzIHRvIGJlIGhhbmRsZWQuCiAgICAgKiBJZiB5b3UgbmVlZCB0byBjaGFuZ2UgaXQgbWFudWFsbHksIHlvdSBzaG91bGQgdXNlIHRoZSBgQ29tcG9zaXRlLnNldE1vZGlmaWVkYCBtZXRob2QuCiAgICAgKgogICAgICogQHByb3BlcnR5IGlzTW9kaWZpZWQKICAgICAqIEB0eXBlIGJvb2xlYW4KICAgICAqIEBkZWZhdWx0IGZhbHNlCiAgICAgKi8KCiAgICAvKioKICAgICAqIFRoZSBgQ29tcG9zaXRlYCB0aGF0IGlzIHRoZSBwYXJlbnQgb2YgdGhpcyBjb21wb3NpdGUuIEl0IGlzIGF1dG9tYXRpY2FsbHkgbWFuYWdlZCBieSB0aGUgYE1hdHRlci5Db21wb3NpdGVgIG1ldGhvZHMuCiAgICAgKgogICAgICogQHByb3BlcnR5IHBhcmVudAogICAgICogQHR5cGUgY29tcG9zaXRlCiAgICAgKiBAZGVmYXVsdCBudWxsCiAgICAgKi8KCiAgICAvKioKICAgICAqIEFuIGFycmF5IG9mIGBCb2R5YCB0aGF0IGFyZSBfZGlyZWN0XyBjaGlsZHJlbiBvZiB0aGlzIGNvbXBvc2l0ZS4KICAgICAqIFRvIGFkZCBvciByZW1vdmUgYm9kaWVzIHlvdSBzaG91bGQgdXNlIGBDb21wb3NpdGUuYWRkYCBhbmQgYENvbXBvc2l0ZS5yZW1vdmVgIG1ldGhvZHMgcmF0aGVyIHRoYW4gZGlyZWN0bHkgbW9kaWZ5aW5nIHRoaXMgcHJvcGVydHkuCiAgICAgKiBJZiB5b3Ugd2lzaCB0byByZWN1cnNpdmVseSBmaW5kIGFsbCBkZXNjZW5kYW50cywgeW91IHNob3VsZCB1c2UgdGhlIGBDb21wb3NpdGUuYWxsQm9kaWVzYCBtZXRob2QuCiAgICAgKgogICAgICogQHByb3BlcnR5IGJvZGllcwogICAgICogQHR5cGUgYm9keVtdCiAgICAgKiBAZGVmYXVsdCBbXQogICAgICovCgogICAgLyoqCiAgICAgKiBBbiBhcnJheSBvZiBgQ29uc3RyYWludGAgdGhhdCBhcmUgX2RpcmVjdF8gY2hpbGRyZW4gb2YgdGhpcyBjb21wb3NpdGUuCiAgICAgKiBUbyBhZGQgb3IgcmVtb3ZlIGNvbnN0cmFpbnRzIHlvdSBzaG91bGQgdXNlIGBDb21wb3NpdGUuYWRkYCBhbmQgYENvbXBvc2l0ZS5yZW1vdmVgIG1ldGhvZHMgcmF0aGVyIHRoYW4gZGlyZWN0bHkgbW9kaWZ5aW5nIHRoaXMgcHJvcGVydHkuCiAgICAgKiBJZiB5b3Ugd2lzaCB0byByZWN1cnNpdmVseSBmaW5kIGFsbCBkZXNjZW5kYW50cywgeW91IHNob3VsZCB1c2UgdGhlIGBDb21wb3NpdGUuYWxsQ29uc3RyYWludHNgIG1ldGhvZC4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgY29uc3RyYWludHMKICAgICAqIEB0eXBlIGNvbnN0cmFpbnRbXQogICAgICogQGRlZmF1bHQgW10KICAgICAqLwoKICAgIC8qKgogICAgICogQW4gYXJyYXkgb2YgYENvbXBvc2l0ZWAgdGhhdCBhcmUgX2RpcmVjdF8gY2hpbGRyZW4gb2YgdGhpcyBjb21wb3NpdGUuCiAgICAgKiBUbyBhZGQgb3IgcmVtb3ZlIGNvbXBvc2l0ZXMgeW91IHNob3VsZCB1c2UgYENvbXBvc2l0ZS5hZGRgIGFuZCBgQ29tcG9zaXRlLnJlbW92ZWAgbWV0aG9kcyByYXRoZXIgdGhhbiBkaXJlY3RseSBtb2RpZnlpbmcgdGhpcyBwcm9wZXJ0eS4KICAgICAqIElmIHlvdSB3aXNoIHRvIHJlY3Vyc2l2ZWx5IGZpbmQgYWxsIGRlc2NlbmRhbnRzLCB5b3Ugc2hvdWxkIHVzZSB0aGUgYENvbXBvc2l0ZS5hbGxDb21wb3NpdGVzYCBtZXRob2QuCiAgICAgKgogICAgICogQHByb3BlcnR5IGNvbXBvc2l0ZXMKICAgICAqIEB0eXBlIGNvbXBvc2l0ZVtdCiAgICAgKiBAZGVmYXVsdCBbXQogICAgICovCgogICAgLyoqCiAgICAgKiBBbiBvYmplY3QgcmVzZXJ2ZWQgZm9yIHN0b3JpbmcgcGx1Z2luLXNwZWNpZmljIHByb3BlcnRpZXMuCiAgICAgKgogICAgICogQHByb3BlcnR5IHBsdWdpbgogICAgICogQHR5cGUge30KICAgICAqLwoKfSkoKTsKCn0seyIuLi9jb3JlL0NvbW1vbiI6MTQsIi4uL2NvcmUvRXZlbnRzIjoxNiwiLi9Cb2R5IjoxfV0sMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7Ci8qKgoqIFRoZSBgTWF0dGVyLldvcmxkYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyB0aGUgd29ybGQgY29tcG9zaXRlLgoqIEEgYE1hdHRlci5Xb3JsZGAgaXMgYSBgTWF0dGVyLkNvbXBvc2l0ZWAgYm9keSwgd2hpY2ggaXMgYSBjb2xsZWN0aW9uIG9mIGBNYXR0ZXIuQm9keWAsIGBNYXR0ZXIuQ29uc3RyYWludGAgYW5kIG90aGVyIGBNYXR0ZXIuQ29tcG9zaXRlYC4KKiBBIGBNYXR0ZXIuV29ybGRgIGhhcyBhIGZldyBhZGRpdGlvbmFsIHByb3BlcnRpZXMgaW5jbHVkaW5nIGBncmF2aXR5YCBhbmQgYGJvdW5kc2AuCiogSXQgaXMgaW1wb3J0YW50IHRvIHVzZSB0aGUgZnVuY3Rpb25zIGluIHRoZSBgTWF0dGVyLkNvbXBvc2l0ZWAgbW9kdWxlIHRvIG1vZGlmeSB0aGUgd29ybGQgY29tcG9zaXRlLCByYXRoZXIgdGhhbiBkaXJlY3RseSBtb2RpZnlpbmcgaXRzIHByb3BlcnRpZXMuCiogVGhlcmUgYXJlIGFsc28gYSBmZXcgbWV0aG9kcyBoZXJlIHRoYXQgYWxpYXMgdGhvc2UgaW4gYE1hdHRlci5Db21wb3NpdGVgIGZvciBlYXNpZXIgcmVhZGFiaWxpdHkuCioKKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLgoqCiogQGNsYXNzIFdvcmxkCiogQGV4dGVuZHMgQ29tcG9zaXRlCiovCgp2YXIgV29ybGQgPSB7fTsKCm1vZHVsZS5leHBvcnRzID0gV29ybGQ7Cgp2YXIgQ29tcG9zaXRlID0gX2RlcmVxXygnLi9Db21wb3NpdGUnKTsKdmFyIENvbnN0cmFpbnQgPSBfZGVyZXFfKCcuLi9jb25zdHJhaW50L0NvbnN0cmFpbnQnKTsKdmFyIENvbW1vbiA9IF9kZXJlcV8oJy4uL2NvcmUvQ29tbW9uJyk7CgooZnVuY3Rpb24oKSB7CgogICAgLyoqCiAgICAgKiBDcmVhdGVzIGEgbmV3IHdvcmxkIGNvbXBvc2l0ZS4gVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuCiAgICAgKiBTZWUgdGhlIHByb3BlcnRpZXMgc2VjdGlvbiBiZWxvdyBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LgogICAgICogQG1ldGhvZCBjcmVhdGUKICAgICAqIEBjb25zdHJ1Y3RvcgogICAgICogQHBhcmFtIHt9IG9wdGlvbnMKICAgICAqIEByZXR1cm4ge3dvcmxkfSBBIG5ldyB3b3JsZAogICAgICovCiAgICBXb3JsZC5jcmVhdGUgPSBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgICAgdmFyIGNvbXBvc2l0ZSA9IENvbXBvc2l0ZS5jcmVhdGUoKTsKCiAgICAgICAgdmFyIGRlZmF1bHRzID0gewogICAgICAgICAgICBsYWJlbDogJ1dvcmxkJywKICAgICAgICAgICAgZ3Jhdml0eTogewogICAgICAgICAgICAgICAgeDogMCwKICAgICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgICBzY2FsZTogMC4wMDEKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYm91bmRzOiB7IAogICAgICAgICAgICAgICAgbWluOiB7IHg6IC1JbmZpbml0eSwgeTogLUluZmluaXR5IH0sIAogICAgICAgICAgICAgICAgbWF4OiB7IHg6IEluZmluaXR5LCB5OiBJbmZpbml0eSB9IAogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAKICAgICAgICByZXR1cm4gQ29tbW9uLmV4dGVuZChjb21wb3NpdGUsIGRlZmF1bHRzLCBvcHRpb25zKTsKICAgIH07CgogICAgLyoKICAgICoKICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvbgogICAgKgogICAgKi8KCiAgICAvKioKICAgICAqIFRoZSBncmF2aXR5IHRvIGFwcGx5IG9uIHRoZSB3b3JsZC4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgZ3Jhdml0eQogICAgICogQHR5cGUgb2JqZWN0CiAgICAgKi8KCiAgICAvKioKICAgICAqIFRoZSBncmF2aXR5IHggY29tcG9uZW50LgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBncmF2aXR5LngKICAgICAqIEB0eXBlIG9iamVjdAogICAgICogQGRlZmF1bHQgMAogICAgICovCgogICAgLyoqCiAgICAgKiBUaGUgZ3Jhdml0eSB5IGNvbXBvbmVudC4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgZ3Jhdml0eS55CiAgICAgKiBAdHlwZSBvYmplY3QKICAgICAqIEBkZWZhdWx0IDEKICAgICAqLwoKICAgIC8qKgogICAgICogVGhlIGdyYXZpdHkgc2NhbGUgZmFjdG9yLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBncmF2aXR5LnNjYWxlCiAgICAgKiBAdHlwZSBvYmplY3QKICAgICAqIEBkZWZhdWx0IDAuMDAxCiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgYEJvdW5kc2Agb2JqZWN0IHRoYXQgZGVmaW5lcyB0aGUgd29ybGQgYm91bmRzIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBib3VuZHMKICAgICAqIEB0eXBlIGJvdW5kcwogICAgICogQGRlZmF1bHQgeyBtaW46IHsgeDogLUluZmluaXR5LCB5OiAtSW5maW5pdHkgfSwgbWF4OiB7IHg6IEluZmluaXR5LCB5OiBJbmZpbml0eSB9IH0KICAgICAqLwoKICAgIC8vIFdvcmxkIGlzIGEgQ29tcG9zaXRlIGJvZHkKICAgIC8vIHNlZSBzcmMvbW9kdWxlL091dHJvLmpzIGZvciB0aGVzZSBhbGlhc2VzOgogICAgCiAgICAvKioKICAgICAqIEFuIGFsaWFzIGZvciBDb21wb3NpdGUuY2xlYXIKICAgICAqIEBtZXRob2QgY2xlYXIKICAgICAqIEBwYXJhbSB7d29ybGR9IHdvcmxkCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGtlZXBTdGF0aWMKICAgICAqLwoKICAgIC8qKgogICAgICogQW4gYWxpYXMgZm9yIENvbXBvc2l0ZS5hZGQKICAgICAqIEBtZXRob2QgYWRkQ29tcG9zaXRlCiAgICAgKiBAcGFyYW0ge3dvcmxkfSB3b3JsZAogICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZQogICAgICogQHJldHVybiB7d29ybGR9IFRoZSBvcmlnaW5hbCB3b3JsZCB3aXRoIHRoZSBvYmplY3RzIGZyb20gY29tcG9zaXRlIGFkZGVkCiAgICAgKi8KICAgIAogICAgIC8qKgogICAgICAqIEFuIGFsaWFzIGZvciBDb21wb3NpdGUuYWRkQm9keQogICAgICAqIEBtZXRob2QgYWRkQm9keQogICAgICAqIEBwYXJhbSB7d29ybGR9IHdvcmxkCiAgICAgICogQHBhcmFtIHtib2R5fSBib2R5CiAgICAgICogQHJldHVybiB7d29ybGR9IFRoZSBvcmlnaW5hbCB3b3JsZCB3aXRoIHRoZSBib2R5IGFkZGVkCiAgICAgICovCgogICAgIC8qKgogICAgICAqIEFuIGFsaWFzIGZvciBDb21wb3NpdGUuYWRkQ29uc3RyYWludAogICAgICAqIEBtZXRob2QgYWRkQ29uc3RyYWludAogICAgICAqIEBwYXJhbSB7d29ybGR9IHdvcmxkCiAgICAgICogQHBhcmFtIHtjb25zdHJhaW50fSBjb25zdHJhaW50CiAgICAgICogQHJldHVybiB7d29ybGR9IFRoZSBvcmlnaW5hbCB3b3JsZCB3aXRoIHRoZSBjb25zdHJhaW50IGFkZGVkCiAgICAgICovCgp9KSgpOwoKfSx7Ii4uL2NvbnN0cmFpbnQvQ29uc3RyYWludCI6MTIsIi4uL2NvcmUvQ29tbW9uIjoxNCwiLi9Db21wb3NpdGUiOjJ9XSw0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXsKLyoqCiogVGhlIGBNYXR0ZXIuQ29udGFjdGAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgY29sbGlzaW9uIGNvbnRhY3RzLgoqCiogQGNsYXNzIENvbnRhY3QKKi8KCnZhciBDb250YWN0ID0ge307Cgptb2R1bGUuZXhwb3J0cyA9IENvbnRhY3Q7CgooZnVuY3Rpb24oKSB7CgogICAgLyoqCiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbnRhY3QuCiAgICAgKiBAbWV0aG9kIGNyZWF0ZQogICAgICogQHBhcmFtIHt2ZXJ0ZXh9IHZlcnRleAogICAgICogQHJldHVybiB7Y29udGFjdH0gQSBuZXcgY29udGFjdAogICAgICovCiAgICBDb250YWN0LmNyZWF0ZSA9IGZ1bmN0aW9uKHZlcnRleCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlkOiBDb250YWN0LmlkKHZlcnRleCksCiAgICAgICAgICAgIHZlcnRleDogdmVydGV4LAogICAgICAgICAgICBub3JtYWxJbXB1bHNlOiAwLAogICAgICAgICAgICB0YW5nZW50SW1wdWxzZTogMAogICAgICAgIH07CiAgICB9OwogICAgCiAgICAvKioKICAgICAqIEdlbmVyYXRlcyBhIGNvbnRhY3QgaWQuCiAgICAgKiBAbWV0aG9kIGlkCiAgICAgKiBAcGFyYW0ge3ZlcnRleH0gdmVydGV4CiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFVuaXF1ZSBjb250YWN0SUQKICAgICAqLwogICAgQ29udGFjdC5pZCA9IGZ1bmN0aW9uKHZlcnRleCkgewogICAgICAgIHJldHVybiB2ZXJ0ZXguYm9keS5pZCArICdfJyArIHZlcnRleC5pbmRleDsKICAgIH07Cgp9KSgpOwoKfSx7fV0sNTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7Ci8qKgoqIFRoZSBgTWF0dGVyLkRldGVjdG9yYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgZGV0ZWN0aW5nIGNvbGxpc2lvbnMgZ2l2ZW4gYSBzZXQgb2YgcGFpcnMuCioKKiBAY2xhc3MgRGV0ZWN0b3IKKi8KCi8vIFRPRE86IHNwZWN1bGF0aXZlIGNvbnRhY3RzCgp2YXIgRGV0ZWN0b3IgPSB7fTsKCm1vZHVsZS5leHBvcnRzID0gRGV0ZWN0b3I7Cgp2YXIgU0FUID0gX2RlcmVxXygnLi9TQVQnKTsKdmFyIFBhaXIgPSBfZGVyZXFfKCcuL1BhaXInKTsKdmFyIEJvdW5kcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L0JvdW5kcycpOwoKKGZ1bmN0aW9uKCkgewoKICAgIC8qKgogICAgICogRmluZHMgYWxsIGNvbGxpc2lvbnMgZ2l2ZW4gYSBsaXN0IG9mIHBhaXJzLgogICAgICogQG1ldGhvZCBjb2xsaXNpb25zCiAgICAgKiBAcGFyYW0ge3BhaXJbXX0gYnJvYWRwaGFzZVBhaXJzCiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lCiAgICAgKiBAcmV0dXJuIHthcnJheX0gY29sbGlzaW9ucwogICAgICovCiAgICBEZXRlY3Rvci5jb2xsaXNpb25zID0gZnVuY3Rpb24oYnJvYWRwaGFzZVBhaXJzLCBlbmdpbmUpIHsKICAgICAgICB2YXIgY29sbGlzaW9ucyA9IFtdLAogICAgICAgICAgICBwYWlyc1RhYmxlID0gZW5naW5lLnBhaXJzLnRhYmxlOwoKICAgICAgICAKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJyb2FkcGhhc2VQYWlycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgYm9keUEgPSBicm9hZHBoYXNlUGFpcnNbaV1bMF0sIAogICAgICAgICAgICAgICAgYm9keUIgPSBicm9hZHBoYXNlUGFpcnNbaV1bMV07CgogICAgICAgICAgICBpZiAoKGJvZHlBLmlzU3RhdGljIHx8IGJvZHlBLmlzU2xlZXBpbmcpICYmIChib2R5Qi5pc1N0YXRpYyB8fCBib2R5Qi5pc1NsZWVwaW5nKSkKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCFEZXRlY3Rvci5jYW5Db2xsaWRlKGJvZHlBLmNvbGxpc2lvbkZpbHRlciwgYm9keUIuY29sbGlzaW9uRmlsdGVyKSkKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwoKCiAgICAgICAgICAgIC8vIG1pZCBwaGFzZQogICAgICAgICAgICBpZiAoQm91bmRzLm92ZXJsYXBzKGJvZHlBLmJvdW5kcywgYm9keUIuYm91bmRzKSkgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IGJvZHlBLnBhcnRzLmxlbmd0aCA+IDEgPyAxIDogMDsgaiA8IGJvZHlBLnBhcnRzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnRBID0gYm9keUEucGFydHNbal07CgogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSBib2R5Qi5wYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7IGsgPCBib2R5Qi5wYXJ0cy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydEIgPSBib2R5Qi5wYXJ0c1trXTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocGFydEEgPT09IGJvZHlBICYmIHBhcnRCID09PSBib2R5QikgfHwgQm91bmRzLm92ZXJsYXBzKHBhcnRBLmJvdW5kcywgcGFydEIuYm91bmRzKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluZCBhIHByZXZpb3VzIGNvbGxpc2lvbiB3ZSBjb3VsZCByZXVzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhaXJJZCA9IFBhaXIuaWQocGFydEEsIHBhcnRCKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWlyID0gcGFpcnNUYWJsZVtwYWlySWRdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29sbGlzaW9uOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWlyICYmIHBhaXIuaXNBY3RpdmUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0NvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0NvbGxpc2lvbiA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmFycm93IHBoYXNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sbGlzaW9uID0gU0FULmNvbGxpZGVzKHBhcnRBLCBwYXJ0QiwgcHJldmlvdXNDb2xsaXNpb24pOwoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uLmNvbGxpZGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9ucy5wdXNoKGNvbGxpc2lvbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBjb2xsaXNpb25zOwogICAgfTsKCiAgICAvKioKICAgICAqIFJldHVybnMgYHRydWVgIGlmIGJvdGggc3VwcGxpZWQgY29sbGlzaW9uIGZpbHRlcnMgd2lsbCBhbGxvdyBhIGNvbGxpc2lvbiB0byBvY2N1ci4KICAgICAqIFNlZSBgYm9keS5jb2xsaXNpb25GaWx0ZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLgogICAgICogQG1ldGhvZCBjYW5Db2xsaWRlCiAgICAgKiBAcGFyYW0ge30gZmlsdGVyQQogICAgICogQHBhcmFtIHt9IGZpbHRlckIKICAgICAqIEByZXR1cm4ge2Jvb2x9IGB0cnVlYCBpZiBjb2xsaXNpb24gY2FuIG9jY3VyCiAgICAgKi8KICAgIERldGVjdG9yLmNhbkNvbGxpZGUgPSBmdW5jdGlvbihmaWx0ZXJBLCBmaWx0ZXJCKSB7CiAgICAgICAgaWYgKGZpbHRlckEuZ3JvdXAgPT09IGZpbHRlckIuZ3JvdXAgJiYgZmlsdGVyQS5ncm91cCAhPT0gMCkKICAgICAgICAgICAgcmV0dXJuIGZpbHRlckEuZ3JvdXAgPiAwOwoKICAgICAgICByZXR1cm4gKGZpbHRlckEubWFzayAmIGZpbHRlckIuY2F0ZWdvcnkpICE9PSAwICYmIChmaWx0ZXJCLm1hc2sgJiBmaWx0ZXJBLmNhdGVnb3J5KSAhPT0gMDsKICAgIH07Cgp9KSgpOwoKfSx7Ii4uL2dlb21ldHJ5L0JvdW5kcyI6MjYsIi4vUGFpciI6NywiLi9TQVQiOjExfV0sNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7Ci8qKgoqIFRoZSBgTWF0dGVyLkdyaWRgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIGNvbGxpc2lvbiBicm9hZHBoYXNlIGdyaWQgc3RydWN0dXJlcy4KKgoqIEBjbGFzcyBHcmlkCiovCgp2YXIgR3JpZCA9IHt9OwoKbW9kdWxlLmV4cG9ydHMgPSBHcmlkOwoKdmFyIFBhaXIgPSBfZGVyZXFfKCcuL1BhaXInKTsKdmFyIERldGVjdG9yID0gX2RlcmVxXygnLi9EZXRlY3RvcicpOwp2YXIgQ29tbW9uID0gX2RlcmVxXygnLi4vY29yZS9Db21tb24nKTsKCihmdW5jdGlvbigpIHsKCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBuZXcgZ3JpZC4KICAgICAqIEBtZXRob2QgY3JlYXRlCiAgICAgKiBAcGFyYW0ge30gb3B0aW9ucwogICAgICogQHJldHVybiB7Z3JpZH0gQSBuZXcgZ3JpZAogICAgICovCiAgICBHcmlkLmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICB2YXIgZGVmYXVsdHMgPSB7CiAgICAgICAgICAgIGNvbnRyb2xsZXI6IEdyaWQsCiAgICAgICAgICAgIGRldGVjdG9yOiBEZXRlY3Rvci5jb2xsaXNpb25zLAogICAgICAgICAgICBidWNrZXRzOiB7fSwKICAgICAgICAgICAgcGFpcnM6IHt9LAogICAgICAgICAgICBwYWlyc0xpc3Q6IFtdLAogICAgICAgICAgICBidWNrZXRXaWR0aDogNDgsCiAgICAgICAgICAgIGJ1Y2tldEhlaWdodDogNDgKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gQ29tbW9uLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7CiAgICB9OwoKICAgIC8qKgogICAgICogVGhlIHdpZHRoIG9mIGEgc2luZ2xlIGdyaWQgYnVja2V0LgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBidWNrZXRXaWR0aAogICAgICogQHR5cGUgbnVtYmVyCiAgICAgKiBAZGVmYXVsdCA0OAogICAgICovCgogICAgLyoqCiAgICAgKiBUaGUgaGVpZ2h0IG9mIGEgc2luZ2xlIGdyaWQgYnVja2V0LgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBidWNrZXRIZWlnaHQKICAgICAqIEB0eXBlIG51bWJlcgogICAgICogQGRlZmF1bHQgNDgKICAgICAqLwoKICAgIC8qKgogICAgICogVXBkYXRlcyB0aGUgZ3JpZC4KICAgICAqIEBtZXRob2QgdXBkYXRlCiAgICAgKiBAcGFyYW0ge2dyaWR9IGdyaWQKICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXMKICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmUKICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZm9yY2VVcGRhdGUKICAgICAqLwogICAgR3JpZC51cGRhdGUgPSBmdW5jdGlvbihncmlkLCBib2RpZXMsIGVuZ2luZSwgZm9yY2VVcGRhdGUpIHsKICAgICAgICB2YXIgaSwgY29sLCByb3csCiAgICAgICAgICAgIHdvcmxkID0gZW5naW5lLndvcmxkLAogICAgICAgICAgICBidWNrZXRzID0gZ3JpZC5idWNrZXRzLAogICAgICAgICAgICBidWNrZXQsCiAgICAgICAgICAgIGJ1Y2tldElkLAogICAgICAgICAgICBncmlkQ2hhbmdlZCA9IGZhbHNlOwoKCiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXTsKCiAgICAgICAgICAgIGlmIChib2R5LmlzU2xlZXBpbmcgJiYgIWZvcmNlVXBkYXRlKQogICAgICAgICAgICAgICAgY29udGludWU7CgogICAgICAgICAgICAvLyBkb24ndCB1cGRhdGUgb3V0IG9mIHdvcmxkIGJvZGllcwogICAgICAgICAgICBpZiAoYm9keS5ib3VuZHMubWF4LnggPCB3b3JsZC5ib3VuZHMubWluLnggfHwgYm9keS5ib3VuZHMubWluLnggPiB3b3JsZC5ib3VuZHMubWF4LngKICAgICAgICAgICAgICAgIHx8IGJvZHkuYm91bmRzLm1heC55IDwgd29ybGQuYm91bmRzLm1pbi55IHx8IGJvZHkuYm91bmRzLm1pbi55ID4gd29ybGQuYm91bmRzLm1heC55KQogICAgICAgICAgICAgICAgY29udGludWU7CgogICAgICAgICAgICB2YXIgbmV3UmVnaW9uID0gX2dldFJlZ2lvbihncmlkLCBib2R5KTsKCiAgICAgICAgICAgIC8vIGlmIHRoZSBib2R5IGhhcyBjaGFuZ2VkIGdyaWQgcmVnaW9uCiAgICAgICAgICAgIGlmICghYm9keS5yZWdpb24gfHwgbmV3UmVnaW9uLmlkICE9PSBib2R5LnJlZ2lvbi5pZCB8fCBmb3JjZVVwZGF0ZSkgewoKCiAgICAgICAgICAgICAgICBpZiAoIWJvZHkucmVnaW9uIHx8IGZvcmNlVXBkYXRlKQogICAgICAgICAgICAgICAgICAgIGJvZHkucmVnaW9uID0gbmV3UmVnaW9uOwoKICAgICAgICAgICAgICAgIHZhciB1bmlvbiA9IF9yZWdpb25VbmlvbihuZXdSZWdpb24sIGJvZHkucmVnaW9uKTsKCiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgZ3JpZCBidWNrZXRzIGFmZmVjdGVkIGJ5IHJlZ2lvbiBjaGFuZ2UKICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGUgdW5pb24gb2YgYm90aCByZWdpb25zCiAgICAgICAgICAgICAgICBmb3IgKGNvbCA9IHVuaW9uLnN0YXJ0Q29sOyBjb2wgPD0gdW5pb24uZW5kQ29sOyBjb2wrKykgewogICAgICAgICAgICAgICAgICAgIGZvciAocm93ID0gdW5pb24uc3RhcnRSb3c7IHJvdyA8PSB1bmlvbi5lbmRSb3c7IHJvdysrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldElkID0gX2dldEJ1Y2tldElkKGNvbCwgcm93KTsKICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0ID0gYnVja2V0c1tidWNrZXRJZF07CgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNJbnNpZGVOZXdSZWdpb24gPSAoY29sID49IG5ld1JlZ2lvbi5zdGFydENvbCAmJiBjb2wgPD0gbmV3UmVnaW9uLmVuZENvbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiByb3cgPj0gbmV3UmVnaW9uLnN0YXJ0Um93ICYmIHJvdyA8PSBuZXdSZWdpb24uZW5kUm93KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0luc2lkZU9sZFJlZ2lvbiA9IChjb2wgPj0gYm9keS5yZWdpb24uc3RhcnRDb2wgJiYgY29sIDw9IGJvZHkucmVnaW9uLmVuZENvbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiByb3cgPj0gYm9keS5yZWdpb24uc3RhcnRSb3cgJiYgcm93IDw9IGJvZHkucmVnaW9uLmVuZFJvdyk7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgZnJvbSBvbGQgcmVnaW9uIGJ1Y2tldHMKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0luc2lkZU5ld1JlZ2lvbiAmJiBpc0luc2lkZU9sZFJlZ2lvbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzSW5zaWRlT2xkUmVnaW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1Y2tldCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2J1Y2tldFJlbW92ZUJvZHkoZ3JpZCwgYnVja2V0LCBib2R5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRvIG5ldyByZWdpb24gYnVja2V0cwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9keS5yZWdpb24gPT09IG5ld1JlZ2lvbiB8fCAoaXNJbnNpZGVOZXdSZWdpb24gJiYgIWlzSW5zaWRlT2xkUmVnaW9uKSB8fCBmb3JjZVVwZGF0ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFidWNrZXQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0ID0gX2NyZWF0ZUJ1Y2tldChidWNrZXRzLCBidWNrZXRJZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYnVja2V0QWRkQm9keShncmlkLCBidWNrZXQsIGJvZHkpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIHNldCB0aGUgbmV3IHJlZ2lvbgogICAgICAgICAgICAgICAgYm9keS5yZWdpb24gPSBuZXdSZWdpb247CgogICAgICAgICAgICAgICAgLy8gZmxhZyBjaGFuZ2VzIHNvIHdlIGNhbiB1cGRhdGUgcGFpcnMKICAgICAgICAgICAgICAgIGdyaWRDaGFuZ2VkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gdXBkYXRlIHBhaXJzIGxpc3Qgb25seSBpZiBwYWlycyBjaGFuZ2VkIChpLmUuIGEgYm9keSBjaGFuZ2VkIHJlZ2lvbikKICAgICAgICBpZiAoZ3JpZENoYW5nZWQpCiAgICAgICAgICAgIGdyaWQucGFpcnNMaXN0ID0gX2NyZWF0ZUFjdGl2ZVBhaXJzTGlzdChncmlkKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBDbGVhcnMgdGhlIGdyaWQuCiAgICAgKiBAbWV0aG9kIGNsZWFyCiAgICAgKiBAcGFyYW0ge2dyaWR9IGdyaWQKICAgICAqLwogICAgR3JpZC5jbGVhciA9IGZ1bmN0aW9uKGdyaWQpIHsKICAgICAgICBncmlkLmJ1Y2tldHMgPSB7fTsKICAgICAgICBncmlkLnBhaXJzID0ge307CiAgICAgICAgZ3JpZC5wYWlyc0xpc3QgPSBbXTsKICAgIH07CgogICAgLyoqCiAgICAgKiBGaW5kcyB0aGUgdW5pb24gb2YgdHdvIHJlZ2lvbnMuCiAgICAgKiBAbWV0aG9kIF9yZWdpb25VbmlvbgogICAgICogQHByaXZhdGUKICAgICAqIEBwYXJhbSB7fSByZWdpb25BCiAgICAgKiBAcGFyYW0ge30gcmVnaW9uQgogICAgICogQHJldHVybiB7fSByZWdpb24KICAgICAqLwogICAgdmFyIF9yZWdpb25VbmlvbiA9IGZ1bmN0aW9uKHJlZ2lvbkEsIHJlZ2lvbkIpIHsKICAgICAgICB2YXIgc3RhcnRDb2wgPSBNYXRoLm1pbihyZWdpb25BLnN0YXJ0Q29sLCByZWdpb25CLnN0YXJ0Q29sKSwKICAgICAgICAgICAgZW5kQ29sID0gTWF0aC5tYXgocmVnaW9uQS5lbmRDb2wsIHJlZ2lvbkIuZW5kQ29sKSwKICAgICAgICAgICAgc3RhcnRSb3cgPSBNYXRoLm1pbihyZWdpb25BLnN0YXJ0Um93LCByZWdpb25CLnN0YXJ0Um93KSwKICAgICAgICAgICAgZW5kUm93ID0gTWF0aC5tYXgocmVnaW9uQS5lbmRSb3csIHJlZ2lvbkIuZW5kUm93KTsKCiAgICAgICAgcmV0dXJuIF9jcmVhdGVSZWdpb24oc3RhcnRDb2wsIGVuZENvbCwgc3RhcnRSb3csIGVuZFJvdyk7CiAgICB9OwoKICAgIC8qKgogICAgICogR2V0cyB0aGUgcmVnaW9uIGEgZ2l2ZW4gYm9keSBmYWxscyBpbiBmb3IgYSBnaXZlbiBncmlkLgogICAgICogQG1ldGhvZCBfZ2V0UmVnaW9uCiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHt9IGdyaWQKICAgICAqIEBwYXJhbSB7fSBib2R5CiAgICAgKiBAcmV0dXJuIHt9IHJlZ2lvbgogICAgICovCiAgICB2YXIgX2dldFJlZ2lvbiA9IGZ1bmN0aW9uKGdyaWQsIGJvZHkpIHsKICAgICAgICB2YXIgYm91bmRzID0gYm9keS5ib3VuZHMsCiAgICAgICAgICAgIHN0YXJ0Q29sID0gTWF0aC5mbG9vcihib3VuZHMubWluLnggLyBncmlkLmJ1Y2tldFdpZHRoKSwKICAgICAgICAgICAgZW5kQ29sID0gTWF0aC5mbG9vcihib3VuZHMubWF4LnggLyBncmlkLmJ1Y2tldFdpZHRoKSwKICAgICAgICAgICAgc3RhcnRSb3cgPSBNYXRoLmZsb29yKGJvdW5kcy5taW4ueSAvIGdyaWQuYnVja2V0SGVpZ2h0KSwKICAgICAgICAgICAgZW5kUm93ID0gTWF0aC5mbG9vcihib3VuZHMubWF4LnkgLyBncmlkLmJ1Y2tldEhlaWdodCk7CgogICAgICAgIHJldHVybiBfY3JlYXRlUmVnaW9uKHN0YXJ0Q29sLCBlbmRDb2wsIHN0YXJ0Um93LCBlbmRSb3cpOwogICAgfTsKCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSByZWdpb24uCiAgICAgKiBAbWV0aG9kIF9jcmVhdGVSZWdpb24KICAgICAqIEBwcml2YXRlCiAgICAgKiBAcGFyYW0ge30gc3RhcnRDb2wKICAgICAqIEBwYXJhbSB7fSBlbmRDb2wKICAgICAqIEBwYXJhbSB7fSBzdGFydFJvdwogICAgICogQHBhcmFtIHt9IGVuZFJvdwogICAgICogQHJldHVybiB7fSByZWdpb24KICAgICAqLwogICAgdmFyIF9jcmVhdGVSZWdpb24gPSBmdW5jdGlvbihzdGFydENvbCwgZW5kQ29sLCBzdGFydFJvdywgZW5kUm93KSB7CiAgICAgICAgcmV0dXJuIHsgCiAgICAgICAgICAgIGlkOiBzdGFydENvbCArICcsJyArIGVuZENvbCArICcsJyArIHN0YXJ0Um93ICsgJywnICsgZW5kUm93LAogICAgICAgICAgICBzdGFydENvbDogc3RhcnRDb2wsIAogICAgICAgICAgICBlbmRDb2w6IGVuZENvbCwgCiAgICAgICAgICAgIHN0YXJ0Um93OiBzdGFydFJvdywgCiAgICAgICAgICAgIGVuZFJvdzogZW5kUm93IAogICAgICAgIH07CiAgICB9OwoKICAgIC8qKgogICAgICogR2V0cyB0aGUgYnVja2V0IGlkIGF0IHRoZSBnaXZlbiBwb3NpdGlvbi4KICAgICAqIEBtZXRob2QgX2dldEJ1Y2tldElkCiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHt9IGNvbHVtbgogICAgICogQHBhcmFtIHt9IHJvdwogICAgICogQHJldHVybiB7c3RyaW5nfSBidWNrZXQgaWQKICAgICAqLwogICAgdmFyIF9nZXRCdWNrZXRJZCA9IGZ1bmN0aW9uKGNvbHVtbiwgcm93KSB7CiAgICAgICAgcmV0dXJuICdDJyArIGNvbHVtbiArICdSJyArIHJvdzsKICAgIH07CgogICAgLyoqCiAgICAgKiBDcmVhdGVzIGEgYnVja2V0LgogICAgICogQG1ldGhvZCBfY3JlYXRlQnVja2V0CiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHt9IGJ1Y2tldHMKICAgICAqIEBwYXJhbSB7fSBidWNrZXRJZAogICAgICogQHJldHVybiB7fSBidWNrZXQKICAgICAqLwogICAgdmFyIF9jcmVhdGVCdWNrZXQgPSBmdW5jdGlvbihidWNrZXRzLCBidWNrZXRJZCkgewogICAgICAgIHZhciBidWNrZXQgPSBidWNrZXRzW2J1Y2tldElkXSA9IFtdOwogICAgICAgIHJldHVybiBidWNrZXQ7CiAgICB9OwoKICAgIC8qKgogICAgICogQWRkcyBhIGJvZHkgdG8gYSBidWNrZXQuCiAgICAgKiBAbWV0aG9kIF9idWNrZXRBZGRCb2R5CiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHt9IGdyaWQKICAgICAqIEBwYXJhbSB7fSBidWNrZXQKICAgICAqIEBwYXJhbSB7fSBib2R5CiAgICAgKi8KICAgIHZhciBfYnVja2V0QWRkQm9keSA9IGZ1bmN0aW9uKGdyaWQsIGJ1Y2tldCwgYm9keSkgewogICAgICAgIC8vIGFkZCBuZXcgcGFpcnMKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1Y2tldC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgYm9keUIgPSBidWNrZXRbaV07CgogICAgICAgICAgICBpZiAoYm9keS5pZCA9PT0gYm9keUIuaWQgfHwgKGJvZHkuaXNTdGF0aWMgJiYgYm9keUIuaXNTdGF0aWMpKQogICAgICAgICAgICAgICAgY29udGludWU7CgogICAgICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBudW1iZXIgb2YgYnVja2V0cyB0aGUgcGFpciBleGlzdHMgaW4KICAgICAgICAgICAgLy8gaW1wb3J0YW50IGZvciBHcmlkLnVwZGF0ZSB0byB3b3JrCiAgICAgICAgICAgIHZhciBwYWlySWQgPSBQYWlyLmlkKGJvZHksIGJvZHlCKSwKICAgICAgICAgICAgICAgIHBhaXIgPSBncmlkLnBhaXJzW3BhaXJJZF07CgogICAgICAgICAgICBpZiAocGFpcikgewogICAgICAgICAgICAgICAgcGFpclsyXSArPSAxOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZ3JpZC5wYWlyc1twYWlySWRdID0gW2JvZHksIGJvZHlCLCAxXTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gYWRkIHRvIGJvZGllcyAoYWZ0ZXIgcGFpcnMsIG90aGVyd2lzZSBwYWlycyB3aXRoIHNlbGYpCiAgICAgICAgYnVja2V0LnB1c2goYm9keSk7CiAgICB9OwoKICAgIC8qKgogICAgICogUmVtb3ZlcyBhIGJvZHkgZnJvbSBhIGJ1Y2tldC4KICAgICAqIEBtZXRob2QgX2J1Y2tldFJlbW92ZUJvZHkKICAgICAqIEBwcml2YXRlCiAgICAgKiBAcGFyYW0ge30gZ3JpZAogICAgICogQHBhcmFtIHt9IGJ1Y2tldAogICAgICogQHBhcmFtIHt9IGJvZHkKICAgICAqLwogICAgdmFyIF9idWNrZXRSZW1vdmVCb2R5ID0gZnVuY3Rpb24oZ3JpZCwgYnVja2V0LCBib2R5KSB7CiAgICAgICAgLy8gcmVtb3ZlIGZyb20gYnVja2V0CiAgICAgICAgYnVja2V0LnNwbGljZShDb21tb24uaW5kZXhPZihidWNrZXQsIGJvZHkpLCAxKTsKCiAgICAgICAgLy8gdXBkYXRlIHBhaXIgY291bnRzCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWNrZXQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiB0aGUgbnVtYmVyIG9mIGJ1Y2tldHMgdGhlIHBhaXIgZXhpc3RzIGluCiAgICAgICAgICAgIC8vIGltcG9ydGFudCBmb3IgX2NyZWF0ZUFjdGl2ZVBhaXJzTGlzdCB0byB3b3JrCiAgICAgICAgICAgIHZhciBib2R5QiA9IGJ1Y2tldFtpXSwKICAgICAgICAgICAgICAgIHBhaXJJZCA9IFBhaXIuaWQoYm9keSwgYm9keUIpLAogICAgICAgICAgICAgICAgcGFpciA9IGdyaWQucGFpcnNbcGFpcklkXTsKCiAgICAgICAgICAgIGlmIChwYWlyKQogICAgICAgICAgICAgICAgcGFpclsyXSAtPSAxOwogICAgICAgIH0KICAgIH07CgogICAgLyoqCiAgICAgKiBHZW5lcmF0ZXMgYSBsaXN0IG9mIHRoZSBhY3RpdmUgcGFpcnMgaW4gdGhlIGdyaWQuCiAgICAgKiBAbWV0aG9kIF9jcmVhdGVBY3RpdmVQYWlyc0xpc3QKICAgICAqIEBwcml2YXRlCiAgICAgKiBAcGFyYW0ge30gZ3JpZAogICAgICogQHJldHVybiBbXSBwYWlycwogICAgICovCiAgICB2YXIgX2NyZWF0ZUFjdGl2ZVBhaXJzTGlzdCA9IGZ1bmN0aW9uKGdyaWQpIHsKICAgICAgICB2YXIgcGFpcktleXMsCiAgICAgICAgICAgIHBhaXIsCiAgICAgICAgICAgIHBhaXJzID0gW107CgogICAgICAgIC8vIGdyaWQucGFpcnMgaXMgdXNlZCBhcyBhIGhhc2htYXAKICAgICAgICBwYWlyS2V5cyA9IENvbW1vbi5rZXlzKGdyaWQucGFpcnMpOwoKICAgICAgICAvLyBpdGVyYXRlIG92ZXIgZ3JpZC5wYWlycwogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcGFpcktleXMubGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgcGFpciA9IGdyaWQucGFpcnNbcGFpcktleXNba11dOwoKICAgICAgICAgICAgLy8gaWYgcGFpciBleGlzdHMgaW4gYXQgbGVhc3Qgb25lIGJ1Y2tldAogICAgICAgICAgICAvLyBpdCBpcyBhIHBhaXIgdGhhdCBuZWVkcyBmdXJ0aGVyIGNvbGxpc2lvbiB0ZXN0aW5nIHNvIHB1c2ggaXQKICAgICAgICAgICAgaWYgKHBhaXJbMl0gPiAwKSB7CiAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHBhaXIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZGVsZXRlIGdyaWQucGFpcnNbcGFpcktleXNba11dOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcGFpcnM7CiAgICB9OwogICAgCn0pKCk7Cgp9LHsiLi4vY29yZS9Db21tb24iOjE0LCIuL0RldGVjdG9yIjo1LCIuL1BhaXIiOjd9XSw3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXsKLyoqCiogVGhlIGBNYXR0ZXIuUGFpcmAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgY29sbGlzaW9uIHBhaXJzLgoqCiogQGNsYXNzIFBhaXIKKi8KCnZhciBQYWlyID0ge307Cgptb2R1bGUuZXhwb3J0cyA9IFBhaXI7Cgp2YXIgQ29udGFjdCA9IF9kZXJlcV8oJy4vQ29udGFjdCcpOwoKKGZ1bmN0aW9uKCkgewogICAgCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBwYWlyLgogICAgICogQG1ldGhvZCBjcmVhdGUKICAgICAqIEBwYXJhbSB7Y29sbGlzaW9ufSBjb2xsaXNpb24KICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lc3RhbXAKICAgICAqIEByZXR1cm4ge3BhaXJ9IEEgbmV3IHBhaXIKICAgICAqLwogICAgUGFpci5jcmVhdGUgPSBmdW5jdGlvbihjb2xsaXNpb24sIHRpbWVzdGFtcCkgewogICAgICAgIHZhciBib2R5QSA9IGNvbGxpc2lvbi5ib2R5QSwKICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24uYm9keUIsCiAgICAgICAgICAgIHBhcmVudEEgPSBjb2xsaXNpb24ucGFyZW50QSwKICAgICAgICAgICAgcGFyZW50QiA9IGNvbGxpc2lvbi5wYXJlbnRCOwoKICAgICAgICB2YXIgcGFpciA9IHsKICAgICAgICAgICAgaWQ6IFBhaXIuaWQoYm9keUEsIGJvZHlCKSwKICAgICAgICAgICAgYm9keUE6IGJvZHlBLAogICAgICAgICAgICBib2R5QjogYm9keUIsCiAgICAgICAgICAgIGNvbnRhY3RzOiB7fSwKICAgICAgICAgICAgYWN0aXZlQ29udGFjdHM6IFtdLAogICAgICAgICAgICBzZXBhcmF0aW9uOiAwLAogICAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSwKICAgICAgICAgICAgaXNTZW5zb3I6IGJvZHlBLmlzU2Vuc29yIHx8IGJvZHlCLmlzU2Vuc29yLAogICAgICAgICAgICB0aW1lQ3JlYXRlZDogdGltZXN0YW1wLAogICAgICAgICAgICB0aW1lVXBkYXRlZDogdGltZXN0YW1wLAogICAgICAgICAgICBpbnZlcnNlTWFzczogcGFyZW50QS5pbnZlcnNlTWFzcyArIHBhcmVudEIuaW52ZXJzZU1hc3MsCiAgICAgICAgICAgIGZyaWN0aW9uOiBNYXRoLm1pbihwYXJlbnRBLmZyaWN0aW9uLCBwYXJlbnRCLmZyaWN0aW9uKSwKICAgICAgICAgICAgZnJpY3Rpb25TdGF0aWM6IE1hdGgubWF4KHBhcmVudEEuZnJpY3Rpb25TdGF0aWMsIHBhcmVudEIuZnJpY3Rpb25TdGF0aWMpLAogICAgICAgICAgICByZXN0aXR1dGlvbjogTWF0aC5tYXgocGFyZW50QS5yZXN0aXR1dGlvbiwgcGFyZW50Qi5yZXN0aXR1dGlvbiksCiAgICAgICAgICAgIHNsb3A6IE1hdGgubWF4KHBhcmVudEEuc2xvcCwgcGFyZW50Qi5zbG9wKQogICAgICAgIH07CgogICAgICAgIFBhaXIudXBkYXRlKHBhaXIsIGNvbGxpc2lvbiwgdGltZXN0YW1wKTsKCiAgICAgICAgcmV0dXJuIHBhaXI7CiAgICB9OwoKICAgIC8qKgogICAgICogVXBkYXRlcyBhIHBhaXIgZ2l2ZW4gYSBjb2xsaXNpb24uCiAgICAgKiBAbWV0aG9kIHVwZGF0ZQogICAgICogQHBhcmFtIHtwYWlyfSBwYWlyCiAgICAgKiBAcGFyYW0ge2NvbGxpc2lvbn0gY29sbGlzaW9uCiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZXN0YW1wCiAgICAgKi8KICAgIFBhaXIudXBkYXRlID0gZnVuY3Rpb24ocGFpciwgY29sbGlzaW9uLCB0aW1lc3RhbXApIHsKICAgICAgICB2YXIgY29udGFjdHMgPSBwYWlyLmNvbnRhY3RzLAogICAgICAgICAgICBzdXBwb3J0cyA9IGNvbGxpc2lvbi5zdXBwb3J0cywKICAgICAgICAgICAgYWN0aXZlQ29udGFjdHMgPSBwYWlyLmFjdGl2ZUNvbnRhY3RzLAogICAgICAgICAgICBwYXJlbnRBID0gY29sbGlzaW9uLnBhcmVudEEsCiAgICAgICAgICAgIHBhcmVudEIgPSBjb2xsaXNpb24ucGFyZW50QjsKICAgICAgICAKICAgICAgICBwYWlyLmNvbGxpc2lvbiA9IGNvbGxpc2lvbjsKICAgICAgICBwYWlyLmludmVyc2VNYXNzID0gcGFyZW50QS5pbnZlcnNlTWFzcyArIHBhcmVudEIuaW52ZXJzZU1hc3M7CiAgICAgICAgcGFpci5mcmljdGlvbiA9IE1hdGgubWluKHBhcmVudEEuZnJpY3Rpb24sIHBhcmVudEIuZnJpY3Rpb24pOwogICAgICAgIHBhaXIuZnJpY3Rpb25TdGF0aWMgPSBNYXRoLm1heChwYXJlbnRBLmZyaWN0aW9uU3RhdGljLCBwYXJlbnRCLmZyaWN0aW9uU3RhdGljKTsKICAgICAgICBwYWlyLnJlc3RpdHV0aW9uID0gTWF0aC5tYXgocGFyZW50QS5yZXN0aXR1dGlvbiwgcGFyZW50Qi5yZXN0aXR1dGlvbik7CiAgICAgICAgcGFpci5zbG9wID0gTWF0aC5tYXgocGFyZW50QS5zbG9wLCBwYXJlbnRCLnNsb3ApOwogICAgICAgIGFjdGl2ZUNvbnRhY3RzLmxlbmd0aCA9IDA7CiAgICAgICAgCiAgICAgICAgaWYgKGNvbGxpc2lvbi5jb2xsaWRlZCkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1cHBvcnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgc3VwcG9ydCA9IHN1cHBvcnRzW2ldLAogICAgICAgICAgICAgICAgICAgIGNvbnRhY3RJZCA9IENvbnRhY3QuaWQoc3VwcG9ydCksCiAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9IGNvbnRhY3RzW2NvbnRhY3RJZF07CgogICAgICAgICAgICAgICAgaWYgKGNvbnRhY3QpIHsKICAgICAgICAgICAgICAgICAgICBhY3RpdmVDb250YWN0cy5wdXNoKGNvbnRhY3QpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBhY3RpdmVDb250YWN0cy5wdXNoKGNvbnRhY3RzW2NvbnRhY3RJZF0gPSBDb250YWN0LmNyZWF0ZShzdXBwb3J0KSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHBhaXIuc2VwYXJhdGlvbiA9IGNvbGxpc2lvbi5kZXB0aDsKICAgICAgICAgICAgUGFpci5zZXRBY3RpdmUocGFpciwgdHJ1ZSwgdGltZXN0YW1wKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAocGFpci5pc0FjdGl2ZSA9PT0gdHJ1ZSkKICAgICAgICAgICAgICAgIFBhaXIuc2V0QWN0aXZlKHBhaXIsIGZhbHNlLCB0aW1lc3RhbXApOwogICAgICAgIH0KICAgIH07CiAgICAKICAgIC8qKgogICAgICogU2V0IGEgcGFpciBhcyBhY3RpdmUgb3IgaW5hY3RpdmUuCiAgICAgKiBAbWV0aG9kIHNldEFjdGl2ZQogICAgICogQHBhcmFtIHtwYWlyfSBwYWlyCiAgICAgKiBAcGFyYW0ge2Jvb2x9IGlzQWN0aXZlCiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZXN0YW1wCiAgICAgKi8KICAgIFBhaXIuc2V0QWN0aXZlID0gZnVuY3Rpb24ocGFpciwgaXNBY3RpdmUsIHRpbWVzdGFtcCkgewogICAgICAgIGlmIChpc0FjdGl2ZSkgewogICAgICAgICAgICBwYWlyLmlzQWN0aXZlID0gdHJ1ZTsKICAgICAgICAgICAgcGFpci50aW1lVXBkYXRlZCA9IHRpbWVzdGFtcDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwYWlyLmlzQWN0aXZlID0gZmFsc2U7CiAgICAgICAgICAgIHBhaXIuYWN0aXZlQ29udGFjdHMubGVuZ3RoID0gMDsKICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogR2V0IHRoZSBpZCBmb3IgdGhlIGdpdmVuIHBhaXIuCiAgICAgKiBAbWV0aG9kIGlkCiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlBCiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlCCiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFVuaXF1ZSBwYWlySWQKICAgICAqLwogICAgUGFpci5pZCA9IGZ1bmN0aW9uKGJvZHlBLCBib2R5QikgewogICAgICAgIGlmIChib2R5QS5pZCA8IGJvZHlCLmlkKSB7CiAgICAgICAgICAgIHJldHVybiAnQScgKyBib2R5QS5pZCArICdCJyArIGJvZHlCLmlkOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAnQScgKyBib2R5Qi5pZCArICdCJyArIGJvZHlBLmlkOwogICAgICAgIH0KICAgIH07Cgp9KSgpOwoKfSx7Ii4vQ29udGFjdCI6NH1dLDg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpewovKioKKiBUaGUgYE1hdHRlci5QYWlyc2AgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgY29sbGlzaW9uIHBhaXIgc2V0cy4KKgoqIEBjbGFzcyBQYWlycwoqLwoKdmFyIFBhaXJzID0ge307Cgptb2R1bGUuZXhwb3J0cyA9IFBhaXJzOwoKdmFyIFBhaXIgPSBfZGVyZXFfKCcuL1BhaXInKTsKdmFyIENvbW1vbiA9IF9kZXJlcV8oJy4uL2NvcmUvQ29tbW9uJyk7CgooZnVuY3Rpb24oKSB7CiAgICAKICAgIHZhciBfcGFpck1heElkbGVMaWZlID0gMTAwMDsKCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBuZXcgcGFpcnMgc3RydWN0dXJlLgogICAgICogQG1ldGhvZCBjcmVhdGUKICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zCiAgICAgKiBAcmV0dXJuIHtwYWlyc30gQSBuZXcgcGFpcnMgc3RydWN0dXJlCiAgICAgKi8KICAgIFBhaXJzLmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICByZXR1cm4gQ29tbW9uLmV4dGVuZCh7IAogICAgICAgICAgICB0YWJsZToge30sCiAgICAgICAgICAgIGxpc3Q6IFtdLAogICAgICAgICAgICBjb2xsaXNpb25TdGFydDogW10sCiAgICAgICAgICAgIGNvbGxpc2lvbkFjdGl2ZTogW10sCiAgICAgICAgICAgIGNvbGxpc2lvbkVuZDogW10KICAgICAgICB9LCBvcHRpb25zKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBVcGRhdGVzIHBhaXJzIGdpdmVuIGEgbGlzdCBvZiBjb2xsaXNpb25zLgogICAgICogQG1ldGhvZCB1cGRhdGUKICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwYWlycwogICAgICogQHBhcmFtIHtjb2xsaXNpb25bXX0gY29sbGlzaW9ucwogICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVzdGFtcAogICAgICovCiAgICBQYWlycy51cGRhdGUgPSBmdW5jdGlvbihwYWlycywgY29sbGlzaW9ucywgdGltZXN0YW1wKSB7CiAgICAgICAgdmFyIHBhaXJzTGlzdCA9IHBhaXJzLmxpc3QsCiAgICAgICAgICAgIHBhaXJzVGFibGUgPSBwYWlycy50YWJsZSwKICAgICAgICAgICAgY29sbGlzaW9uU3RhcnQgPSBwYWlycy5jb2xsaXNpb25TdGFydCwKICAgICAgICAgICAgY29sbGlzaW9uRW5kID0gcGFpcnMuY29sbGlzaW9uRW5kLAogICAgICAgICAgICBjb2xsaXNpb25BY3RpdmUgPSBwYWlycy5jb2xsaXNpb25BY3RpdmUsCiAgICAgICAgICAgIGFjdGl2ZVBhaXJJZHMgPSBbXSwKICAgICAgICAgICAgY29sbGlzaW9uLAogICAgICAgICAgICBwYWlySWQsCiAgICAgICAgICAgIHBhaXIsCiAgICAgICAgICAgIGk7CgogICAgICAgIC8vIGNsZWFyIGNvbGxpc2lvbiBzdGF0ZSBhcnJheXMsIGJ1dCBtYWludGFpbiBvbGQgcmVmZXJlbmNlCiAgICAgICAgY29sbGlzaW9uU3RhcnQubGVuZ3RoID0gMDsKICAgICAgICBjb2xsaXNpb25FbmQubGVuZ3RoID0gMDsKICAgICAgICBjb2xsaXNpb25BY3RpdmUubGVuZ3RoID0gMDsKCiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbGxpc2lvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29sbGlzaW9uID0gY29sbGlzaW9uc1tpXTsKCiAgICAgICAgICAgIGlmIChjb2xsaXNpb24uY29sbGlkZWQpIHsKICAgICAgICAgICAgICAgIHBhaXJJZCA9IFBhaXIuaWQoY29sbGlzaW9uLmJvZHlBLCBjb2xsaXNpb24uYm9keUIpOwogICAgICAgICAgICAgICAgYWN0aXZlUGFpcklkcy5wdXNoKHBhaXJJZCk7CgogICAgICAgICAgICAgICAgcGFpciA9IHBhaXJzVGFibGVbcGFpcklkXTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKHBhaXIpIHsKICAgICAgICAgICAgICAgICAgICAvLyBwYWlyIGFscmVhZHkgZXhpc3RzIChidXQgbWF5IG9yIG1heSBub3QgYmUgYWN0aXZlKQogICAgICAgICAgICAgICAgICAgIGlmIChwYWlyLmlzQWN0aXZlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhaXIgZXhpc3RzIGFuZCBpcyBhY3RpdmUKICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uQWN0aXZlLnB1c2gocGFpcik7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGFpciBleGlzdHMgYnV0IHdhcyBpbmFjdGl2ZSwgc28gYSBjb2xsaXNpb24gaGFzIGp1c3Qgc3RhcnRlZCBhZ2FpbgogICAgICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25TdGFydC5wdXNoKHBhaXIpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBwYWlyCiAgICAgICAgICAgICAgICAgICAgUGFpci51cGRhdGUocGFpciwgY29sbGlzaW9uLCB0aW1lc3RhbXApOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyBwYWlyIGRpZCBub3QgZXhpc3QsIGNyZWF0ZSBhIG5ldyBwYWlyCiAgICAgICAgICAgICAgICAgICAgcGFpciA9IFBhaXIuY3JlYXRlKGNvbGxpc2lvbiwgdGltZXN0YW1wKTsKICAgICAgICAgICAgICAgICAgICBwYWlyc1RhYmxlW3BhaXJJZF0gPSBwYWlyOwoKICAgICAgICAgICAgICAgICAgICAvLyBwdXNoIHRoZSBuZXcgcGFpcgogICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvblN0YXJ0LnB1c2gocGFpcik7CiAgICAgICAgICAgICAgICAgICAgcGFpcnNMaXN0LnB1c2gocGFpcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIGRlYWN0aXZhdGUgcHJldmlvdXNseSBhY3RpdmUgcGFpcnMgdGhhdCBhcmUgbm93IGluYWN0aXZlCiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhaXJzTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBwYWlyID0gcGFpcnNMaXN0W2ldOwogICAgICAgICAgICBpZiAocGFpci5pc0FjdGl2ZSAmJiBDb21tb24uaW5kZXhPZihhY3RpdmVQYWlySWRzLCBwYWlyLmlkKSA9PT0gLTEpIHsKICAgICAgICAgICAgICAgIFBhaXIuc2V0QWN0aXZlKHBhaXIsIGZhbHNlLCB0aW1lc3RhbXApOwogICAgICAgICAgICAgICAgY29sbGlzaW9uRW5kLnB1c2gocGFpcik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgCiAgICAvKioKICAgICAqIEZpbmRzIGFuZCByZW1vdmVzIHBhaXJzIHRoYXQgaGF2ZSBiZWVuIGluYWN0aXZlIGZvciBhIHNldCBhbW91bnQgb2YgdGltZS4KICAgICAqIEBtZXRob2QgcmVtb3ZlT2xkCiAgICAgKiBAcGFyYW0ge29iamVjdH0gcGFpcnMKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lc3RhbXAKICAgICAqLwogICAgUGFpcnMucmVtb3ZlT2xkID0gZnVuY3Rpb24ocGFpcnMsIHRpbWVzdGFtcCkgewogICAgICAgIHZhciBwYWlyc0xpc3QgPSBwYWlycy5saXN0LAogICAgICAgICAgICBwYWlyc1RhYmxlID0gcGFpcnMudGFibGUsCiAgICAgICAgICAgIGluZGV4ZXNUb1JlbW92ZSA9IFtdLAogICAgICAgICAgICBwYWlyLAogICAgICAgICAgICBjb2xsaXNpb24sCiAgICAgICAgICAgIHBhaXJJbmRleCwKICAgICAgICAgICAgaTsKCiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhaXJzTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBwYWlyID0gcGFpcnNMaXN0W2ldOwogICAgICAgICAgICBjb2xsaXNpb24gPSBwYWlyLmNvbGxpc2lvbjsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIG5ldmVyIHJlbW92ZSBzbGVlcGluZyBwYWlycwogICAgICAgICAgICBpZiAoY29sbGlzaW9uLmJvZHlBLmlzU2xlZXBpbmcgfHwgY29sbGlzaW9uLmJvZHlCLmlzU2xlZXBpbmcpIHsKICAgICAgICAgICAgICAgIHBhaXIudGltZVVwZGF0ZWQgPSB0aW1lc3RhbXA7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gaWYgcGFpciBpcyBpbmFjdGl2ZSBmb3IgdG9vIGxvbmcsIG1hcmsgaXQgdG8gYmUgcmVtb3ZlZAogICAgICAgICAgICBpZiAodGltZXN0YW1wIC0gcGFpci50aW1lVXBkYXRlZCA+IF9wYWlyTWF4SWRsZUxpZmUpIHsKICAgICAgICAgICAgICAgIGluZGV4ZXNUb1JlbW92ZS5wdXNoKGkpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyByZW1vdmUgbWFya2VkIHBhaXJzCiAgICAgICAgZm9yIChpID0gMDsgaSA8IGluZGV4ZXNUb1JlbW92ZS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBwYWlySW5kZXggPSBpbmRleGVzVG9SZW1vdmVbaV0gLSBpOwogICAgICAgICAgICBwYWlyID0gcGFpcnNMaXN0W3BhaXJJbmRleF07CiAgICAgICAgICAgIGRlbGV0ZSBwYWlyc1RhYmxlW3BhaXIuaWRdOwogICAgICAgICAgICBwYWlyc0xpc3Quc3BsaWNlKHBhaXJJbmRleCwgMSk7CiAgICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIENsZWFycyB0aGUgZ2l2ZW4gcGFpcnMgc3RydWN0dXJlLgogICAgICogQG1ldGhvZCBjbGVhcgogICAgICogQHBhcmFtIHtwYWlyc30gcGFpcnMKICAgICAqIEByZXR1cm4ge3BhaXJzfSBwYWlycwogICAgICovCiAgICBQYWlycy5jbGVhciA9IGZ1bmN0aW9uKHBhaXJzKSB7CiAgICAgICAgcGFpcnMudGFibGUgPSB7fTsKICAgICAgICBwYWlycy5saXN0Lmxlbmd0aCA9IDA7CiAgICAgICAgcGFpcnMuY29sbGlzaW9uU3RhcnQubGVuZ3RoID0gMDsKICAgICAgICBwYWlycy5jb2xsaXNpb25BY3RpdmUubGVuZ3RoID0gMDsKICAgICAgICBwYWlycy5jb2xsaXNpb25FbmQubGVuZ3RoID0gMDsKICAgICAgICByZXR1cm4gcGFpcnM7CiAgICB9OwoKfSkoKTsKCn0seyIuLi9jb3JlL0NvbW1vbiI6MTQsIi4vUGFpciI6N31dLDk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpewovKioKKiBUaGUgYE1hdHRlci5RdWVyeWAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIHBlcmZvcm1pbmcgY29sbGlzaW9uIHF1ZXJpZXMuCioKKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLgoqCiogQGNsYXNzIFF1ZXJ5CiovCgp2YXIgUXVlcnkgPSB7fTsKCm1vZHVsZS5leHBvcnRzID0gUXVlcnk7Cgp2YXIgVmVjdG9yID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvVmVjdG9yJyk7CnZhciBTQVQgPSBfZGVyZXFfKCcuL1NBVCcpOwp2YXIgQm91bmRzID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvQm91bmRzJyk7CnZhciBCb2RpZXMgPSBfZGVyZXFfKCcuLi9mYWN0b3J5L0JvZGllcycpOwp2YXIgVmVydGljZXMgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9WZXJ0aWNlcycpOwoKKGZ1bmN0aW9uKCkgewoKICAgIC8qKgogICAgICogQ2FzdHMgYSByYXkgc2VnbWVudCBhZ2FpbnN0IGEgc2V0IG9mIGJvZGllcyBhbmQgcmV0dXJucyBhbGwgY29sbGlzaW9ucywgcmF5IHdpZHRoIGlzIG9wdGlvbmFsLiBJbnRlcnNlY3Rpb24gcG9pbnRzIGFyZSBub3QgcHJvdmlkZWQuCiAgICAgKiBAbWV0aG9kIHJheQogICAgICogQHBhcmFtIHtib2R5W119IGJvZGllcwogICAgICogQHBhcmFtIHt2ZWN0b3J9IHN0YXJ0UG9pbnQKICAgICAqIEBwYXJhbSB7dmVjdG9yfSBlbmRQb2ludAogICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYXlXaWR0aF0KICAgICAqIEByZXR1cm4ge29iamVjdFtdfSBDb2xsaXNpb25zCiAgICAgKi8KICAgIFF1ZXJ5LnJheSA9IGZ1bmN0aW9uKGJvZGllcywgc3RhcnRQb2ludCwgZW5kUG9pbnQsIHJheVdpZHRoKSB7CiAgICAgICAgcmF5V2lkdGggPSByYXlXaWR0aCB8fCAxZS0xMDA7CgogICAgICAgIHZhciByYXlBbmdsZSA9IFZlY3Rvci5hbmdsZShzdGFydFBvaW50LCBlbmRQb2ludCksCiAgICAgICAgICAgIHJheUxlbmd0aCA9IFZlY3Rvci5tYWduaXR1ZGUoVmVjdG9yLnN1YihzdGFydFBvaW50LCBlbmRQb2ludCkpLAogICAgICAgICAgICByYXlYID0gKGVuZFBvaW50LnggKyBzdGFydFBvaW50LngpICogMC41LAogICAgICAgICAgICByYXlZID0gKGVuZFBvaW50LnkgKyBzdGFydFBvaW50LnkpICogMC41LAogICAgICAgICAgICByYXkgPSBCb2RpZXMucmVjdGFuZ2xlKHJheVgsIHJheVksIHJheUxlbmd0aCwgcmF5V2lkdGgsIHsgYW5nbGU6IHJheUFuZ2xlIH0pLAogICAgICAgICAgICBjb2xsaXNpb25zID0gW107CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBib2R5QSA9IGJvZGllc1tpXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChCb3VuZHMub3ZlcmxhcHMoYm9keUEuYm91bmRzLCByYXkuYm91bmRzKSkgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IGJvZHlBLnBhcnRzLmxlbmd0aCA9PT0gMSA/IDAgOiAxOyBqIDwgYm9keUEucGFydHMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcGFydCA9IGJvZHlBLnBhcnRzW2pdOwoKICAgICAgICAgICAgICAgICAgICBpZiAoQm91bmRzLm92ZXJsYXBzKHBhcnQuYm91bmRzLCByYXkuYm91bmRzKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sbGlzaW9uID0gU0FULmNvbGxpZGVzKHBhcnQsIHJheSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb24uY29sbGlkZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbi5ib2R5ID0gY29sbGlzaW9uLmJvZHlBID0gY29sbGlzaW9uLmJvZHlCID0gYm9keUE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25zLnB1c2goY29sbGlzaW9uKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gY29sbGlzaW9uczsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGFsbCBib2RpZXMgd2hvc2UgYm91bmRzIGFyZSBpbnNpZGUgKG9yIG91dHNpZGUgaWYgc2V0KSB0aGUgZ2l2ZW4gc2V0IG9mIGJvdW5kcywgZnJvbSB0aGUgZ2l2ZW4gc2V0IG9mIGJvZGllcy4KICAgICAqIEBtZXRob2QgcmVnaW9uCiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzCiAgICAgKiBAcGFyYW0ge2JvdW5kc30gYm91bmRzCiAgICAgKiBAcGFyYW0ge2Jvb2x9IFtvdXRzaWRlPWZhbHNlXQogICAgICogQHJldHVybiB7Ym9keVtdfSBUaGUgYm9kaWVzIG1hdGNoaW5nIHRoZSBxdWVyeQogICAgICovCiAgICBRdWVyeS5yZWdpb24gPSBmdW5jdGlvbihib2RpZXMsIGJvdW5kcywgb3V0c2lkZSkgewogICAgICAgIHZhciByZXN1bHQgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV0sCiAgICAgICAgICAgICAgICBvdmVybGFwcyA9IEJvdW5kcy5vdmVybGFwcyhib2R5LmJvdW5kcywgYm91bmRzKTsKICAgICAgICAgICAgaWYgKChvdmVybGFwcyAmJiAhb3V0c2lkZSkgfHwgKCFvdmVybGFwcyAmJiBvdXRzaWRlKSkKICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJvZHkpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGFsbCBib2RpZXMgd2hvc2UgdmVydGljZXMgY29udGFpbiB0aGUgZ2l2ZW4gcG9pbnQsIGZyb20gdGhlIGdpdmVuIHNldCBvZiBib2RpZXMuCiAgICAgKiBAbWV0aG9kIHBvaW50CiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzCiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9pbnQKICAgICAqIEByZXR1cm4ge2JvZHlbXX0gVGhlIGJvZGllcyBtYXRjaGluZyB0aGUgcXVlcnkKICAgICAqLwogICAgUXVlcnkucG9pbnQgPSBmdW5jdGlvbihib2RpZXMsIHBvaW50KSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChCb3VuZHMuY29udGFpbnMoYm9keS5ib3VuZHMsIHBvaW50KSkgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IGJvZHkucGFydHMubGVuZ3RoID09PSAxID8gMCA6IDE7IGogPCBib2R5LnBhcnRzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2pdOwoKICAgICAgICAgICAgICAgICAgICBpZiAoQm91bmRzLmNvbnRhaW5zKHBhcnQuYm91bmRzLCBwb2ludCkKICAgICAgICAgICAgICAgICAgICAgICAgJiYgVmVydGljZXMuY29udGFpbnMocGFydC52ZXJ0aWNlcywgcG9pbnQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJvZHkpOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9OwoKfSkoKTsKCn0seyIuLi9mYWN0b3J5L0JvZGllcyI6MjMsIi4uL2dlb21ldHJ5L0JvdW5kcyI6MjYsIi4uL2dlb21ldHJ5L1ZlY3RvciI6MjgsIi4uL2dlb21ldHJ5L1ZlcnRpY2VzIjoyOSwiLi9TQVQiOjExfV0sMTA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpewovKioKKiBUaGUgYE1hdHRlci5SZXNvbHZlcmAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIHJlc29sdmluZyBjb2xsaXNpb24gcGFpcnMuCioKKiBAY2xhc3MgUmVzb2x2ZXIKKi8KCnZhciBSZXNvbHZlciA9IHt9OwoKbW9kdWxlLmV4cG9ydHMgPSBSZXNvbHZlcjsKCnZhciBWZXJ0aWNlcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L1ZlcnRpY2VzJyk7CnZhciBWZWN0b3IgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9WZWN0b3InKTsKdmFyIENvbW1vbiA9IF9kZXJlcV8oJy4uL2NvcmUvQ29tbW9uJyk7CnZhciBCb3VuZHMgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9Cb3VuZHMnKTsKCihmdW5jdGlvbigpIHsKCiAgICBSZXNvbHZlci5fcmVzdGluZ1RocmVzaCA9IDQ7CiAgICBSZXNvbHZlci5fcmVzdGluZ1RocmVzaFRhbmdlbnQgPSA2OwogICAgUmVzb2x2ZXIuX3Bvc2l0aW9uRGFtcGVuID0gMC45OwogICAgUmVzb2x2ZXIuX3Bvc2l0aW9uV2FybWluZyA9IDAuODsKICAgIFJlc29sdmVyLl9mcmljdGlvbk5vcm1hbE11bHRpcGxpZXIgPSA1OwoKICAgIC8qKgogICAgICogUHJlcGFyZSBwYWlycyBmb3IgcG9zaXRpb24gc29sdmluZy4KICAgICAqIEBtZXRob2QgcHJlU29sdmVQb3NpdGlvbgogICAgICogQHBhcmFtIHtwYWlyW119IHBhaXJzCiAgICAgKi8KICAgIFJlc29sdmVyLnByZVNvbHZlUG9zaXRpb24gPSBmdW5jdGlvbihwYWlycykgewogICAgICAgIHZhciBpLAogICAgICAgICAgICBwYWlyLAogICAgICAgICAgICBhY3RpdmVDb3VudDsKCiAgICAgICAgLy8gZmluZCB0b3RhbCBjb250YWN0cyBvbiBlYWNoIGJvZHkKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgcGFpciA9IHBhaXJzW2ldOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCFwYWlyLmlzQWN0aXZlKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIAogICAgICAgICAgICBhY3RpdmVDb3VudCA9IHBhaXIuYWN0aXZlQ29udGFjdHMubGVuZ3RoOwogICAgICAgICAgICBwYWlyLmNvbGxpc2lvbi5wYXJlbnRBLnRvdGFsQ29udGFjdHMgKz0gYWN0aXZlQ291bnQ7CiAgICAgICAgICAgIHBhaXIuY29sbGlzaW9uLnBhcmVudEIudG90YWxDb250YWN0cyArPSBhY3RpdmVDb3VudDsKICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogRmluZCBhIHNvbHV0aW9uIGZvciBwYWlyIHBvc2l0aW9ucy4KICAgICAqIEBtZXRob2Qgc29sdmVQb3NpdGlvbgogICAgICogQHBhcmFtIHtwYWlyW119IHBhaXJzCiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZVNjYWxlCiAgICAgKi8KICAgIFJlc29sdmVyLnNvbHZlUG9zaXRpb24gPSBmdW5jdGlvbihwYWlycywgdGltZVNjYWxlKSB7CiAgICAgICAgdmFyIGksCiAgICAgICAgICAgIHBhaXIsCiAgICAgICAgICAgIGNvbGxpc2lvbiwKICAgICAgICAgICAgYm9keUEsCiAgICAgICAgICAgIGJvZHlCLAogICAgICAgICAgICBub3JtYWwsCiAgICAgICAgICAgIGJvZHlCdG9BLAogICAgICAgICAgICBjb250YWN0U2hhcmUsCiAgICAgICAgICAgIHBvc2l0aW9uSW1wdWxzZSwKICAgICAgICAgICAgY29udGFjdENvdW50ID0ge30sCiAgICAgICAgICAgIHRlbXBBID0gVmVjdG9yLl90ZW1wWzBdLAogICAgICAgICAgICB0ZW1wQiA9IFZlY3Rvci5fdGVtcFsxXSwKICAgICAgICAgICAgdGVtcEMgPSBWZWN0b3IuX3RlbXBbMl0sCiAgICAgICAgICAgIHRlbXBEID0gVmVjdG9yLl90ZW1wWzNdOwoKICAgICAgICAvLyBmaW5kIGltcHVsc2VzIHJlcXVpcmVkIHRvIHJlc29sdmUgcGVuZXRyYXRpb24KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgcGFpciA9IHBhaXJzW2ldOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCFwYWlyLmlzQWN0aXZlIHx8IHBhaXIuaXNTZW5zb3IpCiAgICAgICAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgICAgIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uOwogICAgICAgICAgICBib2R5QSA9IGNvbGxpc2lvbi5wYXJlbnRBOwogICAgICAgICAgICBib2R5QiA9IGNvbGxpc2lvbi5wYXJlbnRCOwogICAgICAgICAgICBub3JtYWwgPSBjb2xsaXNpb24ubm9ybWFsOwoKICAgICAgICAgICAgLy8gZ2V0IGN1cnJlbnQgc2VwYXJhdGlvbiBiZXR3ZWVuIGJvZHkgZWRnZXMgaW52b2x2ZWQgaW4gY29sbGlzaW9uCiAgICAgICAgICAgIGJvZHlCdG9BID0gVmVjdG9yLnN1YihWZWN0b3IuYWRkKGJvZHlCLnBvc2l0aW9uSW1wdWxzZSwgYm9keUIucG9zaXRpb24sIHRlbXBBKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZlY3Rvci5hZGQoYm9keUEucG9zaXRpb25JbXB1bHNlLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZlY3Rvci5zdWIoYm9keUIucG9zaXRpb24sIGNvbGxpc2lvbi5wZW5ldHJhdGlvbiwgdGVtcEIpLCB0ZW1wQyksIHRlbXBEKTsKCiAgICAgICAgICAgIHBhaXIuc2VwYXJhdGlvbiA9IFZlY3Rvci5kb3Qobm9ybWFsLCBib2R5QnRvQSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBwYWlyID0gcGFpcnNbaV07CgogICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUgfHwgcGFpci5pc1NlbnNvciB8fCBwYWlyLnNlcGFyYXRpb24gPCAwKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb2xsaXNpb24gPSBwYWlyLmNvbGxpc2lvbjsKICAgICAgICAgICAgYm9keUEgPSBjb2xsaXNpb24ucGFyZW50QTsKICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24ucGFyZW50QjsKICAgICAgICAgICAgbm9ybWFsID0gY29sbGlzaW9uLm5vcm1hbDsKICAgICAgICAgICAgcG9zaXRpb25JbXB1bHNlID0gKHBhaXIuc2VwYXJhdGlvbiAtIHBhaXIuc2xvcCkgKiB0aW1lU2NhbGU7CgogICAgICAgICAgICBpZiAoYm9keUEuaXNTdGF0aWMgfHwgYm9keUIuaXNTdGF0aWMpCiAgICAgICAgICAgICAgICBwb3NpdGlvbkltcHVsc2UgKj0gMjsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICghKGJvZHlBLmlzU3RhdGljIHx8IGJvZHlBLmlzU2xlZXBpbmcpKSB7CiAgICAgICAgICAgICAgICBjb250YWN0U2hhcmUgPSBSZXNvbHZlci5fcG9zaXRpb25EYW1wZW4gLyBib2R5QS50b3RhbENvbnRhY3RzOwogICAgICAgICAgICAgICAgYm9keUEucG9zaXRpb25JbXB1bHNlLnggKz0gbm9ybWFsLnggKiBwb3NpdGlvbkltcHVsc2UgKiBjb250YWN0U2hhcmU7CiAgICAgICAgICAgICAgICBib2R5QS5wb3NpdGlvbkltcHVsc2UueSArPSBub3JtYWwueSAqIHBvc2l0aW9uSW1wdWxzZSAqIGNvbnRhY3RTaGFyZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCEoYm9keUIuaXNTdGF0aWMgfHwgYm9keUIuaXNTbGVlcGluZykpIHsKICAgICAgICAgICAgICAgIGNvbnRhY3RTaGFyZSA9IFJlc29sdmVyLl9wb3NpdGlvbkRhbXBlbiAvIGJvZHlCLnRvdGFsQ29udGFjdHM7CiAgICAgICAgICAgICAgICBib2R5Qi5wb3NpdGlvbkltcHVsc2UueCAtPSBub3JtYWwueCAqIHBvc2l0aW9uSW1wdWxzZSAqIGNvbnRhY3RTaGFyZTsKICAgICAgICAgICAgICAgIGJvZHlCLnBvc2l0aW9uSW1wdWxzZS55IC09IG5vcm1hbC55ICogcG9zaXRpb25JbXB1bHNlICogY29udGFjdFNoYXJlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIEFwcGx5IHBvc2l0aW9uIHJlc29sdXRpb24uCiAgICAgKiBAbWV0aG9kIHBvc3RTb2x2ZVBvc2l0aW9uCiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzCiAgICAgKi8KICAgIFJlc29sdmVyLnBvc3RTb2x2ZVBvc2l0aW9uID0gZnVuY3Rpb24oYm9kaWVzKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07CgogICAgICAgICAgICAvLyByZXNldCBjb250YWN0IGNvdW50CiAgICAgICAgICAgIGJvZHkudG90YWxDb250YWN0cyA9IDA7CgogICAgICAgICAgICBpZiAoYm9keS5wb3NpdGlvbkltcHVsc2UueCAhPT0gMCB8fCBib2R5LnBvc2l0aW9uSW1wdWxzZS55ICE9PSAwKSB7CiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgYm9keSBnZW9tZXRyeQogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBib2R5LnBhcnRzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2pdOwogICAgICAgICAgICAgICAgICAgIFZlcnRpY2VzLnRyYW5zbGF0ZShwYXJ0LnZlcnRpY2VzLCBib2R5LnBvc2l0aW9uSW1wdWxzZSk7CiAgICAgICAgICAgICAgICAgICAgQm91bmRzLnVwZGF0ZShwYXJ0LmJvdW5kcywgcGFydC52ZXJ0aWNlcywgYm9keS52ZWxvY2l0eSk7CiAgICAgICAgICAgICAgICAgICAgcGFydC5wb3NpdGlvbi54ICs9IGJvZHkucG9zaXRpb25JbXB1bHNlLng7CiAgICAgICAgICAgICAgICAgICAgcGFydC5wb3NpdGlvbi55ICs9IGJvZHkucG9zaXRpb25JbXB1bHNlLnk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gbW92ZSB0aGUgYm9keSB3aXRob3V0IGNoYW5naW5nIHZlbG9jaXR5CiAgICAgICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi54ICs9IGJvZHkucG9zaXRpb25JbXB1bHNlLng7CiAgICAgICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi55ICs9IGJvZHkucG9zaXRpb25JbXB1bHNlLnk7CgogICAgICAgICAgICAgICAgaWYgKFZlY3Rvci5kb3QoYm9keS5wb3NpdGlvbkltcHVsc2UsIGJvZHkudmVsb2NpdHkpIDwgMCkgewogICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IGNhY2hlZCBpbXB1bHNlIGlmIHRoZSBib2R5IGhhcyB2ZWxvY2l0eSBhbG9uZyBpdAogICAgICAgICAgICAgICAgICAgIGJvZHkucG9zaXRpb25JbXB1bHNlLnggPSAwOwogICAgICAgICAgICAgICAgICAgIGJvZHkucG9zaXRpb25JbXB1bHNlLnkgPSAwOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyB3YXJtIHRoZSBuZXh0IGl0ZXJhdGlvbgogICAgICAgICAgICAgICAgICAgIGJvZHkucG9zaXRpb25JbXB1bHNlLnggKj0gUmVzb2x2ZXIuX3Bvc2l0aW9uV2FybWluZzsKICAgICAgICAgICAgICAgICAgICBib2R5LnBvc2l0aW9uSW1wdWxzZS55ICo9IFJlc29sdmVyLl9wb3NpdGlvbldhcm1pbmc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogUHJlcGFyZSBwYWlycyBmb3IgdmVsb2NpdHkgc29sdmluZy4KICAgICAqIEBtZXRob2QgcHJlU29sdmVWZWxvY2l0eQogICAgICogQHBhcmFtIHtwYWlyW119IHBhaXJzCiAgICAgKi8KICAgIFJlc29sdmVyLnByZVNvbHZlVmVsb2NpdHkgPSBmdW5jdGlvbihwYWlycykgewogICAgICAgIHZhciBpLAogICAgICAgICAgICBqLAogICAgICAgICAgICBwYWlyLAogICAgICAgICAgICBjb250YWN0cywKICAgICAgICAgICAgY29sbGlzaW9uLAogICAgICAgICAgICBib2R5QSwKICAgICAgICAgICAgYm9keUIsCiAgICAgICAgICAgIG5vcm1hbCwKICAgICAgICAgICAgdGFuZ2VudCwKICAgICAgICAgICAgY29udGFjdCwKICAgICAgICAgICAgY29udGFjdFZlcnRleCwKICAgICAgICAgICAgbm9ybWFsSW1wdWxzZSwKICAgICAgICAgICAgdGFuZ2VudEltcHVsc2UsCiAgICAgICAgICAgIG9mZnNldCwKICAgICAgICAgICAgaW1wdWxzZSA9IFZlY3Rvci5fdGVtcFswXSwKICAgICAgICAgICAgdGVtcEEgPSBWZWN0b3IuX3RlbXBbMV07CiAgICAgICAgCiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHBhaXIgPSBwYWlyc1tpXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICghcGFpci5pc0FjdGl2ZSB8fCBwYWlyLmlzU2Vuc29yKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb250YWN0cyA9IHBhaXIuYWN0aXZlQ29udGFjdHM7CiAgICAgICAgICAgIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uOwogICAgICAgICAgICBib2R5QSA9IGNvbGxpc2lvbi5wYXJlbnRBOwogICAgICAgICAgICBib2R5QiA9IGNvbGxpc2lvbi5wYXJlbnRCOwogICAgICAgICAgICBub3JtYWwgPSBjb2xsaXNpb24ubm9ybWFsOwogICAgICAgICAgICB0YW5nZW50ID0gY29sbGlzaW9uLnRhbmdlbnQ7CgogICAgICAgICAgICAvLyByZXNvbHZlIGVhY2ggY29udGFjdAogICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29udGFjdHMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgIGNvbnRhY3QgPSBjb250YWN0c1tqXTsKICAgICAgICAgICAgICAgIGNvbnRhY3RWZXJ0ZXggPSBjb250YWN0LnZlcnRleDsKICAgICAgICAgICAgICAgIG5vcm1hbEltcHVsc2UgPSBjb250YWN0Lm5vcm1hbEltcHVsc2U7CiAgICAgICAgICAgICAgICB0YW5nZW50SW1wdWxzZSA9IGNvbnRhY3QudGFuZ2VudEltcHVsc2U7CgogICAgICAgICAgICAgICAgaWYgKG5vcm1hbEltcHVsc2UgIT09IDAgfHwgdGFuZ2VudEltcHVsc2UgIT09IDApIHsKICAgICAgICAgICAgICAgICAgICAvLyB0b3RhbCBpbXB1bHNlIGZyb20gY29udGFjdAogICAgICAgICAgICAgICAgICAgIGltcHVsc2UueCA9IChub3JtYWwueCAqIG5vcm1hbEltcHVsc2UpICsgKHRhbmdlbnQueCAqIHRhbmdlbnRJbXB1bHNlKTsKICAgICAgICAgICAgICAgICAgICBpbXB1bHNlLnkgPSAobm9ybWFsLnkgKiBub3JtYWxJbXB1bHNlKSArICh0YW5nZW50LnkgKiB0YW5nZW50SW1wdWxzZSk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8gYXBwbHkgaW1wdWxzZSBmcm9tIGNvbnRhY3QKICAgICAgICAgICAgICAgICAgICBpZiAoIShib2R5QS5pc1N0YXRpYyB8fCBib2R5QS5pc1NsZWVwaW5nKSkgewogICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBWZWN0b3Iuc3ViKGNvbnRhY3RWZXJ0ZXgsIGJvZHlBLnBvc2l0aW9uLCB0ZW1wQSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uUHJldi54ICs9IGltcHVsc2UueCAqIGJvZHlBLmludmVyc2VNYXNzOwogICAgICAgICAgICAgICAgICAgICAgICBib2R5QS5wb3NpdGlvblByZXYueSArPSBpbXB1bHNlLnkgKiBib2R5QS5pbnZlcnNlTWFzczsKICAgICAgICAgICAgICAgICAgICAgICAgYm9keUEuYW5nbGVQcmV2ICs9IFZlY3Rvci5jcm9zcyhvZmZzZXQsIGltcHVsc2UpICogYm9keUEuaW52ZXJzZUluZXJ0aWE7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoIShib2R5Qi5pc1N0YXRpYyB8fCBib2R5Qi5pc1NsZWVwaW5nKSkgewogICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBWZWN0b3Iuc3ViKGNvbnRhY3RWZXJ0ZXgsIGJvZHlCLnBvc2l0aW9uLCB0ZW1wQSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlCLnBvc2l0aW9uUHJldi54IC09IGltcHVsc2UueCAqIGJvZHlCLmludmVyc2VNYXNzOwogICAgICAgICAgICAgICAgICAgICAgICBib2R5Qi5wb3NpdGlvblByZXYueSAtPSBpbXB1bHNlLnkgKiBib2R5Qi5pbnZlcnNlTWFzczsKICAgICAgICAgICAgICAgICAgICAgICAgYm9keUIuYW5nbGVQcmV2IC09IFZlY3Rvci5jcm9zcyhvZmZzZXQsIGltcHVsc2UpICogYm9keUIuaW52ZXJzZUluZXJ0aWE7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIEZpbmQgYSBzb2x1dGlvbiBmb3IgcGFpciB2ZWxvY2l0aWVzLgogICAgICogQG1ldGhvZCBzb2x2ZVZlbG9jaXR5CiAgICAgKiBAcGFyYW0ge3BhaXJbXX0gcGFpcnMKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lU2NhbGUKICAgICAqLwogICAgUmVzb2x2ZXIuc29sdmVWZWxvY2l0eSA9IGZ1bmN0aW9uKHBhaXJzLCB0aW1lU2NhbGUpIHsKICAgICAgICB2YXIgdGltZVNjYWxlU3F1YXJlZCA9IHRpbWVTY2FsZSAqIHRpbWVTY2FsZSwKICAgICAgICAgICAgaW1wdWxzZSA9IFZlY3Rvci5fdGVtcFswXSwKICAgICAgICAgICAgdGVtcEEgPSBWZWN0b3IuX3RlbXBbMV0sCiAgICAgICAgICAgIHRlbXBCID0gVmVjdG9yLl90ZW1wWzJdLAogICAgICAgICAgICB0ZW1wQyA9IFZlY3Rvci5fdGVtcFszXSwKICAgICAgICAgICAgdGVtcEQgPSBWZWN0b3IuX3RlbXBbNF0sCiAgICAgICAgICAgIHRlbXBFID0gVmVjdG9yLl90ZW1wWzVdOwogICAgICAgIAogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICghcGFpci5pc0FjdGl2ZSB8fCBwYWlyLmlzU2Vuc29yKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgY29sbGlzaW9uID0gcGFpci5jb2xsaXNpb24sCiAgICAgICAgICAgICAgICBib2R5QSA9IGNvbGxpc2lvbi5wYXJlbnRBLAogICAgICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24ucGFyZW50QiwKICAgICAgICAgICAgICAgIG5vcm1hbCA9IGNvbGxpc2lvbi5ub3JtYWwsCiAgICAgICAgICAgICAgICB0YW5nZW50ID0gY29sbGlzaW9uLnRhbmdlbnQsCiAgICAgICAgICAgICAgICBjb250YWN0cyA9IHBhaXIuYWN0aXZlQ29udGFjdHMsCiAgICAgICAgICAgICAgICBjb250YWN0U2hhcmUgPSAxIC8gY29udGFjdHMubGVuZ3RoOwoKICAgICAgICAgICAgLy8gdXBkYXRlIGJvZHkgdmVsb2NpdGllcwogICAgICAgICAgICBib2R5QS52ZWxvY2l0eS54ID0gYm9keUEucG9zaXRpb24ueCAtIGJvZHlBLnBvc2l0aW9uUHJldi54OwogICAgICAgICAgICBib2R5QS52ZWxvY2l0eS55ID0gYm9keUEucG9zaXRpb24ueSAtIGJvZHlBLnBvc2l0aW9uUHJldi55OwogICAgICAgICAgICBib2R5Qi52ZWxvY2l0eS54ID0gYm9keUIucG9zaXRpb24ueCAtIGJvZHlCLnBvc2l0aW9uUHJldi54OwogICAgICAgICAgICBib2R5Qi52ZWxvY2l0eS55ID0gYm9keUIucG9zaXRpb24ueSAtIGJvZHlCLnBvc2l0aW9uUHJldi55OwogICAgICAgICAgICBib2R5QS5hbmd1bGFyVmVsb2NpdHkgPSBib2R5QS5hbmdsZSAtIGJvZHlBLmFuZ2xlUHJldjsKICAgICAgICAgICAgYm9keUIuYW5ndWxhclZlbG9jaXR5ID0gYm9keUIuYW5nbGUgLSBib2R5Qi5hbmdsZVByZXY7CgogICAgICAgICAgICAvLyByZXNvbHZlIGVhY2ggY29udGFjdAogICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbnRhY3RzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICB2YXIgY29udGFjdCA9IGNvbnRhY3RzW2pdLAogICAgICAgICAgICAgICAgICAgIGNvbnRhY3RWZXJ0ZXggPSBjb250YWN0LnZlcnRleCwKICAgICAgICAgICAgICAgICAgICBvZmZzZXRBID0gVmVjdG9yLnN1Yihjb250YWN0VmVydGV4LCBib2R5QS5wb3NpdGlvbiwgdGVtcEEpLAogICAgICAgICAgICAgICAgICAgIG9mZnNldEIgPSBWZWN0b3Iuc3ViKGNvbnRhY3RWZXJ0ZXgsIGJvZHlCLnBvc2l0aW9uLCB0ZW1wQiksCiAgICAgICAgICAgICAgICAgICAgdmVsb2NpdHlQb2ludEEgPSBWZWN0b3IuYWRkKGJvZHlBLnZlbG9jaXR5LCBWZWN0b3IubXVsdChWZWN0b3IucGVycChvZmZzZXRBKSwgYm9keUEuYW5ndWxhclZlbG9jaXR5KSwgdGVtcEMpLAogICAgICAgICAgICAgICAgICAgIHZlbG9jaXR5UG9pbnRCID0gVmVjdG9yLmFkZChib2R5Qi52ZWxvY2l0eSwgVmVjdG9yLm11bHQoVmVjdG9yLnBlcnAob2Zmc2V0QiksIGJvZHlCLmFuZ3VsYXJWZWxvY2l0eSksIHRlbXBEKSwgCiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVWZWxvY2l0eSA9IFZlY3Rvci5zdWIodmVsb2NpdHlQb2ludEEsIHZlbG9jaXR5UG9pbnRCLCB0ZW1wRSksCiAgICAgICAgICAgICAgICAgICAgbm9ybWFsVmVsb2NpdHkgPSBWZWN0b3IuZG90KG5vcm1hbCwgcmVsYXRpdmVWZWxvY2l0eSk7CgogICAgICAgICAgICAgICAgdmFyIHRhbmdlbnRWZWxvY2l0eSA9IFZlY3Rvci5kb3QodGFuZ2VudCwgcmVsYXRpdmVWZWxvY2l0eSksCiAgICAgICAgICAgICAgICAgICAgdGFuZ2VudFNwZWVkID0gTWF0aC5hYnModGFuZ2VudFZlbG9jaXR5KSwKICAgICAgICAgICAgICAgICAgICB0YW5nZW50VmVsb2NpdHlEaXJlY3Rpb24gPSBDb21tb24uc2lnbih0YW5nZW50VmVsb2NpdHkpOwoKICAgICAgICAgICAgICAgIC8vIHJhdyBpbXB1bHNlcwogICAgICAgICAgICAgICAgdmFyIG5vcm1hbEltcHVsc2UgPSAoMSArIHBhaXIucmVzdGl0dXRpb24pICogbm9ybWFsVmVsb2NpdHksCiAgICAgICAgICAgICAgICAgICAgbm9ybWFsRm9yY2UgPSBDb21tb24uY2xhbXAocGFpci5zZXBhcmF0aW9uICsgbm9ybWFsVmVsb2NpdHksIDAsIDEpICogUmVzb2x2ZXIuX2ZyaWN0aW9uTm9ybWFsTXVsdGlwbGllcjsKCiAgICAgICAgICAgICAgICAvLyBjb3Vsb21iIGZyaWN0aW9uCiAgICAgICAgICAgICAgICB2YXIgdGFuZ2VudEltcHVsc2UgPSB0YW5nZW50VmVsb2NpdHksCiAgICAgICAgICAgICAgICAgICAgbWF4RnJpY3Rpb24gPSBJbmZpbml0eTsKCiAgICAgICAgICAgICAgICBpZiAodGFuZ2VudFNwZWVkID4gcGFpci5mcmljdGlvbiAqIHBhaXIuZnJpY3Rpb25TdGF0aWMgKiBub3JtYWxGb3JjZSAqIHRpbWVTY2FsZVNxdWFyZWQpIHsKICAgICAgICAgICAgICAgICAgICBtYXhGcmljdGlvbiA9IHRhbmdlbnRTcGVlZDsKICAgICAgICAgICAgICAgICAgICB0YW5nZW50SW1wdWxzZSA9IENvbW1vbi5jbGFtcCgKICAgICAgICAgICAgICAgICAgICAgICAgcGFpci5mcmljdGlvbiAqIHRhbmdlbnRWZWxvY2l0eURpcmVjdGlvbiAqIHRpbWVTY2FsZVNxdWFyZWQsCiAgICAgICAgICAgICAgICAgICAgICAgIC1tYXhGcmljdGlvbiwgbWF4RnJpY3Rpb24KICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIG1vZGlmeSBpbXB1bHNlcyBhY2NvdW50aW5nIGZvciBtYXNzLCBpbmVydGlhIGFuZCBvZmZzZXQKICAgICAgICAgICAgICAgIHZhciBvQWNOID0gVmVjdG9yLmNyb3NzKG9mZnNldEEsIG5vcm1hbCksCiAgICAgICAgICAgICAgICAgICAgb0JjTiA9IFZlY3Rvci5jcm9zcyhvZmZzZXRCLCBub3JtYWwpLAogICAgICAgICAgICAgICAgICAgIHNoYXJlID0gY29udGFjdFNoYXJlIC8gKGJvZHlBLmludmVyc2VNYXNzICsgYm9keUIuaW52ZXJzZU1hc3MgKyBib2R5QS5pbnZlcnNlSW5lcnRpYSAqIG9BY04gKiBvQWNOICArIGJvZHlCLmludmVyc2VJbmVydGlhICogb0JjTiAqIG9CY04pOwoKICAgICAgICAgICAgICAgIG5vcm1hbEltcHVsc2UgKj0gc2hhcmU7CiAgICAgICAgICAgICAgICB0YW5nZW50SW1wdWxzZSAqPSBzaGFyZTsKCiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgaGlnaCB2ZWxvY2l0eSBhbmQgcmVzdGluZyBjb2xsaXNpb25zIHNlcGFyYXRlbHkKICAgICAgICAgICAgICAgIGlmIChub3JtYWxWZWxvY2l0eSA8IDAgJiYgbm9ybWFsVmVsb2NpdHkgKiBub3JtYWxWZWxvY2l0eSA+IFJlc29sdmVyLl9yZXN0aW5nVGhyZXNoICogdGltZVNjYWxlU3F1YXJlZCkgewogICAgICAgICAgICAgICAgICAgIC8vIGhpZ2ggbm9ybWFsIHZlbG9jaXR5IHNvIGNsZWFyIGNhY2hlZCBjb250YWN0IG5vcm1hbCBpbXB1bHNlCiAgICAgICAgICAgICAgICAgICAgY29udGFjdC5ub3JtYWxJbXB1bHNlID0gMDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8gc29sdmUgcmVzdGluZyBjb2xsaXNpb24gY29uc3RyYWludHMgdXNpbmcgRXJpbiBDYXR0bydzIG1ldGhvZCAoR0RDMDgpCiAgICAgICAgICAgICAgICAgICAgLy8gaW1wdWxzZSBjb25zdHJhaW50IHRlbmRzIHRvIDAKICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFjdE5vcm1hbEltcHVsc2UgPSBjb250YWN0Lm5vcm1hbEltcHVsc2U7CiAgICAgICAgICAgICAgICAgICAgY29udGFjdC5ub3JtYWxJbXB1bHNlID0gTWF0aC5taW4oY29udGFjdC5ub3JtYWxJbXB1bHNlICsgbm9ybWFsSW1wdWxzZSwgMCk7CiAgICAgICAgICAgICAgICAgICAgbm9ybWFsSW1wdWxzZSA9IGNvbnRhY3Qubm9ybWFsSW1wdWxzZSAtIGNvbnRhY3ROb3JtYWxJbXB1bHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBoaWdoIHZlbG9jaXR5IGFuZCByZXN0aW5nIGNvbGxpc2lvbnMgc2VwYXJhdGVseQogICAgICAgICAgICAgICAgaWYgKHRhbmdlbnRWZWxvY2l0eSAqIHRhbmdlbnRWZWxvY2l0eSA+IFJlc29sdmVyLl9yZXN0aW5nVGhyZXNoVGFuZ2VudCAqIHRpbWVTY2FsZVNxdWFyZWQpIHsKICAgICAgICAgICAgICAgICAgICAvLyBoaWdoIHRhbmdlbnQgdmVsb2NpdHkgc28gY2xlYXIgY2FjaGVkIGNvbnRhY3QgdGFuZ2VudCBpbXB1bHNlCiAgICAgICAgICAgICAgICAgICAgY29udGFjdC50YW5nZW50SW1wdWxzZSA9IDA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIHNvbHZlIHJlc3RpbmcgY29sbGlzaW9uIGNvbnN0cmFpbnRzIHVzaW5nIEVyaW4gQ2F0dG8ncyBtZXRob2QgKEdEQzA4KQogICAgICAgICAgICAgICAgICAgIC8vIHRhbmdlbnQgaW1wdWxzZSB0ZW5kcyB0byAtdGFuZ2VudFNwZWVkIG9yICt0YW5nZW50U3BlZWQKICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFjdFRhbmdlbnRJbXB1bHNlID0gY29udGFjdC50YW5nZW50SW1wdWxzZTsKICAgICAgICAgICAgICAgICAgICBjb250YWN0LnRhbmdlbnRJbXB1bHNlID0gQ29tbW9uLmNsYW1wKGNvbnRhY3QudGFuZ2VudEltcHVsc2UgKyB0YW5nZW50SW1wdWxzZSwgLW1heEZyaWN0aW9uLCBtYXhGcmljdGlvbik7CiAgICAgICAgICAgICAgICAgICAgdGFuZ2VudEltcHVsc2UgPSBjb250YWN0LnRhbmdlbnRJbXB1bHNlIC0gY29udGFjdFRhbmdlbnRJbXB1bHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIHRvdGFsIGltcHVsc2UgZnJvbSBjb250YWN0CiAgICAgICAgICAgICAgICBpbXB1bHNlLnggPSAobm9ybWFsLnggKiBub3JtYWxJbXB1bHNlKSArICh0YW5nZW50LnggKiB0YW5nZW50SW1wdWxzZSk7CiAgICAgICAgICAgICAgICBpbXB1bHNlLnkgPSAobm9ybWFsLnkgKiBub3JtYWxJbXB1bHNlKSArICh0YW5nZW50LnkgKiB0YW5nZW50SW1wdWxzZSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIGFwcGx5IGltcHVsc2UgZnJvbSBjb250YWN0CiAgICAgICAgICAgICAgICBpZiAoIShib2R5QS5pc1N0YXRpYyB8fCBib2R5QS5pc1NsZWVwaW5nKSkgewogICAgICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uUHJldi54ICs9IGltcHVsc2UueCAqIGJvZHlBLmludmVyc2VNYXNzOwogICAgICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uUHJldi55ICs9IGltcHVsc2UueSAqIGJvZHlBLmludmVyc2VNYXNzOwogICAgICAgICAgICAgICAgICAgIGJvZHlBLmFuZ2xlUHJldiArPSBWZWN0b3IuY3Jvc3Mob2Zmc2V0QSwgaW1wdWxzZSkgKiBib2R5QS5pbnZlcnNlSW5lcnRpYTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShib2R5Qi5pc1N0YXRpYyB8fCBib2R5Qi5pc1NsZWVwaW5nKSkgewogICAgICAgICAgICAgICAgICAgIGJvZHlCLnBvc2l0aW9uUHJldi54IC09IGltcHVsc2UueCAqIGJvZHlCLmludmVyc2VNYXNzOwogICAgICAgICAgICAgICAgICAgIGJvZHlCLnBvc2l0aW9uUHJldi55IC09IGltcHVsc2UueSAqIGJvZHlCLmludmVyc2VNYXNzOwogICAgICAgICAgICAgICAgICAgIGJvZHlCLmFuZ2xlUHJldiAtPSBWZWN0b3IuY3Jvc3Mob2Zmc2V0QiwgaW1wdWxzZSkgKiBib2R5Qi5pbnZlcnNlSW5lcnRpYTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07Cgp9KSgpOwoKfSx7Ii4uL2NvcmUvQ29tbW9uIjoxNCwiLi4vZ2VvbWV0cnkvQm91bmRzIjoyNiwiLi4vZ2VvbWV0cnkvVmVjdG9yIjoyOCwiLi4vZ2VvbWV0cnkvVmVydGljZXMiOjI5fV0sMTE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpewovKioKKiBUaGUgYE1hdHRlci5TQVRgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBkZXRlY3RpbmcgY29sbGlzaW9ucyB1c2luZyB0aGUgU2VwYXJhdGluZyBBeGlzIFRoZW9yZW0uCioKKiBAY2xhc3MgU0FUCiovCgovLyBUT0RPOiB0cnVlIGNpcmNsZXMgYW5kIGN1cnZlcwoKdmFyIFNBVCA9IHt9OwoKbW9kdWxlLmV4cG9ydHMgPSBTQVQ7Cgp2YXIgVmVydGljZXMgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9WZXJ0aWNlcycpOwp2YXIgVmVjdG9yID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvVmVjdG9yJyk7CgooZnVuY3Rpb24oKSB7CgogICAgLyoqCiAgICAgKiBEZXRlY3QgY29sbGlzaW9uIGJldHdlZW4gdHdvIGJvZGllcyB1c2luZyB0aGUgU2VwYXJhdGluZyBBeGlzIFRoZW9yZW0uCiAgICAgKiBAbWV0aG9kIGNvbGxpZGVzCiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlBCiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlCCiAgICAgKiBAcGFyYW0ge2NvbGxpc2lvbn0gcHJldmlvdXNDb2xsaXNpb24KICAgICAqIEByZXR1cm4ge2NvbGxpc2lvbn0gY29sbGlzaW9uCiAgICAgKi8KICAgIFNBVC5jb2xsaWRlcyA9IGZ1bmN0aW9uKGJvZHlBLCBib2R5QiwgcHJldmlvdXNDb2xsaXNpb24pIHsKICAgICAgICB2YXIgb3ZlcmxhcEFCLAogICAgICAgICAgICBvdmVybGFwQkEsIAogICAgICAgICAgICBtaW5PdmVybGFwLAogICAgICAgICAgICBjb2xsaXNpb24sCiAgICAgICAgICAgIGNhblJldXNlUHJldkNvbCA9IGZhbHNlOwoKICAgICAgICBpZiAocHJldmlvdXNDb2xsaXNpb24pIHsKICAgICAgICAgICAgLy8gZXN0aW1hdGUgdG90YWwgbW90aW9uCiAgICAgICAgICAgIHZhciBwYXJlbnRBID0gYm9keUEucGFyZW50LAogICAgICAgICAgICAgICAgcGFyZW50QiA9IGJvZHlCLnBhcmVudCwKICAgICAgICAgICAgICAgIG1vdGlvbiA9IHBhcmVudEEuc3BlZWQgKiBwYXJlbnRBLnNwZWVkICsgcGFyZW50QS5hbmd1bGFyU3BlZWQgKiBwYXJlbnRBLmFuZ3VsYXJTcGVlZAogICAgICAgICAgICAgICAgICAgICAgICsgcGFyZW50Qi5zcGVlZCAqIHBhcmVudEIuc3BlZWQgKyBwYXJlbnRCLmFuZ3VsYXJTcGVlZCAqIHBhcmVudEIuYW5ndWxhclNwZWVkOwoKICAgICAgICAgICAgLy8gd2UgbWF5IGJlIGFibGUgdG8gKHBhcnRpYWxseSkgcmV1c2UgY29sbGlzaW9uIHJlc3VsdCAKICAgICAgICAgICAgLy8gYnV0IG9ubHkgc2FmZSBpZiBjb2xsaXNpb24gd2FzIHJlc3RpbmcKICAgICAgICAgICAgY2FuUmV1c2VQcmV2Q29sID0gcHJldmlvdXNDb2xsaXNpb24gJiYgcHJldmlvdXNDb2xsaXNpb24uY29sbGlkZWQgJiYgbW90aW9uIDwgMC4yOwoKICAgICAgICAgICAgLy8gcmV1c2UgY29sbGlzaW9uIG9iamVjdAogICAgICAgICAgICBjb2xsaXNpb24gPSBwcmV2aW91c0NvbGxpc2lvbjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb2xsaXNpb24gPSB7IGNvbGxpZGVkOiBmYWxzZSwgYm9keUE6IGJvZHlBLCBib2R5QjogYm9keUIgfTsKICAgICAgICB9CgogICAgICAgIGlmIChwcmV2aW91c0NvbGxpc2lvbiAmJiBjYW5SZXVzZVByZXZDb2wpIHsKICAgICAgICAgICAgLy8gaWYgd2UgY2FuIHJldXNlIHRoZSBjb2xsaXNpb24gcmVzdWx0CiAgICAgICAgICAgIC8vIHdlIG9ubHkgbmVlZCB0byB0ZXN0IHRoZSBwcmV2aW91c2x5IGZvdW5kIGF4aXMKICAgICAgICAgICAgdmFyIGF4aXNCb2R5QSA9IGNvbGxpc2lvbi5heGlzQm9keSwKICAgICAgICAgICAgICAgIGF4aXNCb2R5QiA9IGF4aXNCb2R5QSA9PT0gYm9keUEgPyBib2R5QiA6IGJvZHlBLAogICAgICAgICAgICAgICAgYXhlcyA9IFtheGlzQm9keUEuYXhlc1twcmV2aW91c0NvbGxpc2lvbi5heGlzTnVtYmVyXV07CgogICAgICAgICAgICBtaW5PdmVybGFwID0gX292ZXJsYXBBeGVzKGF4aXNCb2R5QS52ZXJ0aWNlcywgYXhpc0JvZHlCLnZlcnRpY2VzLCBheGVzKTsKICAgICAgICAgICAgY29sbGlzaW9uLnJldXNlZCA9IHRydWU7CgogICAgICAgICAgICBpZiAobWluT3ZlcmxhcC5vdmVybGFwIDw9IDApIHsKICAgICAgICAgICAgICAgIGNvbGxpc2lvbi5jb2xsaWRlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxpc2lvbjsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIGlmIHdlIGNhbid0IHJldXNlIGEgcmVzdWx0LCBwZXJmb3JtIGEgZnVsbCBTQVQgdGVzdAoKICAgICAgICAgICAgb3ZlcmxhcEFCID0gX292ZXJsYXBBeGVzKGJvZHlBLnZlcnRpY2VzLCBib2R5Qi52ZXJ0aWNlcywgYm9keUEuYXhlcyk7CgogICAgICAgICAgICBpZiAob3ZlcmxhcEFCLm92ZXJsYXAgPD0gMCkgewogICAgICAgICAgICAgICAgY29sbGlzaW9uLmNvbGxpZGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGlzaW9uOwogICAgICAgICAgICB9CgogICAgICAgICAgICBvdmVybGFwQkEgPSBfb3ZlcmxhcEF4ZXMoYm9keUIudmVydGljZXMsIGJvZHlBLnZlcnRpY2VzLCBib2R5Qi5heGVzKTsKCiAgICAgICAgICAgIGlmIChvdmVybGFwQkEub3ZlcmxhcCA8PSAwKSB7CiAgICAgICAgICAgICAgICBjb2xsaXNpb24uY29sbGlkZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHJldHVybiBjb2xsaXNpb247CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChvdmVybGFwQUIub3ZlcmxhcCA8IG92ZXJsYXBCQS5vdmVybGFwKSB7CiAgICAgICAgICAgICAgICBtaW5PdmVybGFwID0gb3ZlcmxhcEFCOwogICAgICAgICAgICAgICAgY29sbGlzaW9uLmF4aXNCb2R5ID0gYm9keUE7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBtaW5PdmVybGFwID0gb3ZlcmxhcEJBOwogICAgICAgICAgICAgICAgY29sbGlzaW9uLmF4aXNCb2R5ID0gYm9keUI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGltcG9ydGFudCBmb3IgcmV1c2UgbGF0ZXIKICAgICAgICAgICAgY29sbGlzaW9uLmF4aXNOdW1iZXIgPSBtaW5PdmVybGFwLmF4aXNOdW1iZXI7CiAgICAgICAgfQoKICAgICAgICBjb2xsaXNpb24uYm9keUEgPSBib2R5QS5pZCA8IGJvZHlCLmlkID8gYm9keUEgOiBib2R5QjsKICAgICAgICBjb2xsaXNpb24uYm9keUIgPSBib2R5QS5pZCA8IGJvZHlCLmlkID8gYm9keUIgOiBib2R5QTsKICAgICAgICBjb2xsaXNpb24uY29sbGlkZWQgPSB0cnVlOwogICAgICAgIGNvbGxpc2lvbi5kZXB0aCA9IG1pbk92ZXJsYXAub3ZlcmxhcDsKICAgICAgICBjb2xsaXNpb24ucGFyZW50QSA9IGNvbGxpc2lvbi5ib2R5QS5wYXJlbnQ7CiAgICAgICAgY29sbGlzaW9uLnBhcmVudEIgPSBjb2xsaXNpb24uYm9keUIucGFyZW50OwogICAgICAgIAogICAgICAgIGJvZHlBID0gY29sbGlzaW9uLmJvZHlBOwogICAgICAgIGJvZHlCID0gY29sbGlzaW9uLmJvZHlCOwoKICAgICAgICAvLyBlbnN1cmUgbm9ybWFsIGlzIGZhY2luZyBhd2F5IGZyb20gYm9keUEKICAgICAgICBpZiAoVmVjdG9yLmRvdChtaW5PdmVybGFwLmF4aXMsIFZlY3Rvci5zdWIoYm9keUIucG9zaXRpb24sIGJvZHlBLnBvc2l0aW9uKSkgPCAwKSB7CiAgICAgICAgICAgIGNvbGxpc2lvbi5ub3JtYWwgPSB7CiAgICAgICAgICAgICAgICB4OiBtaW5PdmVybGFwLmF4aXMueCwKICAgICAgICAgICAgICAgIHk6IG1pbk92ZXJsYXAuYXhpcy55CiAgICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29sbGlzaW9uLm5vcm1hbCA9IHsKICAgICAgICAgICAgICAgIHg6IC1taW5PdmVybGFwLmF4aXMueCwKICAgICAgICAgICAgICAgIHk6IC1taW5PdmVybGFwLmF4aXMueQogICAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgY29sbGlzaW9uLnRhbmdlbnQgPSBWZWN0b3IucGVycChjb2xsaXNpb24ubm9ybWFsKTsKCiAgICAgICAgY29sbGlzaW9uLnBlbmV0cmF0aW9uID0gY29sbGlzaW9uLnBlbmV0cmF0aW9uIHx8IHt9OwogICAgICAgIGNvbGxpc2lvbi5wZW5ldHJhdGlvbi54ID0gY29sbGlzaW9uLm5vcm1hbC54ICogY29sbGlzaW9uLmRlcHRoOwogICAgICAgIGNvbGxpc2lvbi5wZW5ldHJhdGlvbi55ID0gY29sbGlzaW9uLm5vcm1hbC55ICogY29sbGlzaW9uLmRlcHRoOyAKCiAgICAgICAgLy8gZmluZCBzdXBwb3J0IHBvaW50cywgdGhlcmUgaXMgYWx3YXlzIGVpdGhlciBleGFjdGx5IG9uZSBvciB0d28KICAgICAgICB2YXIgdmVydGljZXNCID0gX2ZpbmRTdXBwb3J0cyhib2R5QSwgYm9keUIsIGNvbGxpc2lvbi5ub3JtYWwpLAogICAgICAgICAgICBzdXBwb3J0cyA9IFtdOwoKICAgICAgICAvLyBmaW5kIHRoZSBzdXBwb3J0cyBmcm9tIGJvZHlCIHRoYXQgYXJlIGluc2lkZSBib2R5QQogICAgICAgIGlmIChWZXJ0aWNlcy5jb250YWlucyhib2R5QS52ZXJ0aWNlcywgdmVydGljZXNCWzBdKSkKICAgICAgICAgICAgc3VwcG9ydHMucHVzaCh2ZXJ0aWNlc0JbMF0pOwoKICAgICAgICBpZiAoVmVydGljZXMuY29udGFpbnMoYm9keUEudmVydGljZXMsIHZlcnRpY2VzQlsxXSkpCiAgICAgICAgICAgIHN1cHBvcnRzLnB1c2godmVydGljZXNCWzFdKTsKCiAgICAgICAgLy8gZmluZCB0aGUgc3VwcG9ydHMgZnJvbSBib2R5QSB0aGF0IGFyZSBpbnNpZGUgYm9keUIKICAgICAgICBpZiAoc3VwcG9ydHMubGVuZ3RoIDwgMikgewogICAgICAgICAgICB2YXIgdmVydGljZXNBID0gX2ZpbmRTdXBwb3J0cyhib2R5QiwgYm9keUEsIFZlY3Rvci5uZWcoY29sbGlzaW9uLm5vcm1hbCkpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChWZXJ0aWNlcy5jb250YWlucyhib2R5Qi52ZXJ0aWNlcywgdmVydGljZXNBWzBdKSkKICAgICAgICAgICAgICAgIHN1cHBvcnRzLnB1c2godmVydGljZXNBWzBdKTsKCiAgICAgICAgICAgIGlmIChzdXBwb3J0cy5sZW5ndGggPCAyICYmIFZlcnRpY2VzLmNvbnRhaW5zKGJvZHlCLnZlcnRpY2VzLCB2ZXJ0aWNlc0FbMV0pKQogICAgICAgICAgICAgICAgc3VwcG9ydHMucHVzaCh2ZXJ0aWNlc0FbMV0pOwogICAgICAgIH0KCiAgICAgICAgLy8gYWNjb3VudCBmb3IgdGhlIGVkZ2UgY2FzZSBvZiBvdmVybGFwcGluZyBidXQgbm8gdmVydGV4IGNvbnRhaW5tZW50CiAgICAgICAgaWYgKHN1cHBvcnRzLmxlbmd0aCA8IDEpCiAgICAgICAgICAgIHN1cHBvcnRzID0gW3ZlcnRpY2VzQlswXV07CiAgICAgICAgCiAgICAgICAgY29sbGlzaW9uLnN1cHBvcnRzID0gc3VwcG9ydHM7CgogICAgICAgIHJldHVybiBjb2xsaXNpb247CiAgICB9OwoKICAgIC8qKgogICAgICogRmluZCB0aGUgb3ZlcmxhcCBiZXR3ZWVuIHR3byBzZXRzIG9mIHZlcnRpY2VzLgogICAgICogQG1ldGhvZCBfb3ZlcmxhcEF4ZXMKICAgICAqIEBwcml2YXRlCiAgICAgKiBAcGFyYW0ge30gdmVydGljZXNBCiAgICAgKiBAcGFyYW0ge30gdmVydGljZXNCCiAgICAgKiBAcGFyYW0ge30gYXhlcwogICAgICogQHJldHVybiByZXN1bHQKICAgICAqLwogICAgdmFyIF9vdmVybGFwQXhlcyA9IGZ1bmN0aW9uKHZlcnRpY2VzQSwgdmVydGljZXNCLCBheGVzKSB7CiAgICAgICAgdmFyIHByb2plY3Rpb25BID0gVmVjdG9yLl90ZW1wWzBdLCAKICAgICAgICAgICAgcHJvamVjdGlvbkIgPSBWZWN0b3IuX3RlbXBbMV0sCiAgICAgICAgICAgIHJlc3VsdCA9IHsgb3ZlcmxhcDogTnVtYmVyLk1BWF9WQUxVRSB9LAogICAgICAgICAgICBvdmVybGFwLAogICAgICAgICAgICBheGlzOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgYXhpcyA9IGF4ZXNbaV07CgogICAgICAgICAgICBfcHJvamVjdFRvQXhpcyhwcm9qZWN0aW9uQSwgdmVydGljZXNBLCBheGlzKTsKICAgICAgICAgICAgX3Byb2plY3RUb0F4aXMocHJvamVjdGlvbkIsIHZlcnRpY2VzQiwgYXhpcyk7CgogICAgICAgICAgICBvdmVybGFwID0gTWF0aC5taW4ocHJvamVjdGlvbkEubWF4IC0gcHJvamVjdGlvbkIubWluLCBwcm9qZWN0aW9uQi5tYXggLSBwcm9qZWN0aW9uQS5taW4pOwoKICAgICAgICAgICAgaWYgKG92ZXJsYXAgPD0gMCkgewogICAgICAgICAgICAgICAgcmVzdWx0Lm92ZXJsYXAgPSBvdmVybGFwOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKG92ZXJsYXAgPCByZXN1bHQub3ZlcmxhcCkgewogICAgICAgICAgICAgICAgcmVzdWx0Lm92ZXJsYXAgPSBvdmVybGFwOwogICAgICAgICAgICAgICAgcmVzdWx0LmF4aXMgPSBheGlzOwogICAgICAgICAgICAgICAgcmVzdWx0LmF4aXNOdW1iZXIgPSBpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfTsKCiAgICAvKioKICAgICAqIFByb2plY3RzIHZlcnRpY2VzIG9uIGFuIGF4aXMgYW5kIHJldHVybnMgYW4gaW50ZXJ2YWwuCiAgICAgKiBAbWV0aG9kIF9wcm9qZWN0VG9BeGlzCiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHt9IHByb2plY3Rpb24KICAgICAqIEBwYXJhbSB7fSB2ZXJ0aWNlcwogICAgICogQHBhcmFtIHt9IGF4aXMKICAgICAqLwogICAgdmFyIF9wcm9qZWN0VG9BeGlzID0gZnVuY3Rpb24ocHJvamVjdGlvbiwgdmVydGljZXMsIGF4aXMpIHsKICAgICAgICB2YXIgbWluID0gVmVjdG9yLmRvdCh2ZXJ0aWNlc1swXSwgYXhpcyksCiAgICAgICAgICAgIG1heCA9IG1pbjsKCiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgICAgICB2YXIgZG90ID0gVmVjdG9yLmRvdCh2ZXJ0aWNlc1tpXSwgYXhpcyk7CgogICAgICAgICAgICBpZiAoZG90ID4gbWF4KSB7IAogICAgICAgICAgICAgICAgbWF4ID0gZG90OyAKICAgICAgICAgICAgfSBlbHNlIGlmIChkb3QgPCBtaW4pIHsgCiAgICAgICAgICAgICAgICBtaW4gPSBkb3Q7IAogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBwcm9qZWN0aW9uLm1pbiA9IG1pbjsKICAgICAgICBwcm9qZWN0aW9uLm1heCA9IG1heDsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogRmluZHMgc3VwcG9ydGluZyB2ZXJ0aWNlcyBnaXZlbiB0d28gYm9kaWVzIGFsb25nIGEgZ2l2ZW4gZGlyZWN0aW9uIHVzaW5nIGhpbGwtY2xpbWJpbmcuCiAgICAgKiBAbWV0aG9kIF9maW5kU3VwcG9ydHMKICAgICAqIEBwcml2YXRlCiAgICAgKiBAcGFyYW0ge30gYm9keUEKICAgICAqIEBwYXJhbSB7fSBib2R5QgogICAgICogQHBhcmFtIHt9IG5vcm1hbAogICAgICogQHJldHVybiBbdmVjdG9yXQogICAgICovCiAgICB2YXIgX2ZpbmRTdXBwb3J0cyA9IGZ1bmN0aW9uKGJvZHlBLCBib2R5Qiwgbm9ybWFsKSB7CiAgICAgICAgdmFyIG5lYXJlc3REaXN0YW5jZSA9IE51bWJlci5NQVhfVkFMVUUsCiAgICAgICAgICAgIHZlcnRleFRvQm9keSA9IFZlY3Rvci5fdGVtcFswXSwKICAgICAgICAgICAgdmVydGljZXMgPSBib2R5Qi52ZXJ0aWNlcywKICAgICAgICAgICAgYm9keUFQb3NpdGlvbiA9IGJvZHlBLnBvc2l0aW9uLAogICAgICAgICAgICBkaXN0YW5jZSwKICAgICAgICAgICAgdmVydGV4LAogICAgICAgICAgICB2ZXJ0ZXhBLAogICAgICAgICAgICB2ZXJ0ZXhCOwoKICAgICAgICAvLyBmaW5kIGNsb3Nlc3QgdmVydGV4IG9uIGJvZHlCCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2ZXJ0ZXggPSB2ZXJ0aWNlc1tpXTsKICAgICAgICAgICAgdmVydGV4VG9Cb2R5LnggPSB2ZXJ0ZXgueCAtIGJvZHlBUG9zaXRpb24ueDsKICAgICAgICAgICAgdmVydGV4VG9Cb2R5LnkgPSB2ZXJ0ZXgueSAtIGJvZHlBUG9zaXRpb24ueTsKICAgICAgICAgICAgZGlzdGFuY2UgPSAtVmVjdG9yLmRvdChub3JtYWwsIHZlcnRleFRvQm9keSk7CgogICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCBuZWFyZXN0RGlzdGFuY2UpIHsKICAgICAgICAgICAgICAgIG5lYXJlc3REaXN0YW5jZSA9IGRpc3RhbmNlOwogICAgICAgICAgICAgICAgdmVydGV4QSA9IHZlcnRleDsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gZmluZCBuZXh0IGNsb3Nlc3QgdmVydGV4IHVzaW5nIHRoZSB0d28gY29ubmVjdGVkIHRvIGl0CiAgICAgICAgdmFyIHByZXZJbmRleCA9IHZlcnRleEEuaW5kZXggLSAxID49IDAgPyB2ZXJ0ZXhBLmluZGV4IC0gMSA6IHZlcnRpY2VzLmxlbmd0aCAtIDE7CiAgICAgICAgdmVydGV4ID0gdmVydGljZXNbcHJldkluZGV4XTsKICAgICAgICB2ZXJ0ZXhUb0JvZHkueCA9IHZlcnRleC54IC0gYm9keUFQb3NpdGlvbi54OwogICAgICAgIHZlcnRleFRvQm9keS55ID0gdmVydGV4LnkgLSBib2R5QVBvc2l0aW9uLnk7CiAgICAgICAgbmVhcmVzdERpc3RhbmNlID0gLVZlY3Rvci5kb3Qobm9ybWFsLCB2ZXJ0ZXhUb0JvZHkpOwogICAgICAgIHZlcnRleEIgPSB2ZXJ0ZXg7CgogICAgICAgIHZhciBuZXh0SW5kZXggPSAodmVydGV4QS5pbmRleCArIDEpICUgdmVydGljZXMubGVuZ3RoOwogICAgICAgIHZlcnRleCA9IHZlcnRpY2VzW25leHRJbmRleF07CiAgICAgICAgdmVydGV4VG9Cb2R5LnggPSB2ZXJ0ZXgueCAtIGJvZHlBUG9zaXRpb24ueDsKICAgICAgICB2ZXJ0ZXhUb0JvZHkueSA9IHZlcnRleC55IC0gYm9keUFQb3NpdGlvbi55OwogICAgICAgIGRpc3RhbmNlID0gLVZlY3Rvci5kb3Qobm9ybWFsLCB2ZXJ0ZXhUb0JvZHkpOwogICAgICAgIGlmIChkaXN0YW5jZSA8IG5lYXJlc3REaXN0YW5jZSkgewogICAgICAgICAgICB2ZXJ0ZXhCID0gdmVydGV4OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIFt2ZXJ0ZXhBLCB2ZXJ0ZXhCXTsKICAgIH07Cgp9KSgpOwoKfSx7Ii4uL2dlb21ldHJ5L1ZlY3RvciI6MjgsIi4uL2dlb21ldHJ5L1ZlcnRpY2VzIjoyOX1dLDEyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXsKLyoqCiogVGhlIGBNYXR0ZXIuQ29uc3RyYWludGAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgY29uc3RyYWludHMuCiogQ29uc3RyYWludHMgYXJlIHVzZWQgZm9yIHNwZWNpZnlpbmcgdGhhdCBhIGZpeGVkIGRpc3RhbmNlIG11c3QgYmUgbWFpbnRhaW5lZCBiZXR3ZWVuIHR3byBib2RpZXMgKG9yIGEgYm9keSBhbmQgYSBmaXhlZCB3b3JsZC1zcGFjZSBwb3NpdGlvbikuCiogVGhlIHN0aWZmbmVzcyBvZiBjb25zdHJhaW50cyBjYW4gYmUgbW9kaWZpZWQgdG8gY3JlYXRlIHNwcmluZ3Mgb3IgZWxhc3RpYy4KKgoqIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuCioKKiBAY2xhc3MgQ29uc3RyYWludAoqLwoKLy8gVE9ETzogZml4IGluc3RhYmlsaXR5IGlzc3VlcyB3aXRoIHRvcnF1ZQovLyBUT0RPOiBsaW5rZWQgY29uc3RyYWludHMKLy8gVE9ETzogYnJlYWthYmxlIGNvbnN0cmFpbnRzCi8vIFRPRE86IGNvbGxpc2lvbiBjb25zdHJhaW50cwovLyBUT0RPOiBhbGxvdyBjb25zdHJhaW5lZCBib2RpZXMgdG8gc2xlZXAKLy8gVE9ETzogaGFuZGxlIDAgbGVuZ3RoIGNvbnN0cmFpbnRzIHByb3Blcmx5Ci8vIFRPRE86IGltcHVsc2UgY2FjaGluZyBhbmQgd2FybWluZwoKdmFyIENvbnN0cmFpbnQgPSB7fTsKCm1vZHVsZS5leHBvcnRzID0gQ29uc3RyYWludDsKCnZhciBWZXJ0aWNlcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L1ZlcnRpY2VzJyk7CnZhciBWZWN0b3IgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9WZWN0b3InKTsKdmFyIFNsZWVwaW5nID0gX2RlcmVxXygnLi4vY29yZS9TbGVlcGluZycpOwp2YXIgQm91bmRzID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvQm91bmRzJyk7CnZhciBBeGVzID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvQXhlcycpOwp2YXIgQ29tbW9uID0gX2RlcmVxXygnLi4vY29yZS9Db21tb24nKTsKCihmdW5jdGlvbigpIHsKCiAgICB2YXIgX21pbkxlbmd0aCA9IDAuMDAwMDAxLAogICAgICAgIF9taW5EaWZmZXJlbmNlID0gMC4wMDE7CgogICAgLyoqCiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbnN0cmFpbnQuCiAgICAgKiBBbGwgcHJvcGVydGllcyBoYXZlIGRlZmF1bHQgdmFsdWVzLCBhbmQgbWFueSBhcmUgcHJlLWNhbGN1bGF0ZWQgYXV0b21hdGljYWxseSBiYXNlZCBvbiBvdGhlciBwcm9wZXJ0aWVzLgogICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gYmVsb3cgZm9yIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgeW91IGNhbiBwYXNzIHZpYSB0aGUgYG9wdGlvbnNgIG9iamVjdC4KICAgICAqIEBtZXRob2QgY3JlYXRlCiAgICAgKiBAcGFyYW0ge30gb3B0aW9ucwogICAgICogQHJldHVybiB7Y29uc3RyYWludH0gY29uc3RyYWludAogICAgICovCiAgICBDb25zdHJhaW50LmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICB2YXIgY29uc3RyYWludCA9IG9wdGlvbnM7CgogICAgICAgIC8vIGlmIGJvZGllcyBkZWZpbmVkIGJ1dCBubyBwb2ludHMsIHVzZSBib2R5IGNlbnRyZQogICAgICAgIGlmIChjb25zdHJhaW50LmJvZHlBICYmICFjb25zdHJhaW50LnBvaW50QSkKICAgICAgICAgICAgY29uc3RyYWludC5wb2ludEEgPSB7IHg6IDAsIHk6IDAgfTsKICAgICAgICBpZiAoY29uc3RyYWludC5ib2R5QiAmJiAhY29uc3RyYWludC5wb2ludEIpCiAgICAgICAgICAgIGNvbnN0cmFpbnQucG9pbnRCID0geyB4OiAwLCB5OiAwIH07CgogICAgICAgIC8vIGNhbGN1bGF0ZSBzdGF0aWMgbGVuZ3RoIHVzaW5nIGluaXRpYWwgd29ybGQgc3BhY2UgcG9pbnRzCiAgICAgICAgdmFyIGluaXRpYWxQb2ludEEgPSBjb25zdHJhaW50LmJvZHlBID8gVmVjdG9yLmFkZChjb25zdHJhaW50LmJvZHlBLnBvc2l0aW9uLCBjb25zdHJhaW50LnBvaW50QSkgOiBjb25zdHJhaW50LnBvaW50QSwKICAgICAgICAgICAgaW5pdGlhbFBvaW50QiA9IGNvbnN0cmFpbnQuYm9keUIgPyBWZWN0b3IuYWRkKGNvbnN0cmFpbnQuYm9keUIucG9zaXRpb24sIGNvbnN0cmFpbnQucG9pbnRCKSA6IGNvbnN0cmFpbnQucG9pbnRCLAogICAgICAgICAgICBsZW5ndGggPSBWZWN0b3IubWFnbml0dWRlKFZlY3Rvci5zdWIoaW5pdGlhbFBvaW50QSwgaW5pdGlhbFBvaW50QikpOwogICAgCiAgICAgICAgY29uc3RyYWludC5sZW5ndGggPSBjb25zdHJhaW50Lmxlbmd0aCB8fCBsZW5ndGggfHwgX21pbkxlbmd0aDsKCiAgICAgICAgLy8gcmVuZGVyCiAgICAgICAgdmFyIHJlbmRlciA9IHsKICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgbGluZVdpZHRoOiAyLAogICAgICAgICAgICBzdHJva2VTdHlsZTogJyNmZmZmZmYnCiAgICAgICAgfTsKICAgICAgICAKICAgICAgICBjb25zdHJhaW50LnJlbmRlciA9IENvbW1vbi5leHRlbmQocmVuZGVyLCBjb25zdHJhaW50LnJlbmRlcik7CgogICAgICAgIC8vIG9wdGlvbiBkZWZhdWx0cwogICAgICAgIGNvbnN0cmFpbnQuaWQgPSBjb25zdHJhaW50LmlkIHx8IENvbW1vbi5uZXh0SWQoKTsKICAgICAgICBjb25zdHJhaW50LmxhYmVsID0gY29uc3RyYWludC5sYWJlbCB8fCAnQ29uc3RyYWludCc7CiAgICAgICAgY29uc3RyYWludC50eXBlID0gJ2NvbnN0cmFpbnQnOwogICAgICAgIGNvbnN0cmFpbnQuc3RpZmZuZXNzID0gY29uc3RyYWludC5zdGlmZm5lc3MgfHwgMTsKICAgICAgICBjb25zdHJhaW50LmFuZ3VsYXJTdGlmZm5lc3MgPSBjb25zdHJhaW50LmFuZ3VsYXJTdGlmZm5lc3MgfHwgMDsKICAgICAgICBjb25zdHJhaW50LmFuZ2xlQSA9IGNvbnN0cmFpbnQuYm9keUEgPyBjb25zdHJhaW50LmJvZHlBLmFuZ2xlIDogY29uc3RyYWludC5hbmdsZUE7CiAgICAgICAgY29uc3RyYWludC5hbmdsZUIgPSBjb25zdHJhaW50LmJvZHlCID8gY29uc3RyYWludC5ib2R5Qi5hbmdsZSA6IGNvbnN0cmFpbnQuYW5nbGVCOwogICAgICAgIGNvbnN0cmFpbnQucGx1Z2luID0ge307CgogICAgICAgIHJldHVybiBjb25zdHJhaW50OwogICAgfTsKCiAgICAvKioKICAgICAqIFNvbHZlcyBhbGwgY29uc3RyYWludHMgaW4gYSBsaXN0IG9mIGNvbGxpc2lvbnMuCiAgICAgKiBAcHJpdmF0ZQogICAgICogQG1ldGhvZCBzb2x2ZUFsbAogICAgICogQHBhcmFtIHtjb25zdHJhaW50W119IGNvbnN0cmFpbnRzCiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZVNjYWxlCiAgICAgKi8KICAgIENvbnN0cmFpbnQuc29sdmVBbGwgPSBmdW5jdGlvbihjb25zdHJhaW50cywgdGltZVNjYWxlKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25zdHJhaW50cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBDb25zdHJhaW50LnNvbHZlKGNvbnN0cmFpbnRzW2ldLCB0aW1lU2NhbGUpOwogICAgICAgIH0KICAgIH07CgogICAgLyoqCiAgICAgKiBTb2x2ZXMgYSBkaXN0YW5jZSBjb25zdHJhaW50IHdpdGggR2F1c3MtU2llZGVsIG1ldGhvZC4KICAgICAqIEBwcml2YXRlCiAgICAgKiBAbWV0aG9kIHNvbHZlCiAgICAgKiBAcGFyYW0ge2NvbnN0cmFpbnR9IGNvbnN0cmFpbnQKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lU2NhbGUKICAgICAqLwogICAgQ29uc3RyYWludC5zb2x2ZSA9IGZ1bmN0aW9uKGNvbnN0cmFpbnQsIHRpbWVTY2FsZSkgewogICAgICAgIHZhciBib2R5QSA9IGNvbnN0cmFpbnQuYm9keUEsCiAgICAgICAgICAgIGJvZHlCID0gY29uc3RyYWludC5ib2R5QiwKICAgICAgICAgICAgcG9pbnRBID0gY29uc3RyYWludC5wb2ludEEsCiAgICAgICAgICAgIHBvaW50QiA9IGNvbnN0cmFpbnQucG9pbnRCOwoKICAgICAgICAvLyB1cGRhdGUgcmVmZXJlbmNlIGFuZ2xlCiAgICAgICAgaWYgKGJvZHlBICYmICFib2R5QS5pc1N0YXRpYykgewogICAgICAgICAgICBjb25zdHJhaW50LnBvaW50QSA9IFZlY3Rvci5yb3RhdGUocG9pbnRBLCBib2R5QS5hbmdsZSAtIGNvbnN0cmFpbnQuYW5nbGVBKTsKICAgICAgICAgICAgY29uc3RyYWludC5hbmdsZUEgPSBib2R5QS5hbmdsZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gdXBkYXRlIHJlZmVyZW5jZSBhbmdsZQogICAgICAgIGlmIChib2R5QiAmJiAhYm9keUIuaXNTdGF0aWMpIHsKICAgICAgICAgICAgY29uc3RyYWludC5wb2ludEIgPSBWZWN0b3Iucm90YXRlKHBvaW50QiwgYm9keUIuYW5nbGUgLSBjb25zdHJhaW50LmFuZ2xlQik7CiAgICAgICAgICAgIGNvbnN0cmFpbnQuYW5nbGVCID0gYm9keUIuYW5nbGU7CiAgICAgICAgfQoKICAgICAgICB2YXIgcG9pbnRBV29ybGQgPSBwb2ludEEsCiAgICAgICAgICAgIHBvaW50QldvcmxkID0gcG9pbnRCOwoKICAgICAgICBpZiAoYm9keUEpIHBvaW50QVdvcmxkID0gVmVjdG9yLmFkZChib2R5QS5wb3NpdGlvbiwgcG9pbnRBKTsKICAgICAgICBpZiAoYm9keUIpIHBvaW50QldvcmxkID0gVmVjdG9yLmFkZChib2R5Qi5wb3NpdGlvbiwgcG9pbnRCKTsKCiAgICAgICAgaWYgKCFwb2ludEFXb3JsZCB8fCAhcG9pbnRCV29ybGQpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgdmFyIGRlbHRhID0gVmVjdG9yLnN1Yihwb2ludEFXb3JsZCwgcG9pbnRCV29ybGQpLAogICAgICAgICAgICBjdXJyZW50TGVuZ3RoID0gVmVjdG9yLm1hZ25pdHVkZShkZWx0YSk7CgogICAgICAgIC8vIHByZXZlbnQgc2luZ3VsYXJpdHkKICAgICAgICBpZiAoY3VycmVudExlbmd0aCA9PT0gMCkKICAgICAgICAgICAgY3VycmVudExlbmd0aCA9IF9taW5MZW5ndGg7CgogICAgICAgIC8vIHNvbHZlIGRpc3RhbmNlIGNvbnN0cmFpbnQgd2l0aCBHYXVzcy1TaWVkZWwgbWV0aG9kCiAgICAgICAgdmFyIGRpZmZlcmVuY2UgPSAoY3VycmVudExlbmd0aCAtIGNvbnN0cmFpbnQubGVuZ3RoKSAvIGN1cnJlbnRMZW5ndGgsCiAgICAgICAgICAgIG5vcm1hbCA9IFZlY3Rvci5kaXYoZGVsdGEsIGN1cnJlbnRMZW5ndGgpLAogICAgICAgICAgICBmb3JjZSA9IFZlY3Rvci5tdWx0KGRlbHRhLCBkaWZmZXJlbmNlICogMC41ICogY29uc3RyYWludC5zdGlmZm5lc3MgKiB0aW1lU2NhbGUgKiB0aW1lU2NhbGUpOwogICAgICAgIAogICAgICAgIC8vIGlmIGRpZmZlcmVuY2UgaXMgdmVyeSBzbWFsbCwgd2UgY2FuIHNraXAKICAgICAgICBpZiAoTWF0aC5hYnMoMSAtIChjdXJyZW50TGVuZ3RoIC8gY29uc3RyYWludC5sZW5ndGgpKSA8IF9taW5EaWZmZXJlbmNlICogdGltZVNjYWxlKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIHZhciB2ZWxvY2l0eVBvaW50QSwKICAgICAgICAgICAgdmVsb2NpdHlQb2ludEIsCiAgICAgICAgICAgIG9mZnNldEEsCiAgICAgICAgICAgIG9mZnNldEIsCiAgICAgICAgICAgIG9BbiwKICAgICAgICAgICAgb0JuLAogICAgICAgICAgICBib2R5QURlbm9tLAogICAgICAgICAgICBib2R5QkRlbm9tOwogICAgCiAgICAgICAgaWYgKGJvZHlBICYmICFib2R5QS5pc1N0YXRpYykgewogICAgICAgICAgICAvLyBwb2ludCBib2R5IG9mZnNldAogICAgICAgICAgICBvZmZzZXRBID0geyAKICAgICAgICAgICAgICAgIHg6IHBvaW50QVdvcmxkLnggLSBib2R5QS5wb3NpdGlvbi54ICsgZm9yY2UueCwgCiAgICAgICAgICAgICAgICB5OiBwb2ludEFXb3JsZC55IC0gYm9keUEucG9zaXRpb24ueSArIGZvcmNlLnkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIHVwZGF0ZSB2ZWxvY2l0eQogICAgICAgICAgICBib2R5QS52ZWxvY2l0eS54ID0gYm9keUEucG9zaXRpb24ueCAtIGJvZHlBLnBvc2l0aW9uUHJldi54OwogICAgICAgICAgICBib2R5QS52ZWxvY2l0eS55ID0gYm9keUEucG9zaXRpb24ueSAtIGJvZHlBLnBvc2l0aW9uUHJldi55OwogICAgICAgICAgICBib2R5QS5hbmd1bGFyVmVsb2NpdHkgPSBib2R5QS5hbmdsZSAtIGJvZHlBLmFuZ2xlUHJldjsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIGZpbmQgcG9pbnQgdmVsb2NpdHkgYW5kIGJvZHkgbWFzcwogICAgICAgICAgICB2ZWxvY2l0eVBvaW50QSA9IFZlY3Rvci5hZGQoYm9keUEudmVsb2NpdHksIFZlY3Rvci5tdWx0KFZlY3Rvci5wZXJwKG9mZnNldEEpLCBib2R5QS5hbmd1bGFyVmVsb2NpdHkpKTsKICAgICAgICAgICAgb0FuID0gVmVjdG9yLmRvdChvZmZzZXRBLCBub3JtYWwpOwogICAgICAgICAgICBib2R5QURlbm9tID0gYm9keUEuaW52ZXJzZU1hc3MgKyBib2R5QS5pbnZlcnNlSW5lcnRpYSAqIG9BbiAqIG9BbjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2ZWxvY2l0eVBvaW50QSA9IHsgeDogMCwgeTogMCB9OwogICAgICAgICAgICBib2R5QURlbm9tID0gYm9keUEgPyBib2R5QS5pbnZlcnNlTWFzcyA6IDA7CiAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICBpZiAoYm9keUIgJiYgIWJvZHlCLmlzU3RhdGljKSB7CiAgICAgICAgICAgIC8vIHBvaW50IGJvZHkgb2Zmc2V0CiAgICAgICAgICAgIG9mZnNldEIgPSB7IAogICAgICAgICAgICAgICAgeDogcG9pbnRCV29ybGQueCAtIGJvZHlCLnBvc2l0aW9uLnggLSBmb3JjZS54LCAKICAgICAgICAgICAgICAgIHk6IHBvaW50QldvcmxkLnkgLSBib2R5Qi5wb3NpdGlvbi55IC0gZm9yY2UueSAKICAgICAgICAgICAgfTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIHVwZGF0ZSB2ZWxvY2l0eQogICAgICAgICAgICBib2R5Qi52ZWxvY2l0eS54ID0gYm9keUIucG9zaXRpb24ueCAtIGJvZHlCLnBvc2l0aW9uUHJldi54OwogICAgICAgICAgICBib2R5Qi52ZWxvY2l0eS55ID0gYm9keUIucG9zaXRpb24ueSAtIGJvZHlCLnBvc2l0aW9uUHJldi55OwogICAgICAgICAgICBib2R5Qi5hbmd1bGFyVmVsb2NpdHkgPSBib2R5Qi5hbmdsZSAtIGJvZHlCLmFuZ2xlUHJldjsKCiAgICAgICAgICAgIC8vIGZpbmQgcG9pbnQgdmVsb2NpdHkgYW5kIGJvZHkgbWFzcwogICAgICAgICAgICB2ZWxvY2l0eVBvaW50QiA9IFZlY3Rvci5hZGQoYm9keUIudmVsb2NpdHksIFZlY3Rvci5tdWx0KFZlY3Rvci5wZXJwKG9mZnNldEIpLCBib2R5Qi5hbmd1bGFyVmVsb2NpdHkpKTsKICAgICAgICAgICAgb0JuID0gVmVjdG9yLmRvdChvZmZzZXRCLCBub3JtYWwpOwogICAgICAgICAgICBib2R5QkRlbm9tID0gYm9keUIuaW52ZXJzZU1hc3MgKyBib2R5Qi5pbnZlcnNlSW5lcnRpYSAqIG9CbiAqIG9CbjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2ZWxvY2l0eVBvaW50QiA9IHsgeDogMCwgeTogMCB9OwogICAgICAgICAgICBib2R5QkRlbm9tID0gYm9keUIgPyBib2R5Qi5pbnZlcnNlTWFzcyA6IDA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHZhciByZWxhdGl2ZVZlbG9jaXR5ID0gVmVjdG9yLnN1Yih2ZWxvY2l0eVBvaW50QiwgdmVsb2NpdHlQb2ludEEpLAogICAgICAgICAgICBub3JtYWxJbXB1bHNlID0gVmVjdG9yLmRvdChub3JtYWwsIHJlbGF0aXZlVmVsb2NpdHkpIC8gKGJvZHlBRGVub20gKyBib2R5QkRlbm9tKTsKICAgIAogICAgICAgIGlmIChub3JtYWxJbXB1bHNlID4gMCkgbm9ybWFsSW1wdWxzZSA9IDA7CiAgICAKICAgICAgICB2YXIgbm9ybWFsVmVsb2NpdHkgPSB7CiAgICAgICAgICAgIHg6IG5vcm1hbC54ICogbm9ybWFsSW1wdWxzZSwgCiAgICAgICAgICAgIHk6IG5vcm1hbC55ICogbm9ybWFsSW1wdWxzZQogICAgICAgIH07CgogICAgICAgIHZhciB0b3JxdWU7CiAKICAgICAgICBpZiAoYm9keUEgJiYgIWJvZHlBLmlzU3RhdGljKSB7CiAgICAgICAgICAgIHRvcnF1ZSA9IFZlY3Rvci5jcm9zcyhvZmZzZXRBLCBub3JtYWxWZWxvY2l0eSkgKiBib2R5QS5pbnZlcnNlSW5lcnRpYSAqICgxIC0gY29uc3RyYWludC5hbmd1bGFyU3RpZmZuZXNzKTsKCiAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgYXBwbGllZCBpbXB1bHNlcyBmb3IgcG9zdCBzb2x2aW5nCiAgICAgICAgICAgIGJvZHlBLmNvbnN0cmFpbnRJbXB1bHNlLnggLT0gZm9yY2UueDsKICAgICAgICAgICAgYm9keUEuY29uc3RyYWludEltcHVsc2UueSAtPSBmb3JjZS55OwogICAgICAgICAgICBib2R5QS5jb25zdHJhaW50SW1wdWxzZS5hbmdsZSArPSB0b3JxdWU7CgogICAgICAgICAgICAvLyBhcHBseSBmb3JjZXMKICAgICAgICAgICAgYm9keUEucG9zaXRpb24ueCAtPSBmb3JjZS54OwogICAgICAgICAgICBib2R5QS5wb3NpdGlvbi55IC09IGZvcmNlLnk7CiAgICAgICAgICAgIGJvZHlBLmFuZ2xlICs9IHRvcnF1ZTsKICAgICAgICB9CgogICAgICAgIGlmIChib2R5QiAmJiAhYm9keUIuaXNTdGF0aWMpIHsKICAgICAgICAgICAgdG9ycXVlID0gVmVjdG9yLmNyb3NzKG9mZnNldEIsIG5vcm1hbFZlbG9jaXR5KSAqIGJvZHlCLmludmVyc2VJbmVydGlhICogKDEgLSBjb25zdHJhaW50LmFuZ3VsYXJTdGlmZm5lc3MpOwoKICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiBhcHBsaWVkIGltcHVsc2VzIGZvciBwb3N0IHNvbHZpbmcKICAgICAgICAgICAgYm9keUIuY29uc3RyYWludEltcHVsc2UueCArPSBmb3JjZS54OwogICAgICAgICAgICBib2R5Qi5jb25zdHJhaW50SW1wdWxzZS55ICs9IGZvcmNlLnk7CiAgICAgICAgICAgIGJvZHlCLmNvbnN0cmFpbnRJbXB1bHNlLmFuZ2xlIC09IHRvcnF1ZTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIGFwcGx5IGZvcmNlcwogICAgICAgICAgICBib2R5Qi5wb3NpdGlvbi54ICs9IGZvcmNlLng7CiAgICAgICAgICAgIGJvZHlCLnBvc2l0aW9uLnkgKz0gZm9yY2UueTsKICAgICAgICAgICAgYm9keUIuYW5nbGUgLT0gdG9ycXVlOwogICAgICAgIH0KCiAgICB9OwoKICAgIC8qKgogICAgICogUGVyZm9ybXMgYm9keSB1cGRhdGVzIHJlcXVpcmVkIGFmdGVyIHNvbHZpbmcgY29uc3RyYWludHMuCiAgICAgKiBAcHJpdmF0ZQogICAgICogQG1ldGhvZCBwb3N0U29sdmVBbGwKICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXMKICAgICAqLwogICAgQ29uc3RyYWludC5wb3N0U29sdmVBbGwgPSBmdW5jdGlvbihib2RpZXMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXSwKICAgICAgICAgICAgICAgIGltcHVsc2UgPSBib2R5LmNvbnN0cmFpbnRJbXB1bHNlOwoKICAgICAgICAgICAgaWYgKGltcHVsc2UueCA9PT0gMCAmJiBpbXB1bHNlLnkgPT09IDAgJiYgaW1wdWxzZS5hbmdsZSA9PT0gMCkgewogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFNsZWVwaW5nLnNldChib2R5LCBmYWxzZSk7CgogICAgICAgICAgICAvLyB1cGRhdGUgZ2VvbWV0cnkgYW5kIHJlc2V0CiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2pdOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBWZXJ0aWNlcy50cmFuc2xhdGUocGFydC52ZXJ0aWNlcywgaW1wdWxzZSk7CgogICAgICAgICAgICAgICAgaWYgKGogPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgcGFydC5wb3NpdGlvbi54ICs9IGltcHVsc2UueDsKICAgICAgICAgICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnkgKz0gaW1wdWxzZS55OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChpbXB1bHNlLmFuZ2xlICE9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgVmVydGljZXMucm90YXRlKHBhcnQudmVydGljZXMsIGltcHVsc2UuYW5nbGUsIGJvZHkucG9zaXRpb24pOwogICAgICAgICAgICAgICAgICAgIEF4ZXMucm90YXRlKHBhcnQuYXhlcywgaW1wdWxzZS5hbmdsZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGogPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFZlY3Rvci5yb3RhdGVBYm91dChwYXJ0LnBvc2l0aW9uLCBpbXB1bHNlLmFuZ2xlLCBib2R5LnBvc2l0aW9uLCBwYXJ0LnBvc2l0aW9uKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgQm91bmRzLnVwZGF0ZShwYXJ0LmJvdW5kcywgcGFydC52ZXJ0aWNlcywgYm9keS52ZWxvY2l0eSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGltcHVsc2UuYW5nbGUgPSAwOwogICAgICAgICAgICBpbXB1bHNlLnggPSAwOwogICAgICAgICAgICBpbXB1bHNlLnkgPSAwOwogICAgICAgIH0KICAgIH07CgogICAgLyoKICAgICoKICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvbgogICAgKgogICAgKi8KCiAgICAvKioKICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdW5pcXVlbHkgaWRlbnRpZnlpbmcgbnVtYmVyIGdlbmVyYXRlZCBpbiBgQ29tcG9zaXRlLmNyZWF0ZWAgYnkgYENvbW1vbi5uZXh0SWRgLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBpZAogICAgICogQHR5cGUgbnVtYmVyCiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgYFN0cmluZ2AgZGVub3RpbmcgdGhlIHR5cGUgb2Ygb2JqZWN0LgogICAgICoKICAgICAqIEBwcm9wZXJ0eSB0eXBlCiAgICAgKiBAdHlwZSBzdHJpbmcKICAgICAqIEBkZWZhdWx0ICJjb25zdHJhaW50IgogICAgICogQHJlYWRPbmx5CiAgICAgKi8KCiAgICAvKioKICAgICAqIEFuIGFyYml0cmFyeSBgU3RyaW5nYCBuYW1lIHRvIGhlbHAgdGhlIHVzZXIgaWRlbnRpZnkgYW5kIG1hbmFnZSBib2RpZXMuCiAgICAgKgogICAgICogQHByb3BlcnR5IGxhYmVsCiAgICAgKiBAdHlwZSBzdHJpbmcKICAgICAqIEBkZWZhdWx0ICJDb25zdHJhaW50IgogICAgICovCgogICAgLyoqCiAgICAgKiBBbiBgT2JqZWN0YCB0aGF0IGRlZmluZXMgdGhlIHJlbmRlcmluZyBwcm9wZXJ0aWVzIHRvIGJlIGNvbnN1bWVkIGJ5IHRoZSBtb2R1bGUgYE1hdHRlci5SZW5kZXJgLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSByZW5kZXIKICAgICAqIEB0eXBlIG9iamVjdAogICAgICovCgogICAgLyoqCiAgICAgKiBBIGZsYWcgdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIGNvbnN0cmFpbnQgc2hvdWxkIGJlIHJlbmRlcmVkLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSByZW5kZXIudmlzaWJsZQogICAgICogQHR5cGUgYm9vbGVhbgogICAgICogQGRlZmF1bHQgdHJ1ZQogICAgICovCgogICAgLyoqCiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgbGluZSB3aWR0aCB0byB1c2Ugd2hlbiByZW5kZXJpbmcgdGhlIGNvbnN0cmFpbnQgb3V0bGluZS4KICAgICAqIEEgdmFsdWUgb2YgYDBgIG1lYW5zIG5vIG91dGxpbmUgd2lsbCBiZSByZW5kZXJlZC4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLmxpbmVXaWR0aAogICAgICogQHR5cGUgbnVtYmVyCiAgICAgKiBAZGVmYXVsdCAyCiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgYFN0cmluZ2AgdGhhdCBkZWZpbmVzIHRoZSBzdHJva2Ugc3R5bGUgdG8gdXNlIHdoZW4gcmVuZGVyaW5nIHRoZSBjb25zdHJhaW50IG91dGxpbmUuCiAgICAgKiBJdCBpcyB0aGUgc2FtZSBhcyB3aGVuIHVzaW5nIGEgY2FudmFzLCBzbyBpdCBhY2NlcHRzIENTUyBzdHlsZSBwcm9wZXJ0eSB2YWx1ZXMuCiAgICAgKgogICAgICogQHByb3BlcnR5IHJlbmRlci5zdHJva2VTdHlsZQogICAgICogQHR5cGUgc3RyaW5nCiAgICAgKiBAZGVmYXVsdCBhIHJhbmRvbSBjb2xvdXIKICAgICAqLwoKICAgIC8qKgogICAgICogVGhlIGZpcnN0IHBvc3NpYmxlIGBCb2R5YCB0aGF0IHRoaXMgY29uc3RyYWludCBpcyBhdHRhY2hlZCB0by4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgYm9keUEKICAgICAqIEB0eXBlIGJvZHkKICAgICAqIEBkZWZhdWx0IG51bGwKICAgICAqLwoKICAgIC8qKgogICAgICogVGhlIHNlY29uZCBwb3NzaWJsZSBgQm9keWAgdGhhdCB0aGlzIGNvbnN0cmFpbnQgaXMgYXR0YWNoZWQgdG8uCiAgICAgKgogICAgICogQHByb3BlcnR5IGJvZHlCCiAgICAgKiBAdHlwZSBib2R5CiAgICAgKiBAZGVmYXVsdCBudWxsCiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgYFZlY3RvcmAgdGhhdCBzcGVjaWZpZXMgdGhlIG9mZnNldCBvZiB0aGUgY29uc3RyYWludCBmcm9tIGNlbnRlciBvZiB0aGUgYGNvbnN0cmFpbnQuYm9keUFgIGlmIGRlZmluZWQsIG90aGVyd2lzZSBhIHdvcmxkLXNwYWNlIHBvc2l0aW9uLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBwb2ludEEKICAgICAqIEB0eXBlIHZlY3RvcgogICAgICogQGRlZmF1bHQgeyB4OiAwLCB5OiAwIH0KICAgICAqLwoKICAgIC8qKgogICAgICogQSBgVmVjdG9yYCB0aGF0IHNwZWNpZmllcyB0aGUgb2Zmc2V0IG9mIHRoZSBjb25zdHJhaW50IGZyb20gY2VudGVyIG9mIHRoZSBgY29uc3RyYWludC5ib2R5QWAgaWYgZGVmaW5lZCwgb3RoZXJ3aXNlIGEgd29ybGQtc3BhY2UgcG9zaXRpb24uCiAgICAgKgogICAgICogQHByb3BlcnR5IHBvaW50QgogICAgICogQHR5cGUgdmVjdG9yCiAgICAgKiBAZGVmYXVsdCB7IHg6IDAsIHk6IDAgfQogICAgICovCgogICAgLyoqCiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSBzdGlmZm5lc3Mgb2YgdGhlIGNvbnN0cmFpbnQsIGkuZS4gdGhlIHJhdGUgYXQgd2hpY2ggaXQgcmV0dXJucyB0byBpdHMgcmVzdGluZyBgY29uc3RyYWludC5sZW5ndGhgLgogICAgICogQSB2YWx1ZSBvZiBgMWAgbWVhbnMgdGhlIGNvbnN0cmFpbnQgc2hvdWxkIGJlIHZlcnkgc3RpZmYuCiAgICAgKiBBIHZhbHVlIG9mIGAwLjJgIG1lYW5zIHRoZSBjb25zdHJhaW50IGFjdHMgbGlrZSBhIHNvZnQgc3ByaW5nLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBzdGlmZm5lc3MKICAgICAqIEB0eXBlIG51bWJlcgogICAgICogQGRlZmF1bHQgMQogICAgICovCgogICAgLyoqCiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSB0YXJnZXQgcmVzdGluZyBsZW5ndGggb2YgdGhlIGNvbnN0cmFpbnQuIAogICAgICogSXQgaXMgY2FsY3VsYXRlZCBhdXRvbWF0aWNhbGx5IGluIGBDb25zdHJhaW50LmNyZWF0ZWAgZnJvbSBpbml0aWFsIHBvc2l0aW9ucyBvZiB0aGUgYGNvbnN0cmFpbnQuYm9keUFgIGFuZCBgY29uc3RyYWludC5ib2R5QmAuCiAgICAgKgogICAgICogQHByb3BlcnR5IGxlbmd0aAogICAgICogQHR5cGUgbnVtYmVyCiAgICAgKi8KCiAgICAvKioKICAgICAqIEFuIG9iamVjdCByZXNlcnZlZCBmb3Igc3RvcmluZyBwbHVnaW4tc3BlY2lmaWMgcHJvcGVydGllcy4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgcGx1Z2luCiAgICAgKiBAdHlwZSB7fQogICAgICovCgp9KSgpOwoKfSx7Ii4uL2NvcmUvQ29tbW9uIjoxNCwiLi4vY29yZS9TbGVlcGluZyI6MjIsIi4uL2dlb21ldHJ5L0F4ZXMiOjI1LCIuLi9nZW9tZXRyeS9Cb3VuZHMiOjI2LCIuLi9nZW9tZXRyeS9WZWN0b3IiOjI4LCIuLi9nZW9tZXRyeS9WZXJ0aWNlcyI6Mjl9XSwxMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7Ci8qKgoqIFRoZSBgTWF0dGVyLk1vdXNlQ29uc3RyYWludGAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIG1vdXNlIGNvbnN0cmFpbnRzLgoqIE1vdXNlIGNvbnN0cmFpbnRzIGFyZSB1c2VkIGZvciBhbGxvd2luZyB1c2VyIGludGVyYWN0aW9uLCBwcm92aWRpbmcgdGhlIGFiaWxpdHkgdG8gbW92ZSBib2RpZXMgdmlhIHRoZSBtb3VzZSBvciB0b3VjaC4KKgoqIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuCioKKiBAY2xhc3MgTW91c2VDb25zdHJhaW50CiovCgp2YXIgTW91c2VDb25zdHJhaW50ID0ge307Cgptb2R1bGUuZXhwb3J0cyA9IE1vdXNlQ29uc3RyYWludDsKCnZhciBWZXJ0aWNlcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L1ZlcnRpY2VzJyk7CnZhciBTbGVlcGluZyA9IF9kZXJlcV8oJy4uL2NvcmUvU2xlZXBpbmcnKTsKdmFyIE1vdXNlID0gX2RlcmVxXygnLi4vY29yZS9Nb3VzZScpOwp2YXIgRXZlbnRzID0gX2RlcmVxXygnLi4vY29yZS9FdmVudHMnKTsKdmFyIERldGVjdG9yID0gX2RlcmVxXygnLi4vY29sbGlzaW9uL0RldGVjdG9yJyk7CnZhciBDb25zdHJhaW50ID0gX2RlcmVxXygnLi9Db25zdHJhaW50Jyk7CnZhciBDb21wb3NpdGUgPSBfZGVyZXFfKCcuLi9ib2R5L0NvbXBvc2l0ZScpOwp2YXIgQ29tbW9uID0gX2RlcmVxXygnLi4vY29yZS9Db21tb24nKTsKdmFyIEJvdW5kcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L0JvdW5kcycpOwoKKGZ1bmN0aW9uKCkgewoKICAgIC8qKgogICAgICogQ3JlYXRlcyBhIG5ldyBtb3VzZSBjb25zdHJhaW50LgogICAgICogQWxsIHByb3BlcnRpZXMgaGF2ZSBkZWZhdWx0IHZhbHVlcywgYW5kIG1hbnkgYXJlIHByZS1jYWxjdWxhdGVkIGF1dG9tYXRpY2FsbHkgYmFzZWQgb24gb3RoZXIgcHJvcGVydGllcy4KICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIGJlbG93IGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuCiAgICAgKiBAbWV0aG9kIGNyZWF0ZQogICAgICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZQogICAgICogQHBhcmFtIHt9IG9wdGlvbnMKICAgICAqIEByZXR1cm4ge01vdXNlQ29uc3RyYWludH0gQSBuZXcgTW91c2VDb25zdHJhaW50CiAgICAgKi8KICAgIE1vdXNlQ29uc3RyYWludC5jcmVhdGUgPSBmdW5jdGlvbihlbmdpbmUsIG9wdGlvbnMpIHsKICAgICAgICB2YXIgbW91c2UgPSAoZW5naW5lID8gZW5naW5lLm1vdXNlIDogbnVsbCkgfHwgKG9wdGlvbnMgPyBvcHRpb25zLm1vdXNlIDogbnVsbCk7CgogICAgICAgIGlmICghbW91c2UpIHsKICAgICAgICAgICAgaWYgKGVuZ2luZSAmJiBlbmdpbmUucmVuZGVyICYmIGVuZ2luZS5yZW5kZXIuY2FudmFzKSB7CiAgICAgICAgICAgICAgICBtb3VzZSA9IE1vdXNlLmNyZWF0ZShlbmdpbmUucmVuZGVyLmNhbnZhcyk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIG1vdXNlID0gTW91c2UuY3JlYXRlKG9wdGlvbnMuZWxlbWVudCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBtb3VzZSA9IE1vdXNlLmNyZWF0ZSgpOwogICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ01vdXNlQ29uc3RyYWludC5jcmVhdGU6IG9wdGlvbnMubW91c2Ugd2FzIHVuZGVmaW5lZCwgb3B0aW9ucy5lbGVtZW50IHdhcyB1bmRlZmluZWQsIG1heSBub3QgZnVuY3Rpb24gYXMgZXhwZWN0ZWQnKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBDb25zdHJhaW50LmNyZWF0ZSh7IAogICAgICAgICAgICBsYWJlbDogJ01vdXNlIENvbnN0cmFpbnQnLAogICAgICAgICAgICBwb2ludEE6IG1vdXNlLnBvc2l0aW9uLAogICAgICAgICAgICBwb2ludEI6IHsgeDogMCwgeTogMCB9LAogICAgICAgICAgICBsZW5ndGg6IDAuMDEsIAogICAgICAgICAgICBzdGlmZm5lc3M6IDAuMSwKICAgICAgICAgICAgYW5ndWxhclN0aWZmbmVzczogMSwKICAgICAgICAgICAgcmVuZGVyOiB7CiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZTogJyM5MEVFOTAnLAogICAgICAgICAgICAgICAgbGluZVdpZHRoOiAzCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgdmFyIGRlZmF1bHRzID0gewogICAgICAgICAgICB0eXBlOiAnbW91c2VDb25zdHJhaW50JywKICAgICAgICAgICAgbW91c2U6IG1vdXNlLAogICAgICAgICAgICBlbGVtZW50OiBudWxsLAogICAgICAgICAgICBib2R5OiBudWxsLAogICAgICAgICAgICBjb25zdHJhaW50OiBjb25zdHJhaW50LAogICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXI6IHsKICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAweDAwMDEsCiAgICAgICAgICAgICAgICBtYXNrOiAweEZGRkZGRkZGLAogICAgICAgICAgICAgICAgZ3JvdXA6IDAKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHZhciBtb3VzZUNvbnN0cmFpbnQgPSBDb21tb24uZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTsKCiAgICAgICAgRXZlbnRzLm9uKGVuZ2luZSwgJ2JlZm9yZVVwZGF0ZScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgYWxsQm9kaWVzID0gQ29tcG9zaXRlLmFsbEJvZGllcyhlbmdpbmUud29ybGQpOwogICAgICAgICAgICBNb3VzZUNvbnN0cmFpbnQudXBkYXRlKG1vdXNlQ29uc3RyYWludCwgYWxsQm9kaWVzKTsKICAgICAgICAgICAgX3RyaWdnZXJFdmVudHMobW91c2VDb25zdHJhaW50KTsKICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIG1vdXNlQ29uc3RyYWludDsKICAgIH07CgogICAgLyoqCiAgICAgKiBVcGRhdGVzIHRoZSBnaXZlbiBtb3VzZSBjb25zdHJhaW50LgogICAgICogQHByaXZhdGUKICAgICAqIEBtZXRob2QgdXBkYXRlCiAgICAgKiBAcGFyYW0ge01vdXNlQ29uc3RyYWludH0gbW91c2VDb25zdHJhaW50CiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzCiAgICAgKi8KICAgIE1vdXNlQ29uc3RyYWludC51cGRhdGUgPSBmdW5jdGlvbihtb3VzZUNvbnN0cmFpbnQsIGJvZGllcykgewogICAgICAgIHZhciBtb3VzZSA9IG1vdXNlQ29uc3RyYWludC5tb3VzZSwKICAgICAgICAgICAgY29uc3RyYWludCA9IG1vdXNlQ29uc3RyYWludC5jb25zdHJhaW50LAogICAgICAgICAgICBib2R5ID0gbW91c2VDb25zdHJhaW50LmJvZHk7CgogICAgICAgIGlmIChtb3VzZS5idXR0b24gPT09IDApIHsKICAgICAgICAgICAgaWYgKCFjb25zdHJhaW50LmJvZHlCKSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGJvZHkgPSBib2RpZXNbaV07CiAgICAgICAgICAgICAgICAgICAgaWYgKEJvdW5kcy5jb250YWlucyhib2R5LmJvdW5kcywgbW91c2UucG9zaXRpb24pIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgRGV0ZWN0b3IuY2FuQ29sbGlkZShib2R5LmNvbGxpc2lvbkZpbHRlciwgbW91c2VDb25zdHJhaW50LmNvbGxpc2lvbkZpbHRlcikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IGJvZHkucGFydHMubGVuZ3RoID4gMSA/IDEgOiAwOyBqIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2pdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFZlcnRpY2VzLmNvbnRhaW5zKHBhcnQudmVydGljZXMsIG1vdXNlLnBvc2l0aW9uKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQucG9pbnRBID0gbW91c2UucG9zaXRpb247CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RyYWludC5ib2R5QiA9IG1vdXNlQ29uc3RyYWludC5ib2R5ID0gYm9keTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdHJhaW50LnBvaW50QiA9IHsgeDogbW91c2UucG9zaXRpb24ueCAtIGJvZHkucG9zaXRpb24ueCwgeTogbW91c2UucG9zaXRpb24ueSAtIGJvZHkucG9zaXRpb24ueSB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQuYW5nbGVCID0gYm9keS5hbmdsZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2xlZXBpbmcuc2V0KGJvZHksIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudHMudHJpZ2dlcihtb3VzZUNvbnN0cmFpbnQsICdzdGFydGRyYWcnLCB7IG1vdXNlOiBtb3VzZSwgYm9keTogYm9keSB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTbGVlcGluZy5zZXQoY29uc3RyYWludC5ib2R5QiwgZmFsc2UpOwogICAgICAgICAgICAgICAgY29uc3RyYWludC5wb2ludEEgPSBtb3VzZS5wb3NpdGlvbjsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnN0cmFpbnQuYm9keUIgPSBtb3VzZUNvbnN0cmFpbnQuYm9keSA9IG51bGw7CiAgICAgICAgICAgIGNvbnN0cmFpbnQucG9pbnRCID0gbnVsbDsKCiAgICAgICAgICAgIGlmIChib2R5KQogICAgICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIobW91c2VDb25zdHJhaW50LCAnZW5kZHJhZycsIHsgbW91c2U6IG1vdXNlLCBib2R5OiBib2R5IH0pOwogICAgICAgIH0KICAgIH07CgogICAgLyoqCiAgICAgKiBUcmlnZ2VycyBtb3VzZSBjb25zdHJhaW50IGV2ZW50cy4KICAgICAqIEBtZXRob2QgX3RyaWdnZXJFdmVudHMKICAgICAqIEBwcml2YXRlCiAgICAgKiBAcGFyYW0ge21vdXNlfSBtb3VzZUNvbnN0cmFpbnQKICAgICAqLwogICAgdmFyIF90cmlnZ2VyRXZlbnRzID0gZnVuY3Rpb24obW91c2VDb25zdHJhaW50KSB7CiAgICAgICAgdmFyIG1vdXNlID0gbW91c2VDb25zdHJhaW50Lm1vdXNlLAogICAgICAgICAgICBtb3VzZUV2ZW50cyA9IG1vdXNlLnNvdXJjZUV2ZW50czsKCiAgICAgICAgaWYgKG1vdXNlRXZlbnRzLm1vdXNlbW92ZSkKICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIobW91c2VDb25zdHJhaW50LCAnbW91c2Vtb3ZlJywgeyBtb3VzZTogbW91c2UgfSk7CgogICAgICAgIGlmIChtb3VzZUV2ZW50cy5tb3VzZWRvd24pCiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKG1vdXNlQ29uc3RyYWludCwgJ21vdXNlZG93bicsIHsgbW91c2U6IG1vdXNlIH0pOwoKICAgICAgICBpZiAobW91c2VFdmVudHMubW91c2V1cCkKICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIobW91c2VDb25zdHJhaW50LCAnbW91c2V1cCcsIHsgbW91c2U6IG1vdXNlIH0pOwoKICAgICAgICAvLyByZXNldCB0aGUgbW91c2Ugc3RhdGUgcmVhZHkgZm9yIHRoZSBuZXh0IHN0ZXAKICAgICAgICBNb3VzZS5jbGVhclNvdXJjZUV2ZW50cyhtb3VzZSk7CiAgICB9OwoKICAgIC8qCiAgICAqCiAgICAqICBFdmVudHMgRG9jdW1lbnRhdGlvbgogICAgKgogICAgKi8KCiAgICAvKioKICAgICogRmlyZWQgd2hlbiB0aGUgbW91c2UgaGFzIG1vdmVkIChvciBhIHRvdWNoIG1vdmVzKSBkdXJpbmcgdGhlIGxhc3Qgc3RlcAogICAgKgogICAgKiBAZXZlbnQgbW91c2Vtb3ZlCiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3QKICAgICogQHBhcmFtIHttb3VzZX0gZXZlbnQubW91c2UgVGhlIGVuZ2luZSdzIG1vdXNlIGluc3RhbmNlCiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50CiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudAogICAgKi8KCiAgICAvKioKICAgICogRmlyZWQgd2hlbiB0aGUgbW91c2UgaXMgZG93biAob3IgYSB0b3VjaCBoYXMgc3RhcnRlZCkgZHVyaW5nIHRoZSBsYXN0IHN0ZXAKICAgICoKICAgICogQGV2ZW50IG1vdXNlZG93bgogICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0CiAgICAqIEBwYXJhbSB7bW91c2V9IGV2ZW50Lm1vdXNlIFRoZSBlbmdpbmUncyBtb3VzZSBpbnN0YW5jZQogICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKICAgICovCgogICAgLyoqCiAgICAqIEZpcmVkIHdoZW4gdGhlIG1vdXNlIGlzIHVwIChvciBhIHRvdWNoIGhhcyBlbmRlZCkgZHVyaW5nIHRoZSBsYXN0IHN0ZXAKICAgICoKICAgICogQGV2ZW50IG1vdXNldXAKICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdAogICAgKiBAcGFyYW0ge21vdXNlfSBldmVudC5tb3VzZSBUaGUgZW5naW5lJ3MgbW91c2UgaW5zdGFuY2UKICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnQKICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50CiAgICAqLwoKICAgIC8qKgogICAgKiBGaXJlZCB3aGVuIHRoZSB1c2VyIHN0YXJ0cyBkcmFnZ2luZyBhIGJvZHkKICAgICoKICAgICogQGV2ZW50IHN0YXJ0ZHJhZwogICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0CiAgICAqIEBwYXJhbSB7bW91c2V9IGV2ZW50Lm1vdXNlIFRoZSBlbmdpbmUncyBtb3VzZSBpbnN0YW5jZQogICAgKiBAcGFyYW0ge2JvZHl9IGV2ZW50LmJvZHkgVGhlIGJvZHkgYmVpbmcgZHJhZ2dlZAogICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKICAgICovCgogICAgLyoqCiAgICAqIEZpcmVkIHdoZW4gdGhlIHVzZXIgZW5kcyBkcmFnZ2luZyBhIGJvZHkKICAgICoKICAgICogQGV2ZW50IGVuZGRyYWcKICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdAogICAgKiBAcGFyYW0ge21vdXNlfSBldmVudC5tb3VzZSBUaGUgZW5naW5lJ3MgbW91c2UgaW5zdGFuY2UKICAgICogQHBhcmFtIHtib2R5fSBldmVudC5ib2R5IFRoZSBib2R5IHRoYXQgaGFzIHN0b3BwZWQgYmVpbmcgZHJhZ2dlZAogICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKICAgICovCgogICAgLyoKICAgICoKICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvbgogICAgKgogICAgKi8KCiAgICAvKioKICAgICAqIEEgYFN0cmluZ2AgZGVub3RpbmcgdGhlIHR5cGUgb2Ygb2JqZWN0LgogICAgICoKICAgICAqIEBwcm9wZXJ0eSB0eXBlCiAgICAgKiBAdHlwZSBzdHJpbmcKICAgICAqIEBkZWZhdWx0ICJjb25zdHJhaW50IgogICAgICogQHJlYWRPbmx5CiAgICAgKi8KCiAgICAvKioKICAgICAqIFRoZSBgTW91c2VgIGluc3RhbmNlIGluIHVzZS4gSWYgbm90IHN1cHBsaWVkIGluIGBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlYCwgb25lIHdpbGwgYmUgY3JlYXRlZC4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgbW91c2UKICAgICAqIEB0eXBlIG1vdXNlCiAgICAgKiBAZGVmYXVsdCBtb3VzZQogICAgICovCgogICAgLyoqCiAgICAgKiBUaGUgYEJvZHlgIHRoYXQgaXMgY3VycmVudGx5IGJlaW5nIG1vdmVkIGJ5IHRoZSB1c2VyLCBvciBgbnVsbGAgaWYgbm8gYm9keS4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgYm9keQogICAgICogQHR5cGUgYm9keQogICAgICogQGRlZmF1bHQgbnVsbAogICAgICovCgogICAgLyoqCiAgICAgKiBUaGUgYENvbnN0cmFpbnRgIG9iamVjdCB0aGF0IGlzIHVzZWQgdG8gbW92ZSB0aGUgYm9keSBkdXJpbmcgaW50ZXJhY3Rpb24uCiAgICAgKgogICAgICogQHByb3BlcnR5IGNvbnN0cmFpbnQKICAgICAqIEB0eXBlIGNvbnN0cmFpbnQKICAgICAqLwoKICAgIC8qKgogICAgICogQW4gYE9iamVjdGAgdGhhdCBzcGVjaWZpZXMgdGhlIGNvbGxpc2lvbiBmaWx0ZXIgcHJvcGVydGllcy4KICAgICAqIFRoZSBjb2xsaXNpb24gZmlsdGVyIGFsbG93cyB0aGUgdXNlciB0byBkZWZpbmUgd2hpY2ggdHlwZXMgb2YgYm9keSB0aGlzIG1vdXNlIGNvbnN0cmFpbnQgY2FuIGludGVyYWN0IHdpdGguCiAgICAgKiBTZWUgYGJvZHkuY29sbGlzaW9uRmlsdGVyYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgY29sbGlzaW9uRmlsdGVyCiAgICAgKiBAdHlwZSBvYmplY3QKICAgICAqLwoKfSkoKTsKCn0seyIuLi9ib2R5L0NvbXBvc2l0ZSI6MiwiLi4vY29sbGlzaW9uL0RldGVjdG9yIjo1LCIuLi9jb3JlL0NvbW1vbiI6MTQsIi4uL2NvcmUvRXZlbnRzIjoxNiwiLi4vY29yZS9Nb3VzZSI6MTksIi4uL2NvcmUvU2xlZXBpbmciOjIyLCIuLi9nZW9tZXRyeS9Cb3VuZHMiOjI2LCIuLi9nZW9tZXRyeS9WZXJ0aWNlcyI6MjksIi4vQ29uc3RyYWludCI6MTJ9XSwxNDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7Ci8qKgoqIFRoZSBgTWF0dGVyLkNvbW1vbmAgbW9kdWxlIGNvbnRhaW5zIHV0aWxpdHkgZnVuY3Rpb25zIHRoYXQgYXJlIGNvbW1vbiB0byBhbGwgbW9kdWxlcy4KKgoqIEBjbGFzcyBDb21tb24KKi8KCnZhciBDb21tb24gPSB7fTsKCm1vZHVsZS5leHBvcnRzID0gQ29tbW9uOwoKKGZ1bmN0aW9uKCkgewoKICAgIENvbW1vbi5fbmV4dElkID0gMDsKICAgIENvbW1vbi5fc2VlZCA9IDA7CgogICAgLyoqCiAgICAgKiBFeHRlbmRzIHRoZSBvYmplY3QgaW4gdGhlIGZpcnN0IGFyZ3VtZW50IHVzaW5nIHRoZSBvYmplY3QgaW4gdGhlIHNlY29uZCBhcmd1bWVudC4KICAgICAqIEBtZXRob2QgZXh0ZW5kCiAgICAgKiBAcGFyYW0ge30gb2JqCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRlZXAKICAgICAqIEByZXR1cm4ge30gb2JqIGV4dGVuZGVkCiAgICAgKi8KICAgIENvbW1vbi5leHRlbmQgPSBmdW5jdGlvbihvYmosIGRlZXApIHsKICAgICAgICB2YXIgYXJnc1N0YXJ0LAogICAgICAgICAgICBhcmdzLAogICAgICAgICAgICBkZWVwQ2xvbmU7CgogICAgICAgIGlmICh0eXBlb2YgZGVlcCA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgICAgIGFyZ3NTdGFydCA9IDI7CiAgICAgICAgICAgIGRlZXBDbG9uZSA9IGRlZXA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYXJnc1N0YXJ0ID0gMTsKICAgICAgICAgICAgZGVlcENsb25lID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGZvciAodmFyIGkgPSBhcmdzU3RhcnQ7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsKCiAgICAgICAgICAgIGlmIChzb3VyY2UpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZXBDbG9uZSAmJiBzb3VyY2VbcHJvcF0gJiYgc291cmNlW3Byb3BdLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmpbcHJvcF0gfHwgb2JqW3Byb3BdLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialtwcm9wXSA9IG9ialtwcm9wXSB8fCB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbW1vbi5leHRlbmQob2JqW3Byb3BdLCBkZWVwQ2xvbmUsIHNvdXJjZVtwcm9wXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiBvYmo7CiAgICB9OwoKICAgIC8qKgogICAgICogQ3JlYXRlcyBhIG5ldyBjbG9uZSBvZiB0aGUgb2JqZWN0LCBpZiBkZWVwIGlzIHRydWUgcmVmZXJlbmNlcyB3aWxsIGFsc28gYmUgY2xvbmVkLgogICAgICogQG1ldGhvZCBjbG9uZQogICAgICogQHBhcmFtIHt9IG9iagogICAgICogQHBhcmFtIHtib29sfSBkZWVwCiAgICAgKiBAcmV0dXJuIHt9IG9iaiBjbG9uZWQKICAgICAqLwogICAgQ29tbW9uLmNsb25lID0gZnVuY3Rpb24ob2JqLCBkZWVwKSB7CiAgICAgICAgcmV0dXJuIENvbW1vbi5leHRlbmQoe30sIGRlZXAsIG9iaik7CiAgICB9OwoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgbGlzdCBvZiBrZXlzIGZvciB0aGUgZ2l2ZW4gb2JqZWN0LgogICAgICogQG1ldGhvZCBrZXlzCiAgICAgKiBAcGFyYW0ge30gb2JqCiAgICAgKiBAcmV0dXJuIHtzdHJpbmdbXX0ga2V5cwogICAgICovCiAgICBDb21tb24ua2V5cyA9IGZ1bmN0aW9uKG9iaikgewogICAgICAgIGlmIChPYmplY3Qua2V5cykKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaik7CgogICAgICAgIC8vIGF2b2lkIGhhc093blByb3BlcnR5IGZvciBwZXJmb3JtYW5jZQogICAgICAgIHZhciBrZXlzID0gW107CiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikKICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7CiAgICAgICAgcmV0dXJuIGtleXM7CiAgICB9OwoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgbGlzdCBvZiB2YWx1ZXMgZm9yIHRoZSBnaXZlbiBvYmplY3QuCiAgICAgKiBAbWV0aG9kIHZhbHVlcwogICAgICogQHBhcmFtIHt9IG9iagogICAgICogQHJldHVybiB7YXJyYXl9IEFycmF5IG9mIHRoZSBvYmplY3RzIHByb3BlcnR5IHZhbHVlcwogICAgICovCiAgICBDb21tb24udmFsdWVzID0gZnVuY3Rpb24ob2JqKSB7CiAgICAgICAgdmFyIHZhbHVlcyA9IFtdOwogICAgICAgIAogICAgICAgIGlmIChPYmplY3Qua2V5cykgewogICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgdmFsdWVzLnB1c2gob2JqW2tleXNbaV1dKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdmFsdWVzOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBhdm9pZCBoYXNPd25Qcm9wZXJ0eSBmb3IgcGVyZm9ybWFuY2UKICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKQogICAgICAgICAgICB2YWx1ZXMucHVzaChvYmpba2V5XSk7CiAgICAgICAgcmV0dXJuIHZhbHVlczsKICAgIH07CgogICAgLyoqCiAgICAgKiBHZXRzIGEgdmFsdWUgZnJvbSBgYmFzZWAgcmVsYXRpdmUgdG8gdGhlIGBwYXRoYCBzdHJpbmcuCiAgICAgKiBAbWV0aG9kIGdldAogICAgICogQHBhcmFtIHt9IG9iaiBUaGUgYmFzZSBvYmplY3QKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHJlbGF0aXZlIHRvIGBiYXNlYCwgZS5nLiAnRm9vLkJhci5iYXonCiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JlZ2luXSBQYXRoIHNsaWNlIGJlZ2luCiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZF0gUGF0aCBzbGljZSBlbmQKICAgICAqIEByZXR1cm4ge30gVGhlIG9iamVjdCBhdCB0aGUgZ2l2ZW4gcGF0aAogICAgICovCiAgICBDb21tb24uZ2V0ID0gZnVuY3Rpb24ob2JqLCBwYXRoLCBiZWdpbiwgZW5kKSB7CiAgICAgICAgcGF0aCA9IHBhdGguc3BsaXQoJy4nKS5zbGljZShiZWdpbiwgZW5kKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgIG9iaiA9IG9ialtwYXRoW2ldXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBvYmo7CiAgICB9OwoKICAgIC8qKgogICAgICogU2V0cyBhIHZhbHVlIG9uIGBiYXNlYCByZWxhdGl2ZSB0byB0aGUgZ2l2ZW4gYHBhdGhgIHN0cmluZy4KICAgICAqIEBtZXRob2Qgc2V0CiAgICAgKiBAcGFyYW0ge30gb2JqIFRoZSBiYXNlIG9iamVjdAogICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggcmVsYXRpdmUgdG8gYGJhc2VgLCBlLmcuICdGb28uQmFyLmJheicKICAgICAqIEBwYXJhbSB7fSB2YWwgVGhlIHZhbHVlIHRvIHNldAogICAgICogQHBhcmFtIHtudW1iZXJ9IFtiZWdpbl0gUGF0aCBzbGljZSBiZWdpbgogICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmRdIFBhdGggc2xpY2UgZW5kCiAgICAgKiBAcmV0dXJuIHt9IFBhc3MgdGhyb3VnaCBgdmFsYCBmb3IgY2hhaW5pbmcKICAgICAqLwogICAgQ29tbW9uLnNldCA9IGZ1bmN0aW9uKG9iaiwgcGF0aCwgdmFsLCBiZWdpbiwgZW5kKSB7CiAgICAgICAgdmFyIHBhcnRzID0gcGF0aC5zcGxpdCgnLicpLnNsaWNlKGJlZ2luLCBlbmQpOwogICAgICAgIENvbW1vbi5nZXQob2JqLCBwYXRoLCAwLCAtMSlbcGFydHNbcGFydHMubGVuZ3RoIC0gMV1dID0gdmFsOwogICAgICAgIHJldHVybiB2YWw7CiAgICB9OwoKICAgIC8qKgogICAgICogUmV0dXJucyBhIGhleCBjb2xvdXIgc3RyaW5nIG1hZGUgYnkgbGlnaHRlbmluZyBvciBkYXJrZW5pbmcgY29sb3IgYnkgcGVyY2VudC4KICAgICAqIEBtZXRob2Qgc2hhZGVDb2xvcgogICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yCiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGVyY2VudAogICAgICogQHJldHVybiB7c3RyaW5nfSBBIGhleCBjb2xvdXIKICAgICAqLwogICAgQ29tbW9uLnNoYWRlQ29sb3IgPSBmdW5jdGlvbihjb2xvciwgcGVyY2VudCkgeyAgIAogICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTU2MDI0OC9wcm9ncmFtbWF0aWNhbGx5LWxpZ2h0ZW4tb3ItZGFya2VuLWEtaGV4LWNvbG9yCiAgICAgICAgdmFyIGNvbG9ySW50ZWdlciA9IHBhcnNlSW50KGNvbG9yLnNsaWNlKDEpLDE2KSwgCiAgICAgICAgICAgIGFtb3VudCA9IE1hdGgucm91bmQoMi41NSAqIHBlcmNlbnQpLCAKICAgICAgICAgICAgUiA9IChjb2xvckludGVnZXIgPj4gMTYpICsgYW1vdW50LCAKICAgICAgICAgICAgQiA9IChjb2xvckludGVnZXIgPj4gOCAmIDB4MDBGRikgKyBhbW91bnQsIAogICAgICAgICAgICBHID0gKGNvbG9ySW50ZWdlciAmIDB4MDAwMEZGKSArIGFtb3VudDsKICAgICAgICByZXR1cm4gIiMiICsgKDB4MTAwMDAwMCArIChSIDwgMjU1ID8gUiA8IDEgPyAwIDogUiA6MjU1KSAqIDB4MTAwMDAgCiAgICAgICAgICAgICAgICArIChCIDwgMjU1ID8gQiA8IDEgPyAwIDogQiA6IDI1NSkgKiAweDEwMCAKICAgICAgICAgICAgICAgICsgKEcgPCAyNTUgPyBHIDwgMSA/IDAgOiBHIDogMjU1KSkudG9TdHJpbmcoMTYpLnNsaWNlKDEpOwogICAgfTsKCiAgICAvKioKICAgICAqIFNodWZmbGVzIHRoZSBnaXZlbiBhcnJheSBpbi1wbGFjZS4KICAgICAqIFRoZSBmdW5jdGlvbiB1c2VzIGEgc2VlZGVkIHJhbmRvbSBnZW5lcmF0b3IuCiAgICAgKiBAbWV0aG9kIHNodWZmbGUKICAgICAqIEBwYXJhbSB7YXJyYXl9IGFycmF5CiAgICAgKiBAcmV0dXJuIHthcnJheX0gYXJyYXkgc2h1ZmZsZWQgcmFuZG9tbHkKICAgICAqLwogICAgQ29tbW9uLnNodWZmbGUgPSBmdW5jdGlvbihhcnJheSkgewogICAgICAgIGZvciAodmFyIGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7CiAgICAgICAgICAgIHZhciBqID0gTWF0aC5mbG9vcihDb21tb24ucmFuZG9tKCkgKiAoaSArIDEpKTsKICAgICAgICAgICAgdmFyIHRlbXAgPSBhcnJheVtpXTsKICAgICAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtqXTsKICAgICAgICAgICAgYXJyYXlbal0gPSB0ZW1wOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYXJyYXk7CiAgICB9OwoKICAgIC8qKgogICAgICogUmFuZG9tbHkgY2hvb3NlcyBhIHZhbHVlIGZyb20gYSBsaXN0IHdpdGggZXF1YWwgcHJvYmFiaWxpdHkuCiAgICAgKiBUaGUgZnVuY3Rpb24gdXNlcyBhIHNlZWRlZCByYW5kb20gZ2VuZXJhdG9yLgogICAgICogQG1ldGhvZCBjaG9vc2UKICAgICAqIEBwYXJhbSB7YXJyYXl9IGNob2ljZXMKICAgICAqIEByZXR1cm4ge29iamVjdH0gQSByYW5kb20gY2hvaWNlIG9iamVjdCBmcm9tIHRoZSBhcnJheQogICAgICovCiAgICBDb21tb24uY2hvb3NlID0gZnVuY3Rpb24oY2hvaWNlcykgewogICAgICAgIHJldHVybiBjaG9pY2VzW01hdGguZmxvb3IoQ29tbW9uLnJhbmRvbSgpICogY2hvaWNlcy5sZW5ndGgpXTsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBpcyBhIEhUTUxFbGVtZW50LCBvdGhlcndpc2UgZmFsc2UuCiAgICAgKiBAbWV0aG9kIGlzRWxlbWVudAogICAgICogQHBhcmFtIHtvYmplY3R9IG9iagogICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgSFRNTEVsZW1lbnQsIG90aGVyd2lzZSBmYWxzZQogICAgICovCiAgICBDb21tb24uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7CiAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zODQyODYvamF2YXNjcmlwdC1pc2RvbS1ob3ctZG8teW91LWNoZWNrLWlmLWEtamF2YXNjcmlwdC1vYmplY3QtaXMtYS1kb20tb2JqZWN0CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50OwogICAgICAgIH0KICAgICAgICBjYXRjaChlKXsKICAgICAgICAgICAgcmV0dXJuICh0eXBlb2Ygb2JqPT09Im9iamVjdCIpICYmCiAgICAgICAgICAgICAgKG9iai5ub2RlVHlwZT09PTEpICYmICh0eXBlb2Ygb2JqLnN0eWxlID09PSAib2JqZWN0IikgJiYKICAgICAgICAgICAgICAodHlwZW9mIG9iai5vd25lckRvY3VtZW50ID09PSJvYmplY3QiKTsKICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgYW4gYXJyYXkuCiAgICAgKiBAbWV0aG9kIGlzQXJyYXkKICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmoKICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIG9iamVjdCBpcyBhbiBhcnJheSwgb3RoZXJ3aXNlIGZhbHNlCiAgICAgKi8KICAgIENvbW1vbi5pc0FycmF5ID0gZnVuY3Rpb24ob2JqKSB7CiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nOwogICAgfTsKCiAgICAvKioKICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgZnVuY3Rpb24uCiAgICAgKiBAbWV0aG9kIGlzRnVuY3Rpb24KICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmoKICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIG9iamVjdCBpcyBhIGZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2UKICAgICAqLwogICAgQ29tbW9uLmlzRnVuY3Rpb24gPSBmdW5jdGlvbihvYmopIHsKICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gImZ1bmN0aW9uIjsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBpcyBhIHBsYWluIG9iamVjdC4KICAgICAqIEBtZXRob2QgaXNQbGFpbk9iamVjdAogICAgICogQHBhcmFtIHtvYmplY3R9IG9iagogICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgcGxhaW4gb2JqZWN0LCBvdGhlcndpc2UgZmFsc2UKICAgICAqLwogICAgQ29tbW9uLmlzUGxhaW5PYmplY3QgPSBmdW5jdGlvbihvYmopIHsKICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBPYmplY3Q7CiAgICB9OwoKICAgIC8qKgogICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgYSBzdHJpbmcuCiAgICAgKiBAbWV0aG9kIGlzU3RyaW5nCiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqCiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBvYmplY3QgaXMgYSBzdHJpbmcsIG90aGVyd2lzZSBmYWxzZQogICAgICovCiAgICBDb21tb24uaXNTdHJpbmcgPSBmdW5jdGlvbihvYmopIHsKICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBTdHJpbmddJzsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgZ2l2ZW4gdmFsdWUgY2xhbXBlZCBiZXR3ZWVuIGEgbWluaW11bSBhbmQgbWF4aW11bSB2YWx1ZS4KICAgICAqIEBtZXRob2QgY2xhbXAKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbgogICAgICogQHBhcmFtIHtudW1iZXJ9IG1heAogICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgdmFsdWUgY2xhbXBlZCBiZXR3ZWVuIG1pbiBhbmQgbWF4IGluY2x1c2l2ZQogICAgICovCiAgICBDb21tb24uY2xhbXAgPSBmdW5jdGlvbih2YWx1ZSwgbWluLCBtYXgpIHsKICAgICAgICBpZiAodmFsdWUgPCBtaW4pCiAgICAgICAgICAgIHJldHVybiBtaW47CiAgICAgICAgaWYgKHZhbHVlID4gbWF4KQogICAgICAgICAgICByZXR1cm4gbWF4OwogICAgICAgIHJldHVybiB2YWx1ZTsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgc2lnbiBvZiB0aGUgZ2l2ZW4gdmFsdWUuCiAgICAgKiBAbWV0aG9kIHNpZ24KICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogICAgICogQHJldHVybiB7bnVtYmVyfSAtMSBpZiBuZWdhdGl2ZSwgKzEgaWYgMCBvciBwb3NpdGl2ZQogICAgICovCiAgICBDb21tb24uc2lnbiA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlIDwgMCA/IC0xIDogMTsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgY3VycmVudCB0aW1lc3RhbXAgKGhpZ2gtcmVzIGlmIGF2YWlsYWJsZSkuCiAgICAgKiBAbWV0aG9kIG5vdwogICAgICogQHJldHVybiB7bnVtYmVyfSB0aGUgY3VycmVudCB0aW1lc3RhbXAgKGhpZ2gtcmVzIGlmIGF2YWlsYWJsZSkKICAgICAqLwogICAgQ29tbW9uLm5vdyA9IGZ1bmN0aW9uKCkgewogICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjIxMjk0L2hvdy1kby15b3UtZ2V0LWEtdGltZXN0YW1wLWluLWphdmFzY3JpcHQKICAgICAgICAvLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9kYXZpZHdhdGVyc3Rvbi8yOTgyNTMxCgogICAgICAgIHZhciBwZXJmb3JtYW5jZSA9IHdpbmRvdy5wZXJmb3JtYW5jZSB8fCB7fTsKCiAgICAgICAgcGVyZm9ybWFuY2Uubm93ID0gKGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gcGVyZm9ybWFuY2Uubm93ICAgIHx8CiAgICAgICAgICAgIHBlcmZvcm1hbmNlLndlYmtpdE5vdyAgICAgfHwKICAgICAgICAgICAgcGVyZm9ybWFuY2UubXNOb3cgICAgICAgICB8fAogICAgICAgICAgICBwZXJmb3JtYW5jZS5vTm93ICAgICAgICAgIHx8CiAgICAgICAgICAgIHBlcmZvcm1hbmNlLm1vek5vdyAgICAgICAgfHwKICAgICAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiArKG5ldyBEYXRlKCkpOyB9OwogICAgICAgIH0pKCk7CiAgICAgICAgICAgICAgCiAgICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpOwogICAgfTsKICAgIAogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEgcmFuZG9tIHZhbHVlIGJldHdlZW4gYSBtaW5pbXVtIGFuZCBhIG1heGltdW0gdmFsdWUgaW5jbHVzaXZlLgogICAgICogVGhlIGZ1bmN0aW9uIHVzZXMgYSBzZWVkZWQgcmFuZG9tIGdlbmVyYXRvci4KICAgICAqIEBtZXRob2QgcmFuZG9tCiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluCiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4CiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIG1pbiBhbmQgbWF4IGluY2x1c2l2ZQogICAgICovCiAgICBDb21tb24ucmFuZG9tID0gZnVuY3Rpb24obWluLCBtYXgpIHsKICAgICAgICBtaW4gPSAodHlwZW9mIG1pbiAhPT0gInVuZGVmaW5lZCIpID8gbWluIDogMDsKICAgICAgICBtYXggPSAodHlwZW9mIG1heCAhPT0gInVuZGVmaW5lZCIpID8gbWF4IDogMTsKICAgICAgICByZXR1cm4gbWluICsgX3NlZWRlZFJhbmRvbSgpICogKG1heCAtIG1pbik7CiAgICB9OwoKICAgIHZhciBfc2VlZGVkUmFuZG9tID0gZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vbmdyeW1hbi8zODMwNDg5CiAgICAgICAgQ29tbW9uLl9zZWVkID0gKENvbW1vbi5fc2VlZCAqIDkzMDEgKyA0OTI5NykgJSAyMzMyODA7CiAgICAgICAgcmV0dXJuIENvbW1vbi5fc2VlZCAvIDIzMzI4MDsKICAgIH07CgogICAgLyoqCiAgICAgKiBDb252ZXJ0cyBhIENTUyBoZXggY29sb3VyIHN0cmluZyBpbnRvIGFuIGludGVnZXIuCiAgICAgKiBAbWV0aG9kIGNvbG9yVG9OdW1iZXIKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvclN0cmluZwogICAgICogQHJldHVybiB7bnVtYmVyfSBBbiBpbnRlZ2VyIHJlcHJlc2VudGluZyB0aGUgQ1NTIGhleCBzdHJpbmcKICAgICAqLwogICAgQ29tbW9uLmNvbG9yVG9OdW1iZXIgPSBmdW5jdGlvbihjb2xvclN0cmluZykgewogICAgICAgIGNvbG9yU3RyaW5nID0gY29sb3JTdHJpbmcucmVwbGFjZSgnIycsJycpOwoKICAgICAgICBpZiAoY29sb3JTdHJpbmcubGVuZ3RoID09IDMpIHsKICAgICAgICAgICAgY29sb3JTdHJpbmcgPSBjb2xvclN0cmluZy5jaGFyQXQoMCkgKyBjb2xvclN0cmluZy5jaGFyQXQoMCkKICAgICAgICAgICAgICAgICAgICAgICAgKyBjb2xvclN0cmluZy5jaGFyQXQoMSkgKyBjb2xvclN0cmluZy5jaGFyQXQoMSkKICAgICAgICAgICAgICAgICAgICAgICAgKyBjb2xvclN0cmluZy5jaGFyQXQoMikgKyBjb2xvclN0cmluZy5jaGFyQXQoMik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcGFyc2VJbnQoY29sb3JTdHJpbmcsIDE2KTsKICAgIH07CgogICAgLyoqCiAgICAgKiBUaGUgY29uc29sZSBsb2dnaW5nIGxldmVsIHRvIHVzZSwgd2hlcmUgZWFjaCBsZXZlbCBpbmNsdWRlcyBhbGwgbGV2ZWxzIGFib3ZlIGFuZCBleGNsdWRlcyB0aGUgbGV2ZWxzIGJlbG93LgogICAgICogVGhlIGRlZmF1bHQgbGV2ZWwgaXMgJ2RlYnVnJyB3aGljaCBzaG93cyBhbGwgY29uc29sZSBtZXNzYWdlcy4gIAogICAgICoKICAgICAqIFBvc3NpYmxlIGxldmVsIHZhbHVlcyBhcmU6CiAgICAgKiAtIDAgPSBOb25lCiAgICAgKiAtIDEgPSBEZWJ1ZwogICAgICogLSAyID0gSW5mbwogICAgICogLSAzID0gV2FybgogICAgICogLSA0ID0gRXJyb3IKICAgICAqIEBwcm9wZXJ0eSBDb21tb24ubG9nTGV2ZWwKICAgICAqIEB0eXBlIHtOdW1iZXJ9CiAgICAgKiBAZGVmYXVsdCAxCiAgICAgKi8KICAgIENvbW1vbi5sb2dMZXZlbCA9IDE7CgogICAgLyoqCiAgICAgKiBTaG93cyBhIGBjb25zb2xlLmxvZ2AgbWVzc2FnZSBvbmx5IGlmIHRoZSBjdXJyZW50IGBDb21tb24ubG9nTGV2ZWxgIGFsbG93cyBpdC4KICAgICAqIFRoZSBtZXNzYWdlIHdpbGwgYmUgcHJlZml4ZWQgd2l0aCAnbWF0dGVyLWpzJyB0byBtYWtlIGl0IGVhc2lseSBpZGVudGlmaWFibGUuCiAgICAgKiBAbWV0aG9kIGxvZwogICAgICogQHBhcmFtIC4uLm9ianMge30gVGhlIG9iamVjdHMgdG8gbG9nLgogICAgICovCiAgICBDb21tb24ubG9nID0gZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGNvbnNvbGUgJiYgQ29tbW9uLmxvZ0xldmVsID4gMCAmJiBDb21tb24ubG9nTGV2ZWwgPD0gMykgewogICAgICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBbJ21hdHRlci1qczonXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpOwogICAgICAgIH0KICAgIH07CgogICAgLyoqCiAgICAgKiBTaG93cyBhIGBjb25zb2xlLmluZm9gIG1lc3NhZ2Ugb25seSBpZiB0aGUgY3VycmVudCBgQ29tbW9uLmxvZ0xldmVsYCBhbGxvd3MgaXQuCiAgICAgKiBUaGUgbWVzc2FnZSB3aWxsIGJlIHByZWZpeGVkIHdpdGggJ21hdHRlci1qcycgdG8gbWFrZSBpdCBlYXNpbHkgaWRlbnRpZmlhYmxlLgogICAgICogQG1ldGhvZCBpbmZvCiAgICAgKiBAcGFyYW0gLi4ub2JqcyB7fSBUaGUgb2JqZWN0cyB0byBsb2cuCiAgICAgKi8KICAgIENvbW1vbi5pbmZvID0gZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGNvbnNvbGUgJiYgQ29tbW9uLmxvZ0xldmVsID4gMCAmJiBDb21tb24ubG9nTGV2ZWwgPD0gMikgewogICAgICAgICAgICBjb25zb2xlLmluZm8uYXBwbHkoY29uc29sZSwgWydtYXR0ZXItanM6J10uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpKTsKICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogU2hvd3MgYSBgY29uc29sZS53YXJuYCBtZXNzYWdlIG9ubHkgaWYgdGhlIGN1cnJlbnQgYENvbW1vbi5sb2dMZXZlbGAgYWxsb3dzIGl0LgogICAgICogVGhlIG1lc3NhZ2Ugd2lsbCBiZSBwcmVmaXhlZCB3aXRoICdtYXR0ZXItanMnIHRvIG1ha2UgaXQgZWFzaWx5IGlkZW50aWZpYWJsZS4KICAgICAqIEBtZXRob2Qgd2FybgogICAgICogQHBhcmFtIC4uLm9ianMge30gVGhlIG9iamVjdHMgdG8gbG9nLgogICAgICovCiAgICBDb21tb24ud2FybiA9IGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChjb25zb2xlICYmIENvbW1vbi5sb2dMZXZlbCA+IDAgJiYgQ29tbW9uLmxvZ0xldmVsIDw9IDMpIHsKICAgICAgICAgICAgY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsIFsnbWF0dGVyLWpzOiddLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7CiAgICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIG5leHQgdW5pcXVlIHNlcXVlbnRpYWwgSUQuCiAgICAgKiBAbWV0aG9kIG5leHRJZAogICAgICogQHJldHVybiB7TnVtYmVyfSBVbmlxdWUgc2VxdWVudGlhbCBJRAogICAgICovCiAgICBDb21tb24ubmV4dElkID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIENvbW1vbi5fbmV4dElkKys7CiAgICB9OwoKICAgIC8qKgogICAgICogQSBjcm9zcyBicm93c2VyIGNvbXBhdGlibGUgaW5kZXhPZiBpbXBsZW1lbnRhdGlvbi4KICAgICAqIEBtZXRob2QgaW5kZXhPZgogICAgICogQHBhcmFtIHthcnJheX0gaGF5c3RhY2sKICAgICAqIEBwYXJhbSB7b2JqZWN0fSBuZWVkbGUKICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHBvc2l0aW9uIG9mIG5lZWRsZSBpbiBoYXlzdGFjaywgb3RoZXJ3aXNlIC0xLgogICAgICovCiAgICBDb21tb24uaW5kZXhPZiA9IGZ1bmN0aW9uKGhheXN0YWNrLCBuZWVkbGUpIHsKICAgICAgICBpZiAoaGF5c3RhY2suaW5kZXhPZikKICAgICAgICAgICAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoYXlzdGFjay5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoaGF5c3RhY2tbaV0gPT09IG5lZWRsZSkKICAgICAgICAgICAgICAgIHJldHVybiBpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIC0xOwogICAgfTsKCiAgICAvKioKICAgICAqIEEgY3Jvc3MgYnJvd3NlciBjb21wYXRpYmxlIGFycmF5IG1hcCBpbXBsZW1lbnRhdGlvbi4KICAgICAqIEBtZXRob2QgbWFwCiAgICAgKiBAcGFyYW0ge2FycmF5fSBsaXN0CiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jCiAgICAgKiBAcmV0dXJuIHthcnJheX0gVmFsdWVzIGZyb20gbGlzdCB0cmFuc2Zvcm1lZCBieSBmdW5jLgogICAgICovCiAgICBDb21tb24ubWFwID0gZnVuY3Rpb24obGlzdCwgZnVuYykgewogICAgICAgIGlmIChsaXN0Lm1hcCkgewogICAgICAgICAgICByZXR1cm4gbGlzdC5tYXAoZnVuYyk7CiAgICAgICAgfQoKICAgICAgICB2YXIgbWFwcGVkID0gW107CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgICAgICBtYXBwZWQucHVzaChmdW5jKGxpc3RbaV0pKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBtYXBwZWQ7CiAgICB9OwoKICAgIC8qKgogICAgICogVGFrZXMgYSBkaXJlY3RlZCBncmFwaCBhbmQgcmV0dXJucyB0aGUgcGFydGlhbGx5IG9yZGVyZWQgc2V0IG9mIHZlcnRpY2VzIGluIHRvcG9sb2dpY2FsIG9yZGVyLgogICAgICogQ2lyY3VsYXIgZGVwZW5kZW5jaWVzIGFyZSBhbGxvd2VkLgogICAgICogQG1ldGhvZCB0b3BvbG9naWNhbFNvcnQKICAgICAqIEBwYXJhbSB7b2JqZWN0fSBncmFwaAogICAgICogQHJldHVybiB7YXJyYXl9IFBhcnRpYWxseSBvcmRlcmVkIHNldCBvZiB2ZXJ0aWNlcyBpbiB0b3BvbG9naWNhbCBvcmRlci4KICAgICAqLwogICAgQ29tbW9uLnRvcG9sb2dpY2FsU29ydCA9IGZ1bmN0aW9uKGdyYXBoKSB7CiAgICAgICAgLy8gaHR0cHM6Ly9tZ2VjaGV2LmdpdGh1Yi5pby9qYXZhc2NyaXB0LWFsZ29yaXRobXMvZ3JhcGhzX290aGVyc190b3BvbG9naWNhbC1zb3J0LmpzLmh0bWwKICAgICAgICB2YXIgcmVzdWx0ID0gW10sCiAgICAgICAgICAgIHZpc2l0ZWQgPSBbXSwKICAgICAgICAgICAgdGVtcCA9IFtdOwoKICAgICAgICBmb3IgKHZhciBub2RlIGluIGdyYXBoKSB7CiAgICAgICAgICAgIGlmICghdmlzaXRlZFtub2RlXSAmJiAhdGVtcFtub2RlXSkgewogICAgICAgICAgICAgICAgX3RvcG9sb2dpY2FsU29ydChub2RlLCB2aXNpdGVkLCB0ZW1wLCBncmFwaCwgcmVzdWx0KTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CgogICAgdmFyIF90b3BvbG9naWNhbFNvcnQgPSBmdW5jdGlvbihub2RlLCB2aXNpdGVkLCB0ZW1wLCBncmFwaCwgcmVzdWx0KSB7CiAgICAgICAgdmFyIG5laWdoYm9ycyA9IGdyYXBoW25vZGVdIHx8IFtdOwogICAgICAgIHRlbXBbbm9kZV0gPSB0cnVlOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm9ycy5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgICAgICB2YXIgbmVpZ2hib3IgPSBuZWlnaGJvcnNbaV07CgogICAgICAgICAgICBpZiAodGVtcFtuZWlnaGJvcl0pIHsKICAgICAgICAgICAgICAgIC8vIHNraXAgY2lyY3VsYXIgZGVwZW5kZW5jaWVzCiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCF2aXNpdGVkW25laWdoYm9yXSkgewogICAgICAgICAgICAgICAgX3RvcG9sb2dpY2FsU29ydChuZWlnaGJvciwgdmlzaXRlZCwgdGVtcCwgZ3JhcGgsIHJlc3VsdCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRlbXBbbm9kZV0gPSBmYWxzZTsKICAgICAgICB2aXNpdGVkW25vZGVdID0gdHJ1ZTsKCiAgICAgICAgcmVzdWx0LnB1c2gobm9kZSk7CiAgICB9OwoKICAgIC8qKgogICAgICogVGFrZXMgX25fIGZ1bmN0aW9ucyBhcyBhcmd1bWVudHMgYW5kIHJldHVybnMgYSBuZXcgZnVuY3Rpb24gdGhhdCBjYWxscyB0aGVtIGluIG9yZGVyLgogICAgICogVGhlIGFyZ3VtZW50cyBhcHBsaWVkIHdoZW4gY2FsbGluZyB0aGUgbmV3IGZ1bmN0aW9uIHdpbGwgYWxzbyBiZSBhcHBsaWVkIHRvIGV2ZXJ5IGZ1bmN0aW9uIHBhc3NlZC4KICAgICAqIFRoZSB2YWx1ZSBvZiBgdGhpc2AgcmVmZXJzIHRvIHRoZSBsYXN0IHZhbHVlIHJldHVybmVkIGluIHRoZSBjaGFpbiB0aGF0IHdhcyBub3QgYHVuZGVmaW5lZGAuCiAgICAgKiBUaGVyZWZvcmUgaWYgYSBwYXNzZWQgZnVuY3Rpb24gZG9lcyBub3QgcmV0dXJuIGEgdmFsdWUsIHRoZSBwcmV2aW91c2x5IHJldHVybmVkIHZhbHVlIGlzIG1haW50YWluZWQuCiAgICAgKiBBZnRlciBhbGwgcGFzc2VkIGZ1bmN0aW9ucyBoYXZlIGJlZW4gY2FsbGVkIHRoZSBuZXcgZnVuY3Rpb24gcmV0dXJucyB0aGUgbGFzdCByZXR1cm5lZCB2YWx1ZSAoaWYgYW55KS4KICAgICAqIElmIGFueSBvZiB0aGUgcGFzc2VkIGZ1bmN0aW9ucyBhcmUgYSBjaGFpbiwgdGhlbiB0aGUgY2hhaW4gd2lsbCBiZSBmbGF0dGVuZWQuCiAgICAgKiBAbWV0aG9kIGNoYWluCiAgICAgKiBAcGFyYW0gLi4uZnVuY3Mge2Z1bmN0aW9ufSBUaGUgZnVuY3Rpb25zIHRvIGNoYWluLgogICAgICogQHJldHVybiB7ZnVuY3Rpb259IEEgbmV3IGZ1bmN0aW9uIHRoYXQgY2FsbHMgdGhlIHBhc3NlZCBmdW5jdGlvbnMgaW4gb3JkZXIuCiAgICAgKi8KICAgIENvbW1vbi5jaGFpbiA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBmdW5jcyA9IFtdOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgICAgICB2YXIgZnVuYyA9IGFyZ3VtZW50c1tpXTsKCiAgICAgICAgICAgIGlmIChmdW5jLl9jaGFpbmVkKSB7CiAgICAgICAgICAgICAgICAvLyBmbGF0dGVuIGFscmVhZHkgY2hhaW5lZCBmdW5jdGlvbnMKICAgICAgICAgICAgICAgIGZ1bmNzLnB1c2guYXBwbHkoZnVuY3MsIGZ1bmMuX2NoYWluZWQpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZnVuY3MucHVzaChmdW5jKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIGNoYWluID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDaHJvbWUvZGV2dG9vbHMtZG9jcy9pc3N1ZXMvNTMjaXNzdWVjb21tZW50LTUxOTQxMzU4CiAgICAgICAgICAgIHZhciBsYXN0UmVzdWx0LAogICAgICAgICAgICAgICAgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTsKCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZ1bmNzLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuY3NbaV0uYXBwbHkobGFzdFJlc3VsdCwgYXJncyk7CgogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgbGFzdFJlc3VsdCA9IHJlc3VsdDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7CiAgICAgICAgfTsKCiAgICAgICAgY2hhaW4uX2NoYWluZWQgPSBmdW5jczsKCiAgICAgICAgcmV0dXJuIGNoYWluOwogICAgfTsKCiAgICAvKioKICAgICAqIENoYWlucyBhIGZ1bmN0aW9uIHRvIGV4Y3V0ZSBiZWZvcmUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIG9uIHRoZSBnaXZlbiBgcGF0aGAgcmVsYXRpdmUgdG8gYGJhc2VgLgogICAgICogU2VlIGFsc28gZG9jcyBmb3IgYENvbW1vbi5jaGFpbmAuCiAgICAgKiBAbWV0aG9kIGNoYWluUGF0aEJlZm9yZQogICAgICogQHBhcmFtIHt9IGJhc2UgVGhlIGJhc2Ugb2JqZWN0CiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCByZWxhdGl2ZSB0byBgYmFzZWAKICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoYWluIGJlZm9yZSB0aGUgb3JpZ2luYWwKICAgICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBUaGUgY2hhaW5lZCBmdW5jdGlvbiB0aGF0IHJlcGxhY2VkIHRoZSBvcmlnaW5hbAogICAgICovCiAgICBDb21tb24uY2hhaW5QYXRoQmVmb3JlID0gZnVuY3Rpb24oYmFzZSwgcGF0aCwgZnVuYykgewogICAgICAgIHJldHVybiBDb21tb24uc2V0KGJhc2UsIHBhdGgsIENvbW1vbi5jaGFpbigKICAgICAgICAgICAgZnVuYywKICAgICAgICAgICAgQ29tbW9uLmdldChiYXNlLCBwYXRoKQogICAgICAgICkpOwogICAgfTsKCiAgICAvKioKICAgICAqIENoYWlucyBhIGZ1bmN0aW9uIHRvIGV4Y3V0ZSBhZnRlciB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gb24gdGhlIGdpdmVuIGBwYXRoYCByZWxhdGl2ZSB0byBgYmFzZWAuCiAgICAgKiBTZWUgYWxzbyBkb2NzIGZvciBgQ29tbW9uLmNoYWluYC4KICAgICAqIEBtZXRob2QgY2hhaW5QYXRoQWZ0ZXIKICAgICAqIEBwYXJhbSB7fSBiYXNlIFRoZSBiYXNlIG9iamVjdAogICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggcmVsYXRpdmUgdG8gYGJhc2VgCiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGFpbiBhZnRlciB0aGUgb3JpZ2luYWwKICAgICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBUaGUgY2hhaW5lZCBmdW5jdGlvbiB0aGF0IHJlcGxhY2VkIHRoZSBvcmlnaW5hbAogICAgICovCiAgICBDb21tb24uY2hhaW5QYXRoQWZ0ZXIgPSBmdW5jdGlvbihiYXNlLCBwYXRoLCBmdW5jKSB7CiAgICAgICAgcmV0dXJuIENvbW1vbi5zZXQoYmFzZSwgcGF0aCwgQ29tbW9uLmNoYWluKAogICAgICAgICAgICBDb21tb24uZ2V0KGJhc2UsIHBhdGgpLAogICAgICAgICAgICBmdW5jCiAgICAgICAgKSk7CiAgICB9OwoKfSkoKTsKCn0se31dLDE1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXsKLyoqCiogVGhlIGBNYXR0ZXIuRW5naW5lYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBlbmdpbmVzLgoqIEFuIGVuZ2luZSBpcyBhIGNvbnRyb2xsZXIgdGhhdCBtYW5hZ2VzIHVwZGF0aW5nIHRoZSBzaW11bGF0aW9uIG9mIHRoZSB3b3JsZC4KKiBTZWUgYE1hdHRlci5SdW5uZXJgIGZvciBhbiBvcHRpb25hbCBnYW1lIGxvb3AgdXRpbGl0eS4KKgoqIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuCioKKiBAY2xhc3MgRW5naW5lCiovCgp2YXIgRW5naW5lID0ge307Cgptb2R1bGUuZXhwb3J0cyA9IEVuZ2luZTsKCnZhciBXb3JsZCA9IF9kZXJlcV8oJy4uL2JvZHkvV29ybGQnKTsKdmFyIFNsZWVwaW5nID0gX2RlcmVxXygnLi9TbGVlcGluZycpOwp2YXIgUmVzb2x2ZXIgPSBfZGVyZXFfKCcuLi9jb2xsaXNpb24vUmVzb2x2ZXInKTsKdmFyIFJlbmRlciA9IF9kZXJlcV8oJy4uL3JlbmRlci9SZW5kZXInKTsKdmFyIFBhaXJzID0gX2RlcmVxXygnLi4vY29sbGlzaW9uL1BhaXJzJyk7CnZhciBNZXRyaWNzID0gX2RlcmVxXygnLi9NZXRyaWNzJyk7CnZhciBHcmlkID0gX2RlcmVxXygnLi4vY29sbGlzaW9uL0dyaWQnKTsKdmFyIEV2ZW50cyA9IF9kZXJlcV8oJy4vRXZlbnRzJyk7CnZhciBDb21wb3NpdGUgPSBfZGVyZXFfKCcuLi9ib2R5L0NvbXBvc2l0ZScpOwp2YXIgQ29uc3RyYWludCA9IF9kZXJlcV8oJy4uL2NvbnN0cmFpbnQvQ29uc3RyYWludCcpOwp2YXIgQ29tbW9uID0gX2RlcmVxXygnLi9Db21tb24nKTsKdmFyIEJvZHkgPSBfZGVyZXFfKCcuLi9ib2R5L0JvZHknKTsKCihmdW5jdGlvbigpIHsKCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBuZXcgZW5naW5lLiBUaGUgb3B0aW9ucyBwYXJhbWV0ZXIgaXMgYW4gb2JqZWN0IHRoYXQgc3BlY2lmaWVzIGFueSBwcm9wZXJ0aWVzIHlvdSB3aXNoIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0cy4KICAgICAqIEFsbCBwcm9wZXJ0aWVzIGhhdmUgZGVmYXVsdCB2YWx1ZXMsIGFuZCBtYW55IGFyZSBwcmUtY2FsY3VsYXRlZCBhdXRvbWF0aWNhbGx5IGJhc2VkIG9uIG90aGVyIHByb3BlcnRpZXMuCiAgICAgKiBTZWUgdGhlIHByb3BlcnRpZXMgc2VjdGlvbiBiZWxvdyBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LgogICAgICogQG1ldGhvZCBjcmVhdGUKICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10KICAgICAqIEByZXR1cm4ge2VuZ2luZX0gZW5naW5lCiAgICAgKi8KICAgIEVuZ2luZS5jcmVhdGUgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7CiAgICAgICAgLy8gb3B0aW9ucyBtYXkgYmUgcGFzc2VkIGFzIHRoZSBmaXJzdCAoYW5kIG9ubHkpIGFyZ3VtZW50CiAgICAgICAgb3B0aW9ucyA9IENvbW1vbi5pc0VsZW1lbnQoZWxlbWVudCkgPyBvcHRpb25zIDogZWxlbWVudDsKICAgICAgICBlbGVtZW50ID0gQ29tbW9uLmlzRWxlbWVudChlbGVtZW50KSA/IGVsZW1lbnQgOiBudWxsOwogICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwoKICAgICAgICBpZiAoZWxlbWVudCB8fCBvcHRpb25zLnJlbmRlcikgewogICAgICAgICAgICBDb21tb24ud2FybignRW5naW5lLmNyZWF0ZTogZW5naW5lLnJlbmRlciBpcyBkZXByZWNhdGVkIChzZWUgZG9jcyknKTsKICAgICAgICB9CgogICAgICAgIHZhciBkZWZhdWx0cyA9IHsKICAgICAgICAgICAgcG9zaXRpb25JdGVyYXRpb25zOiA2LAogICAgICAgICAgICB2ZWxvY2l0eUl0ZXJhdGlvbnM6IDQsCiAgICAgICAgICAgIGNvbnN0cmFpbnRJdGVyYXRpb25zOiAyLAogICAgICAgICAgICBlbmFibGVTbGVlcGluZzogZmFsc2UsCiAgICAgICAgICAgIGV2ZW50czogW10sCiAgICAgICAgICAgIHBsdWdpbjoge30sCiAgICAgICAgICAgIHRpbWluZzogewogICAgICAgICAgICAgICAgdGltZXN0YW1wOiAwLAogICAgICAgICAgICAgICAgdGltZVNjYWxlOiAxCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJyb2FkcGhhc2U6IHsKICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IEdyaWQKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHZhciBlbmdpbmUgPSBDb21tb24uZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTsKCiAgICAgICAgLy8gQGRlcHJlY2F0ZWQKICAgICAgICBpZiAoZWxlbWVudCB8fCBlbmdpbmUucmVuZGVyKSB7CiAgICAgICAgICAgIHZhciByZW5kZXJEZWZhdWx0cyA9IHsKICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsCiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBSZW5kZXIKICAgICAgICAgICAgfTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGVuZ2luZS5yZW5kZXIgPSBDb21tb24uZXh0ZW5kKHJlbmRlckRlZmF1bHRzLCBlbmdpbmUucmVuZGVyKTsKICAgICAgICB9CgogICAgICAgIC8vIEBkZXByZWNhdGVkCiAgICAgICAgaWYgKGVuZ2luZS5yZW5kZXIgJiYgZW5naW5lLnJlbmRlci5jb250cm9sbGVyKSB7CiAgICAgICAgICAgIGVuZ2luZS5yZW5kZXIgPSBlbmdpbmUucmVuZGVyLmNvbnRyb2xsZXIuY3JlYXRlKGVuZ2luZS5yZW5kZXIpOwogICAgICAgIH0KCiAgICAgICAgLy8gQGRlcHJlY2F0ZWQKICAgICAgICBpZiAoZW5naW5lLnJlbmRlcikgewogICAgICAgICAgICBlbmdpbmUucmVuZGVyLmVuZ2luZSA9IGVuZ2luZTsKICAgICAgICB9CgogICAgICAgIGVuZ2luZS53b3JsZCA9IG9wdGlvbnMud29ybGQgfHwgV29ybGQuY3JlYXRlKGVuZ2luZS53b3JsZCk7CiAgICAgICAgZW5naW5lLnBhaXJzID0gUGFpcnMuY3JlYXRlKCk7CiAgICAgICAgZW5naW5lLmJyb2FkcGhhc2UgPSBlbmdpbmUuYnJvYWRwaGFzZS5jb250cm9sbGVyLmNyZWF0ZShlbmdpbmUuYnJvYWRwaGFzZSk7CiAgICAgICAgZW5naW5lLm1ldHJpY3MgPSBlbmdpbmUubWV0cmljcyB8fCB7IGV4dGVuZGVkOiBmYWxzZSB9OwoKCiAgICAgICAgcmV0dXJuIGVuZ2luZTsKICAgIH07CgogICAgLyoqCiAgICAgKiBNb3ZlcyB0aGUgc2ltdWxhdGlvbiBmb3J3YXJkIGluIHRpbWUgYnkgYGRlbHRhYCBtcy4KICAgICAqIFRoZSBgY29ycmVjdGlvbmAgYXJndW1lbnQgaXMgYW4gb3B0aW9uYWwgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIHRpbWUgY29ycmVjdGlvbiBmYWN0b3IgdG8gYXBwbHkgdG8gdGhlIHVwZGF0ZS4KICAgICAqIFRoaXMgY2FuIGhlbHAgaW1wcm92ZSB0aGUgYWNjdXJhY3kgb2YgdGhlIHNpbXVsYXRpb24gaW4gY2FzZXMgd2hlcmUgYGRlbHRhYCBpcyBjaGFuZ2luZyBiZXR3ZWVuIHVwZGF0ZXMuCiAgICAgKiBUaGUgdmFsdWUgb2YgYGNvcnJlY3Rpb25gIGlzIGRlZmluZWQgYXMgYGRlbHRhIC8gbGFzdERlbHRhYCwgaS5lLiB0aGUgcGVyY2VudGFnZSBjaGFuZ2Ugb2YgYGRlbHRhYCBvdmVyIHRoZSBsYXN0IHN0ZXAuCiAgICAgKiBUaGVyZWZvcmUgdGhlIHZhbHVlIGlzIGFsd2F5cyBgMWAgKG5vIGNvcnJlY3Rpb24pIHdoZW4gYGRlbHRhYCBjb25zdGFudCAob3Igd2hlbiBubyBjb3JyZWN0aW9uIGlzIGRlc2lyZWQsIHdoaWNoIGlzIHRoZSBkZWZhdWx0KS4KICAgICAqIFNlZSB0aGUgcGFwZXIgb24gPGEgaHJlZj0iaHR0cDovL2xvbmVzb2NrLm5ldC9hcnRpY2xlL3ZlcmxldC5odG1sIj5UaW1lIENvcnJlY3RlZCBWZXJsZXQ8L2E+IGZvciBtb3JlIGluZm9ybWF0aW9uLgogICAgICoKICAgICAqIFRyaWdnZXJzIGBiZWZvcmVVcGRhdGVgIGFuZCBgYWZ0ZXJVcGRhdGVgIGV2ZW50cy4KICAgICAqIFRyaWdnZXJzIGBjb2xsaXNpb25TdGFydGAsIGBjb2xsaXNpb25BY3RpdmVgIGFuZCBgY29sbGlzaW9uRW5kYCBldmVudHMuCiAgICAgKiBAbWV0aG9kIHVwZGF0ZQogICAgICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZQogICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWx0YT0xNi42NjZdCiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvcnJlY3Rpb249MV0KICAgICAqLwogICAgRW5naW5lLnVwZGF0ZSA9IGZ1bmN0aW9uKGVuZ2luZSwgZGVsdGEsIGNvcnJlY3Rpb24pIHsKICAgICAgICBkZWx0YSA9IGRlbHRhIHx8IDEwMDAgLyA2MDsKICAgICAgICBjb3JyZWN0aW9uID0gY29ycmVjdGlvbiB8fCAxOwoKICAgICAgICB2YXIgd29ybGQgPSBlbmdpbmUud29ybGQsCiAgICAgICAgICAgIHRpbWluZyA9IGVuZ2luZS50aW1pbmcsCiAgICAgICAgICAgIGJyb2FkcGhhc2UgPSBlbmdpbmUuYnJvYWRwaGFzZSwKICAgICAgICAgICAgYnJvYWRwaGFzZVBhaXJzID0gW10sCiAgICAgICAgICAgIGk7CgogICAgICAgIC8vIGluY3JlbWVudCB0aW1lc3RhbXAKICAgICAgICB0aW1pbmcudGltZXN0YW1wICs9IGRlbHRhICogdGltaW5nLnRpbWVTY2FsZTsKCiAgICAgICAgLy8gY3JlYXRlIGFuIGV2ZW50IG9iamVjdAogICAgICAgIHZhciBldmVudCA9IHsKICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1pbmcudGltZXN0YW1wCiAgICAgICAgfTsKCiAgICAgICAgRXZlbnRzLnRyaWdnZXIoZW5naW5lLCAnYmVmb3JlVXBkYXRlJywgZXZlbnQpOwoKICAgICAgICAvLyBnZXQgbGlzdHMgb2YgYWxsIGJvZGllcyBhbmQgY29uc3RyYWludHMsIG5vIG1hdHRlciB3aGF0IGNvbXBvc2l0ZXMgdGhleSBhcmUgaW4KICAgICAgICB2YXIgYWxsQm9kaWVzID0gQ29tcG9zaXRlLmFsbEJvZGllcyh3b3JsZCksCiAgICAgICAgICAgIGFsbENvbnN0cmFpbnRzID0gQ29tcG9zaXRlLmFsbENvbnN0cmFpbnRzKHdvcmxkKTsKCgogICAgICAgIC8vIGlmIHNsZWVwaW5nIGVuYWJsZWQsIGNhbGwgdGhlIHNsZWVwaW5nIGNvbnRyb2xsZXIKICAgICAgICBpZiAoZW5naW5lLmVuYWJsZVNsZWVwaW5nKQogICAgICAgICAgICBTbGVlcGluZy51cGRhdGUoYWxsQm9kaWVzLCB0aW1pbmcudGltZVNjYWxlKTsKCiAgICAgICAgLy8gYXBwbGllcyBncmF2aXR5IHRvIGFsbCBib2RpZXMKICAgICAgICBfYm9kaWVzQXBwbHlHcmF2aXR5KGFsbEJvZGllcywgd29ybGQuZ3Jhdml0eSk7CgogICAgICAgIC8vIHVwZGF0ZSBhbGwgYm9keSBwb3NpdGlvbiBhbmQgcm90YXRpb24gYnkgaW50ZWdyYXRpb24KICAgICAgICBfYm9kaWVzVXBkYXRlKGFsbEJvZGllcywgZGVsdGEsIHRpbWluZy50aW1lU2NhbGUsIGNvcnJlY3Rpb24sIHdvcmxkLmJvdW5kcyk7CgogICAgICAgIC8vIHVwZGF0ZSBhbGwgY29uc3RyYWludHMKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZW5naW5lLmNvbnN0cmFpbnRJdGVyYXRpb25zOyBpKyspIHsKICAgICAgICAgICAgQ29uc3RyYWludC5zb2x2ZUFsbChhbGxDb25zdHJhaW50cywgdGltaW5nLnRpbWVTY2FsZSk7CiAgICAgICAgfQogICAgICAgIENvbnN0cmFpbnQucG9zdFNvbHZlQWxsKGFsbEJvZGllcyk7CgogICAgICAgIC8vIGJyb2FkcGhhc2UgcGFzczogZmluZCBwb3RlbnRpYWwgY29sbGlzaW9uIHBhaXJzCiAgICAgICAgaWYgKGJyb2FkcGhhc2UuY29udHJvbGxlcikgewoKICAgICAgICAgICAgLy8gaWYgd29ybGQgaXMgZGlydHksIHdlIG11c3QgZmx1c2ggdGhlIHdob2xlIGdyaWQKICAgICAgICAgICAgaWYgKHdvcmxkLmlzTW9kaWZpZWQpCiAgICAgICAgICAgICAgICBicm9hZHBoYXNlLmNvbnRyb2xsZXIuY2xlYXIoYnJvYWRwaGFzZSk7CgogICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGdyaWQgYnVja2V0cyBiYXNlZCBvbiBjdXJyZW50IGJvZGllcwogICAgICAgICAgICBicm9hZHBoYXNlLmNvbnRyb2xsZXIudXBkYXRlKGJyb2FkcGhhc2UsIGFsbEJvZGllcywgZW5naW5lLCB3b3JsZC5pc01vZGlmaWVkKTsKICAgICAgICAgICAgYnJvYWRwaGFzZVBhaXJzID0gYnJvYWRwaGFzZS5wYWlyc0xpc3Q7CiAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgIC8vIGlmIG5vIGJyb2FkcGhhc2Ugc2V0LCB3ZSBqdXN0IHBhc3MgYWxsIGJvZGllcwogICAgICAgICAgICBicm9hZHBoYXNlUGFpcnMgPSBhbGxCb2RpZXM7CiAgICAgICAgfQoKICAgICAgICAvLyBjbGVhciBhbGwgY29tcG9zaXRlIG1vZGlmaWVkIGZsYWdzCiAgICAgICAgaWYgKHdvcmxkLmlzTW9kaWZpZWQpIHsKICAgICAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKHdvcmxkLCBmYWxzZSwgZmFsc2UsIHRydWUpOwogICAgICAgIH0KCiAgICAgICAgLy8gbmFycm93cGhhc2UgcGFzczogZmluZCBhY3R1YWwgY29sbGlzaW9ucywgdGhlbiBjcmVhdGUgb3IgdXBkYXRlIGNvbGxpc2lvbiBwYWlycwogICAgICAgIHZhciBjb2xsaXNpb25zID0gYnJvYWRwaGFzZS5kZXRlY3Rvcihicm9hZHBoYXNlUGFpcnMsIGVuZ2luZSk7CgogICAgICAgIC8vIHVwZGF0ZSBjb2xsaXNpb24gcGFpcnMKICAgICAgICB2YXIgcGFpcnMgPSBlbmdpbmUucGFpcnMsCiAgICAgICAgICAgIHRpbWVzdGFtcCA9IHRpbWluZy50aW1lc3RhbXA7CiAgICAgICAgUGFpcnMudXBkYXRlKHBhaXJzLCBjb2xsaXNpb25zLCB0aW1lc3RhbXApOwogICAgICAgIFBhaXJzLnJlbW92ZU9sZChwYWlycywgdGltZXN0YW1wKTsKCiAgICAgICAgLy8gd2FrZSB1cCBib2RpZXMgaW52b2x2ZWQgaW4gY29sbGlzaW9ucwogICAgICAgIGlmIChlbmdpbmUuZW5hYmxlU2xlZXBpbmcpCiAgICAgICAgICAgIFNsZWVwaW5nLmFmdGVyQ29sbGlzaW9ucyhwYWlycy5saXN0LCB0aW1pbmcudGltZVNjYWxlKTsKCiAgICAgICAgLy8gdHJpZ2dlciBjb2xsaXNpb24gZXZlbnRzCiAgICAgICAgaWYgKHBhaXJzLmNvbGxpc2lvblN0YXJ0Lmxlbmd0aCA+IDApCiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKGVuZ2luZSwgJ2NvbGxpc2lvblN0YXJ0JywgeyBwYWlyczogcGFpcnMuY29sbGlzaW9uU3RhcnQgfSk7CgogICAgICAgIC8vIGl0ZXJhdGl2ZWx5IHJlc29sdmUgcG9zaXRpb24gYmV0d2VlbiBjb2xsaXNpb25zCiAgICAgICAgUmVzb2x2ZXIucHJlU29sdmVQb3NpdGlvbihwYWlycy5saXN0KTsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZW5naW5lLnBvc2l0aW9uSXRlcmF0aW9uczsgaSsrKSB7CiAgICAgICAgICAgIFJlc29sdmVyLnNvbHZlUG9zaXRpb24ocGFpcnMubGlzdCwgdGltaW5nLnRpbWVTY2FsZSk7CiAgICAgICAgfQogICAgICAgIFJlc29sdmVyLnBvc3RTb2x2ZVBvc2l0aW9uKGFsbEJvZGllcyk7CgogICAgICAgIC8vIGl0ZXJhdGl2ZWx5IHJlc29sdmUgdmVsb2NpdHkgYmV0d2VlbiBjb2xsaXNpb25zCiAgICAgICAgUmVzb2x2ZXIucHJlU29sdmVWZWxvY2l0eShwYWlycy5saXN0KTsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZW5naW5lLnZlbG9jaXR5SXRlcmF0aW9uczsgaSsrKSB7CiAgICAgICAgICAgIFJlc29sdmVyLnNvbHZlVmVsb2NpdHkocGFpcnMubGlzdCwgdGltaW5nLnRpbWVTY2FsZSk7CiAgICAgICAgfQoKICAgICAgICAvLyB0cmlnZ2VyIGNvbGxpc2lvbiBldmVudHMKICAgICAgICBpZiAocGFpcnMuY29sbGlzaW9uQWN0aXZlLmxlbmd0aCA+IDApCiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKGVuZ2luZSwgJ2NvbGxpc2lvbkFjdGl2ZScsIHsgcGFpcnM6IHBhaXJzLmNvbGxpc2lvbkFjdGl2ZSB9KTsKCiAgICAgICAgaWYgKHBhaXJzLmNvbGxpc2lvbkVuZC5sZW5ndGggPiAwKQogICAgICAgICAgICBFdmVudHMudHJpZ2dlcihlbmdpbmUsICdjb2xsaXNpb25FbmQnLCB7IHBhaXJzOiBwYWlycy5jb2xsaXNpb25FbmQgfSk7CgoKICAgICAgICAvLyBjbGVhciBmb3JjZSBidWZmZXJzCiAgICAgICAgX2JvZGllc0NsZWFyRm9yY2VzKGFsbEJvZGllcyk7CgogICAgICAgIEV2ZW50cy50cmlnZ2VyKGVuZ2luZSwgJ2FmdGVyVXBkYXRlJywgZXZlbnQpOwoKICAgICAgICByZXR1cm4gZW5naW5lOwogICAgfTsKICAgIAogICAgLyoqCiAgICAgKiBNZXJnZXMgdHdvIGVuZ2luZXMgYnkga2VlcGluZyB0aGUgY29uZmlndXJhdGlvbiBvZiBgZW5naW5lQWAgYnV0IHJlcGxhY2luZyB0aGUgd29ybGQgd2l0aCB0aGUgb25lIGZyb20gYGVuZ2luZUJgLgogICAgICogQG1ldGhvZCBtZXJnZQogICAgICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZUEKICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVCCiAgICAgKi8KICAgIEVuZ2luZS5tZXJnZSA9IGZ1bmN0aW9uKGVuZ2luZUEsIGVuZ2luZUIpIHsKICAgICAgICBDb21tb24uZXh0ZW5kKGVuZ2luZUEsIGVuZ2luZUIpOwogICAgICAgIAogICAgICAgIGlmIChlbmdpbmVCLndvcmxkKSB7CiAgICAgICAgICAgIGVuZ2luZUEud29ybGQgPSBlbmdpbmVCLndvcmxkOwoKICAgICAgICAgICAgRW5naW5lLmNsZWFyKGVuZ2luZUEpOwoKICAgICAgICAgICAgdmFyIGJvZGllcyA9IENvbXBvc2l0ZS5hbGxCb2RpZXMoZW5naW5lQS53b3JsZCk7CgogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07CiAgICAgICAgICAgICAgICBTbGVlcGluZy5zZXQoYm9keSwgZmFsc2UpOwogICAgICAgICAgICAgICAgYm9keS5pZCA9IENvbW1vbi5uZXh0SWQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CgogICAgLyoqCiAgICAgKiBDbGVhcnMgdGhlIGVuZ2luZSBpbmNsdWRpbmcgdGhlIHdvcmxkLCBwYWlycyBhbmQgYnJvYWRwaGFzZS4KICAgICAqIEBtZXRob2QgY2xlYXIKICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmUKICAgICAqLwogICAgRW5naW5lLmNsZWFyID0gZnVuY3Rpb24oZW5naW5lKSB7CiAgICAgICAgdmFyIHdvcmxkID0gZW5naW5lLndvcmxkOwogICAgICAgIAogICAgICAgIFBhaXJzLmNsZWFyKGVuZ2luZS5wYWlycyk7CgogICAgICAgIHZhciBicm9hZHBoYXNlID0gZW5naW5lLmJyb2FkcGhhc2U7CiAgICAgICAgaWYgKGJyb2FkcGhhc2UuY29udHJvbGxlcikgewogICAgICAgICAgICB2YXIgYm9kaWVzID0gQ29tcG9zaXRlLmFsbEJvZGllcyh3b3JsZCk7CiAgICAgICAgICAgIGJyb2FkcGhhc2UuY29udHJvbGxlci5jbGVhcihicm9hZHBoYXNlKTsKICAgICAgICAgICAgYnJvYWRwaGFzZS5jb250cm9sbGVyLnVwZGF0ZShicm9hZHBoYXNlLCBib2RpZXMsIGVuZ2luZSwgdHJ1ZSk7CiAgICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIFplcm9lcyB0aGUgYGJvZHkuZm9yY2VgIGFuZCBgYm9keS50b3JxdWVgIGZvcmNlIGJ1ZmZlcnMuCiAgICAgKiBAbWV0aG9kIGJvZGllc0NsZWFyRm9yY2VzCiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHtib2R5W119IGJvZGllcwogICAgICovCiAgICB2YXIgX2JvZGllc0NsZWFyRm9yY2VzID0gZnVuY3Rpb24oYm9kaWVzKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07CgogICAgICAgICAgICAvLyByZXNldCBmb3JjZSBidWZmZXJzCiAgICAgICAgICAgIGJvZHkuZm9yY2UueCA9IDA7CiAgICAgICAgICAgIGJvZHkuZm9yY2UueSA9IDA7CiAgICAgICAgICAgIGJvZHkudG9ycXVlID0gMDsKICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogQXBwbHlzIGEgbWFzcyBkZXBlbmRhbnQgZm9yY2UgdG8gYWxsIGdpdmVuIGJvZGllcy4KICAgICAqIEBtZXRob2QgYm9kaWVzQXBwbHlHcmF2aXR5CiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHtib2R5W119IGJvZGllcwogICAgICogQHBhcmFtIHt2ZWN0b3J9IGdyYXZpdHkKICAgICAqLwogICAgdmFyIF9ib2RpZXNBcHBseUdyYXZpdHkgPSBmdW5jdGlvbihib2RpZXMsIGdyYXZpdHkpIHsKICAgICAgICB2YXIgZ3Jhdml0eVNjYWxlID0gdHlwZW9mIGdyYXZpdHkuc2NhbGUgIT09ICd1bmRlZmluZWQnID8gZ3Jhdml0eS5zY2FsZSA6IDAuMDAxOwoKICAgICAgICBpZiAoKGdyYXZpdHkueCA9PT0gMCAmJiBncmF2aXR5LnkgPT09IDApIHx8IGdyYXZpdHlTY2FsZSA9PT0gMCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldOwoKICAgICAgICAgICAgaWYgKGJvZHkuaXNTdGF0aWMgfHwgYm9keS5pc1NsZWVwaW5nKQogICAgICAgICAgICAgICAgY29udGludWU7CgogICAgICAgICAgICAvLyBhcHBseSBncmF2aXR5CiAgICAgICAgICAgIGJvZHkuZm9yY2UueSArPSBib2R5Lm1hc3MgKiBncmF2aXR5LnkgKiBncmF2aXR5U2NhbGU7CiAgICAgICAgICAgIGJvZHkuZm9yY2UueCArPSBib2R5Lm1hc3MgKiBncmF2aXR5LnggKiBncmF2aXR5U2NhbGU7CiAgICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIEFwcGx5cyBgQm9keS51cGRhdGVgIHRvIGFsbCBnaXZlbiBgYm9kaWVzYC4KICAgICAqIEBtZXRob2QgdXBkYXRlQWxsCiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHtib2R5W119IGJvZGllcwogICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAKICAgICAqIFRoZSBhbW91bnQgb2YgdGltZSBlbGFwc2VkIGJldHdlZW4gdXBkYXRlcwogICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVTY2FsZQogICAgICogQHBhcmFtIHtudW1iZXJ9IGNvcnJlY3Rpb24gCiAgICAgKiBUaGUgVmVybGV0IGNvcnJlY3Rpb24gZmFjdG9yIChkZWx0YVRpbWUgLyBsYXN0RGVsdGFUaW1lKQogICAgICogQHBhcmFtIHtib3VuZHN9IHdvcmxkQm91bmRzCiAgICAgKi8KICAgIHZhciBfYm9kaWVzVXBkYXRlID0gZnVuY3Rpb24oYm9kaWVzLCBkZWx0YVRpbWUsIHRpbWVTY2FsZSwgY29ycmVjdGlvbiwgd29ybGRCb3VuZHMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXTsKCiAgICAgICAgICAgIGlmIChib2R5LmlzU3RhdGljIHx8IGJvZHkuaXNTbGVlcGluZykKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICAgICAgQm9keS51cGRhdGUoYm9keSwgZGVsdGFUaW1lLCB0aW1lU2NhbGUsIGNvcnJlY3Rpb24pOwogICAgICAgIH0KICAgIH07CgogICAgLyoqCiAgICAgKiBBbiBhbGlhcyBmb3IgYFJ1bm5lci5ydW5gLCBzZWUgYE1hdHRlci5SdW5uZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLgogICAgICogQG1ldGhvZCBydW4KICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmUKICAgICAqLwoKICAgIC8qKgogICAgKiBGaXJlZCBqdXN0IGJlZm9yZSBhbiB1cGRhdGUKICAgICoKICAgICogQGV2ZW50IGJlZm9yZVVwZGF0ZQogICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0CiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKICAgICovCgogICAgLyoqCiAgICAqIEZpcmVkIGFmdGVyIGVuZ2luZSB1cGRhdGUgYW5kIGFsbCBjb2xsaXNpb24gZXZlbnRzCiAgICAqCiAgICAqIEBldmVudCBhZnRlclVwZGF0ZQogICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0CiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKICAgICovCgogICAgLyoqCiAgICAqIEZpcmVkIGFmdGVyIGVuZ2luZSB1cGRhdGUsIHByb3ZpZGVzIGEgbGlzdCBvZiBhbGwgcGFpcnMgdGhhdCBoYXZlIHN0YXJ0ZWQgdG8gY29sbGlkZSBpbiB0aGUgY3VycmVudCB0aWNrIChpZiBhbnkpCiAgICAqCiAgICAqIEBldmVudCBjb2xsaXNpb25TdGFydAogICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0CiAgICAqIEBwYXJhbSB7fSBldmVudC5wYWlycyBMaXN0IG9mIGFmZmVjdGVkIHBhaXJzCiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKICAgICovCgogICAgLyoqCiAgICAqIEZpcmVkIGFmdGVyIGVuZ2luZSB1cGRhdGUsIHByb3ZpZGVzIGEgbGlzdCBvZiBhbGwgcGFpcnMgdGhhdCBhcmUgY29sbGlkaW5nIGluIHRoZSBjdXJyZW50IHRpY2sgKGlmIGFueSkKICAgICoKICAgICogQGV2ZW50IGNvbGxpc2lvbkFjdGl2ZQogICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0CiAgICAqIEBwYXJhbSB7fSBldmVudC5wYWlycyBMaXN0IG9mIGFmZmVjdGVkIHBhaXJzCiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKICAgICovCgogICAgLyoqCiAgICAqIEZpcmVkIGFmdGVyIGVuZ2luZSB1cGRhdGUsIHByb3ZpZGVzIGEgbGlzdCBvZiBhbGwgcGFpcnMgdGhhdCBoYXZlIGVuZGVkIGNvbGxpc2lvbiBpbiB0aGUgY3VycmVudCB0aWNrIChpZiBhbnkpCiAgICAqCiAgICAqIEBldmVudCBjb2xsaXNpb25FbmQKICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdAogICAgKiBAcGFyYW0ge30gZXZlbnQucGFpcnMgTGlzdCBvZiBhZmZlY3RlZCBwYWlycwogICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnQKICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnQKICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50CiAgICAqLwoKICAgIC8qCiAgICAqCiAgICAqICBQcm9wZXJ0aWVzIERvY3VtZW50YXRpb24KICAgICoKICAgICovCgogICAgLyoqCiAgICAgKiBBbiBpbnRlZ2VyIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSBudW1iZXIgb2YgcG9zaXRpb24gaXRlcmF0aW9ucyB0byBwZXJmb3JtIGVhY2ggdXBkYXRlLgogICAgICogVGhlIGhpZ2hlciB0aGUgdmFsdWUsIHRoZSBoaWdoZXIgcXVhbGl0eSB0aGUgc2ltdWxhdGlvbiB3aWxsIGJlIGF0IHRoZSBleHBlbnNlIG9mIHBlcmZvcm1hbmNlLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBwb3NpdGlvbkl0ZXJhdGlvbnMKICAgICAqIEB0eXBlIG51bWJlcgogICAgICogQGRlZmF1bHQgNgogICAgICovCgogICAgLyoqCiAgICAgKiBBbiBpbnRlZ2VyIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSBudW1iZXIgb2YgdmVsb2NpdHkgaXRlcmF0aW9ucyB0byBwZXJmb3JtIGVhY2ggdXBkYXRlLgogICAgICogVGhlIGhpZ2hlciB0aGUgdmFsdWUsIHRoZSBoaWdoZXIgcXVhbGl0eSB0aGUgc2ltdWxhdGlvbiB3aWxsIGJlIGF0IHRoZSBleHBlbnNlIG9mIHBlcmZvcm1hbmNlLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSB2ZWxvY2l0eUl0ZXJhdGlvbnMKICAgICAqIEB0eXBlIG51bWJlcgogICAgICogQGRlZmF1bHQgNAogICAgICovCgogICAgLyoqCiAgICAgKiBBbiBpbnRlZ2VyIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSBudW1iZXIgb2YgY29uc3RyYWludCBpdGVyYXRpb25zIHRvIHBlcmZvcm0gZWFjaCB1cGRhdGUuCiAgICAgKiBUaGUgaGlnaGVyIHRoZSB2YWx1ZSwgdGhlIGhpZ2hlciBxdWFsaXR5IHRoZSBzaW11bGF0aW9uIHdpbGwgYmUgYXQgdGhlIGV4cGVuc2Ugb2YgcGVyZm9ybWFuY2UuCiAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBvZiBgMmAgaXMgdXN1YWxseSB2ZXJ5IGFkZXF1YXRlLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBjb25zdHJhaW50SXRlcmF0aW9ucwogICAgICogQHR5cGUgbnVtYmVyCiAgICAgKiBAZGVmYXVsdCAyCiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgZmxhZyB0aGF0IHNwZWNpZmllcyB3aGV0aGVyIHRoZSBlbmdpbmUgc2hvdWxkIGFsbG93IHNsZWVwaW5nIHZpYSB0aGUgYE1hdHRlci5TbGVlcGluZ2AgbW9kdWxlLgogICAgICogU2xlZXBpbmcgY2FuIGltcHJvdmUgc3RhYmlsaXR5IGFuZCBwZXJmb3JtYW5jZSwgYnV0IG9mdGVuIGF0IHRoZSBleHBlbnNlIG9mIGFjY3VyYWN5LgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBlbmFibGVTbGVlcGluZwogICAgICogQHR5cGUgYm9vbGVhbgogICAgICogQGRlZmF1bHQgZmFsc2UKICAgICAqLwoKICAgIC8qKgogICAgICogQW4gYE9iamVjdGAgY29udGFpbmluZyBwcm9wZXJ0aWVzIHJlZ2FyZGluZyB0aGUgdGltaW5nIHN5c3RlbXMgb2YgdGhlIGVuZ2luZS4gCiAgICAgKgogICAgICogQHByb3BlcnR5IHRpbWluZwogICAgICogQHR5cGUgb2JqZWN0CiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIGdsb2JhbCBzY2FsaW5nIGZhY3RvciBvZiB0aW1lIGZvciBhbGwgYm9kaWVzLgogICAgICogQSB2YWx1ZSBvZiBgMGAgZnJlZXplcyB0aGUgc2ltdWxhdGlvbi4KICAgICAqIEEgdmFsdWUgb2YgYDAuMWAgZ2l2ZXMgYSBzbG93LW1vdGlvbiBlZmZlY3QuCiAgICAgKiBBIHZhbHVlIG9mIGAxLjJgIGdpdmVzIGEgc3BlZWQtdXAgZWZmZWN0LgogICAgICoKICAgICAqIEBwcm9wZXJ0eSB0aW1pbmcudGltZVNjYWxlCiAgICAgKiBAdHlwZSBudW1iZXIKICAgICAqIEBkZWZhdWx0IDEKICAgICAqLwoKICAgIC8qKgogICAgICogQSBgTnVtYmVyYCB0aGF0IHNwZWNpZmllcyB0aGUgY3VycmVudCBzaW11bGF0aW9uLXRpbWUgaW4gbWlsbGlzZWNvbmRzIHN0YXJ0aW5nIGZyb20gYDBgLiAKICAgICAqIEl0IGlzIGluY3JlbWVudGVkIG9uIGV2ZXJ5IGBFbmdpbmUudXBkYXRlYCBieSB0aGUgZ2l2ZW4gYGRlbHRhYCBhcmd1bWVudC4gCiAgICAgKgogICAgICogQHByb3BlcnR5IHRpbWluZy50aW1lc3RhbXAKICAgICAqIEB0eXBlIG51bWJlcgogICAgICogQGRlZmF1bHQgMAogICAgICovCgogICAgLyoqCiAgICAgKiBBbiBpbnN0YW5jZSBvZiBhIGBSZW5kZXJgIGNvbnRyb2xsZXIuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGEgYE1hdHRlci5SZW5kZXJgIGluc3RhbmNlIGNyZWF0ZWQgYnkgYEVuZ2luZS5jcmVhdGVgLgogICAgICogT25lIG1heSBhbHNvIGRldmVsb3AgYSBjdXN0b20gcmVuZGVyZXIgbW9kdWxlIGJhc2VkIG9uIGBNYXR0ZXIuUmVuZGVyYCBhbmQgcGFzcyBhbiBpbnN0YW5jZSBvZiBpdCB0byBgRW5naW5lLmNyZWF0ZWAgdmlhIGBvcHRpb25zLnJlbmRlcmAuCiAgICAgKgogICAgICogQSBtaW5pbWFsIGN1c3RvbSByZW5kZXJlciBvYmplY3QgbXVzdCBkZWZpbmUgYXQgbGVhc3QgdGhyZWUgZnVuY3Rpb25zOiBgY3JlYXRlYCwgYGNsZWFyYCBhbmQgYHdvcmxkYCAoc2VlIGBNYXR0ZXIuUmVuZGVyYCkuCiAgICAgKiBJdCBpcyBhbHNvIHBvc3NpYmxlIHRvIGluc3RlYWQgcGFzcyB0aGUgX21vZHVsZV8gcmVmZXJlbmNlIHZpYSBgb3B0aW9ucy5yZW5kZXIuY29udHJvbGxlcmAgYW5kIGBFbmdpbmUuY3JlYXRlYCB3aWxsIGluc3RhbnRpYXRlIG9uZSBmb3IgeW91LgogICAgICoKICAgICAqIEBwcm9wZXJ0eSByZW5kZXIKICAgICAqIEB0eXBlIHJlbmRlcgogICAgICogQGRlcHJlY2F0ZWQgc2VlIERlbW8uanMgZm9yIGFuIGV4YW1wbGUgb2YgY3JlYXRpbmcgYSByZW5kZXJlcgogICAgICogQGRlZmF1bHQgYSBNYXR0ZXIuUmVuZGVyIGluc3RhbmNlCiAgICAgKi8KCiAgICAvKioKICAgICAqIEFuIGluc3RhbmNlIG9mIGEgYnJvYWRwaGFzZSBjb250cm9sbGVyLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBhIGBNYXR0ZXIuR3JpZGAgaW5zdGFuY2UgY3JlYXRlZCBieSBgRW5naW5lLmNyZWF0ZWAuCiAgICAgKgogICAgICogQHByb3BlcnR5IGJyb2FkcGhhc2UKICAgICAqIEB0eXBlIGdyaWQKICAgICAqIEBkZWZhdWx0IGEgTWF0dGVyLkdyaWQgaW5zdGFuY2UKICAgICAqLwoKICAgIC8qKgogICAgICogQSBgV29ybGRgIGNvbXBvc2l0ZSBvYmplY3QgdGhhdCB3aWxsIGNvbnRhaW4gYWxsIHNpbXVsYXRlZCBib2RpZXMgYW5kIGNvbnN0cmFpbnRzLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSB3b3JsZAogICAgICogQHR5cGUgd29ybGQKICAgICAqIEBkZWZhdWx0IGEgTWF0dGVyLldvcmxkIGluc3RhbmNlCiAgICAgKi8KCiAgICAvKioKICAgICAqIEFuIG9iamVjdCByZXNlcnZlZCBmb3Igc3RvcmluZyBwbHVnaW4tc3BlY2lmaWMgcHJvcGVydGllcy4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgcGx1Z2luCiAgICAgKiBAdHlwZSB7fQogICAgICovCgp9KSgpOwoKfSx7Ii4uL2JvZHkvQm9keSI6MSwiLi4vYm9keS9Db21wb3NpdGUiOjIsIi4uL2JvZHkvV29ybGQiOjMsIi4uL2NvbGxpc2lvbi9HcmlkIjo2LCIuLi9jb2xsaXNpb24vUGFpcnMiOjgsIi4uL2NvbGxpc2lvbi9SZXNvbHZlciI6MTAsIi4uL2NvbnN0cmFpbnQvQ29uc3RyYWludCI6MTIsIi4uL3JlbmRlci9SZW5kZXIiOjMxLCIuL0NvbW1vbiI6MTQsIi4vRXZlbnRzIjoxNiwiLi9NZXRyaWNzIjoxOCwiLi9TbGVlcGluZyI6MjJ9XSwxNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7Ci8qKgoqIFRoZSBgTWF0dGVyLkV2ZW50c2AgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgdG8gZmlyZSBhbmQgbGlzdGVuIHRvIGV2ZW50cyBvbiBvdGhlciBvYmplY3RzLgoqCiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS4KKgoqIEBjbGFzcyBFdmVudHMKKi8KCnZhciBFdmVudHMgPSB7fTsKCm1vZHVsZS5leHBvcnRzID0gRXZlbnRzOwoKdmFyIENvbW1vbiA9IF9kZXJlcV8oJy4vQ29tbW9uJyk7CgooZnVuY3Rpb24oKSB7CgogICAgLyoqCiAgICAgKiBTdWJzY3JpYmVzIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gdGhlIGdpdmVuIG9iamVjdCdzIGBldmVudE5hbWVgLgogICAgICogQG1ldGhvZCBvbgogICAgICogQHBhcmFtIHt9IG9iamVjdAogICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZXMKICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrCiAgICAgKi8KICAgIEV2ZW50cy5vbiA9IGZ1bmN0aW9uKG9iamVjdCwgZXZlbnROYW1lcywgY2FsbGJhY2spIHsKICAgICAgICB2YXIgbmFtZXMgPSBldmVudE5hbWVzLnNwbGl0KCcgJyksCiAgICAgICAgICAgIG5hbWU7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgbmFtZSA9IG5hbWVzW2ldOwogICAgICAgICAgICBvYmplY3QuZXZlbnRzID0gb2JqZWN0LmV2ZW50cyB8fCB7fTsKICAgICAgICAgICAgb2JqZWN0LmV2ZW50c1tuYW1lXSA9IG9iamVjdC5ldmVudHNbbmFtZV0gfHwgW107CiAgICAgICAgICAgIG9iamVjdC5ldmVudHNbbmFtZV0ucHVzaChjYWxsYmFjayk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gY2FsbGJhY2s7CiAgICB9OwoKICAgIC8qKgogICAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gZXZlbnQgY2FsbGJhY2suIElmIG5vIGNhbGxiYWNrLCBjbGVhcnMgYWxsIGNhbGxiYWNrcyBpbiBgZXZlbnROYW1lc2AuIElmIG5vIGBldmVudE5hbWVzYCwgY2xlYXJzIGFsbCBldmVudHMuCiAgICAgKiBAbWV0aG9kIG9mZgogICAgICogQHBhcmFtIHt9IG9iamVjdAogICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZXMKICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrCiAgICAgKi8KICAgIEV2ZW50cy5vZmYgPSBmdW5jdGlvbihvYmplY3QsIGV2ZW50TmFtZXMsIGNhbGxiYWNrKSB7CiAgICAgICAgaWYgKCFldmVudE5hbWVzKSB7CiAgICAgICAgICAgIG9iamVjdC5ldmVudHMgPSB7fTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8gaGFuZGxlIEV2ZW50cy5vZmYob2JqZWN0LCBjYWxsYmFjaykKICAgICAgICBpZiAodHlwZW9mIGV2ZW50TmFtZXMgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgY2FsbGJhY2sgPSBldmVudE5hbWVzOwogICAgICAgICAgICBldmVudE5hbWVzID0gQ29tbW9uLmtleXMob2JqZWN0LmV2ZW50cykuam9pbignICcpOwogICAgICAgIH0KCiAgICAgICAgdmFyIG5hbWVzID0gZXZlbnROYW1lcy5zcGxpdCgnICcpOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSBvYmplY3QuZXZlbnRzW25hbWVzW2ldXSwKICAgICAgICAgICAgICAgIG5ld0NhbGxiYWNrcyA9IFtdOwoKICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIGNhbGxiYWNrcykgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjYWxsYmFja3MubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzW2pdICE9PSBjYWxsYmFjaykKICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2FsbGJhY2tzLnB1c2goY2FsbGJhY2tzW2pdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgb2JqZWN0LmV2ZW50c1tuYW1lc1tpXV0gPSBuZXdDYWxsYmFja3M7CiAgICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIEZpcmVzIGFsbCB0aGUgY2FsbGJhY2tzIHN1YnNjcmliZWQgdG8gdGhlIGdpdmVuIG9iamVjdCdzIGBldmVudE5hbWVgLCBpbiB0aGUgb3JkZXIgdGhleSBzdWJzY3JpYmVkLCBpZiBhbnkuCiAgICAgKiBAbWV0aG9kIHRyaWdnZXIKICAgICAqIEBwYXJhbSB7fSBvYmplY3QKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVzCiAgICAgKiBAcGFyYW0ge30gZXZlbnQKICAgICAqLwogICAgRXZlbnRzLnRyaWdnZXIgPSBmdW5jdGlvbihvYmplY3QsIGV2ZW50TmFtZXMsIGV2ZW50KSB7CiAgICAgICAgdmFyIG5hbWVzLAogICAgICAgICAgICBuYW1lLAogICAgICAgICAgICBjYWxsYmFja3MsCiAgICAgICAgICAgIGV2ZW50Q2xvbmU7CgogICAgICAgIGlmIChvYmplY3QuZXZlbnRzKSB7CiAgICAgICAgICAgIGlmICghZXZlbnQpCiAgICAgICAgICAgICAgICBldmVudCA9IHt9OwoKICAgICAgICAgICAgbmFtZXMgPSBldmVudE5hbWVzLnNwbGl0KCcgJyk7CgogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZXNbaV07CiAgICAgICAgICAgICAgICBjYWxsYmFja3MgPSBvYmplY3QuZXZlbnRzW25hbWVdOwoKICAgICAgICAgICAgICAgIGlmIChjYWxsYmFja3MpIHsKICAgICAgICAgICAgICAgICAgICBldmVudENsb25lID0gQ29tbW9uLmNsb25lKGV2ZW50LCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgZXZlbnRDbG9uZS5uYW1lID0gbmFtZTsKICAgICAgICAgICAgICAgICAgICBldmVudENsb25lLnNvdXJjZSA9IG9iamVjdDsKCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjYWxsYmFja3MubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW2pdLmFwcGx5KG9iamVjdCwgW2V2ZW50Q2xvbmVdKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKfSkoKTsKCn0seyIuL0NvbW1vbiI6MTR9XSwxNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7Ci8qKgoqIFRoZSBgTWF0dGVyYCBtb2R1bGUgaXMgdGhlIHRvcCBsZXZlbCBuYW1lc3BhY2UuIEl0IGFsc28gaW5jbHVkZXMgYSBmdW5jdGlvbiBmb3IgaW5zdGFsbGluZyBwbHVnaW5zIG9uIHRvcCBvZiB0aGUgbGlicmFyeS4KKgoqIEBjbGFzcyBNYXR0ZXIKKi8KCnZhciBNYXR0ZXIgPSB7fTsKCm1vZHVsZS5leHBvcnRzID0gTWF0dGVyOwoKdmFyIFBsdWdpbiA9IF9kZXJlcV8oJy4vUGx1Z2luJyk7CnZhciBDb21tb24gPSBfZGVyZXFfKCcuL0NvbW1vbicpOwoKKGZ1bmN0aW9uKCkgewoKICAgIC8qKgogICAgICogVGhlIGxpYnJhcnkgbmFtZS4KICAgICAqIEBwcm9wZXJ0eSBuYW1lCiAgICAgKiBAcmVhZE9ubHkKICAgICAqIEB0eXBlIHtTdHJpbmd9CiAgICAgKi8KICAgIE1hdHRlci5uYW1lID0gJ21hdHRlci1qcyc7CgogICAgLyoqCiAgICAgKiBUaGUgbGlicmFyeSB2ZXJzaW9uLgogICAgICogQHByb3BlcnR5IHZlcnNpb24KICAgICAqIEByZWFkT25seQogICAgICogQHR5cGUge1N0cmluZ30KICAgICAqLwogICAgTWF0dGVyLnZlcnNpb24gPSAnMC4xMS4xLWFscGhhJzsKCiAgICAvKioKICAgICAqIEEgbGlzdCBvZiBwbHVnaW4gZGVwZW5kZW5jaWVzIHRvIGJlIGluc3RhbGxlZC4gVGhlc2UgYXJlIG5vcm1hbGx5IHNldCBhbmQgaW5zdGFsbGVkIHRocm91Z2ggYE1hdHRlci51c2VgLgogICAgICogQWx0ZXJuYXRpdmVseSB5b3UgbWF5IHNldCBgTWF0dGVyLnVzZXNgIG1hbnVhbGx5IGFuZCBpbnN0YWxsIHRoZW0gYnkgY2FsbGluZyBgUGx1Z2luLnVzZShNYXR0ZXIpYC4KICAgICAqIEBwcm9wZXJ0eSB1c2VzCiAgICAgKiBAdHlwZSB7QXJyYXl9CiAgICAgKi8KICAgIE1hdHRlci51c2VzID0gW107CgogICAgLyoqCiAgICAgKiBUaGUgcGx1Z2lucyB0aGF0IGhhdmUgYmVlbiBpbnN0YWxsZWQgdGhyb3VnaCBgTWF0dGVyLlBsdWdpbi5pbnN0YWxsYC4gUmVhZCBvbmx5LgogICAgICogQHByb3BlcnR5IHVzZWQKICAgICAqIEByZWFkT25seQogICAgICogQHR5cGUge0FycmF5fQogICAgICovCiAgICBNYXR0ZXIudXNlZCA9IFtdOwoKICAgIC8qKgogICAgICogSW5zdGFsbHMgdGhlIGdpdmVuIHBsdWdpbnMgb24gdGhlIGBNYXR0ZXJgIG5hbWVzcGFjZS4KICAgICAqIFRoaXMgaXMgYSBzaG9ydC1oYW5kIGZvciBgUGx1Z2luLnVzZWAsIHNlZSBpdCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4KICAgICAqIENhbGwgdGhpcyBmdW5jdGlvbiBvbmNlIGF0IHRoZSBzdGFydCBvZiB5b3VyIGNvZGUsIHdpdGggYWxsIG9mIHRoZSBwbHVnaW5zIHlvdSB3aXNoIHRvIGluc3RhbGwgYXMgYXJndW1lbnRzLgogICAgICogQXZvaWQgY2FsbGluZyB0aGlzIGZ1bmN0aW9uIG11bHRpcGxlIHRpbWVzIHVubGVzcyB5b3UgaW50ZW5kIHRvIG1hbnVhbGx5IGNvbnRyb2wgaW5zdGFsbGF0aW9uIG9yZGVyLgogICAgICogQG1ldGhvZCB1c2UKICAgICAqIEBwYXJhbSAuLi5wbHVnaW4ge0Z1bmN0aW9ufSBUaGUgcGx1Z2luKHMpIHRvIGluc3RhbGwgb24gYGJhc2VgIChtdWx0aS1hcmd1bWVudCkuCiAgICAgKi8KICAgIE1hdHRlci51c2UgPSBmdW5jdGlvbigpIHsKICAgICAgICBQbHVnaW4udXNlKE1hdHRlciwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7CiAgICB9OwoKICAgIC8qKgogICAgICogQ2hhaW5zIGEgZnVuY3Rpb24gdG8gZXhjdXRlIGJlZm9yZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gb24gdGhlIGdpdmVuIGBwYXRoYCByZWxhdGl2ZSB0byBgTWF0dGVyYC4KICAgICAqIFNlZSBhbHNvIGRvY3MgZm9yIGBDb21tb24uY2hhaW5gLgogICAgICogQG1ldGhvZCBiZWZvcmUKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHJlbGF0aXZlIHRvIGBNYXR0ZXJgCiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGFpbiBiZWZvcmUgdGhlIG9yaWdpbmFsCiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIGNoYWluZWQgZnVuY3Rpb24gdGhhdCByZXBsYWNlZCB0aGUgb3JpZ2luYWwKICAgICAqLwogICAgTWF0dGVyLmJlZm9yZSA9IGZ1bmN0aW9uKHBhdGgsIGZ1bmMpIHsKICAgICAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9eTWF0dGVyLi8sICcnKTsKICAgICAgICByZXR1cm4gQ29tbW9uLmNoYWluUGF0aEJlZm9yZShNYXR0ZXIsIHBhdGgsIGZ1bmMpOwogICAgfTsKCiAgICAvKioKICAgICAqIENoYWlucyBhIGZ1bmN0aW9uIHRvIGV4Y3V0ZSBhZnRlciB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gb24gdGhlIGdpdmVuIGBwYXRoYCByZWxhdGl2ZSB0byBgTWF0dGVyYC4KICAgICAqIFNlZSBhbHNvIGRvY3MgZm9yIGBDb21tb24uY2hhaW5gLgogICAgICogQG1ldGhvZCBhZnRlcgogICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggcmVsYXRpdmUgdG8gYE1hdHRlcmAKICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoYWluIGFmdGVyIHRoZSBvcmlnaW5hbAogICAgICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSBjaGFpbmVkIGZ1bmN0aW9uIHRoYXQgcmVwbGFjZWQgdGhlIG9yaWdpbmFsCiAgICAgKi8KICAgIE1hdHRlci5hZnRlciA9IGZ1bmN0aW9uKHBhdGgsIGZ1bmMpIHsKICAgICAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9eTWF0dGVyLi8sICcnKTsKICAgICAgICByZXR1cm4gQ29tbW9uLmNoYWluUGF0aEFmdGVyKE1hdHRlciwgcGF0aCwgZnVuYyk7CiAgICB9OwoKfSkoKTsKCn0seyIuL0NvbW1vbiI6MTQsIi4vUGx1Z2luIjoyMH1dLDE4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXsKCn0seyIuLi9ib2R5L0NvbXBvc2l0ZSI6MiwiLi9Db21tb24iOjE0fV0sMTk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpewovKioKKiBUaGUgYE1hdHRlci5Nb3VzZWAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgbW91c2UgaW5wdXRzLgoqCiogQGNsYXNzIE1vdXNlCiovCgp2YXIgTW91c2UgPSB7fTsKCm1vZHVsZS5leHBvcnRzID0gTW91c2U7Cgp2YXIgQ29tbW9uID0gX2RlcmVxXygnLi4vY29yZS9Db21tb24nKTsKCihmdW5jdGlvbigpIHsKCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBtb3VzZSBpbnB1dC4KICAgICAqIEBtZXRob2QgY3JlYXRlCiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50CiAgICAgKiBAcmV0dXJuIHttb3VzZX0gQSBuZXcgbW91c2UKICAgICAqLwogICAgTW91c2UuY3JlYXRlID0gZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHZhciBtb3VzZSA9IHt9OwoKICAgICAgICBpZiAoIWVsZW1lbnQpIHsKICAgICAgICAgICAgQ29tbW9uLmxvZygnTW91c2UuY3JlYXRlOiBlbGVtZW50IHdhcyB1bmRlZmluZWQsIGRlZmF1bHRpbmcgdG8gZG9jdW1lbnQuYm9keScsICd3YXJuJyk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIG1vdXNlLmVsZW1lbnQgPSBlbGVtZW50IHx8IGRvY3VtZW50LmJvZHk7CiAgICAgICAgbW91c2UuYWJzb2x1dGUgPSB7IHg6IDAsIHk6IDAgfTsKICAgICAgICBtb3VzZS5wb3NpdGlvbiA9IHsgeDogMCwgeTogMCB9OwogICAgICAgIG1vdXNlLm1vdXNlZG93blBvc2l0aW9uID0geyB4OiAwLCB5OiAwIH07CiAgICAgICAgbW91c2UubW91c2V1cFBvc2l0aW9uID0geyB4OiAwLCB5OiAwIH07CiAgICAgICAgbW91c2Uub2Zmc2V0ID0geyB4OiAwLCB5OiAwIH07CiAgICAgICAgbW91c2Uuc2NhbGUgPSB7IHg6IDEsIHk6IDEgfTsKICAgICAgICBtb3VzZS53aGVlbERlbHRhID0gMDsKICAgICAgICBtb3VzZS5idXR0b24gPSAtMTsKICAgICAgICBtb3VzZS5waXhlbFJhdGlvID0gbW91c2UuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGl4ZWwtcmF0aW8nKSB8fCAxOwoKICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMgPSB7CiAgICAgICAgICAgIG1vdXNlbW92ZTogbnVsbCwKICAgICAgICAgICAgbW91c2Vkb3duOiBudWxsLAogICAgICAgICAgICBtb3VzZXVwOiBudWxsLAogICAgICAgICAgICBtb3VzZXdoZWVsOiBudWxsCiAgICAgICAgfTsKICAgICAgICAKICAgICAgICBtb3VzZS5tb3VzZW1vdmUgPSBmdW5jdGlvbihldmVudCkgeyAKICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gX2dldFJlbGF0aXZlTW91c2VQb3NpdGlvbihldmVudCwgbW91c2UuZWxlbWVudCwgbW91c2UucGl4ZWxSYXRpbyksCiAgICAgICAgICAgICAgICB0b3VjaGVzID0gZXZlbnQuY2hhbmdlZFRvdWNoZXM7CgogICAgICAgICAgICBpZiAodG91Y2hlcykgewogICAgICAgICAgICAgICAgbW91c2UuYnV0dG9uID0gMDsKICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG1vdXNlLmFic29sdXRlLnggPSBwb3NpdGlvbi54OwogICAgICAgICAgICBtb3VzZS5hYnNvbHV0ZS55ID0gcG9zaXRpb24ueTsKICAgICAgICAgICAgbW91c2UucG9zaXRpb24ueCA9IG1vdXNlLmFic29sdXRlLnggKiBtb3VzZS5zY2FsZS54ICsgbW91c2Uub2Zmc2V0Lng7CiAgICAgICAgICAgIG1vdXNlLnBvc2l0aW9uLnkgPSBtb3VzZS5hYnNvbHV0ZS55ICogbW91c2Uuc2NhbGUueSArIG1vdXNlLm9mZnNldC55OwogICAgICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMubW91c2Vtb3ZlID0gZXZlbnQ7CiAgICAgICAgfTsKICAgICAgICAKICAgICAgICBtb3VzZS5tb3VzZWRvd24gPSBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBfZ2V0UmVsYXRpdmVNb3VzZVBvc2l0aW9uKGV2ZW50LCBtb3VzZS5lbGVtZW50LCBtb3VzZS5waXhlbFJhdGlvKSwKICAgICAgICAgICAgICAgIHRvdWNoZXMgPSBldmVudC5jaGFuZ2VkVG91Y2hlczsKCiAgICAgICAgICAgIGlmICh0b3VjaGVzKSB7CiAgICAgICAgICAgICAgICBtb3VzZS5idXR0b24gPSAwOwogICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG1vdXNlLmJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbW91c2UuYWJzb2x1dGUueCA9IHBvc2l0aW9uLng7CiAgICAgICAgICAgIG1vdXNlLmFic29sdXRlLnkgPSBwb3NpdGlvbi55OwogICAgICAgICAgICBtb3VzZS5wb3NpdGlvbi54ID0gbW91c2UuYWJzb2x1dGUueCAqIG1vdXNlLnNjYWxlLnggKyBtb3VzZS5vZmZzZXQueDsKICAgICAgICAgICAgbW91c2UucG9zaXRpb24ueSA9IG1vdXNlLmFic29sdXRlLnkgKiBtb3VzZS5zY2FsZS55ICsgbW91c2Uub2Zmc2V0Lnk7CiAgICAgICAgICAgIG1vdXNlLm1vdXNlZG93blBvc2l0aW9uLnggPSBtb3VzZS5wb3NpdGlvbi54OwogICAgICAgICAgICBtb3VzZS5tb3VzZWRvd25Qb3NpdGlvbi55ID0gbW91c2UucG9zaXRpb24ueTsKICAgICAgICAgICAgbW91c2Uuc291cmNlRXZlbnRzLm1vdXNlZG93biA9IGV2ZW50OwogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgbW91c2UubW91c2V1cCA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IF9nZXRSZWxhdGl2ZU1vdXNlUG9zaXRpb24oZXZlbnQsIG1vdXNlLmVsZW1lbnQsIG1vdXNlLnBpeGVsUmF0aW8pLAogICAgICAgICAgICAgICAgdG91Y2hlcyA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzOwoKICAgICAgICAgICAgaWYgKHRvdWNoZXMpIHsKICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIG1vdXNlLmJ1dHRvbiA9IC0xOwogICAgICAgICAgICBtb3VzZS5hYnNvbHV0ZS54ID0gcG9zaXRpb24ueDsKICAgICAgICAgICAgbW91c2UuYWJzb2x1dGUueSA9IHBvc2l0aW9uLnk7CiAgICAgICAgICAgIG1vdXNlLnBvc2l0aW9uLnggPSBtb3VzZS5hYnNvbHV0ZS54ICogbW91c2Uuc2NhbGUueCArIG1vdXNlLm9mZnNldC54OwogICAgICAgICAgICBtb3VzZS5wb3NpdGlvbi55ID0gbW91c2UuYWJzb2x1dGUueSAqIG1vdXNlLnNjYWxlLnkgKyBtb3VzZS5vZmZzZXQueTsKICAgICAgICAgICAgbW91c2UubW91c2V1cFBvc2l0aW9uLnggPSBtb3VzZS5wb3NpdGlvbi54OwogICAgICAgICAgICBtb3VzZS5tb3VzZXVwUG9zaXRpb24ueSA9IG1vdXNlLnBvc2l0aW9uLnk7CiAgICAgICAgICAgIG1vdXNlLnNvdXJjZUV2ZW50cy5tb3VzZXVwID0gZXZlbnQ7CiAgICAgICAgfTsKCiAgICAgICAgbW91c2UubW91c2V3aGVlbCA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgIG1vdXNlLndoZWVsRGVsdGEgPSBNYXRoLm1heCgtMSwgTWF0aC5taW4oMSwgZXZlbnQud2hlZWxEZWx0YSB8fCAtZXZlbnQuZGV0YWlsKSk7CiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgfTsKCiAgICAgICAgTW91c2Uuc2V0RWxlbWVudChtb3VzZSwgbW91c2UuZWxlbWVudCk7CgogICAgICAgIHJldHVybiBtb3VzZTsKICAgIH07CgogICAgLyoqCiAgICAgKiBTZXRzIHRoZSBlbGVtZW50IHRoZSBtb3VzZSBpcyBib3VuZCB0byAoYW5kIHJlbGF0aXZlIHRvKS4KICAgICAqIEBtZXRob2Qgc2V0RWxlbWVudAogICAgICogQHBhcmFtIHttb3VzZX0gbW91c2UKICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQKICAgICAqLwogICAgTW91c2Uuc2V0RWxlbWVudCA9IGZ1bmN0aW9uKG1vdXNlLCBlbGVtZW50KSB7CiAgICAgICAgbW91c2UuZWxlbWVudCA9IGVsZW1lbnQ7CgogICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW91c2UubW91c2Vtb3ZlKTsKICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG1vdXNlLm1vdXNlZG93bik7CiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgbW91c2UubW91c2V1cCk7CiAgICAgICAgCiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgbW91c2UubW91c2V3aGVlbCk7CiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Nb3VzZVNjcm9sbCcsIG1vdXNlLm1vdXNld2hlZWwpOwoKICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG1vdXNlLm1vdXNlbW92ZSk7CiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgbW91c2UubW91c2Vkb3duKTsKICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgbW91c2UubW91c2V1cCk7CiAgICB9OwoKICAgIC8qKgogICAgICogQ2xlYXJzIGFsbCBjYXB0dXJlZCBzb3VyY2UgZXZlbnRzLgogICAgICogQG1ldGhvZCBjbGVhclNvdXJjZUV2ZW50cwogICAgICogQHBhcmFtIHttb3VzZX0gbW91c2UKICAgICAqLwogICAgTW91c2UuY2xlYXJTb3VyY2VFdmVudHMgPSBmdW5jdGlvbihtb3VzZSkgewogICAgICAgIG1vdXNlLnNvdXJjZUV2ZW50cy5tb3VzZW1vdmUgPSBudWxsOwogICAgICAgIG1vdXNlLnNvdXJjZUV2ZW50cy5tb3VzZWRvd24gPSBudWxsOwogICAgICAgIG1vdXNlLnNvdXJjZUV2ZW50cy5tb3VzZXVwID0gbnVsbDsKICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMubW91c2V3aGVlbCA9IG51bGw7CiAgICAgICAgbW91c2Uud2hlZWxEZWx0YSA9IDA7CiAgICB9OwoKICAgIC8qKgogICAgICogU2V0cyB0aGUgbW91c2UgcG9zaXRpb24gb2Zmc2V0LgogICAgICogQG1ldGhvZCBzZXRPZmZzZXQKICAgICAqIEBwYXJhbSB7bW91c2V9IG1vdXNlCiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gb2Zmc2V0CiAgICAgKi8KICAgIE1vdXNlLnNldE9mZnNldCA9IGZ1bmN0aW9uKG1vdXNlLCBvZmZzZXQpIHsKICAgICAgICBtb3VzZS5vZmZzZXQueCA9IG9mZnNldC54OwogICAgICAgIG1vdXNlLm9mZnNldC55ID0gb2Zmc2V0Lnk7CiAgICAgICAgbW91c2UucG9zaXRpb24ueCA9IG1vdXNlLmFic29sdXRlLnggKiBtb3VzZS5zY2FsZS54ICsgbW91c2Uub2Zmc2V0Lng7CiAgICAgICAgbW91c2UucG9zaXRpb24ueSA9IG1vdXNlLmFic29sdXRlLnkgKiBtb3VzZS5zY2FsZS55ICsgbW91c2Uub2Zmc2V0Lnk7CiAgICB9OwoKICAgIC8qKgogICAgICogU2V0cyB0aGUgbW91c2UgcG9zaXRpb24gc2NhbGUuCiAgICAgKiBAbWV0aG9kIHNldFNjYWxlCiAgICAgKiBAcGFyYW0ge21vdXNlfSBtb3VzZQogICAgICogQHBhcmFtIHt2ZWN0b3J9IHNjYWxlCiAgICAgKi8KICAgIE1vdXNlLnNldFNjYWxlID0gZnVuY3Rpb24obW91c2UsIHNjYWxlKSB7CiAgICAgICAgbW91c2Uuc2NhbGUueCA9IHNjYWxlLng7CiAgICAgICAgbW91c2Uuc2NhbGUueSA9IHNjYWxlLnk7CiAgICAgICAgbW91c2UucG9zaXRpb24ueCA9IG1vdXNlLmFic29sdXRlLnggKiBtb3VzZS5zY2FsZS54ICsgbW91c2Uub2Zmc2V0Lng7CiAgICAgICAgbW91c2UucG9zaXRpb24ueSA9IG1vdXNlLmFic29sdXRlLnkgKiBtb3VzZS5zY2FsZS55ICsgbW91c2Uub2Zmc2V0Lnk7CiAgICB9OwogICAgCiAgICAvKioKICAgICAqIEdldHMgdGhlIG1vdXNlIHBvc2l0aW9uIHJlbGF0aXZlIHRvIGFuIGVsZW1lbnQgZ2l2ZW4gYSBzY3JlZW4gcGl4ZWwgcmF0aW8uCiAgICAgKiBAbWV0aG9kIF9nZXRSZWxhdGl2ZU1vdXNlUG9zaXRpb24KICAgICAqIEBwcml2YXRlCiAgICAgKiBAcGFyYW0ge30gZXZlbnQKICAgICAqIEBwYXJhbSB7fSBlbGVtZW50CiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbwogICAgICogQHJldHVybiB7fQogICAgICovCiAgICB2YXIgX2dldFJlbGF0aXZlTW91c2VQb3NpdGlvbiA9IGZ1bmN0aW9uKGV2ZW50LCBlbGVtZW50LCBwaXhlbFJhdGlvKSB7CiAgICAgICAgdmFyIGVsZW1lbnRCb3VuZHMgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLAogICAgICAgICAgICByb290Tm9kZSA9IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlIHx8IGRvY3VtZW50LmJvZHkpLAogICAgICAgICAgICBzY3JvbGxYID0gKHdpbmRvdy5wYWdlWE9mZnNldCAhPT0gdW5kZWZpbmVkKSA/IHdpbmRvdy5wYWdlWE9mZnNldCA6IHJvb3ROb2RlLnNjcm9sbExlZnQsCiAgICAgICAgICAgIHNjcm9sbFkgPSAod2luZG93LnBhZ2VZT2Zmc2V0ICE9PSB1bmRlZmluZWQpID8gd2luZG93LnBhZ2VZT2Zmc2V0IDogcm9vdE5vZGUuc2Nyb2xsVG9wLAogICAgICAgICAgICB0b3VjaGVzID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMsCiAgICAgICAgICAgIHgsIHk7CiAgICAgICAgCiAgICAgICAgaWYgKHRvdWNoZXMpIHsKICAgICAgICAgICAgeCA9IHRvdWNoZXNbMF0ucGFnZVggLSBlbGVtZW50Qm91bmRzLmxlZnQgLSBzY3JvbGxYOwogICAgICAgICAgICB5ID0gdG91Y2hlc1swXS5wYWdlWSAtIGVsZW1lbnRCb3VuZHMudG9wIC0gc2Nyb2xsWTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB4ID0gZXZlbnQucGFnZVggLSBlbGVtZW50Qm91bmRzLmxlZnQgLSBzY3JvbGxYOwogICAgICAgICAgICB5ID0gZXZlbnQucGFnZVkgLSBlbGVtZW50Qm91bmRzLnRvcCAtIHNjcm9sbFk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4geyAKICAgICAgICAgICAgeDogeCAvIChlbGVtZW50LmNsaWVudFdpZHRoIC8gKGVsZW1lbnQud2lkdGggfHwgZWxlbWVudC5jbGllbnRXaWR0aCkgKiBwaXhlbFJhdGlvKSwKICAgICAgICAgICAgeTogeSAvIChlbGVtZW50LmNsaWVudEhlaWdodCAvIChlbGVtZW50LmhlaWdodCB8fCBlbGVtZW50LmNsaWVudEhlaWdodCkgKiBwaXhlbFJhdGlvKQogICAgICAgIH07CiAgICB9OwoKfSkoKTsKCn0seyIuLi9jb3JlL0NvbW1vbiI6MTR9XSwyMDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7Ci8qKgoqIFRoZSBgTWF0dGVyLlBsdWdpbmAgbW9kdWxlIGNvbnRhaW5zIGZ1bmN0aW9ucyBmb3IgcmVnaXN0ZXJpbmcgYW5kIGluc3RhbGxpbmcgcGx1Z2lucyBvbiBtb2R1bGVzLgoqCiogQGNsYXNzIFBsdWdpbgoqLwoKdmFyIFBsdWdpbiA9IHt9OwoKbW9kdWxlLmV4cG9ydHMgPSBQbHVnaW47Cgp2YXIgQ29tbW9uID0gX2RlcmVxXygnLi9Db21tb24nKTsKCihmdW5jdGlvbigpIHsKCiAgICBQbHVnaW4uX3JlZ2lzdHJ5ID0ge307CgogICAgLyoqCiAgICAgKiBSZWdpc3RlcnMgYSBwbHVnaW4gb2JqZWN0IHNvIGl0IGNhbiBiZSByZXNvbHZlZCBsYXRlciBieSBuYW1lLgogICAgICogQG1ldGhvZCByZWdpc3RlcgogICAgICogQHBhcmFtIHBsdWdpbiB7fSBUaGUgcGx1Z2luIHRvIHJlZ2lzdGVyLgogICAgICogQHJldHVybiB7b2JqZWN0fSBUaGUgcGx1Z2luLgogICAgICovCiAgICBQbHVnaW4ucmVnaXN0ZXIgPSBmdW5jdGlvbihwbHVnaW4pIHsKICAgICAgICBpZiAoIVBsdWdpbi5pc1BsdWdpbihwbHVnaW4pKSB7CiAgICAgICAgICAgIENvbW1vbi53YXJuKCdQbHVnaW4ucmVnaXN0ZXI6JywgUGx1Z2luLnRvU3RyaW5nKHBsdWdpbiksICdkb2VzIG5vdCBpbXBsZW1lbnQgYWxsIHJlcXVpcmVkIGZpZWxkcy4nKTsKICAgICAgICB9CgogICAgICAgIGlmIChwbHVnaW4ubmFtZSBpbiBQbHVnaW4uX3JlZ2lzdHJ5KSB7CiAgICAgICAgICAgIHZhciByZWdpc3RlcmVkID0gUGx1Z2luLl9yZWdpc3RyeVtwbHVnaW4ubmFtZV0sCiAgICAgICAgICAgICAgICBwbHVnaW5WZXJzaW9uID0gUGx1Z2luLnZlcnNpb25QYXJzZShwbHVnaW4udmVyc2lvbikubnVtYmVyLAogICAgICAgICAgICAgICAgcmVnaXN0ZXJlZFZlcnNpb24gPSBQbHVnaW4udmVyc2lvblBhcnNlKHJlZ2lzdGVyZWQudmVyc2lvbikubnVtYmVyOwoKICAgICAgICAgICAgaWYgKHBsdWdpblZlcnNpb24gPiByZWdpc3RlcmVkVmVyc2lvbikgewogICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1BsdWdpbi5yZWdpc3RlcjonLCBQbHVnaW4udG9TdHJpbmcocmVnaXN0ZXJlZCksICd3YXMgdXBncmFkZWQgdG8nLCBQbHVnaW4udG9TdHJpbmcocGx1Z2luKSk7CiAgICAgICAgICAgICAgICBQbHVnaW4uX3JlZ2lzdHJ5W3BsdWdpbi5uYW1lXSA9IHBsdWdpbjsKICAgICAgICAgICAgfSBlbHNlIGlmIChwbHVnaW5WZXJzaW9uIDwgcmVnaXN0ZXJlZFZlcnNpb24pIHsKICAgICAgICAgICAgICAgIENvbW1vbi53YXJuKCdQbHVnaW4ucmVnaXN0ZXI6JywgUGx1Z2luLnRvU3RyaW5nKHJlZ2lzdGVyZWQpLCAnY2FuIG5vdCBiZSBkb3duZ3JhZGVkIHRvJywgUGx1Z2luLnRvU3RyaW5nKHBsdWdpbikpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHBsdWdpbiAhPT0gcmVnaXN0ZXJlZCkgewogICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1BsdWdpbi5yZWdpc3RlcjonLCBQbHVnaW4udG9TdHJpbmcocGx1Z2luKSwgJ2lzIGFscmVhZHkgcmVnaXN0ZXJlZCB0byBkaWZmZXJlbnQgcGx1Z2luIG9iamVjdCcpOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgUGx1Z2luLl9yZWdpc3RyeVtwbHVnaW4ubmFtZV0gPSBwbHVnaW47CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcGx1Z2luOwogICAgfTsKCiAgICAvKioKICAgICAqIFJlc29sdmVzIGEgZGVwZW5kZW5jeSB0byBhIHBsdWdpbiBvYmplY3QgZnJvbSB0aGUgcmVnaXN0cnkgaWYgaXQgZXhpc3RzLiAKICAgICAqIFRoZSBgZGVwZW5kZW5jeWAgbWF5IGNvbnRhaW4gYSB2ZXJzaW9uLCBidXQgb25seSB0aGUgbmFtZSBtYXR0ZXJzIHdoZW4gcmVzb2x2aW5nLgogICAgICogQG1ldGhvZCByZXNvbHZlCiAgICAgKiBAcGFyYW0gZGVwZW5kZW5jeSB7c3RyaW5nfSBUaGUgZGVwZW5kZW5jeS4KICAgICAqIEByZXR1cm4ge29iamVjdH0gVGhlIHBsdWdpbiBpZiByZXNvbHZlZCwgb3RoZXJ3aXNlIGB1bmRlZmluZWRgLgogICAgICovCiAgICBQbHVnaW4ucmVzb2x2ZSA9IGZ1bmN0aW9uKGRlcGVuZGVuY3kpIHsKICAgICAgICByZXR1cm4gUGx1Z2luLl9yZWdpc3RyeVtQbHVnaW4uZGVwZW5kZW5jeVBhcnNlKGRlcGVuZGVuY3kpLm5hbWVdOwogICAgfTsKCiAgICAvKioKICAgICAqIFJldHVybnMgYSBwcmV0dHkgcHJpbnRlZCBwbHVnaW4gbmFtZSBhbmQgdmVyc2lvbi4KICAgICAqIEBtZXRob2QgdG9TdHJpbmcKICAgICAqIEBwYXJhbSBwbHVnaW4ge30gVGhlIHBsdWdpbi4KICAgICAqIEByZXR1cm4ge3N0cmluZ30gUHJldHR5IHByaW50ZWQgcGx1Z2luIG5hbWUgYW5kIHZlcnNpb24uCiAgICAgKi8KICAgIFBsdWdpbi50b1N0cmluZyA9IGZ1bmN0aW9uKHBsdWdpbikgewogICAgICAgIHJldHVybiB0eXBlb2YgcGx1Z2luID09PSAnc3RyaW5nJyA/IHBsdWdpbiA6IChwbHVnaW4ubmFtZSB8fCAnYW5vbnltb3VzJykgKyAnQCcgKyAocGx1Z2luLnZlcnNpb24gfHwgcGx1Z2luLnJhbmdlIHx8ICcwLjAuMCcpOwogICAgfTsKCiAgICAvKioKICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3QgbWVldHMgdGhlIG1pbmltdW0gc3RhbmRhcmQgdG8gYmUgY29uc2lkZXJlZCBhIHBsdWdpbi4KICAgICAqIFRoaXMgbWVhbnMgaXQgbXVzdCBkZWZpbmUgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOgogICAgICogLSBgbmFtZWAKICAgICAqIC0gYHZlcnNpb25gCiAgICAgKiAtIGBpbnN0YWxsYAogICAgICogQG1ldGhvZCBpc1BsdWdpbgogICAgICogQHBhcmFtIG9iaiB7fSBUaGUgb2JqIHRvIHRlc3QuCiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIG9iamVjdCBjYW4gYmUgY29uc2lkZXJlZCBhIHBsdWdpbiBvdGhlcndpc2UgYGZhbHNlYC4KICAgICAqLwogICAgUGx1Z2luLmlzUGx1Z2luID0gZnVuY3Rpb24ob2JqKSB7CiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmoubmFtZSAmJiBvYmoudmVyc2lvbiAmJiBvYmouaW5zdGFsbDsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiBhIHBsdWdpbiB3aXRoIHRoZSBnaXZlbiBgbmFtZWAgYmVlbiBpbnN0YWxsZWQgb24gYG1vZHVsZWAuCiAgICAgKiBAbWV0aG9kIGlzVXNlZAogICAgICogQHBhcmFtIG1vZHVsZSB7fSBUaGUgbW9kdWxlLgogICAgICogQHBhcmFtIG5hbWUge3N0cmluZ30gVGhlIHBsdWdpbiBuYW1lLgogICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIGEgcGx1Z2luIHdpdGggdGhlIGdpdmVuIGBuYW1lYCBiZWVuIGluc3RhbGxlZCBvbiBgbW9kdWxlYCwgb3RoZXJ3aXNlIGBmYWxzZWAuCiAgICAgKi8KICAgIFBsdWdpbi5pc1VzZWQgPSBmdW5jdGlvbihtb2R1bGUsIG5hbWUpIHsKICAgICAgICByZXR1cm4gbW9kdWxlLnVzZWQuaW5kZXhPZihuYW1lKSA+IC0xOwogICAgfTsKCiAgICAvKioKICAgICAqIFJldHVybnMgYHRydWVgIGlmIGBwbHVnaW4uZm9yYCBpcyBhcHBsaWNhYmxlIHRvIGBtb2R1bGVgIGJ5IGNvbXBhcmluZyBhZ2FpbnN0IGBtb2R1bGUubmFtZWAgYW5kIGBtb2R1bGUudmVyc2lvbmAuCiAgICAgKiBJZiBgcGx1Z2luLmZvcmAgaXMgbm90IHNwZWNpZmllZCB0aGVuIGl0IGlzIGFzc3VtZWQgdG8gYmUgYXBwbGljYWJsZS4KICAgICAqIFRoZSB2YWx1ZSBvZiBgcGx1Z2luLmZvcmAgaXMgYSBzdHJpbmcgb2YgdGhlIGZvcm1hdCBgJ21vZHVsZS1uYW1lJ2Agb3IgYCdtb2R1bGUtbmFtZUB2ZXJzaW9uJ2AuCiAgICAgKiBAbWV0aG9kIGlzRm9yCiAgICAgKiBAcGFyYW0gcGx1Z2luIHt9IFRoZSBwbHVnaW4uCiAgICAgKiBAcGFyYW0gbW9kdWxlIHt9IFRoZSBtb2R1bGUuCiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgYHBsdWdpbi5mb3JgIGlzIGFwcGxpY2FibGUgdG8gYG1vZHVsZWAsIG90aGVyd2lzZSBgZmFsc2VgLgogICAgICovCiAgICBQbHVnaW4uaXNGb3IgPSBmdW5jdGlvbihwbHVnaW4sIG1vZHVsZSkgewogICAgICAgIHZhciBwYXJzZWQgPSBwbHVnaW4uZm9yICYmIFBsdWdpbi5kZXBlbmRlbmN5UGFyc2UocGx1Z2luLmZvcik7CiAgICAgICAgcmV0dXJuICFwbHVnaW4uZm9yIHx8IChtb2R1bGUubmFtZSA9PT0gcGFyc2VkLm5hbWUgJiYgUGx1Z2luLnZlcnNpb25TYXRpc2ZpZXMobW9kdWxlLnZlcnNpb24sIHBhcnNlZC5yYW5nZSkpOwogICAgfTsKCiAgICAvKioKICAgICAqIEluc3RhbGxzIHRoZSBwbHVnaW5zIGJ5IGNhbGxpbmcgYHBsdWdpbi5pbnN0YWxsYCBvbiBlYWNoIHBsdWdpbiBzcGVjaWZpZWQgaW4gYHBsdWdpbnNgIGlmIHBhc3NlZCwgb3RoZXJ3aXNlIGBtb2R1bGUudXNlc2AuCiAgICAgKiBGb3IgaW5zdGFsbGluZyBwbHVnaW5zIG9uIGBNYXR0ZXJgIHNlZSB0aGUgY29udmVuaWVuY2UgZnVuY3Rpb24gYE1hdHRlci51c2VgLgogICAgICogUGx1Z2lucyBtYXkgYmUgc3BlY2lmaWVkIGVpdGhlciBieSB0aGVpciBuYW1lIG9yIGEgcmVmZXJlbmNlIHRvIHRoZSBwbHVnaW4gb2JqZWN0LgogICAgICogUGx1Z2lucyB0aGVtc2VsdmVzIG1heSBzcGVjaWZ5IGZ1cnRoZXIgZGVwZW5kZW5jaWVzLCBidXQgZWFjaCBwbHVnaW4gaXMgaW5zdGFsbGVkIG9ubHkgb25jZS4KICAgICAqIE9yZGVyIGlzIGltcG9ydGFudCwgYSB0b3BvbG9naWNhbCBzb3J0IGlzIHBlcmZvcm1lZCB0byBmaW5kIHRoZSBiZXN0IHJlc3VsdGluZyBvcmRlciBvZiBpbnN0YWxsYXRpb24uCiAgICAgKiBUaGlzIHNvcnRpbmcgYXR0ZW1wdHMgdG8gc2F0aXNmeSBldmVyeSBkZXBlbmRlbmN5J3MgcmVxdWVzdGVkIG9yZGVyaW5nLCBidXQgbWF5IG5vdCBiZSBleGFjdCBpbiBhbGwgY2FzZXMuCiAgICAgKiBUaGlzIGZ1bmN0aW9uIGxvZ3MgdGhlIHJlc3VsdGluZyBzdGF0dXMgb2YgZWFjaCBkZXBlbmRlbmN5IGluIHRoZSBjb25zb2xlLCBhbG9uZyB3aXRoIGFueSB3YXJuaW5ncy4KICAgICAqIC0gQSBncmVlbiB0aWNrIOKchSBpbmRpY2F0ZXMgYSBkZXBlbmRlbmN5IHdhcyByZXNvbHZlZCBhbmQgaW5zdGFsbGVkLgogICAgICogLSBBbiBvcmFuZ2UgZGlhbW9uZCDwn5S2IGluZGljYXRlcyBhIGRlcGVuZGVuY3kgd2FzIHJlc29sdmVkIGJ1dCBhIHdhcm5pbmcgd2FzIHRocm93biBmb3IgaXQgb3Igb25lIGlmIGl0cyBkZXBlbmRlbmNpZXMuCiAgICAgKiAtIEEgcmVkIGNyb3NzIOKdjCBpbmRpY2F0ZXMgYSBkZXBlbmRlbmN5IGNvdWxkIG5vdCBiZSByZXNvbHZlZC4KICAgICAqIEF2b2lkIGNhbGxpbmcgdGhpcyBmdW5jdGlvbiBtdWx0aXBsZSB0aW1lcyBvbiB0aGUgc2FtZSBtb2R1bGUgdW5sZXNzIHlvdSBpbnRlbmQgdG8gbWFudWFsbHkgY29udHJvbCBpbnN0YWxsYXRpb24gb3JkZXIuCiAgICAgKiBAbWV0aG9kIHVzZQogICAgICogQHBhcmFtIG1vZHVsZSB7fSBUaGUgbW9kdWxlIGluc3RhbGwgcGx1Z2lucyBvbi4KICAgICAqIEBwYXJhbSBbcGx1Z2lucz1tb2R1bGUudXNlc10ge30gVGhlIHBsdWdpbnMgdG8gaW5zdGFsbCBvbiBtb2R1bGUgKG9wdGlvbmFsLCBkZWZhdWx0cyB0byBgbW9kdWxlLnVzZXNgKS4KICAgICAqLwogICAgUGx1Z2luLnVzZSA9IGZ1bmN0aW9uKG1vZHVsZSwgcGx1Z2lucykgewogICAgICAgIG1vZHVsZS51c2VzID0gKG1vZHVsZS51c2VzIHx8IFtdKS5jb25jYXQocGx1Z2lucyB8fCBbXSk7CgogICAgICAgIGlmIChtb2R1bGUudXNlcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1BsdWdpbi51c2U6JywgUGx1Z2luLnRvU3RyaW5nKG1vZHVsZSksICdkb2VzIG5vdCBzcGVjaWZ5IGFueSBkZXBlbmRlbmNpZXMgdG8gaW5zdGFsbC4nKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGRlcGVuZGVuY2llcyA9IFBsdWdpbi5kZXBlbmRlbmNpZXMobW9kdWxlKSwKICAgICAgICAgICAgc29ydGVkRGVwZW5kZW5jaWVzID0gQ29tbW9uLnRvcG9sb2dpY2FsU29ydChkZXBlbmRlbmNpZXMpLAogICAgICAgICAgICBzdGF0dXMgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3J0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgICAgaWYgKHNvcnRlZERlcGVuZGVuY2llc1tpXSA9PT0gbW9kdWxlLm5hbWUpIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgcGx1Z2luID0gUGx1Z2luLnJlc29sdmUoc29ydGVkRGVwZW5kZW5jaWVzW2ldKTsKCiAgICAgICAgICAgIGlmICghcGx1Z2luKSB7CiAgICAgICAgICAgICAgICBzdGF0dXMucHVzaCgn4p2MICcgKyBzb3J0ZWREZXBlbmRlbmNpZXNbaV0pOwogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChQbHVnaW4uaXNVc2VkKG1vZHVsZSwgcGx1Z2luLm5hbWUpKSB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCFQbHVnaW4uaXNGb3IocGx1Z2luLCBtb2R1bGUpKSB7CiAgICAgICAgICAgICAgICBDb21tb24ud2FybignUGx1Z2luLnVzZTonLCBQbHVnaW4udG9TdHJpbmcocGx1Z2luKSwgJ2lzIGZvcicsIHBsdWdpbi5mb3IsICdidXQgaW5zdGFsbGVkIG9uJywgUGx1Z2luLnRvU3RyaW5nKG1vZHVsZSkgKyAnLicpOwogICAgICAgICAgICAgICAgcGx1Z2luLl93YXJuZWQgPSB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAocGx1Z2luLmluc3RhbGwpIHsKICAgICAgICAgICAgICAgIHBsdWdpbi5pbnN0YWxsKG1vZHVsZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBDb21tb24ud2FybignUGx1Z2luLnVzZTonLCBQbHVnaW4udG9TdHJpbmcocGx1Z2luKSwgJ2RvZXMgbm90IHNwZWNpZnkgYW4gaW5zdGFsbCBmdW5jdGlvbi4nKTsKICAgICAgICAgICAgICAgIHBsdWdpbi5fd2FybmVkID0gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHBsdWdpbi5fd2FybmVkKSB7CiAgICAgICAgICAgICAgICBzdGF0dXMucHVzaCgn8J+UtiAnICsgUGx1Z2luLnRvU3RyaW5nKHBsdWdpbikpOwogICAgICAgICAgICAgICAgZGVsZXRlIHBsdWdpbi5fd2FybmVkOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc3RhdHVzLnB1c2goJ+KchSAnICsgUGx1Z2luLnRvU3RyaW5nKHBsdWdpbikpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBtb2R1bGUudXNlZC5wdXNoKHBsdWdpbi5uYW1lKTsKICAgICAgICB9CgogICAgICAgIGlmIChzdGF0dXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBDb21tb24uaW5mbyhzdGF0dXMuam9pbignICAnKSk7CiAgICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIFJlY3Vyc2l2ZWx5IGZpbmRzIGFsbCBvZiBhIG1vZHVsZSdzIGRlcGVuZGVuY2llcyBhbmQgcmV0dXJucyBhIGZsYXQgZGVwZW5kZW5jeSBncmFwaC4KICAgICAqIEBtZXRob2QgZGVwZW5kZW5jaWVzCiAgICAgKiBAcGFyYW0gbW9kdWxlIHt9IFRoZSBtb2R1bGUuCiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IEEgZGVwZW5kZW5jeSBncmFwaC4KICAgICAqLwogICAgUGx1Z2luLmRlcGVuZGVuY2llcyA9IGZ1bmN0aW9uKG1vZHVsZSwgdHJhY2tlZCkgewogICAgICAgIHZhciBwYXJzZWRCYXNlID0gUGx1Z2luLmRlcGVuZGVuY3lQYXJzZShtb2R1bGUpLAogICAgICAgICAgICBuYW1lID0gcGFyc2VkQmFzZS5uYW1lOwoKICAgICAgICB0cmFja2VkID0gdHJhY2tlZCB8fCB7fTsKCiAgICAgICAgaWYgKG5hbWUgaW4gdHJhY2tlZCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBtb2R1bGUgPSBQbHVnaW4ucmVzb2x2ZShtb2R1bGUpIHx8IG1vZHVsZTsKCiAgICAgICAgdHJhY2tlZFtuYW1lXSA9IENvbW1vbi5tYXAobW9kdWxlLnVzZXMgfHwgW10sIGZ1bmN0aW9uKGRlcGVuZGVuY3kpIHsKICAgICAgICAgICAgaWYgKFBsdWdpbi5pc1BsdWdpbihkZXBlbmRlbmN5KSkgewogICAgICAgICAgICAgICAgUGx1Z2luLnJlZ2lzdGVyKGRlcGVuZGVuY3kpOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgcGFyc2VkID0gUGx1Z2luLmRlcGVuZGVuY3lQYXJzZShkZXBlbmRlbmN5KSwKICAgICAgICAgICAgICAgIHJlc29sdmVkID0gUGx1Z2luLnJlc29sdmUoZGVwZW5kZW5jeSk7CgogICAgICAgICAgICBpZiAocmVzb2x2ZWQgJiYgIVBsdWdpbi52ZXJzaW9uU2F0aXNmaWVzKHJlc29sdmVkLnZlcnNpb24sIHBhcnNlZC5yYW5nZSkpIHsKICAgICAgICAgICAgICAgIENvbW1vbi53YXJuKAogICAgICAgICAgICAgICAgICAgICdQbHVnaW4uZGVwZW5kZW5jaWVzOicsIFBsdWdpbi50b1N0cmluZyhyZXNvbHZlZCksICdkb2VzIG5vdCBzYXRpc2Z5JywKICAgICAgICAgICAgICAgICAgICBQbHVnaW4udG9TdHJpbmcocGFyc2VkKSwgJ3VzZWQgYnknLCBQbHVnaW4udG9TdHJpbmcocGFyc2VkQmFzZSkgKyAnLicKICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgcmVzb2x2ZWQuX3dhcm5lZCA9IHRydWU7CiAgICAgICAgICAgICAgICBtb2R1bGUuX3dhcm5lZCA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXJlc29sdmVkKSB7CiAgICAgICAgICAgICAgICBDb21tb24ud2FybigKICAgICAgICAgICAgICAgICAgICAnUGx1Z2luLmRlcGVuZGVuY2llczonLCBQbHVnaW4udG9TdHJpbmcoZGVwZW5kZW5jeSksICd1c2VkIGJ5JywKICAgICAgICAgICAgICAgICAgICBQbHVnaW4udG9TdHJpbmcocGFyc2VkQmFzZSksICdjb3VsZCBub3QgYmUgcmVzb2x2ZWQuJwogICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICBtb2R1bGUuX3dhcm5lZCA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBwYXJzZWQubmFtZTsKICAgICAgICB9KTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFja2VkW25hbWVdLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgIFBsdWdpbi5kZXBlbmRlbmNpZXModHJhY2tlZFtuYW1lXVtpXSwgdHJhY2tlZCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJhY2tlZDsKICAgIH07CgogICAgLyoqCiAgICAgKiBQYXJzZXMgYSBkZXBlbmRlbmN5IHN0cmluZyBpbnRvIGl0cyBjb21wb25lbnRzLgogICAgICogVGhlIGBkZXBlbmRlbmN5YCBpcyBhIHN0cmluZyBvZiB0aGUgZm9ybWF0IGAnbW9kdWxlLW5hbWUnYCBvciBgJ21vZHVsZS1uYW1lQHZlcnNpb24nYC4KICAgICAqIFNlZSBkb2N1bWVudGF0aW9uIGZvciBgUGx1Z2luLnZlcnNpb25QYXJzZWAgZm9yIGEgZGVzY3JpcHRpb24gb2YgdGhlIGZvcm1hdC4KICAgICAqIFRoaXMgZnVuY3Rpb24gY2FuIGFsc28gaGFuZGxlIGRlcGVuZGVuY2llcyB0aGF0IGFyZSBhbHJlYWR5IHJlc29sdmVkIChlLmcuIGEgbW9kdWxlIG9iamVjdCkuCiAgICAgKiBAbWV0aG9kIGRlcGVuZGVuY3lQYXJzZQogICAgICogQHBhcmFtIGRlcGVuZGVuY3kge3N0cmluZ30gVGhlIGRlcGVuZGVuY3kgb2YgdGhlIGZvcm1hdCBgJ21vZHVsZS1uYW1lJ2Agb3IgYCdtb2R1bGUtbmFtZUB2ZXJzaW9uJ2AuCiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBkZXBlbmRlbmN5IHBhcnNlZCBpbnRvIGl0cyBjb21wb25lbnRzLgogICAgICovCiAgICBQbHVnaW4uZGVwZW5kZW5jeVBhcnNlID0gZnVuY3Rpb24oZGVwZW5kZW5jeSkgewogICAgICAgIGlmIChDb21tb24uaXNTdHJpbmcoZGVwZW5kZW5jeSkpIHsKICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSAvXltcdy1dKyhAKFwqfFtcXn5dP1xkK1wuXGQrXC5cZCsoLVswLTlBLVphLXotXSspPykpPyQvOwoKICAgICAgICAgICAgaWYgKCFwYXR0ZXJuLnRlc3QoZGVwZW5kZW5jeSkpIHsKICAgICAgICAgICAgICAgIENvbW1vbi53YXJuKCdQbHVnaW4uZGVwZW5kZW5jeVBhcnNlOicsIGRlcGVuZGVuY3ksICdpcyBub3QgYSB2YWxpZCBkZXBlbmRlbmN5IHN0cmluZy4nKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIG5hbWU6IGRlcGVuZGVuY3kuc3BsaXQoJ0AnKVswXSwKICAgICAgICAgICAgICAgIHJhbmdlOiBkZXBlbmRlbmN5LnNwbGl0KCdAJylbMV0gfHwgJyonCiAgICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBuYW1lOiBkZXBlbmRlbmN5Lm5hbWUsCiAgICAgICAgICAgIHJhbmdlOiBkZXBlbmRlbmN5LnJhbmdlIHx8IGRlcGVuZGVuY3kudmVyc2lvbgogICAgICAgIH07CiAgICB9OwoKICAgIC8qKgogICAgICogUGFyc2VzIGEgdmVyc2lvbiBzdHJpbmcgaW50byBpdHMgY29tcG9uZW50cy4gIAogICAgICogVmVyc2lvbnMgYXJlIHN0cmljdGx5IG9mIHRoZSBmb3JtYXQgYHgueS56YCAoYXMgaW4gW3NlbXZlcl0oaHR0cDovL3NlbXZlci5vcmcvKSkuCiAgICAgKiBWZXJzaW9ucyBtYXkgb3B0aW9uYWxseSBoYXZlIGEgcHJlcmVsZWFzZSB0YWcgaW4gdGhlIGZvcm1hdCBgeC55LnotYWxwaGFgLgogICAgICogUmFuZ2VzIGFyZSBhIHN0cmljdCBzdWJzZXQgb2YgW25wbSByYW5nZXNdKGh0dHBzOi8vZG9jcy5ucG1qcy5jb20vbWlzYy9zZW12ZXIjYWR2YW5jZWQtcmFuZ2Utc3ludGF4KS4KICAgICAqIE9ubHkgdGhlIGZvbGxvd2luZyByYW5nZSB0eXBlcyBhcmUgc3VwcG9ydGVkOgogICAgICogLSBUaWxkZSByYW5nZXMgZS5nLiBgfjEuMi4zYAogICAgICogLSBDYXJldCByYW5nZXMgZS5nLiBgXjEuMi4zYAogICAgICogLSBFeGFjdCB2ZXJzaW9uIGUuZy4gYDEuMi4zYAogICAgICogLSBBbnkgdmVyc2lvbiBgKmAKICAgICAqIEBtZXRob2QgdmVyc2lvblBhcnNlCiAgICAgKiBAcGFyYW0gcmFuZ2Uge3N0cmluZ30gVGhlIHZlcnNpb24gc3RyaW5nLgogICAgICogQHJldHVybiB7b2JqZWN0fSBUaGUgdmVyc2lvbiByYW5nZSBwYXJzZWQgaW50byBpdHMgY29tcG9uZW50cy4KICAgICAqLwogICAgUGx1Z2luLnZlcnNpb25QYXJzZSA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgdmFyIHBhdHRlcm4gPSAvXlwqfFtcXn5dP1xkK1wuXGQrXC5cZCsoLVswLTlBLVphLXotXSspPyQvOwoKICAgICAgICBpZiAoIXBhdHRlcm4udGVzdChyYW5nZSkpIHsKICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1BsdWdpbi52ZXJzaW9uUGFyc2U6JywgcmFuZ2UsICdpcyBub3QgYSB2YWxpZCB2ZXJzaW9uIG9yIHJhbmdlLicpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGlkZW50aWZpZXJzID0gcmFuZ2Uuc3BsaXQoJy0nKTsKICAgICAgICByYW5nZSA9IGlkZW50aWZpZXJzWzBdOwoKICAgICAgICB2YXIgaXNSYW5nZSA9IGlzTmFOKE51bWJlcihyYW5nZVswXSkpLAogICAgICAgICAgICB2ZXJzaW9uID0gaXNSYW5nZSA/IHJhbmdlLnN1YnN0cigxKSA6IHJhbmdlLAogICAgICAgICAgICBwYXJ0cyA9IENvbW1vbi5tYXAodmVyc2lvbi5zcGxpdCgnLicpLCBmdW5jdGlvbihwYXJ0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyKHBhcnQpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaXNSYW5nZTogaXNSYW5nZSwKICAgICAgICAgICAgdmVyc2lvbjogdmVyc2lvbiwKICAgICAgICAgICAgcmFuZ2U6IHJhbmdlLAogICAgICAgICAgICBvcGVyYXRvcjogaXNSYW5nZSA/IHJhbmdlWzBdIDogJycsCiAgICAgICAgICAgIHBhcnRzOiBwYXJ0cywKICAgICAgICAgICAgcHJlcmVsZWFzZTogaWRlbnRpZmllcnNbMV0sCiAgICAgICAgICAgIG51bWJlcjogcGFydHNbMF0gKiAxZTggKyBwYXJ0c1sxXSAqIDFlNCArIHBhcnRzWzJdCiAgICAgICAgfTsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiBgdmVyc2lvbmAgc2F0aXNmaWVzIHRoZSBnaXZlbiBgcmFuZ2VgLgogICAgICogU2VlIGRvY3VtZW50YXRpb24gZm9yIGBQbHVnaW4udmVyc2lvblBhcnNlYCBmb3IgYSBkZXNjcmlwdGlvbiBvZiB0aGUgZm9ybWF0LgogICAgICogSWYgYSB2ZXJzaW9uIG9yIHJhbmdlIGlzIG5vdCBzcGVjaWZpZWQsIHRoZW4gYW55IHZlcnNpb24gKGAqYCkgaXMgYXNzdW1lZCB0byBzYXRpc2Z5LgogICAgICogQG1ldGhvZCB2ZXJzaW9uU2F0aXNmaWVzCiAgICAgKiBAcGFyYW0gdmVyc2lvbiB7c3RyaW5nfSBUaGUgdmVyc2lvbiBzdHJpbmcuCiAgICAgKiBAcGFyYW0gcmFuZ2Uge3N0cmluZ30gVGhlIHJhbmdlIHN0cmluZy4KICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBgdmVyc2lvbmAgc2F0aXNmaWVzIGByYW5nZWAsIG90aGVyd2lzZSBgZmFsc2VgLgogICAgICovCiAgICBQbHVnaW4udmVyc2lvblNhdGlzZmllcyA9IGZ1bmN0aW9uKHZlcnNpb24sIHJhbmdlKSB7CiAgICAgICAgcmFuZ2UgPSByYW5nZSB8fCAnKic7CgogICAgICAgIHZhciByYW5nZVBhcnNlZCA9IFBsdWdpbi52ZXJzaW9uUGFyc2UocmFuZ2UpLAogICAgICAgICAgICByYW5nZVBhcnRzID0gcmFuZ2VQYXJzZWQucGFydHMsCiAgICAgICAgICAgIHZlcnNpb25QYXJzZWQgPSBQbHVnaW4udmVyc2lvblBhcnNlKHZlcnNpb24pLAogICAgICAgICAgICB2ZXJzaW9uUGFydHMgPSB2ZXJzaW9uUGFyc2VkLnBhcnRzOwoKICAgICAgICBpZiAocmFuZ2VQYXJzZWQuaXNSYW5nZSkgewogICAgICAgICAgICBpZiAocmFuZ2VQYXJzZWQub3BlcmF0b3IgPT09ICcqJyB8fCB2ZXJzaW9uID09PSAnKicpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAocmFuZ2VQYXJzZWQub3BlcmF0b3IgPT09ICd+JykgewogICAgICAgICAgICAgICAgcmV0dXJuIHZlcnNpb25QYXJ0c1swXSA9PT0gcmFuZ2VQYXJ0c1swXSAmJiB2ZXJzaW9uUGFydHNbMV0gPT09IHJhbmdlUGFydHNbMV0gJiYgdmVyc2lvblBhcnRzWzJdID49IHJhbmdlUGFydHNbMl07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChyYW5nZVBhcnNlZC5vcGVyYXRvciA9PT0gJ14nKSB7CiAgICAgICAgICAgICAgICBpZiAocmFuZ2VQYXJ0c1swXSA+IDApIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmVyc2lvblBhcnRzWzBdID09PSByYW5nZVBhcnRzWzBdICYmIHZlcnNpb25QYXJzZWQubnVtYmVyID49IHJhbmdlUGFyc2VkLm51bWJlcjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAocmFuZ2VQYXJ0c1sxXSA+IDApIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmVyc2lvblBhcnRzWzFdID09PSByYW5nZVBhcnRzWzFdICYmIHZlcnNpb25QYXJ0c1syXSA+PSByYW5nZVBhcnRzWzJdOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiB2ZXJzaW9uUGFydHNbMl0gPT09IHJhbmdlUGFydHNbMl07CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB2ZXJzaW9uID09PSByYW5nZSB8fCB2ZXJzaW9uID09PSAnKic7CiAgICB9OwoKfSkoKTsKCn0seyIuL0NvbW1vbiI6MTR9XSwyMTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7Ci8qKgoqIFRoZSBgTWF0dGVyLlJ1bm5lcmAgbW9kdWxlIGlzIGFuIG9wdGlvbmFsIHV0aWxpdHkgd2hpY2ggcHJvdmlkZXMgYSBnYW1lIGxvb3AsIAoqIHRoYXQgaGFuZGxlcyBjb250aW51b3VzbHkgdXBkYXRpbmcgYSBgTWF0dGVyLkVuZ2luZWAgZm9yIHlvdSB3aXRoaW4gYSBicm93c2VyLgoqIEl0IGlzIGludGVuZGVkIGZvciBkZXZlbG9wbWVudCBhbmQgZGVidWdnaW5nIHB1cnBvc2VzLCBidXQgbWF5IGFsc28gYmUgc3VpdGFibGUgZm9yIHNpbXBsZSBnYW1lcy4KKiBJZiB5b3UgYXJlIHVzaW5nIHlvdXIgb3duIGdhbWUgbG9vcCBpbnN0ZWFkLCB0aGVuIHlvdSBkbyBub3QgbmVlZCB0aGUgYE1hdHRlci5SdW5uZXJgIG1vZHVsZS4KKiBJbnN0ZWFkIGp1c3QgY2FsbCBgRW5naW5lLnVwZGF0ZShlbmdpbmUsIGRlbHRhKWAgaW4geW91ciBvd24gbG9vcC4KKgoqIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuCioKKiBAY2xhc3MgUnVubmVyCiovCgp2YXIgUnVubmVyID0ge307Cgptb2R1bGUuZXhwb3J0cyA9IFJ1bm5lcjsKCnZhciBFdmVudHMgPSBfZGVyZXFfKCcuL0V2ZW50cycpOwp2YXIgRW5naW5lID0gX2RlcmVxXygnLi9FbmdpbmUnKTsKdmFyIENvbW1vbiA9IF9kZXJlcV8oJy4vQ29tbW9uJyk7CgooZnVuY3Rpb24oKSB7CgogICAgdmFyIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsCiAgICAgICAgX2NhbmNlbEFuaW1hdGlvbkZyYW1lOwoKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZTsKICAgCiAgICAgICAgX2NhbmNlbEFuaW1hdGlvbkZyYW1lID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZSAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWU7CiAgICB9CgogICAgaWYgKCFfcmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7CiAgICAgICAgdmFyIF9mcmFtZVRpbWVvdXQ7CgogICAgICAgIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihjYWxsYmFjayl7IAogICAgICAgICAgICBfZnJhbWVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsgCiAgICAgICAgICAgICAgICBjYWxsYmFjayhDb21tb24ubm93KCkpOyAKICAgICAgICAgICAgfSwgMTAwMCAvIDYwKTsKICAgICAgICB9OwoKICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF9mcmFtZVRpbWVvdXQpOwogICAgICAgIH07CiAgICB9CgogICAgLyoqCiAgICAgKiBDcmVhdGVzIGEgbmV3IFJ1bm5lci4gVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuCiAgICAgKiBAbWV0aG9kIGNyZWF0ZQogICAgICogQHBhcmFtIHt9IG9wdGlvbnMKICAgICAqLwogICAgUnVubmVyLmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICB2YXIgZGVmYXVsdHMgPSB7CiAgICAgICAgICAgIGZwczogNjAsCiAgICAgICAgICAgIGNvcnJlY3Rpb246IDEsCiAgICAgICAgICAgIGRlbHRhU2FtcGxlU2l6ZTogNjAsCiAgICAgICAgICAgIGNvdW50ZXJUaW1lc3RhbXA6IDAsCiAgICAgICAgICAgIGZyYW1lQ291bnRlcjogMCwKICAgICAgICAgICAgZGVsdGFIaXN0b3J5OiBbXSwKICAgICAgICAgICAgdGltZVByZXY6IG51bGwsCiAgICAgICAgICAgIHRpbWVTY2FsZVByZXY6IDEsCiAgICAgICAgICAgIGZyYW1lUmVxdWVzdElkOiBudWxsLAogICAgICAgICAgICBpc0ZpeGVkOiBmYWxzZSwKICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZQogICAgICAgIH07CgogICAgICAgIHZhciBydW5uZXIgPSBDb21tb24uZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTsKCiAgICAgICAgcnVubmVyLmRlbHRhID0gcnVubmVyLmRlbHRhIHx8IDEwMDAgLyBydW5uZXIuZnBzOwogICAgICAgIHJ1bm5lci5kZWx0YU1pbiA9IHJ1bm5lci5kZWx0YU1pbiB8fCAxMDAwIC8gcnVubmVyLmZwczsKICAgICAgICBydW5uZXIuZGVsdGFNYXggPSBydW5uZXIuZGVsdGFNYXggfHwgMTAwMCAvIChydW5uZXIuZnBzICogMC41KTsKICAgICAgICBydW5uZXIuZnBzID0gMTAwMCAvIHJ1bm5lci5kZWx0YTsKCiAgICAgICAgcmV0dXJuIHJ1bm5lcjsKICAgIH07CgogICAgLyoqCiAgICAgKiBDb250aW51b3VzbHkgdGlja3MgYSBgTWF0dGVyLkVuZ2luZWAgYnkgY2FsbGluZyBgUnVubmVyLnRpY2tgIG9uIHRoZSBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCBldmVudC4KICAgICAqIEBtZXRob2QgcnVuCiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lCiAgICAgKi8KICAgIFJ1bm5lci5ydW4gPSBmdW5jdGlvbihydW5uZXIsIGVuZ2luZSkgewogICAgICAgIC8vIGNyZWF0ZSBydW5uZXIgaWYgZW5naW5lIGlzIGZpcnN0IGFyZ3VtZW50CiAgICAgICAgaWYgKHR5cGVvZiBydW5uZXIucG9zaXRpb25JdGVyYXRpb25zICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICBlbmdpbmUgPSBydW5uZXI7CiAgICAgICAgICAgIHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKICAgICAgICB9CgogICAgICAgIChmdW5jdGlvbiByZW5kZXIodGltZSl7CiAgICAgICAgICAgIHJ1bm5lci5mcmFtZVJlcXVlc3RJZCA9IF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTsKCiAgICAgICAgICAgIGlmICh0aW1lICYmIHJ1bm5lci5lbmFibGVkKSB7CiAgICAgICAgICAgICAgICBSdW5uZXIudGljayhydW5uZXIsIGVuZ2luZSwgdGltZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KSgpOwoKICAgICAgICByZXR1cm4gcnVubmVyOwogICAgfTsKCiAgICAvKioKICAgICAqIEEgZ2FtZSBsb29wIHV0aWxpdHkgdGhhdCB1cGRhdGVzIHRoZSBlbmdpbmUgYW5kIHJlbmRlcmVyIGJ5IG9uZSBzdGVwIChhICd0aWNrJykuCiAgICAgKiBGZWF0dXJlcyBkZWx0YSBzbW9vdGhpbmcsIHRpbWUgY29ycmVjdGlvbiBhbmQgZml4ZWQgb3IgZHluYW1pYyB0aW1pbmcuCiAgICAgKiBUcmlnZ2VycyBgYmVmb3JlVGlja2AsIGB0aWNrYCBhbmQgYGFmdGVyVGlja2AgZXZlbnRzIG9uIHRoZSBlbmdpbmUuCiAgICAgKiBDb25zaWRlciBqdXN0IGBFbmdpbmUudXBkYXRlKGVuZ2luZSwgZGVsdGEpYCBpZiB5b3UncmUgdXNpbmcgeW91ciBvd24gbG9vcC4KICAgICAqIEBtZXRob2QgdGljawogICAgICogQHBhcmFtIHtydW5uZXJ9IHJ1bm5lcgogICAgICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZQogICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUKICAgICAqLwogICAgUnVubmVyLnRpY2sgPSBmdW5jdGlvbihydW5uZXIsIGVuZ2luZSwgdGltZSkgewogICAgICAgIHZhciB0aW1pbmcgPSBlbmdpbmUudGltaW5nLAogICAgICAgICAgICBjb3JyZWN0aW9uID0gMSwKICAgICAgICAgICAgZGVsdGE7CgogICAgICAgIC8vIGNyZWF0ZSBhbiBldmVudCBvYmplY3QKICAgICAgICB2YXIgZXZlbnQgPSB7CiAgICAgICAgICAgIHRpbWVzdGFtcDogdGltaW5nLnRpbWVzdGFtcAogICAgICAgIH07CgogICAgICAgIEV2ZW50cy50cmlnZ2VyKHJ1bm5lciwgJ2JlZm9yZVRpY2snLCBldmVudCk7CiAgICAgICAgRXZlbnRzLnRyaWdnZXIoZW5naW5lLCAnYmVmb3JlVGljaycsIGV2ZW50KTsgLy8gQGRlcHJlY2F0ZWQKCiAgICAgICAgaWYgKHJ1bm5lci5pc0ZpeGVkKSB7CiAgICAgICAgICAgIC8vIGZpeGVkIHRpbWVzdGVwCiAgICAgICAgICAgIGRlbHRhID0gcnVubmVyLmRlbHRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIGR5bmFtaWMgdGltZXN0ZXAgYmFzZWQgb24gd2FsbCBjbG9jayBiZXR3ZWVuIGNhbGxzCiAgICAgICAgICAgIGRlbHRhID0gKHRpbWUgLSBydW5uZXIudGltZVByZXYpIHx8IHJ1bm5lci5kZWx0YTsKICAgICAgICAgICAgcnVubmVyLnRpbWVQcmV2ID0gdGltZTsKCiAgICAgICAgICAgIC8vIG9wdGltaXN0aWNhbGx5IGZpbHRlciBkZWx0YSBvdmVyIGEgZmV3IGZyYW1lcywgdG8gaW1wcm92ZSBzdGFiaWxpdHkKICAgICAgICAgICAgcnVubmVyLmRlbHRhSGlzdG9yeS5wdXNoKGRlbHRhKTsKICAgICAgICAgICAgcnVubmVyLmRlbHRhSGlzdG9yeSA9IHJ1bm5lci5kZWx0YUhpc3Rvcnkuc2xpY2UoLXJ1bm5lci5kZWx0YVNhbXBsZVNpemUpOwogICAgICAgICAgICBkZWx0YSA9IE1hdGgubWluLmFwcGx5KG51bGwsIHJ1bm5lci5kZWx0YUhpc3RvcnkpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gbGltaXQgZGVsdGEKICAgICAgICAgICAgZGVsdGEgPSBkZWx0YSA8IHJ1bm5lci5kZWx0YU1pbiA/IHJ1bm5lci5kZWx0YU1pbiA6IGRlbHRhOwogICAgICAgICAgICBkZWx0YSA9IGRlbHRhID4gcnVubmVyLmRlbHRhTWF4ID8gcnVubmVyLmRlbHRhTWF4IDogZGVsdGE7CgogICAgICAgICAgICAvLyBjb3JyZWN0aW9uIGZvciBkZWx0YQogICAgICAgICAgICBjb3JyZWN0aW9uID0gZGVsdGEgLyBydW5uZXIuZGVsdGE7CgogICAgICAgICAgICAvLyB1cGRhdGUgZW5naW5lIHRpbWluZyBvYmplY3QKICAgICAgICAgICAgcnVubmVyLmRlbHRhID0gZGVsdGE7CiAgICAgICAgfQoKICAgICAgICAvLyB0aW1lIGNvcnJlY3Rpb24gZm9yIHRpbWUgc2NhbGluZwogICAgICAgIGlmIChydW5uZXIudGltZVNjYWxlUHJldiAhPT0gMCkKICAgICAgICAgICAgY29ycmVjdGlvbiAqPSB0aW1pbmcudGltZVNjYWxlIC8gcnVubmVyLnRpbWVTY2FsZVByZXY7CgogICAgICAgIGlmICh0aW1pbmcudGltZVNjYWxlID09PSAwKQogICAgICAgICAgICBjb3JyZWN0aW9uID0gMDsKCiAgICAgICAgcnVubmVyLnRpbWVTY2FsZVByZXYgPSB0aW1pbmcudGltZVNjYWxlOwogICAgICAgIHJ1bm5lci5jb3JyZWN0aW9uID0gY29ycmVjdGlvbjsKCiAgICAgICAgLy8gZnBzIGNvdW50ZXIKICAgICAgICBydW5uZXIuZnJhbWVDb3VudGVyICs9IDE7CiAgICAgICAgaWYgKHRpbWUgLSBydW5uZXIuY291bnRlclRpbWVzdGFtcCA+PSAxMDAwKSB7CiAgICAgICAgICAgIHJ1bm5lci5mcHMgPSBydW5uZXIuZnJhbWVDb3VudGVyICogKCh0aW1lIC0gcnVubmVyLmNvdW50ZXJUaW1lc3RhbXApIC8gMTAwMCk7CiAgICAgICAgICAgIHJ1bm5lci5jb3VudGVyVGltZXN0YW1wID0gdGltZTsKICAgICAgICAgICAgcnVubmVyLmZyYW1lQ291bnRlciA9IDA7CiAgICAgICAgfQoKICAgICAgICBFdmVudHMudHJpZ2dlcihydW5uZXIsICd0aWNrJywgZXZlbnQpOwogICAgICAgIEV2ZW50cy50cmlnZ2VyKGVuZ2luZSwgJ3RpY2snLCBldmVudCk7IC8vIEBkZXByZWNhdGVkCgogICAgICAgIC8vIGlmIHdvcmxkIGhhcyBiZWVuIG1vZGlmaWVkLCBjbGVhciB0aGUgcmVuZGVyIHNjZW5lIGdyYXBoCiAgICAgICAgaWYgKGVuZ2luZS53b3JsZC5pc01vZGlmaWVkIAogICAgICAgICAgICAmJiBlbmdpbmUucmVuZGVyCiAgICAgICAgICAgICYmIGVuZ2luZS5yZW5kZXIuY29udHJvbGxlcgogICAgICAgICAgICAmJiBlbmdpbmUucmVuZGVyLmNvbnRyb2xsZXIuY2xlYXIpIHsKICAgICAgICAgICAgZW5naW5lLnJlbmRlci5jb250cm9sbGVyLmNsZWFyKGVuZ2luZS5yZW5kZXIpOyAvLyBAZGVwcmVjYXRlZAogICAgICAgIH0KCiAgICAgICAgLy8gdXBkYXRlCiAgICAgICAgRXZlbnRzLnRyaWdnZXIocnVubmVyLCAnYmVmb3JlVXBkYXRlJywgZXZlbnQpOwogICAgICAgIEVuZ2luZS51cGRhdGUoZW5naW5lLCBkZWx0YSwgY29ycmVjdGlvbik7CiAgICAgICAgRXZlbnRzLnRyaWdnZXIocnVubmVyLCAnYWZ0ZXJVcGRhdGUnLCBldmVudCk7CgogICAgICAgIC8vIHJlbmRlcgogICAgICAgIC8vIEBkZXByZWNhdGVkCiAgICAgICAgaWYgKGVuZ2luZS5yZW5kZXIgJiYgZW5naW5lLnJlbmRlci5jb250cm9sbGVyKSB7CiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKHJ1bm5lciwgJ2JlZm9yZVJlbmRlcicsIGV2ZW50KTsKICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIoZW5naW5lLCAnYmVmb3JlUmVuZGVyJywgZXZlbnQpOyAvLyBAZGVwcmVjYXRlZAoKICAgICAgICAgICAgZW5naW5lLnJlbmRlci5jb250cm9sbGVyLndvcmxkKGVuZ2luZS5yZW5kZXIpOwoKICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIocnVubmVyLCAnYWZ0ZXJSZW5kZXInLCBldmVudCk7CiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKGVuZ2luZSwgJ2FmdGVyUmVuZGVyJywgZXZlbnQpOyAvLyBAZGVwcmVjYXRlZAogICAgICAgIH0KCiAgICAgICAgRXZlbnRzLnRyaWdnZXIocnVubmVyLCAnYWZ0ZXJUaWNrJywgZXZlbnQpOwogICAgICAgIEV2ZW50cy50cmlnZ2VyKGVuZ2luZSwgJ2FmdGVyVGljaycsIGV2ZW50KTsgLy8gQGRlcHJlY2F0ZWQKICAgIH07CgogICAgLyoqCiAgICAgKiBFbmRzIGV4ZWN1dGlvbiBvZiBgUnVubmVyLnJ1bmAgb24gdGhlIGdpdmVuIGBydW5uZXJgLCBieSBjYW5jZWxpbmcgdGhlIGFuaW1hdGlvbiBmcmFtZSByZXF1ZXN0IGV2ZW50IGxvb3AuCiAgICAgKiBJZiB5b3Ugd2lzaCB0byBvbmx5IHRlbXBvcmFyaWx5IHBhdXNlIHRoZSBlbmdpbmUsIHNlZSBgZW5naW5lLmVuYWJsZWRgIGluc3RlYWQuCiAgICAgKiBAbWV0aG9kIHN0b3AKICAgICAqIEBwYXJhbSB7cnVubmVyfSBydW5uZXIKICAgICAqLwogICAgUnVubmVyLnN0b3AgPSBmdW5jdGlvbihydW5uZXIpIHsKICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWUocnVubmVyLmZyYW1lUmVxdWVzdElkKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBBbGlhcyBmb3IgYFJ1bm5lci5ydW5gLgogICAgICogQG1ldGhvZCBzdGFydAogICAgICogQHBhcmFtIHtydW5uZXJ9IHJ1bm5lcgogICAgICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZQogICAgICovCiAgICBSdW5uZXIuc3RhcnQgPSBmdW5jdGlvbihydW5uZXIsIGVuZ2luZSkgewogICAgICAgIFJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpOwogICAgfTsKCiAgICAvKgogICAgKgogICAgKiAgRXZlbnRzIERvY3VtZW50YXRpb24KICAgICoKICAgICovCgogICAgLyoqCiAgICAqIEZpcmVkIGF0IHRoZSBzdGFydCBvZiBhIHRpY2ssIGJlZm9yZSBhbnkgdXBkYXRlcyB0byB0aGUgZW5naW5lIG9yIHRpbWluZwogICAgKgogICAgKiBAZXZlbnQgYmVmb3JlVGljawogICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0CiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKICAgICovCgogICAgLyoqCiAgICAqIEZpcmVkIGFmdGVyIGVuZ2luZSB0aW1pbmcgdXBkYXRlZCwgYnV0IGp1c3QgYmVmb3JlIHVwZGF0ZQogICAgKgogICAgKiBAZXZlbnQgdGljawogICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0CiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKICAgICovCgogICAgLyoqCiAgICAqIEZpcmVkIGF0IHRoZSBlbmQgb2YgYSB0aWNrLCBhZnRlciBlbmdpbmUgdXBkYXRlIGFuZCBhZnRlciByZW5kZXJpbmcKICAgICoKICAgICogQGV2ZW50IGFmdGVyVGljawogICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0CiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKICAgICovCgogICAgLyoqCiAgICAqIEZpcmVkIGJlZm9yZSB1cGRhdGUKICAgICoKICAgICogQGV2ZW50IGJlZm9yZVVwZGF0ZQogICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0CiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKICAgICovCgogICAgLyoqCiAgICAqIEZpcmVkIGFmdGVyIHVwZGF0ZQogICAgKgogICAgKiBAZXZlbnQgYWZ0ZXJVcGRhdGUKICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdAogICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnQKICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnQKICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50CiAgICAqLwoKICAgIC8qKgogICAgKiBGaXJlZCBiZWZvcmUgcmVuZGVyaW5nCiAgICAqCiAgICAqIEBldmVudCBiZWZvcmVSZW5kZXIKICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdAogICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnQKICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnQKICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50CiAgICAqIEBkZXByZWNhdGVkCiAgICAqLwoKICAgIC8qKgogICAgKiBGaXJlZCBhZnRlciByZW5kZXJpbmcKICAgICoKICAgICogQGV2ZW50IGFmdGVyUmVuZGVyCiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3QKICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50CiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50CiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudAogICAgKiBAZGVwcmVjYXRlZAogICAgKi8KCiAgICAvKgogICAgKgogICAgKiAgUHJvcGVydGllcyBEb2N1bWVudGF0aW9uCiAgICAqCiAgICAqLwoKICAgIC8qKgogICAgICogQSBmbGFnIHRoYXQgc3BlY2lmaWVzIHdoZXRoZXIgdGhlIHJ1bm5lciBpcyBydW5uaW5nIG9yIG5vdC4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgZW5hYmxlZAogICAgICogQHR5cGUgYm9vbGVhbgogICAgICogQGRlZmF1bHQgdHJ1ZQogICAgICovCgogICAgLyoqCiAgICAgKiBBIGBCb29sZWFuYCB0aGF0IHNwZWNpZmllcyBpZiB0aGUgcnVubmVyIHNob3VsZCB1c2UgYSBmaXhlZCB0aW1lc3RlcCAob3RoZXJ3aXNlIGl0IGlzIHZhcmlhYmxlKS4KICAgICAqIElmIHRpbWluZyBpcyBmaXhlZCwgdGhlbiB0aGUgYXBwYXJlbnQgc2ltdWxhdGlvbiBzcGVlZCB3aWxsIGNoYW5nZSBkZXBlbmRpbmcgb24gdGhlIGZyYW1lIHJhdGUgKGJ1dCBiZWhhdmlvdXIgd2lsbCBiZSBkZXRlcm1pbmlzdGljKS4KICAgICAqIElmIHRoZSB0aW1pbmcgaXMgdmFyaWFibGUsIHRoZW4gdGhlIGFwcGFyZW50IHNpbXVsYXRpb24gc3BlZWQgd2lsbCBiZSBjb25zdGFudCAoYXBwcm94aW1hdGVseSwgYnV0IGF0IHRoZSBjb3N0IG9mIGRldGVybWluaW5pc20pLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBpc0ZpeGVkCiAgICAgKiBAdHlwZSBib29sZWFuCiAgICAgKiBAZGVmYXVsdCBmYWxzZQogICAgICovCgogICAgLyoqCiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSB0aW1lIHN0ZXAgYmV0d2VlbiB1cGRhdGVzIGluIG1pbGxpc2Vjb25kcy4KICAgICAqIElmIGBlbmdpbmUudGltaW5nLmlzRml4ZWRgIGlzIHNldCB0byBgdHJ1ZWAsIHRoZW4gYGRlbHRhYCBpcyBmaXhlZC4KICAgICAqIElmIGl0IGlzIGBmYWxzZWAsIHRoZW4gYGRlbHRhYCBjYW4gZHluYW1pY2FsbHkgY2hhbmdlIHRvIG1haW50YWluIHRoZSBjb3JyZWN0IGFwcGFyZW50IHNpbXVsYXRpb24gc3BlZWQuCiAgICAgKgogICAgICogQHByb3BlcnR5IGRlbHRhCiAgICAgKiBAdHlwZSBudW1iZXIKICAgICAqIEBkZWZhdWx0IDEwMDAgLyA2MAogICAgICovCgp9KSgpOwoKfSx7Ii4vQ29tbW9uIjoxNCwiLi9FbmdpbmUiOjE1LCIuL0V2ZW50cyI6MTZ9XSwyMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7Ci8qKgoqIFRoZSBgTWF0dGVyLlNsZWVwaW5nYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyB0byBtYW5hZ2UgdGhlIHNsZWVwaW5nIHN0YXRlIG9mIGJvZGllcy4KKgoqIEBjbGFzcyBTbGVlcGluZwoqLwoKdmFyIFNsZWVwaW5nID0ge307Cgptb2R1bGUuZXhwb3J0cyA9IFNsZWVwaW5nOwoKdmFyIEV2ZW50cyA9IF9kZXJlcV8oJy4vRXZlbnRzJyk7CgooZnVuY3Rpb24oKSB7CgogICAgU2xlZXBpbmcuX21vdGlvbldha2VUaHJlc2hvbGQgPSAwLjE4OwogICAgU2xlZXBpbmcuX21vdGlvblNsZWVwVGhyZXNob2xkID0gMC4wODsKICAgIFNsZWVwaW5nLl9taW5CaWFzID0gMC45OwoKICAgIC8qKgogICAgICogUHV0cyBib2RpZXMgdG8gc2xlZXAgb3Igd2FrZXMgdGhlbSB1cCBkZXBlbmRpbmcgb24gdGhlaXIgbW90aW9uLgogICAgICogQG1ldGhvZCB1cGRhdGUKICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXMKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lU2NhbGUKICAgICAqLwogICAgU2xlZXBpbmcudXBkYXRlID0gZnVuY3Rpb24oYm9kaWVzLCB0aW1lU2NhbGUpIHsKICAgICAgICB2YXIgdGltZUZhY3RvciA9IHRpbWVTY2FsZSAqIHRpbWVTY2FsZSAqIHRpbWVTY2FsZTsKCiAgICAgICAgLy8gdXBkYXRlIGJvZGllcyBzbGVlcGluZyBzdGF0dXMKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXSwKICAgICAgICAgICAgICAgIG1vdGlvbiA9IGJvZHkuc3BlZWQgKiBib2R5LnNwZWVkICsgYm9keS5hbmd1bGFyU3BlZWQgKiBib2R5LmFuZ3VsYXJTcGVlZDsKCiAgICAgICAgICAgIC8vIHdha2UgdXAgYm9kaWVzIGlmIHRoZXkgaGF2ZSBhIGZvcmNlIGFwcGxpZWQKICAgICAgICAgICAgaWYgKGJvZHkuZm9yY2UueCAhPT0gMCB8fCBib2R5LmZvcmNlLnkgIT09IDApIHsKICAgICAgICAgICAgICAgIFNsZWVwaW5nLnNldChib2R5LCBmYWxzZSk7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIG1pbk1vdGlvbiA9IE1hdGgubWluKGJvZHkubW90aW9uLCBtb3Rpb24pLAogICAgICAgICAgICAgICAgbWF4TW90aW9uID0gTWF0aC5tYXgoYm9keS5tb3Rpb24sIG1vdGlvbik7CiAgICAgICAgCiAgICAgICAgICAgIC8vIGJpYXNlZCBhdmVyYWdlIG1vdGlvbiBlc3RpbWF0aW9uIGJldHdlZW4gZnJhbWVzCiAgICAgICAgICAgIGJvZHkubW90aW9uID0gU2xlZXBpbmcuX21pbkJpYXMgKiBtaW5Nb3Rpb24gKyAoMSAtIFNsZWVwaW5nLl9taW5CaWFzKSAqIG1heE1vdGlvbjsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChib2R5LnNsZWVwVGhyZXNob2xkID4gMCAmJiBib2R5Lm1vdGlvbiA8IFNsZWVwaW5nLl9tb3Rpb25TbGVlcFRocmVzaG9sZCAqIHRpbWVGYWN0b3IpIHsKICAgICAgICAgICAgICAgIGJvZHkuc2xlZXBDb3VudGVyICs9IDE7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChib2R5LnNsZWVwQ291bnRlciA+PSBib2R5LnNsZWVwVGhyZXNob2xkKQogICAgICAgICAgICAgICAgICAgIFNsZWVwaW5nLnNldChib2R5LCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChib2R5LnNsZWVwQ291bnRlciA+IDApIHsKICAgICAgICAgICAgICAgIGJvZHkuc2xlZXBDb3VudGVyIC09IDE7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogR2l2ZW4gYSBzZXQgb2YgY29sbGlkaW5nIHBhaXJzLCB3YWtlcyB0aGUgc2xlZXBpbmcgYm9kaWVzIGludm9sdmVkLgogICAgICogQG1ldGhvZCBhZnRlckNvbGxpc2lvbnMKICAgICAqIEBwYXJhbSB7cGFpcltdfSBwYWlycwogICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVTY2FsZQogICAgICovCiAgICBTbGVlcGluZy5hZnRlckNvbGxpc2lvbnMgPSBmdW5jdGlvbihwYWlycywgdGltZVNjYWxlKSB7CiAgICAgICAgdmFyIHRpbWVGYWN0b3IgPSB0aW1lU2NhbGUgKiB0aW1lU2NhbGUgKiB0aW1lU2NhbGU7CgogICAgICAgIC8vIHdha2UgdXAgYm9kaWVzIGludm9sdmVkIGluIGNvbGxpc2lvbnMKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaV07CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBkb24ndCB3YWtlIGluYWN0aXZlIHBhaXJzCiAgICAgICAgICAgIGlmICghcGFpci5pc0FjdGl2ZSkKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICAgICAgdmFyIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uLAogICAgICAgICAgICAgICAgYm9keUEgPSBjb2xsaXNpb24uYm9keUEucGFyZW50LCAKICAgICAgICAgICAgICAgIGJvZHlCID0gY29sbGlzaW9uLmJvZHlCLnBhcmVudDsKICAgICAgICAKICAgICAgICAgICAgLy8gZG9uJ3Qgd2FrZSBpZiBhdCBsZWFzdCBvbmUgYm9keSBpcyBzdGF0aWMKICAgICAgICAgICAgaWYgKChib2R5QS5pc1NsZWVwaW5nICYmIGJvZHlCLmlzU2xlZXBpbmcpIHx8IGJvZHlBLmlzU3RhdGljIHx8IGJvZHlCLmlzU3RhdGljKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgCiAgICAgICAgICAgIGlmIChib2R5QS5pc1NsZWVwaW5nIHx8IGJvZHlCLmlzU2xlZXBpbmcpIHsKICAgICAgICAgICAgICAgIHZhciBzbGVlcGluZ0JvZHkgPSAoYm9keUEuaXNTbGVlcGluZyAmJiAhYm9keUEuaXNTdGF0aWMpID8gYm9keUEgOiBib2R5QiwKICAgICAgICAgICAgICAgICAgICBtb3ZpbmdCb2R5ID0gc2xlZXBpbmdCb2R5ID09PSBib2R5QSA/IGJvZHlCIDogYm9keUE7CgogICAgICAgICAgICAgICAgaWYgKCFzbGVlcGluZ0JvZHkuaXNTdGF0aWMgJiYgbW92aW5nQm9keS5tb3Rpb24gPiBTbGVlcGluZy5fbW90aW9uV2FrZVRocmVzaG9sZCAqIHRpbWVGYWN0b3IpIHsKICAgICAgICAgICAgICAgICAgICBTbGVlcGluZy5zZXQoc2xlZXBpbmdCb2R5LCBmYWxzZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogIAogICAgLyoqCiAgICAgKiBTZXQgYSBib2R5IGFzIHNsZWVwaW5nIG9yIGF3YWtlLgogICAgICogQG1ldGhvZCBzZXQKICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keQogICAgICogQHBhcmFtIHtib29sZWFufSBpc1NsZWVwaW5nCiAgICAgKi8KICAgIFNsZWVwaW5nLnNldCA9IGZ1bmN0aW9uKGJvZHksIGlzU2xlZXBpbmcpIHsKICAgICAgICB2YXIgd2FzU2xlZXBpbmcgPSBib2R5LmlzU2xlZXBpbmc7CgogICAgICAgIGlmIChpc1NsZWVwaW5nKSB7CiAgICAgICAgICAgIGJvZHkuaXNTbGVlcGluZyA9IHRydWU7CiAgICAgICAgICAgIGJvZHkuc2xlZXBDb3VudGVyID0gYm9keS5zbGVlcFRocmVzaG9sZDsKCiAgICAgICAgICAgIGJvZHkucG9zaXRpb25JbXB1bHNlLnggPSAwOwogICAgICAgICAgICBib2R5LnBvc2l0aW9uSW1wdWxzZS55ID0gMDsKCiAgICAgICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnggPSBib2R5LnBvc2l0aW9uLng7CiAgICAgICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnkgPSBib2R5LnBvc2l0aW9uLnk7CgogICAgICAgICAgICBib2R5LmFuZ2xlUHJldiA9IGJvZHkuYW5nbGU7CiAgICAgICAgICAgIGJvZHkuc3BlZWQgPSAwOwogICAgICAgICAgICBib2R5LmFuZ3VsYXJTcGVlZCA9IDA7CiAgICAgICAgICAgIGJvZHkubW90aW9uID0gMDsKCiAgICAgICAgICAgIGlmICghd2FzU2xlZXBpbmcpIHsKICAgICAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKGJvZHksICdzbGVlcFN0YXJ0Jyk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBib2R5LmlzU2xlZXBpbmcgPSBmYWxzZTsKICAgICAgICAgICAgYm9keS5zbGVlcENvdW50ZXIgPSAwOwoKICAgICAgICAgICAgaWYgKHdhc1NsZWVwaW5nKSB7CiAgICAgICAgICAgICAgICBFdmVudHMudHJpZ2dlcihib2R5LCAnc2xlZXBFbmQnKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07Cgp9KSgpOwoKfSx7Ii4vRXZlbnRzIjoxNn1dLDIzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBUaGUgYE1hdHRlci5Cb2RpZXNgIG1vZHVsZSBjb250YWlucyBmYWN0b3J5IG1ldGhvZHMgZm9yIGNyZWF0aW5nIHJpZ2lkIGJvZHkgbW9kZWxzIAoqIHdpdGggY29tbW9ubHkgdXNlZCBib2R5IGNvbmZpZ3VyYXRpb25zIChzdWNoIGFzIHJlY3RhbmdsZXMsIGNpcmNsZXMgYW5kIG90aGVyIHBvbHlnb25zKS4KKgoqIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuCioKKiBAY2xhc3MgQm9kaWVzCiovCgovLyBUT0RPOiB0cnVlIGNpcmNsZSBib2RpZXMKCnZhciBCb2RpZXMgPSB7fTsKCm1vZHVsZS5leHBvcnRzID0gQm9kaWVzOwoKdmFyIFZlcnRpY2VzID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvVmVydGljZXMnKTsKdmFyIENvbW1vbiA9IF9kZXJlcV8oJy4uL2NvcmUvQ29tbW9uJyk7CnZhciBCb2R5ID0gX2RlcmVxXygnLi4vYm9keS9Cb2R5Jyk7CnZhciBCb3VuZHMgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9Cb3VuZHMnKTsKdmFyIFZlY3RvciA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L1ZlY3RvcicpOwp2YXIgZGVjb21wID0gKHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93WydkZWNvbXAnXSA6IHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsWydkZWNvbXAnXSA6IG51bGwpOwovKiByZXF1aXJlIHBvbHktZGVjb21wLmpzICovCmRlY29tcCA9IGRlY29tcCB8fCByZXF1aXJlKCdsaWIvZGVjb21wJyk7CihmdW5jdGlvbigpIHsKCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBuZXcgcmlnaWQgYm9keSBtb2RlbCB3aXRoIGEgcmVjdGFuZ2xlIGh1bGwuIAogICAgICogVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuCiAgICAgKiBTZWUgdGhlIHByb3BlcnRpZXMgc2VjdGlvbiBvZiB0aGUgYE1hdHRlci5Cb2R5YCBtb2R1bGUgZm9yIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgeW91IGNhbiBwYXNzIHZpYSB0aGUgYG9wdGlvbnNgIG9iamVjdC4KICAgICAqIEBtZXRob2QgcmVjdGFuZ2xlCiAgICAgKiBAcGFyYW0ge251bWJlcn0geAogICAgICogQHBhcmFtIHtudW1iZXJ9IHkKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aAogICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodAogICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQogICAgICogQHJldHVybiB7Ym9keX0gQSBuZXcgcmVjdGFuZ2xlIGJvZHkKICAgICAqLwogICAgQm9kaWVzLnJlY3RhbmdsZSA9IGZ1bmN0aW9uKHgsIHksIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHsKICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKCiAgICAgICAgdmFyIHJlY3RhbmdsZSA9IHsgCiAgICAgICAgICAgIGxhYmVsOiAnUmVjdGFuZ2xlIEJvZHknLAogICAgICAgICAgICBwb3NpdGlvbjogeyB4OiB4LCB5OiB5IH0sCiAgICAgICAgICAgIHZlcnRpY2VzOiBWZXJ0aWNlcy5mcm9tUGF0aCgnTCAwIDAgTCAnICsgd2lkdGggKyAnIDAgTCAnICsgd2lkdGggKyAnICcgKyBoZWlnaHQgKyAnIEwgMCAnICsgaGVpZ2h0KQogICAgICAgIH07CgogICAgICAgIGlmIChvcHRpb25zLmNoYW1mZXIpIHsKICAgICAgICAgICAgdmFyIGNoYW1mZXIgPSBvcHRpb25zLmNoYW1mZXI7CiAgICAgICAgICAgIHJlY3RhbmdsZS52ZXJ0aWNlcyA9IFZlcnRpY2VzLmNoYW1mZXIocmVjdGFuZ2xlLnZlcnRpY2VzLCBjaGFtZmVyLnJhZGl1cywgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW1mZXIucXVhbGl0eSwgY2hhbWZlci5xdWFsaXR5TWluLCBjaGFtZmVyLnF1YWxpdHlNYXgpOwogICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5jaGFtZmVyOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIEJvZHkuY3JlYXRlKENvbW1vbi5leHRlbmQoe30sIHJlY3RhbmdsZSwgb3B0aW9ucykpOwogICAgfTsKICAgIAogICAgLyoqCiAgICAgKiBDcmVhdGVzIGEgbmV3IHJpZ2lkIGJvZHkgbW9kZWwgd2l0aCBhIHRyYXBlem9pZCBodWxsLiAKICAgICAqIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLgogICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gb2YgdGhlIGBNYXR0ZXIuQm9keWAgbW9kdWxlIGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuCiAgICAgKiBAbWV0aG9kIHRyYXBlem9pZAogICAgICogQHBhcmFtIHtudW1iZXJ9IHgKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5CiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGgKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzbG9wZQogICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQogICAgICogQHJldHVybiB7Ym9keX0gQSBuZXcgdHJhcGV6b2lkIGJvZHkKICAgICAqLwogICAgQm9kaWVzLnRyYXBlem9pZCA9IGZ1bmN0aW9uKHgsIHksIHdpZHRoLCBoZWlnaHQsIHNsb3BlLCBvcHRpb25zKSB7CiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CgogICAgICAgIHNsb3BlICo9IDAuNTsKICAgICAgICB2YXIgcm9vZiA9ICgxIC0gKHNsb3BlICogMikpICogd2lkdGg7CiAgICAgICAgCiAgICAgICAgdmFyIHgxID0gd2lkdGggKiBzbG9wZSwKICAgICAgICAgICAgeDIgPSB4MSArIHJvb2YsCiAgICAgICAgICAgIHgzID0geDIgKyB4MSwKICAgICAgICAgICAgdmVydGljZXNQYXRoOwoKICAgICAgICBpZiAoc2xvcGUgPCAwLjUpIHsKICAgICAgICAgICAgdmVydGljZXNQYXRoID0gJ0wgMCAwIEwgJyArIHgxICsgJyAnICsgKC1oZWlnaHQpICsgJyBMICcgKyB4MiArICcgJyArICgtaGVpZ2h0KSArICcgTCAnICsgeDMgKyAnIDAnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZlcnRpY2VzUGF0aCA9ICdMIDAgMCBMICcgKyB4MiArICcgJyArICgtaGVpZ2h0KSArICcgTCAnICsgeDMgKyAnIDAnOwogICAgICAgIH0KCiAgICAgICAgdmFyIHRyYXBlem9pZCA9IHsgCiAgICAgICAgICAgIGxhYmVsOiAnVHJhcGV6b2lkIEJvZHknLAogICAgICAgICAgICBwb3NpdGlvbjogeyB4OiB4LCB5OiB5IH0sCiAgICAgICAgICAgIHZlcnRpY2VzOiBWZXJ0aWNlcy5mcm9tUGF0aCh2ZXJ0aWNlc1BhdGgpCiAgICAgICAgfTsKCiAgICAgICAgaWYgKG9wdGlvbnMuY2hhbWZlcikgewogICAgICAgICAgICB2YXIgY2hhbWZlciA9IG9wdGlvbnMuY2hhbWZlcjsKICAgICAgICAgICAgdHJhcGV6b2lkLnZlcnRpY2VzID0gVmVydGljZXMuY2hhbWZlcih0cmFwZXpvaWQudmVydGljZXMsIGNoYW1mZXIucmFkaXVzLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbWZlci5xdWFsaXR5LCBjaGFtZmVyLnF1YWxpdHlNaW4sIGNoYW1mZXIucXVhbGl0eU1heCk7CiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmNoYW1mZXI7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gQm9keS5jcmVhdGUoQ29tbW9uLmV4dGVuZCh7fSwgdHJhcGV6b2lkLCBvcHRpb25zKSk7CiAgICB9OwoKICAgIC8qKgogICAgICogQ3JlYXRlcyBhIG5ldyByaWdpZCBib2R5IG1vZGVsIHdpdGggYSBjaXJjbGUgaHVsbC4gCiAgICAgKiBUaGUgb3B0aW9ucyBwYXJhbWV0ZXIgaXMgYW4gb2JqZWN0IHRoYXQgc3BlY2lmaWVzIGFueSBwcm9wZXJ0aWVzIHlvdSB3aXNoIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0cy4KICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIG9mIHRoZSBgTWF0dGVyLkJvZHlgIG1vZHVsZSBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LgogICAgICogQG1ldGhvZCBjaXJjbGUKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4CiAgICAgKiBAcGFyYW0ge251bWJlcn0geQogICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cwogICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQogICAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhTaWRlc10KICAgICAqIEByZXR1cm4ge2JvZHl9IEEgbmV3IGNpcmNsZSBib2R5CiAgICAgKi8KICAgIEJvZGllcy5jaXJjbGUgPSBmdW5jdGlvbih4LCB5LCByYWRpdXMsIG9wdGlvbnMsIG1heFNpZGVzKSB7CiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CgogICAgICAgIHZhciBjaXJjbGUgPSB7CiAgICAgICAgICAgIGxhYmVsOiAnQ2lyY2xlIEJvZHknLAogICAgICAgICAgICBjaXJjbGVSYWRpdXM6IHJhZGl1cwogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgLy8gYXBwcm94aW1hdGUgY2lyY2xlcyB3aXRoIHBvbHlnb25zIHVudGlsIHRydWUgY2lyY2xlcyBpbXBsZW1lbnRlZCBpbiBTQVQKICAgICAgICBtYXhTaWRlcyA9IG1heFNpZGVzIHx8IDI1OwogICAgICAgIHZhciBzaWRlcyA9IE1hdGguY2VpbChNYXRoLm1heCgxMCwgTWF0aC5taW4obWF4U2lkZXMsIHJhZGl1cykpKTsKCiAgICAgICAgLy8gb3B0aW1pc2F0aW9uOiBhbHdheXMgdXNlIGV2ZW4gbnVtYmVyIG9mIHNpZGVzIChoYWxmIHRoZSBudW1iZXIgb2YgdW5pcXVlIGF4ZXMpCiAgICAgICAgaWYgKHNpZGVzICUgMiA9PT0gMSkKICAgICAgICAgICAgc2lkZXMgKz0gMTsKCiAgICAgICAgcmV0dXJuIEJvZGllcy5wb2x5Z29uKHgsIHksIHNpZGVzLCByYWRpdXMsIENvbW1vbi5leHRlbmQoe30sIGNpcmNsZSwgb3B0aW9ucykpOwogICAgfTsKCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBuZXcgcmlnaWQgYm9keSBtb2RlbCB3aXRoIGEgcmVndWxhciBwb2x5Z29uIGh1bGwgd2l0aCB0aGUgZ2l2ZW4gbnVtYmVyIG9mIHNpZGVzLiAKICAgICAqIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLgogICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gb2YgdGhlIGBNYXR0ZXIuQm9keWAgbW9kdWxlIGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuCiAgICAgKiBAbWV0aG9kIHBvbHlnb24KICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4CiAgICAgKiBAcGFyYW0ge251bWJlcn0geQogICAgICogQHBhcmFtIHtudW1iZXJ9IHNpZGVzCiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzCiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdCiAgICAgKiBAcmV0dXJuIHtib2R5fSBBIG5ldyByZWd1bGFyIHBvbHlnb24gYm9keQogICAgICovCiAgICBCb2RpZXMucG9seWdvbiA9IGZ1bmN0aW9uKHgsIHksIHNpZGVzLCByYWRpdXMsIG9wdGlvbnMpIHsKICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKCiAgICAgICAgaWYgKHNpZGVzIDwgMykKICAgICAgICAgICAgcmV0dXJuIEJvZGllcy5jaXJjbGUoeCwgeSwgcmFkaXVzLCBvcHRpb25zKTsKCiAgICAgICAgdmFyIHRoZXRhID0gMiAqIE1hdGguUEkgLyBzaWRlcywKICAgICAgICAgICAgcGF0aCA9ICcnLAogICAgICAgICAgICBvZmZzZXQgPSB0aGV0YSAqIDAuNTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaWRlczsgaSArPSAxKSB7CiAgICAgICAgICAgIHZhciBhbmdsZSA9IG9mZnNldCArIChpICogdGhldGEpLAogICAgICAgICAgICAgICAgeHggPSBNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXMsCiAgICAgICAgICAgICAgICB5eSA9IE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1czsKCiAgICAgICAgICAgIHBhdGggKz0gJ0wgJyArIHh4LnRvRml4ZWQoMykgKyAnICcgKyB5eS50b0ZpeGVkKDMpICsgJyAnOwogICAgICAgIH0KCiAgICAgICAgdmFyIHBvbHlnb24gPSB7IAogICAgICAgICAgICBsYWJlbDogJ1BvbHlnb24gQm9keScsCiAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IHgsIHk6IHkgfSwKICAgICAgICAgICAgdmVydGljZXM6IFZlcnRpY2VzLmZyb21QYXRoKHBhdGgpCiAgICAgICAgfTsKCiAgICAgICAgaWYgKG9wdGlvbnMuY2hhbWZlcikgewogICAgICAgICAgICB2YXIgY2hhbWZlciA9IG9wdGlvbnMuY2hhbWZlcjsKICAgICAgICAgICAgcG9seWdvbi52ZXJ0aWNlcyA9IFZlcnRpY2VzLmNoYW1mZXIocG9seWdvbi52ZXJ0aWNlcywgY2hhbWZlci5yYWRpdXMsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFtZmVyLnF1YWxpdHksIGNoYW1mZXIucXVhbGl0eU1pbiwgY2hhbWZlci5xdWFsaXR5TWF4KTsKICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuY2hhbWZlcjsKICAgICAgICB9CgogICAgICAgIHJldHVybiBCb2R5LmNyZWF0ZShDb21tb24uZXh0ZW5kKHt9LCBwb2x5Z29uLCBvcHRpb25zKSk7CiAgICB9OwoKICAgIC8qKgogICAgICogQ3JlYXRlcyBhIGJvZHkgdXNpbmcgdGhlIHN1cHBsaWVkIHZlcnRpY2VzIChvciBhbiBhcnJheSBjb250YWluaW5nIG11bHRpcGxlIHNldHMgb2YgdmVydGljZXMpLgogICAgICogSWYgdGhlIHZlcnRpY2VzIGFyZSBjb252ZXgsIHRoZXkgd2lsbCBwYXNzIHRocm91Z2ggYXMgc3VwcGxpZWQuCiAgICAgKiBPdGhlcndpc2UgaWYgdGhlIHZlcnRpY2VzIGFyZSBjb25jYXZlLCB0aGV5IHdpbGwgYmUgZGVjb21wb3NlZCBpZiBbcG9seS1kZWNvbXAuanNdKGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZS9wb2x5LWRlY29tcC5qcykgaXMgYXZhaWxhYmxlLgogICAgICogTm90ZSB0aGF0IHRoaXMgcHJvY2VzcyBpcyBub3QgZ3VhcmFudGVlZCB0byBzdXBwb3J0IGNvbXBsZXggc2V0cyBvZiB2ZXJ0aWNlcyAoZS5nLiB0aG9zZSB3aXRoIGhvbGVzIG1heSBmYWlsKS4KICAgICAqIEJ5IGRlZmF1bHQgdGhlIGRlY29tcG9zaXRpb24gd2lsbCBkaXNjYXJkIGNvbGxpbmVhciBlZGdlcyAodG8gaW1wcm92ZSBwZXJmb3JtYW5jZSkuCiAgICAgKiBJdCBjYW4gYWxzbyBvcHRpb25hbGx5IGRpc2NhcmQgYW55IHBhcnRzIHRoYXQgaGF2ZSBhbiBhcmVhIGxlc3MgdGhhbiBgbWluaW11bUFyZWFgLgogICAgICogSWYgdGhlIHZlcnRpY2VzIGNhbiBub3QgYmUgZGVjb21wb3NlZCwgdGhlIHJlc3VsdCB3aWxsIGZhbGwgYmFjayB0byB1c2luZyB0aGUgY29udmV4IGh1bGwuCiAgICAgKiBUaGUgb3B0aW9ucyBwYXJhbWV0ZXIgaXMgYW4gb2JqZWN0IHRoYXQgc3BlY2lmaWVzIGFueSBgTWF0dGVyLkJvZHlgIHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLgogICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gb2YgdGhlIGBNYXR0ZXIuQm9keWAgbW9kdWxlIGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuCiAgICAgKiBAbWV0aG9kIGZyb21WZXJ0aWNlcwogICAgICogQHBhcmFtIHtudW1iZXJ9IHgKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5CiAgICAgKiBAcGFyYW0gW1t2ZWN0b3JdXSB2ZXJ0ZXhTZXRzCiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdCiAgICAgKiBAcGFyYW0ge2Jvb2x9IFtmbGFnSW50ZXJuYWw9ZmFsc2VdCiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JlbW92ZUNvbGxpbmVhcj0wLjAxXQogICAgICogQHBhcmFtIHtudW1iZXJ9IFttaW5pbXVtQXJlYT0xMF0KICAgICAqIEByZXR1cm4ge2JvZHl9CiAgICAgKi8KICAgIEJvZGllcy5mcm9tVmVydGljZXMgPSBmdW5jdGlvbih4LCB5LCB2ZXJ0ZXhTZXRzLCBvcHRpb25zLCBmbGFnSW50ZXJuYWwsIHJlbW92ZUNvbGxpbmVhciwgbWluaW11bUFyZWEpIHsKICAgICAgICB2YXIgYm9keSwKICAgICAgICAgICAgcGFydHMsCiAgICAgICAgICAgIGlzQ29udmV4LAogICAgICAgICAgICB2ZXJ0aWNlcywKICAgICAgICAgICAgaSwKICAgICAgICAgICAgaiwKICAgICAgICAgICAgaywKICAgICAgICAgICAgdiwKICAgICAgICAgICAgejsKCiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgcGFydHMgPSBbXTsKCiAgICAgICAgZmxhZ0ludGVybmFsID0gdHlwZW9mIGZsYWdJbnRlcm5hbCAhPT0gJ3VuZGVmaW5lZCcgPyBmbGFnSW50ZXJuYWwgOiBmYWxzZTsKICAgICAgICByZW1vdmVDb2xsaW5lYXIgPSB0eXBlb2YgcmVtb3ZlQ29sbGluZWFyICE9PSAndW5kZWZpbmVkJyA/IHJlbW92ZUNvbGxpbmVhciA6IDAuMDE7CiAgICAgICAgbWluaW11bUFyZWEgPSB0eXBlb2YgbWluaW11bUFyZWEgIT09ICd1bmRlZmluZWQnID8gbWluaW11bUFyZWEgOiAxMDsKCiAgICAgICAgaWYgKCFkZWNvbXApIHsKICAgICAgICAgICAgQ29tbW9uLndhcm4oJ0JvZGllcy5mcm9tVmVydGljZXM6IHBvbHktZGVjb21wLmpzIHJlcXVpcmVkLiBDb3VsZCBub3QgZGVjb21wb3NlIHZlcnRpY2VzLiBGYWxsYmFjayB0byBjb252ZXggaHVsbC4nKTsKICAgICAgICB9CgogICAgICAgIC8vIGVuc3VyZSB2ZXJ0ZXhTZXRzIGlzIGFuIGFycmF5IG9mIGFycmF5cwogICAgICAgIGlmICghQ29tbW9uLmlzQXJyYXkodmVydGV4U2V0c1swXSkpIHsKICAgICAgICAgICAgdmVydGV4U2V0cyA9IFt2ZXJ0ZXhTZXRzXTsKICAgICAgICB9CgogICAgICAgIGZvciAodiA9IDA7IHYgPCB2ZXJ0ZXhTZXRzLmxlbmd0aDsgdiArPSAxKSB7CiAgICAgICAgICAgIHZlcnRpY2VzID0gdmVydGV4U2V0c1t2XTsKICAgICAgICAgICAgaXNDb252ZXggPSBWZXJ0aWNlcy5pc0NvbnZleCh2ZXJ0aWNlcyk7CgogICAgICAgICAgICBpZiAoaXNDb252ZXggfHwgIWRlY29tcCkgewogICAgICAgICAgICAgICAgaWYgKGlzQ29udmV4KSB7CiAgICAgICAgICAgICAgICAgICAgdmVydGljZXMgPSBWZXJ0aWNlcy5jbG9ja3dpc2VTb3J0KHZlcnRpY2VzKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8gZmFsbGJhY2sgdG8gY29udmV4IGh1bGwgd2hlbiBkZWNvbXBvc2l0aW9uIGlzIG5vdCBwb3NzaWJsZQogICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzID0gVmVydGljZXMuaHVsbCh2ZXJ0aWNlcyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcGFydHMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogeCwgeTogeSB9LAogICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzOiB2ZXJ0aWNlcwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXNlIGEgZGVjb21wb3NpdGlvbgogICAgICAgICAgICAgICAgdmFyIGNvbmNhdmUgPSB2ZXJ0aWNlcy5tYXAoZnVuY3Rpb24odmVydGV4KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt2ZXJ0ZXgueCwgdmVydGV4LnldOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy8gdmVydGljZXMgYXJlIGNvbmNhdmUgYW5kIHNpbXBsZSwgd2UgY2FuIGRlY29tcG9zZSBpbnRvIHBhcnRzCiAgICAgICAgICAgICAgICBkZWNvbXAubWFrZUNDVyhjb25jYXZlKTsKICAgICAgICAgICAgICAgIGlmIChyZW1vdmVDb2xsaW5lYXIgIT09IGZhbHNlKQogICAgICAgICAgICAgICAgICAgIGRlY29tcC5yZW1vdmVDb2xsaW5lYXJQb2ludHMoY29uY2F2ZSwgcmVtb3ZlQ29sbGluZWFyKTsKCiAgICAgICAgICAgICAgICAvLyB1c2UgdGhlIHF1aWNrIGRlY29tcG9zaXRpb24gYWxnb3JpdGhtIChCYXlheml0KQogICAgICAgICAgICAgICAgdmFyIGRlY29tcG9zZWQgPSBkZWNvbXAucXVpY2tEZWNvbXAoY29uY2F2ZSk7CgogICAgICAgICAgICAgICAgLy8gZm9yIGVhY2ggZGVjb21wb3NlZCBjaHVuawogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRlY29tcG9zZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICB2YXIgY2h1bmsgPSBkZWNvbXBvc2VkW2ldOwoKICAgICAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHZlcnRpY2VzIGludG8gdGhlIGNvcnJlY3Qgc3RydWN0dXJlCiAgICAgICAgICAgICAgICAgICAgdmFyIGNodW5rVmVydGljZXMgPSBjaHVuay5tYXAoZnVuY3Rpb24odmVydGljZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IHZlcnRpY2VzWzBdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdmVydGljZXNbMV0KICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgLy8gc2tpcCBzbWFsbCBjaHVua3MKICAgICAgICAgICAgICAgICAgICBpZiAobWluaW11bUFyZWEgPiAwICYmIFZlcnRpY2VzLmFyZWEoY2h1bmtWZXJ0aWNlcykgPCBtaW5pbXVtQXJlYSkKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgogICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhIGNvbXBvdW5kIHBhcnQKICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFZlcnRpY2VzLmNlbnRyZShjaHVua1ZlcnRpY2VzKSwKICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljZXM6IGNodW5rVmVydGljZXMKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gY3JlYXRlIGJvZHkgcGFydHMKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgcGFydHNbaV0gPSBCb2R5LmNyZWF0ZShDb21tb24uZXh0ZW5kKHBhcnRzW2ldLCBvcHRpb25zKSk7CiAgICAgICAgfQoKICAgICAgICAvLyBmbGFnIGludGVybmFsIGVkZ2VzIChjb2luY2lkZW50IHBhcnQgZWRnZXMpCiAgICAgICAgaWYgKGZsYWdJbnRlcm5hbCkgewogICAgICAgICAgICB2YXIgY29pbmNpZGVudF9tYXhfZGlzdCA9IDU7CgogICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHZhciBwYXJ0QSA9IHBhcnRzW2ldOwoKICAgICAgICAgICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgcGFydHMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcGFydEIgPSBwYXJ0c1tqXTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKEJvdW5kcy5vdmVybGFwcyhwYXJ0QS5ib3VuZHMsIHBhcnRCLmJvdW5kcykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdiA9IHBhcnRBLnZlcnRpY2VzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGJ2ID0gcGFydEIudmVydGljZXM7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBpdGVyYXRlIHZlcnRpY2VzIG9mIGJvdGggcGFydHMKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IHBhcnRBLnZlcnRpY2VzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHogPSAwOyB6IDwgcGFydEIudmVydGljZXMubGVuZ3RoOyB6KyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIGRpc3RhbmNlcyBiZXR3ZWVuIHRoZSB2ZXJ0aWNlcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYSA9IFZlY3Rvci5tYWduaXR1ZGVTcXVhcmVkKFZlY3Rvci5zdWIocGF2WyhrICsgMSkgJSBwYXYubGVuZ3RoXSwgcGJ2W3pdKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiID0gVmVjdG9yLm1hZ25pdHVkZVNxdWFyZWQoVmVjdG9yLnN1YihwYXZba10sIHBidlsoeiArIDEpICUgcGJ2Lmxlbmd0aF0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgYm90aCB2ZXJ0aWNlcyBhcmUgdmVyeSBjbG9zZSwgY29uc2lkZXIgdGhlIGVkZ2UgY29uY2lkZW50IChpbnRlcm5hbCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGEgPCBjb2luY2lkZW50X21heF9kaXN0ICYmIGRiIDwgY29pbmNpZGVudF9tYXhfZGlzdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXZba10uaXNJbnRlcm5hbCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBidlt6XS5pc0ludGVybmFsID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAocGFydHMubGVuZ3RoID4gMSkgewogICAgICAgICAgICAvLyBjcmVhdGUgdGhlIHBhcmVudCBib2R5IHRvIGJlIHJldHVybmVkLCB0aGF0IGNvbnRhaW5zIGdlbmVyYXRlZCBjb21wb3VuZCBwYXJ0cwogICAgICAgICAgICBib2R5ID0gQm9keS5jcmVhdGUoQ29tbW9uLmV4dGVuZCh7IHBhcnRzOiBwYXJ0cy5zbGljZSgwKSB9LCBvcHRpb25zKSk7CiAgICAgICAgICAgIEJvZHkuc2V0UG9zaXRpb24oYm9keSwgeyB4OiB4LCB5OiB5IH0pOwoKICAgICAgICAgICAgcmV0dXJuIGJvZHk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHBhcnRzWzBdOwogICAgICAgIH0KICAgIH07Cgp9KSgpOwoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0seyIuLi9ib2R5L0JvZHkiOjEsIi4uL2NvcmUvQ29tbW9uIjoxNCwiLi4vZ2VvbWV0cnkvQm91bmRzIjoyNiwiLi4vZ2VvbWV0cnkvVmVjdG9yIjoyOCwiLi4vZ2VvbWV0cnkvVmVydGljZXMiOjI5fV0sMjQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpewovKioKKiBUaGUgYE1hdHRlci5Db21wb3NpdGVzYCBtb2R1bGUgY29udGFpbnMgZmFjdG9yeSBtZXRob2RzIGZvciBjcmVhdGluZyBjb21wb3NpdGUgYm9kaWVzCiogd2l0aCBjb21tb25seSB1c2VkIGNvbmZpZ3VyYXRpb25zIChzdWNoIGFzIHN0YWNrcyBhbmQgY2hhaW5zKS4KKgoqIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuCioKKiBAY2xhc3MgQ29tcG9zaXRlcwoqLwoKdmFyIENvbXBvc2l0ZXMgPSB7fTsKCm1vZHVsZS5leHBvcnRzID0gQ29tcG9zaXRlczsKCnZhciBDb21wb3NpdGUgPSBfZGVyZXFfKCcuLi9ib2R5L0NvbXBvc2l0ZScpOwp2YXIgQ29uc3RyYWludCA9IF9kZXJlcV8oJy4uL2NvbnN0cmFpbnQvQ29uc3RyYWludCcpOwp2YXIgQ29tbW9uID0gX2RlcmVxXygnLi4vY29yZS9Db21tb24nKTsKdmFyIEJvZHkgPSBfZGVyZXFfKCcuLi9ib2R5L0JvZHknKTsKdmFyIEJvZGllcyA9IF9kZXJlcV8oJy4vQm9kaWVzJyk7CgooZnVuY3Rpb24oKSB7CgogICAgLyoqCiAgICAgKiBDcmVhdGUgYSBuZXcgY29tcG9zaXRlIGNvbnRhaW5pbmcgYm9kaWVzIGNyZWF0ZWQgaW4gdGhlIGNhbGxiYWNrIGluIGEgZ3JpZCBhcnJhbmdlbWVudC4KICAgICAqIFRoaXMgZnVuY3Rpb24gdXNlcyB0aGUgYm9keSdzIGJvdW5kcyB0byBwcmV2ZW50IG92ZXJsYXBzLgogICAgICogQG1ldGhvZCBzdGFjawogICAgICogQHBhcmFtIHtudW1iZXJ9IHh4CiAgICAgKiBAcGFyYW0ge251bWJlcn0geXkKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2x1bW5zCiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93cwogICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbkdhcAogICAgICogQHBhcmFtIHtudW1iZXJ9IHJvd0dhcAogICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sKICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gQSBuZXcgY29tcG9zaXRlIGNvbnRhaW5pbmcgb2JqZWN0cyBjcmVhdGVkIGluIHRoZSBjYWxsYmFjawogICAgICovCiAgICBDb21wb3NpdGVzLnN0YWNrID0gZnVuY3Rpb24oeHgsIHl5LCBjb2x1bW5zLCByb3dzLCBjb2x1bW5HYXAsIHJvd0dhcCwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgc3RhY2sgPSBDb21wb3NpdGUuY3JlYXRlKHsgbGFiZWw6ICdTdGFjaycgfSksCiAgICAgICAgICAgIHggPSB4eCwKICAgICAgICAgICAgeSA9IHl5LAogICAgICAgICAgICBsYXN0Qm9keSwKICAgICAgICAgICAgaSA9IDA7CgogICAgICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IHJvd3M7IHJvdysrKSB7CiAgICAgICAgICAgIHZhciBtYXhIZWlnaHQgPSAwOwogICAgICAgICAgICAKICAgICAgICAgICAgZm9yICh2YXIgY29sdW1uID0gMDsgY29sdW1uIDwgY29sdW1uczsgY29sdW1uKyspIHsKICAgICAgICAgICAgICAgIHZhciBib2R5ID0gY2FsbGJhY2soeCwgeSwgY29sdW1uLCByb3csIGxhc3RCb2R5LCBpKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChib2R5KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGJvZHlIZWlnaHQgPSBib2R5LmJvdW5kcy5tYXgueSAtIGJvZHkuYm91bmRzLm1pbi55LAogICAgICAgICAgICAgICAgICAgICAgICBib2R5V2lkdGggPSBib2R5LmJvdW5kcy5tYXgueCAtIGJvZHkuYm91bmRzLm1pbi54OyAKCiAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHlIZWlnaHQgPiBtYXhIZWlnaHQpCiAgICAgICAgICAgICAgICAgICAgICAgIG1heEhlaWdodCA9IGJvZHlIZWlnaHQ7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgQm9keS50cmFuc2xhdGUoYm9keSwgeyB4OiBib2R5V2lkdGggKiAwLjUsIHk6IGJvZHlIZWlnaHQgKiAwLjUgfSk7CgogICAgICAgICAgICAgICAgICAgIHggPSBib2R5LmJvdW5kcy5tYXgueCArIGNvbHVtbkdhcDsKCiAgICAgICAgICAgICAgICAgICAgQ29tcG9zaXRlLmFkZEJvZHkoc3RhY2ssIGJvZHkpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGxhc3RCb2R5ID0gYm9keTsKICAgICAgICAgICAgICAgICAgICBpICs9IDE7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHggKz0gY29sdW1uR2FwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICB5ICs9IG1heEhlaWdodCArIHJvd0dhcDsKICAgICAgICAgICAgeCA9IHh4OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHN0YWNrOwogICAgfTsKICAgIAogICAgLyoqCiAgICAgKiBDaGFpbnMgYWxsIGJvZGllcyBpbiB0aGUgZ2l2ZW4gY29tcG9zaXRlIHRvZ2V0aGVyIHVzaW5nIGNvbnN0cmFpbnRzLgogICAgICogQG1ldGhvZCBjaGFpbgogICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZQogICAgICogQHBhcmFtIHtudW1iZXJ9IHhPZmZzZXRBCiAgICAgKiBAcGFyYW0ge251bWJlcn0geU9mZnNldEEKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4T2Zmc2V0QgogICAgICogQHBhcmFtIHtudW1iZXJ9IHlPZmZzZXRCCiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucwogICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBBIG5ldyBjb21wb3NpdGUgY29udGFpbmluZyBvYmplY3RzIGNoYWluZWQgdG9nZXRoZXIgd2l0aCBjb25zdHJhaW50cwogICAgICovCiAgICBDb21wb3NpdGVzLmNoYWluID0gZnVuY3Rpb24oY29tcG9zaXRlLCB4T2Zmc2V0QSwgeU9mZnNldEEsIHhPZmZzZXRCLCB5T2Zmc2V0Qiwgb3B0aW9ucykgewogICAgICAgIHZhciBib2RpZXMgPSBjb21wb3NpdGUuYm9kaWVzOwogICAgICAgIAogICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBib2R5QSA9IGJvZGllc1tpIC0gMV0sCiAgICAgICAgICAgICAgICBib2R5QiA9IGJvZGllc1tpXSwKICAgICAgICAgICAgICAgIGJvZHlBSGVpZ2h0ID0gYm9keUEuYm91bmRzLm1heC55IC0gYm9keUEuYm91bmRzLm1pbi55LAogICAgICAgICAgICAgICAgYm9keUFXaWR0aCA9IGJvZHlBLmJvdW5kcy5tYXgueCAtIGJvZHlBLmJvdW5kcy5taW4ueCwgCiAgICAgICAgICAgICAgICBib2R5QkhlaWdodCA9IGJvZHlCLmJvdW5kcy5tYXgueSAtIGJvZHlCLmJvdW5kcy5taW4ueSwKICAgICAgICAgICAgICAgIGJvZHlCV2lkdGggPSBib2R5Qi5ib3VuZHMubWF4LnggLSBib2R5Qi5ib3VuZHMubWluLng7CiAgICAgICAgCiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHsKICAgICAgICAgICAgICAgIGJvZHlBOiBib2R5QSwKICAgICAgICAgICAgICAgIHBvaW50QTogeyB4OiBib2R5QVdpZHRoICogeE9mZnNldEEsIHk6IGJvZHlBSGVpZ2h0ICogeU9mZnNldEEgfSwKICAgICAgICAgICAgICAgIGJvZHlCOiBib2R5QiwKICAgICAgICAgICAgICAgIHBvaW50QjogeyB4OiBib2R5QldpZHRoICogeE9mZnNldEIsIHk6IGJvZHlCSGVpZ2h0ICogeU9mZnNldEIgfQogICAgICAgICAgICB9OwogICAgICAgICAgICAKICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBDb21tb24uZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTsKICAgICAgICAKICAgICAgICAgICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQoY29tcG9zaXRlLCBDb25zdHJhaW50LmNyZWF0ZShjb25zdHJhaW50KSk7CiAgICAgICAgfQoKICAgICAgICBjb21wb3NpdGUubGFiZWwgKz0gJyBDaGFpbic7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTsKICAgIH07CgogICAgLyoqCiAgICAgKiBDb25uZWN0cyBib2RpZXMgaW4gdGhlIGNvbXBvc2l0ZSB3aXRoIGNvbnN0cmFpbnRzIGluIGEgZ3JpZCBwYXR0ZXJuLCB3aXRoIG9wdGlvbmFsIGNyb3NzIGJyYWNlcy4KICAgICAqIEBtZXRob2QgbWVzaAogICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZQogICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbnMKICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3dzCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNyb3NzQnJhY2UKICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zCiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBjb21wb3NpdGUgY29udGFpbmluZyBvYmplY3RzIG1lc2hlZCB0b2dldGhlciB3aXRoIGNvbnN0cmFpbnRzCiAgICAgKi8KICAgIENvbXBvc2l0ZXMubWVzaCA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgY29sdW1ucywgcm93cywgY3Jvc3NCcmFjZSwgb3B0aW9ucykgewogICAgICAgIHZhciBib2RpZXMgPSBjb21wb3NpdGUuYm9kaWVzLAogICAgICAgICAgICByb3csCiAgICAgICAgICAgIGNvbCwKICAgICAgICAgICAgYm9keUEsCiAgICAgICAgICAgIGJvZHlCLAogICAgICAgICAgICBib2R5QzsKICAgICAgICAKICAgICAgICBmb3IgKHJvdyA9IDA7IHJvdyA8IHJvd3M7IHJvdysrKSB7CiAgICAgICAgICAgIGZvciAoY29sID0gMTsgY29sIDwgY29sdW1uczsgY29sKyspIHsKICAgICAgICAgICAgICAgIGJvZHlBID0gYm9kaWVzWyhjb2wgLSAxKSArIChyb3cgKiBjb2x1bW5zKV07CiAgICAgICAgICAgICAgICBib2R5QiA9IGJvZGllc1tjb2wgKyAocm93ICogY29sdW1ucyldOwogICAgICAgICAgICAgICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQoY29tcG9zaXRlLCBDb25zdHJhaW50LmNyZWF0ZShDb21tb24uZXh0ZW5kKHsgYm9keUE6IGJvZHlBLCBib2R5QjogYm9keUIgfSwgb3B0aW9ucykpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHJvdyA+IDApIHsKICAgICAgICAgICAgICAgIGZvciAoY29sID0gMDsgY29sIDwgY29sdW1uczsgY29sKyspIHsKICAgICAgICAgICAgICAgICAgICBib2R5QSA9IGJvZGllc1tjb2wgKyAoKHJvdyAtIDEpICogY29sdW1ucyldOwogICAgICAgICAgICAgICAgICAgIGJvZHlCID0gYm9kaWVzW2NvbCArIChyb3cgKiBjb2x1bW5zKV07CiAgICAgICAgICAgICAgICAgICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQoY29tcG9zaXRlLCBDb25zdHJhaW50LmNyZWF0ZShDb21tb24uZXh0ZW5kKHsgYm9keUE6IGJvZHlBLCBib2R5QjogYm9keUIgfSwgb3B0aW9ucykpKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGNyb3NzQnJhY2UgJiYgY29sID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBib2R5QyA9IGJvZGllc1soY29sIC0gMSkgKyAoKHJvdyAtIDEpICogY29sdW1ucyldOwogICAgICAgICAgICAgICAgICAgICAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludChjb21wb3NpdGUsIENvbnN0cmFpbnQuY3JlYXRlKENvbW1vbi5leHRlbmQoeyBib2R5QTogYm9keUMsIGJvZHlCOiBib2R5QiB9LCBvcHRpb25zKSkpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKGNyb3NzQnJhY2UgJiYgY29sIDwgY29sdW1ucyAtIDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYm9keUMgPSBib2RpZXNbKGNvbCArIDEpICsgKChyb3cgLSAxKSAqIGNvbHVtbnMpXTsKICAgICAgICAgICAgICAgICAgICAgICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQoY29tcG9zaXRlLCBDb25zdHJhaW50LmNyZWF0ZShDb21tb24uZXh0ZW5kKHsgYm9keUE6IGJvZHlDLCBib2R5QjogYm9keUIgfSwgb3B0aW9ucykpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNvbXBvc2l0ZS5sYWJlbCArPSAnIE1lc2gnOwogICAgICAgIAogICAgICAgIHJldHVybiBjb21wb3NpdGU7CiAgICB9OwogICAgCiAgICAvKioKICAgICAqIENyZWF0ZSBhIG5ldyBjb21wb3NpdGUgY29udGFpbmluZyBib2RpZXMgY3JlYXRlZCBpbiB0aGUgY2FsbGJhY2sgaW4gYSBweXJhbWlkIGFycmFuZ2VtZW50LgogICAgICogVGhpcyBmdW5jdGlvbiB1c2VzIHRoZSBib2R5J3MgYm91bmRzIHRvIHByZXZlbnQgb3ZlcmxhcHMuCiAgICAgKiBAbWV0aG9kIHB5cmFtaWQKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4eAogICAgICogQHBhcmFtIHtudW1iZXJ9IHl5CiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1ucwogICAgICogQHBhcmFtIHtudW1iZXJ9IHJvd3MKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2x1bW5HYXAKICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3dHYXAKICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrCiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IEEgbmV3IGNvbXBvc2l0ZSBjb250YWluaW5nIG9iamVjdHMgY3JlYXRlZCBpbiB0aGUgY2FsbGJhY2sKICAgICAqLwogICAgQ29tcG9zaXRlcy5weXJhbWlkID0gZnVuY3Rpb24oeHgsIHl5LCBjb2x1bW5zLCByb3dzLCBjb2x1bW5HYXAsIHJvd0dhcCwgY2FsbGJhY2spIHsKICAgICAgICByZXR1cm4gQ29tcG9zaXRlcy5zdGFjayh4eCwgeXksIGNvbHVtbnMsIHJvd3MsIGNvbHVtbkdhcCwgcm93R2FwLCBmdW5jdGlvbih4LCB5LCBjb2x1bW4sIHJvdywgbGFzdEJvZHksIGkpIHsKICAgICAgICAgICAgdmFyIGFjdHVhbFJvd3MgPSBNYXRoLm1pbihyb3dzLCBNYXRoLmNlaWwoY29sdW1ucyAvIDIpKSwKICAgICAgICAgICAgICAgIGxhc3RCb2R5V2lkdGggPSBsYXN0Qm9keSA/IGxhc3RCb2R5LmJvdW5kcy5tYXgueCAtIGxhc3RCb2R5LmJvdW5kcy5taW4ueCA6IDA7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAocm93ID4gYWN0dWFsUm93cykKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIHJldmVyc2Ugcm93IG9yZGVyCiAgICAgICAgICAgIHJvdyA9IGFjdHVhbFJvd3MgLSByb3c7CiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgc3RhcnQgPSByb3csCiAgICAgICAgICAgICAgICBlbmQgPSBjb2x1bW5zIC0gMSAtIHJvdzsKCiAgICAgICAgICAgIGlmIChjb2x1bW4gPCBzdGFydCB8fCBjb2x1bW4gPiBlbmQpCiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyByZXRyb2FjdGl2ZWx5IGZpeCB0aGUgZmlyc3QgYm9keSdzIHBvc2l0aW9uLCBzaW5jZSB3aWR0aCB3YXMgdW5rbm93bgogICAgICAgICAgICBpZiAoaSA9PT0gMSkgewogICAgICAgICAgICAgICAgQm9keS50cmFuc2xhdGUobGFzdEJvZHksIHsgeDogKGNvbHVtbiArIChjb2x1bW5zICUgMiA9PT0gMSA/IDEgOiAtMSkpICogbGFzdEJvZHlXaWR0aCwgeTogMCB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHhPZmZzZXQgPSBsYXN0Qm9keSA/IGNvbHVtbiAqIGxhc3RCb2R5V2lkdGggOiAwOwogICAgICAgICAgICAKICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHh4ICsgeE9mZnNldCArIGNvbHVtbiAqIGNvbHVtbkdhcCwgeSwgY29sdW1uLCByb3csIGxhc3RCb2R5LCBpKTsKICAgICAgICB9KTsKICAgIH07CgogICAgLyoqCiAgICAgKiBDcmVhdGVzIGEgY29tcG9zaXRlIHdpdGggYSBOZXd0b24ncyBDcmFkbGUgc2V0dXAgb2YgYm9kaWVzIGFuZCBjb25zdHJhaW50cy4KICAgICAqIEBtZXRob2QgbmV3dG9uc0NyYWRsZQogICAgICogQHBhcmFtIHtudW1iZXJ9IHh4CiAgICAgKiBAcGFyYW0ge251bWJlcn0geXkKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplCiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoCiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IEEgbmV3IGNvbXBvc2l0ZSBuZXd0b25zQ3JhZGxlIGJvZHkKICAgICAqLwogICAgQ29tcG9zaXRlcy5uZXd0b25zQ3JhZGxlID0gZnVuY3Rpb24oeHgsIHl5LCBudW1iZXIsIHNpemUsIGxlbmd0aCkgewogICAgICAgIHZhciBuZXd0b25zQ3JhZGxlID0gQ29tcG9zaXRlLmNyZWF0ZSh7IGxhYmVsOiAnTmV3dG9ucyBDcmFkbGUnIH0pOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlcjsgaSsrKSB7CiAgICAgICAgICAgIHZhciBzZXBhcmF0aW9uID0gMS45LAogICAgICAgICAgICAgICAgY2lyY2xlID0gQm9kaWVzLmNpcmNsZSh4eCArIGkgKiAoc2l6ZSAqIHNlcGFyYXRpb24pLCB5eSArIGxlbmd0aCwgc2l6ZSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGluZXJ0aWE6IEluZmluaXR5LCByZXN0aXR1dGlvbjogMSwgZnJpY3Rpb246IDAsIGZyaWN0aW9uQWlyOiAwLjAwMDEsIHNsb3A6IDEgfSksCiAgICAgICAgICAgICAgICBjb25zdHJhaW50ID0gQ29uc3RyYWludC5jcmVhdGUoeyBwb2ludEE6IHsgeDogeHggKyBpICogKHNpemUgKiBzZXBhcmF0aW9uKSwgeTogeXkgfSwgYm9keUI6IGNpcmNsZSB9KTsKCiAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRCb2R5KG5ld3RvbnNDcmFkbGUsIGNpcmNsZSk7CiAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KG5ld3RvbnNDcmFkbGUsIGNvbnN0cmFpbnQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG5ld3RvbnNDcmFkbGU7CiAgICB9OwogICAgCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBjb21wb3NpdGUgd2l0aCBzaW1wbGUgY2FyIHNldHVwIG9mIGJvZGllcyBhbmQgY29uc3RyYWludHMuCiAgICAgKiBAbWV0aG9kIGNhcgogICAgICogQHBhcmFtIHtudW1iZXJ9IHh4CiAgICAgKiBAcGFyYW0ge251bWJlcn0geXkKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aAogICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodAogICAgICogQHBhcmFtIHtudW1iZXJ9IHdoZWVsU2l6ZQogICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBBIG5ldyBjb21wb3NpdGUgY2FyIGJvZHkKICAgICAqLwogICAgQ29tcG9zaXRlcy5jYXIgPSBmdW5jdGlvbih4eCwgeXksIHdpZHRoLCBoZWlnaHQsIHdoZWVsU2l6ZSkgewogICAgICAgIHZhciBncm91cCA9IEJvZHkubmV4dEdyb3VwKHRydWUpLAogICAgICAgICAgICB3aGVlbEJhc2UgPSAtMjAsCiAgICAgICAgICAgIHdoZWVsQU9mZnNldCA9IC13aWR0aCAqIDAuNSArIHdoZWVsQmFzZSwKICAgICAgICAgICAgd2hlZWxCT2Zmc2V0ID0gd2lkdGggKiAwLjUgLSB3aGVlbEJhc2UsCiAgICAgICAgICAgIHdoZWVsWU9mZnNldCA9IDA7CiAgICAKICAgICAgICB2YXIgY2FyID0gQ29tcG9zaXRlLmNyZWF0ZSh7IGxhYmVsOiAnQ2FyJyB9KSwKICAgICAgICAgICAgYm9keSA9IEJvZGllcy50cmFwZXpvaWQoeHgsIHl5LCB3aWR0aCwgaGVpZ2h0LCAwLjMsIHsgCiAgICAgICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXI6IHsKICAgICAgICAgICAgICAgICAgICBncm91cDogZ3JvdXAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmcmljdGlvbjogMC4wMSwKICAgICAgICAgICAgICAgIGNoYW1mZXI6IHsKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgCiAgICAgICAgdmFyIHdoZWVsQSA9IEJvZGllcy5jaXJjbGUoeHggKyB3aGVlbEFPZmZzZXQsIHl5ICsgd2hlZWxZT2Zmc2V0LCB3aGVlbFNpemUsIHsgCiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlcjogewogICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZyaWN0aW9uOiAwLjgsCiAgICAgICAgICAgIGRlbnNpdHk6IDAuMDEKICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICB2YXIgd2hlZWxCID0gQm9kaWVzLmNpcmNsZSh4eCArIHdoZWVsQk9mZnNldCwgeXkgKyB3aGVlbFlPZmZzZXQsIHdoZWVsU2l6ZSwgeyAKICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyOiB7CiAgICAgICAgICAgICAgICBncm91cDogZ3JvdXAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZnJpY3Rpb246IDAuOCwKICAgICAgICAgICAgZGVuc2l0eTogMC4wMQogICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgIHZhciBheGVsQSA9IENvbnN0cmFpbnQuY3JlYXRlKHsKICAgICAgICAgICAgYm9keUE6IGJvZHksCiAgICAgICAgICAgIHBvaW50QTogeyB4OiB3aGVlbEFPZmZzZXQsIHk6IHdoZWVsWU9mZnNldCB9LAogICAgICAgICAgICBib2R5Qjogd2hlZWxBLAogICAgICAgICAgICBzdGlmZm5lc3M6IDAuMiwKICAgICAgICAgICAgcmVuZGVyOiB7CiAgICAgICAgICAgICAgICBsaW5lV2lkdGg6IDAKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICB2YXIgYXhlbEIgPSBDb25zdHJhaW50LmNyZWF0ZSh7CiAgICAgICAgICAgIGJvZHlBOiBib2R5LAogICAgICAgICAgICBwb2ludEE6IHsgeDogd2hlZWxCT2Zmc2V0LCB5OiB3aGVlbFlPZmZzZXQgfSwKICAgICAgICAgICAgYm9keUI6IHdoZWVsQiwKICAgICAgICAgICAgc3RpZmZuZXNzOiAwLjIsCiAgICAgICAgICAgIHJlbmRlcjogewogICAgICAgICAgICAgICAgbGluZVdpZHRoOiAwCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAKICAgICAgICBDb21wb3NpdGUuYWRkQm9keShjYXIsIGJvZHkpOwogICAgICAgIENvbXBvc2l0ZS5hZGRCb2R5KGNhciwgd2hlZWxBKTsKICAgICAgICBDb21wb3NpdGUuYWRkQm9keShjYXIsIHdoZWVsQik7CiAgICAgICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQoY2FyLCBheGVsQSk7CiAgICAgICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQoY2FyLCBheGVsQik7CgogICAgICAgIHJldHVybiBjYXI7CiAgICB9OwoKICAgIC8qKgogICAgICogQ3JlYXRlcyBhIHNpbXBsZSBzb2Z0IGJvZHkgbGlrZSBvYmplY3QuCiAgICAgKiBAbWV0aG9kIHNvZnRCb2R5CiAgICAgKiBAcGFyYW0ge251bWJlcn0geHgKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5eQogICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbnMKICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3dzCiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1uR2FwCiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93R2FwCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNyb3NzQnJhY2UKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYXJ0aWNsZVJhZGl1cwogICAgICogQHBhcmFtIHt9IHBhcnRpY2xlT3B0aW9ucwogICAgICogQHBhcmFtIHt9IGNvbnN0cmFpbnRPcHRpb25zCiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IEEgbmV3IGNvbXBvc2l0ZSBzb2Z0Qm9keQogICAgICovCiAgICBDb21wb3NpdGVzLnNvZnRCb2R5ID0gZnVuY3Rpb24oeHgsIHl5LCBjb2x1bW5zLCByb3dzLCBjb2x1bW5HYXAsIHJvd0dhcCwgY3Jvc3NCcmFjZSwgcGFydGljbGVSYWRpdXMsIHBhcnRpY2xlT3B0aW9ucywgY29uc3RyYWludE9wdGlvbnMpIHsKICAgICAgICBwYXJ0aWNsZU9wdGlvbnMgPSBDb21tb24uZXh0ZW5kKHsgaW5lcnRpYTogSW5maW5pdHkgfSwgcGFydGljbGVPcHRpb25zKTsKICAgICAgICBjb25zdHJhaW50T3B0aW9ucyA9IENvbW1vbi5leHRlbmQoeyBzdGlmZm5lc3M6IDAuNCB9LCBjb25zdHJhaW50T3B0aW9ucyk7CgogICAgICAgIHZhciBzb2Z0Qm9keSA9IENvbXBvc2l0ZXMuc3RhY2soeHgsIHl5LCBjb2x1bW5zLCByb3dzLCBjb2x1bW5HYXAsIHJvd0dhcCwgZnVuY3Rpb24oeCwgeSkgewogICAgICAgICAgICByZXR1cm4gQm9kaWVzLmNpcmNsZSh4LCB5LCBwYXJ0aWNsZVJhZGl1cywgcGFydGljbGVPcHRpb25zKTsKICAgICAgICB9KTsKCiAgICAgICAgQ29tcG9zaXRlcy5tZXNoKHNvZnRCb2R5LCBjb2x1bW5zLCByb3dzLCBjcm9zc0JyYWNlLCBjb25zdHJhaW50T3B0aW9ucyk7CgogICAgICAgIHNvZnRCb2R5LmxhYmVsID0gJ1NvZnQgQm9keSc7CgogICAgICAgIHJldHVybiBzb2Z0Qm9keTsKICAgIH07Cgp9KSgpOwoKfSx7Ii4uL2JvZHkvQm9keSI6MSwiLi4vYm9keS9Db21wb3NpdGUiOjIsIi4uL2NvbnN0cmFpbnQvQ29uc3RyYWludCI6MTIsIi4uL2NvcmUvQ29tbW9uIjoxNCwiLi9Cb2RpZXMiOjIzfV0sMjU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpewovKioKKiBUaGUgYE1hdHRlci5BeGVzYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBzZXRzIG9mIGF4ZXMuCioKKiBAY2xhc3MgQXhlcwoqLwoKdmFyIEF4ZXMgPSB7fTsKCm1vZHVsZS5leHBvcnRzID0gQXhlczsKCnZhciBWZWN0b3IgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9WZWN0b3InKTsKdmFyIENvbW1vbiA9IF9kZXJlcV8oJy4uL2NvcmUvQ29tbW9uJyk7CgooZnVuY3Rpb24oKSB7CgogICAgLyoqCiAgICAgKiBDcmVhdGVzIGEgbmV3IHNldCBvZiBheGVzIGZyb20gdGhlIGdpdmVuIHZlcnRpY2VzLgogICAgICogQG1ldGhvZCBmcm9tVmVydGljZXMKICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzCiAgICAgKiBAcmV0dXJuIHtheGVzfSBBIG5ldyBheGVzIGZyb20gdGhlIGdpdmVuIHZlcnRpY2VzCiAgICAgKi8KICAgIEF4ZXMuZnJvbVZlcnRpY2VzID0gZnVuY3Rpb24odmVydGljZXMpIHsKICAgICAgICB2YXIgYXhlcyA9IHt9OwoKICAgICAgICAvLyBmaW5kIHRoZSB1bmlxdWUgYXhlcywgdXNpbmcgZWRnZSBub3JtYWwgZ3JhZGllbnRzCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgaiA9IChpICsgMSkgJSB2ZXJ0aWNlcy5sZW5ndGgsIAogICAgICAgICAgICAgICAgbm9ybWFsID0gVmVjdG9yLm5vcm1hbGlzZSh7IAogICAgICAgICAgICAgICAgICAgIHg6IHZlcnRpY2VzW2pdLnkgLSB2ZXJ0aWNlc1tpXS55LCAKICAgICAgICAgICAgICAgICAgICB5OiB2ZXJ0aWNlc1tpXS54IC0gdmVydGljZXNbal0ueAogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBncmFkaWVudCA9IChub3JtYWwueSA9PT0gMCkgPyBJbmZpbml0eSA6IChub3JtYWwueCAvIG5vcm1hbC55KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIGxpbWl0IHByZWNpc2lvbgogICAgICAgICAgICBncmFkaWVudCA9IGdyYWRpZW50LnRvRml4ZWQoMykudG9TdHJpbmcoKTsKICAgICAgICAgICAgYXhlc1tncmFkaWVudF0gPSBub3JtYWw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gQ29tbW9uLnZhbHVlcyhheGVzKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBSb3RhdGVzIGEgc2V0IG9mIGF4ZXMgYnkgdGhlIGdpdmVuIGFuZ2xlLgogICAgICogQG1ldGhvZCByb3RhdGUKICAgICAqIEBwYXJhbSB7YXhlc30gYXhlcwogICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlCiAgICAgKi8KICAgIEF4ZXMucm90YXRlID0gZnVuY3Rpb24oYXhlcywgYW5nbGUpIHsKICAgICAgICBpZiAoYW5nbGUgPT09IDApCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAKICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpLAogICAgICAgICAgICBzaW4gPSBNYXRoLnNpbihhbmdsZSk7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgYXhpcyA9IGF4ZXNbaV0sCiAgICAgICAgICAgICAgICB4eDsKICAgICAgICAgICAgeHggPSBheGlzLnggKiBjb3MgLSBheGlzLnkgKiBzaW47CiAgICAgICAgICAgIGF4aXMueSA9IGF4aXMueCAqIHNpbiArIGF4aXMueSAqIGNvczsKICAgICAgICAgICAgYXhpcy54ID0geHg7CiAgICAgICAgfQogICAgfTsKCn0pKCk7Cgp9LHsiLi4vY29yZS9Db21tb24iOjE0LCIuLi9nZW9tZXRyeS9WZWN0b3IiOjI4fV0sMjY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpewovKioKKiBUaGUgYE1hdHRlci5Cb3VuZHNgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIGF4aXMtYWxpZ25lZCBib3VuZGluZyBib3hlcyAoQUFCQikuCioKKiBAY2xhc3MgQm91bmRzCiovCgp2YXIgQm91bmRzID0ge307Cgptb2R1bGUuZXhwb3J0cyA9IEJvdW5kczsKCihmdW5jdGlvbigpIHsKCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBuZXcgYXhpcy1hbGlnbmVkIGJvdW5kaW5nIGJveCAoQUFCQikgZm9yIHRoZSBnaXZlbiB2ZXJ0aWNlcy4KICAgICAqIEBtZXRob2QgY3JlYXRlCiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlcwogICAgICogQHJldHVybiB7Ym91bmRzfSBBIG5ldyBib3VuZHMgb2JqZWN0CiAgICAgKi8KICAgIEJvdW5kcy5jcmVhdGUgPSBmdW5jdGlvbih2ZXJ0aWNlcykgewogICAgICAgIHZhciBib3VuZHMgPSB7IAogICAgICAgICAgICBtaW46IHsgeDogMCwgeTogMCB9LCAKICAgICAgICAgICAgbWF4OiB7IHg6IDAsIHk6IDAgfQogICAgICAgIH07CgogICAgICAgIGlmICh2ZXJ0aWNlcykKICAgICAgICAgICAgQm91bmRzLnVwZGF0ZShib3VuZHMsIHZlcnRpY2VzKTsKICAgICAgICAKICAgICAgICByZXR1cm4gYm91bmRzOwogICAgfTsKCiAgICAvKioKICAgICAqIFVwZGF0ZXMgYm91bmRzIHVzaW5nIHRoZSBnaXZlbiB2ZXJ0aWNlcyBhbmQgZXh0ZW5kcyB0aGUgYm91bmRzIGdpdmVuIGEgdmVsb2NpdHkuCiAgICAgKiBAbWV0aG9kIHVwZGF0ZQogICAgICogQHBhcmFtIHtib3VuZHN9IGJvdW5kcwogICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXMKICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWxvY2l0eQogICAgICovCiAgICBCb3VuZHMudXBkYXRlID0gZnVuY3Rpb24oYm91bmRzLCB2ZXJ0aWNlcywgdmVsb2NpdHkpIHsKICAgICAgICBib3VuZHMubWluLnggPSBJbmZpbml0eTsKICAgICAgICBib3VuZHMubWF4LnggPSAtSW5maW5pdHk7CiAgICAgICAgYm91bmRzLm1pbi55ID0gSW5maW5pdHk7CiAgICAgICAgYm91bmRzLm1heC55ID0gLUluZmluaXR5OwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciB2ZXJ0ZXggPSB2ZXJ0aWNlc1tpXTsKICAgICAgICAgICAgaWYgKHZlcnRleC54ID4gYm91bmRzLm1heC54KSBib3VuZHMubWF4LnggPSB2ZXJ0ZXgueDsKICAgICAgICAgICAgaWYgKHZlcnRleC54IDwgYm91bmRzLm1pbi54KSBib3VuZHMubWluLnggPSB2ZXJ0ZXgueDsKICAgICAgICAgICAgaWYgKHZlcnRleC55ID4gYm91bmRzLm1heC55KSBib3VuZHMubWF4LnkgPSB2ZXJ0ZXgueTsKICAgICAgICAgICAgaWYgKHZlcnRleC55IDwgYm91bmRzLm1pbi55KSBib3VuZHMubWluLnkgPSB2ZXJ0ZXgueTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKHZlbG9jaXR5KSB7CiAgICAgICAgICAgIGlmICh2ZWxvY2l0eS54ID4gMCkgewogICAgICAgICAgICAgICAgYm91bmRzLm1heC54ICs9IHZlbG9jaXR5Lng7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBib3VuZHMubWluLnggKz0gdmVsb2NpdHkueDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKHZlbG9jaXR5LnkgPiAwKSB7CiAgICAgICAgICAgICAgICBib3VuZHMubWF4LnkgKz0gdmVsb2NpdHkueTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGJvdW5kcy5taW4ueSArPSB2ZWxvY2l0eS55OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYm91bmRzIGNvbnRhaW5zIHRoZSBnaXZlbiBwb2ludC4KICAgICAqIEBtZXRob2QgY29udGFpbnMKICAgICAqIEBwYXJhbSB7Ym91bmRzfSBib3VuZHMKICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb2ludAogICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgYm91bmRzIGNvbnRhaW4gdGhlIHBvaW50LCBvdGhlcndpc2UgZmFsc2UKICAgICAqLwogICAgQm91bmRzLmNvbnRhaW5zID0gZnVuY3Rpb24oYm91bmRzLCBwb2ludCkgewogICAgICAgIHJldHVybiBwb2ludC54ID49IGJvdW5kcy5taW4ueCAmJiBwb2ludC54IDw9IGJvdW5kcy5tYXgueCAKICAgICAgICAgICAgICAgJiYgcG9pbnQueSA+PSBib3VuZHMubWluLnkgJiYgcG9pbnQueSA8PSBib3VuZHMubWF4Lnk7CiAgICB9OwoKICAgIC8qKgogICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB0d28gYm91bmRzIGludGVyc2VjdC4KICAgICAqIEBtZXRob2Qgb3ZlcmxhcHMKICAgICAqIEBwYXJhbSB7Ym91bmRzfSBib3VuZHNBCiAgICAgKiBAcGFyYW0ge2JvdW5kc30gYm91bmRzQgogICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgYm91bmRzIG92ZXJsYXAsIG90aGVyd2lzZSBmYWxzZQogICAgICovCiAgICBCb3VuZHMub3ZlcmxhcHMgPSBmdW5jdGlvbihib3VuZHNBLCBib3VuZHNCKSB7CiAgICAgICAgcmV0dXJuIChib3VuZHNBLm1pbi54IDw9IGJvdW5kc0IubWF4LnggJiYgYm91bmRzQS5tYXgueCA+PSBib3VuZHNCLm1pbi54CiAgICAgICAgICAgICAgICAmJiBib3VuZHNBLm1heC55ID49IGJvdW5kc0IubWluLnkgJiYgYm91bmRzQS5taW4ueSA8PSBib3VuZHNCLm1heC55KTsKICAgIH07CgogICAgLyoqCiAgICAgKiBUcmFuc2xhdGVzIHRoZSBib3VuZHMgYnkgdGhlIGdpdmVuIHZlY3Rvci4KICAgICAqIEBtZXRob2QgdHJhbnNsYXRlCiAgICAgKiBAcGFyYW0ge2JvdW5kc30gYm91bmRzCiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yCiAgICAgKi8KICAgIEJvdW5kcy50cmFuc2xhdGUgPSBmdW5jdGlvbihib3VuZHMsIHZlY3RvcikgewogICAgICAgIGJvdW5kcy5taW4ueCArPSB2ZWN0b3IueDsKICAgICAgICBib3VuZHMubWF4LnggKz0gdmVjdG9yLng7CiAgICAgICAgYm91bmRzLm1pbi55ICs9IHZlY3Rvci55OwogICAgICAgIGJvdW5kcy5tYXgueSArPSB2ZWN0b3IueTsKICAgIH07CgogICAgLyoqCiAgICAgKiBTaGlmdHMgdGhlIGJvdW5kcyB0byB0aGUgZ2l2ZW4gcG9zaXRpb24uCiAgICAgKiBAbWV0aG9kIHNoaWZ0CiAgICAgKiBAcGFyYW0ge2JvdW5kc30gYm91bmRzCiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9zaXRpb24KICAgICAqLwogICAgQm91bmRzLnNoaWZ0ID0gZnVuY3Rpb24oYm91bmRzLCBwb3NpdGlvbikgewogICAgICAgIHZhciBkZWx0YVggPSBib3VuZHMubWF4LnggLSBib3VuZHMubWluLngsCiAgICAgICAgICAgIGRlbHRhWSA9IGJvdW5kcy5tYXgueSAtIGJvdW5kcy5taW4ueTsKICAgICAgICAgICAgCiAgICAgICAgYm91bmRzLm1pbi54ID0gcG9zaXRpb24ueDsKICAgICAgICBib3VuZHMubWF4LnggPSBwb3NpdGlvbi54ICsgZGVsdGFYOwogICAgICAgIGJvdW5kcy5taW4ueSA9IHBvc2l0aW9uLnk7CiAgICAgICAgYm91bmRzLm1heC55ID0gcG9zaXRpb24ueSArIGRlbHRhWTsKICAgIH07CiAgICAKfSkoKTsKCn0se31dLDI3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXsKLyoqCiogVGhlIGBNYXR0ZXIuU3ZnYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY29udmVydGluZyBTVkcgaW1hZ2VzIGludG8gYW4gYXJyYXkgb2YgdmVjdG9yIHBvaW50cy4KKgoqIFRvIHVzZSB0aGlzIG1vZHVsZSB5b3UgYWxzbyBuZWVkIHRoZSBTVkdQYXRoU2VnIHBvbHlmaWxsOiBodHRwczovL2dpdGh1Yi5jb20vcHJvZ2Vycy9wYXRoc2VnCioKKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLgoqCiogQGNsYXNzIFN2ZwoqLwoKdmFyIFN2ZyA9IHt9OwoKbW9kdWxlLmV4cG9ydHMgPSBTdmc7Cgp2YXIgQm91bmRzID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvQm91bmRzJyk7CgooZnVuY3Rpb24oKSB7CgogICAgLyoqCiAgICAgKiBDb252ZXJ0cyBhbiBTVkcgcGF0aCBpbnRvIGFuIGFycmF5IG9mIHZlY3RvciBwb2ludHMuCiAgICAgKiBJZiB0aGUgaW5wdXQgcGF0aCBmb3JtcyBhIGNvbmNhdmUgc2hhcGUsIHlvdSBtdXN0IGRlY29tcG9zZSB0aGUgcmVzdWx0IGludG8gY29udmV4IHBhcnRzIGJlZm9yZSB1c2UuCiAgICAgKiBTZWUgYEJvZGllcy5mcm9tVmVydGljZXNgIHdoaWNoIHByb3ZpZGVzIHN1cHBvcnQgZm9yIHRoaXMuCiAgICAgKiBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBpcyBub3QgZ3VhcmFudGVlZCB0byBzdXBwb3J0IGNvbXBsZXggcGF0aHMgKHN1Y2ggYXMgdGhvc2Ugd2l0aCBob2xlcykuCiAgICAgKiBAbWV0aG9kIHBhdGhUb1ZlcnRpY2VzCiAgICAgKiBAcGFyYW0ge1NWR1BhdGhFbGVtZW50fSBwYXRoCiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NhbXBsZUxlbmd0aD0xNV0KICAgICAqIEByZXR1cm4ge1ZlY3RvcltdfSBwb2ludHMKICAgICAqLwogICAgU3ZnLnBhdGhUb1ZlcnRpY2VzID0gZnVuY3Rpb24ocGF0aCwgc2FtcGxlTGVuZ3RoKSB7CiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3dvdXQvc3ZnLnRvcG9seS5qcy9ibG9iL21hc3Rlci9zdmcudG9wb2x5LmpzCiAgICAgICAgdmFyIGksIGlsLCB0b3RhbCwgcG9pbnQsIHNlZ21lbnQsIHNlZ21lbnRzLCAKICAgICAgICAgICAgc2VnbWVudHNRdWV1ZSwgbGFzdFNlZ21lbnQsIAogICAgICAgICAgICBsYXN0UG9pbnQsIHNlZ21lbnRJbmRleCwgcG9pbnRzID0gW10sCiAgICAgICAgICAgIGx4LCBseSwgbGVuZ3RoID0gMCwgeCA9IDAsIHkgPSAwOwoKICAgICAgICBzYW1wbGVMZW5ndGggPSBzYW1wbGVMZW5ndGggfHwgMTU7CgogICAgICAgIHZhciBhZGRQb2ludCA9IGZ1bmN0aW9uKHB4LCBweSwgcGF0aFNlZ1R5cGUpIHsKICAgICAgICAgICAgLy8gYWxsIG9kZC1udW1iZXJlZCBwYXRoIHR5cGVzIGFyZSByZWxhdGl2ZSBleGNlcHQgUEFUSFNFR19DTE9TRVBBVEggKDEpCiAgICAgICAgICAgIHZhciBpc1JlbGF0aXZlID0gcGF0aFNlZ1R5cGUgJSAyID09PSAxICYmIHBhdGhTZWdUeXBlID4gMTsKCiAgICAgICAgICAgIC8vIHdoZW4gdGhlIGxhc3QgcG9pbnQgZG9lc24ndCBlcXVhbCB0aGUgY3VycmVudCBwb2ludCBhZGQgdGhlIGN1cnJlbnQgcG9pbnQKICAgICAgICAgICAgaWYgKCFsYXN0UG9pbnQgfHwgcHggIT0gbGFzdFBvaW50LnggfHwgcHkgIT0gbGFzdFBvaW50LnkpIHsKICAgICAgICAgICAgICAgIGlmIChsYXN0UG9pbnQgJiYgaXNSZWxhdGl2ZSkgewogICAgICAgICAgICAgICAgICAgIGx4ID0gbGFzdFBvaW50Lng7CiAgICAgICAgICAgICAgICAgICAgbHkgPSBsYXN0UG9pbnQueTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbHggPSAwOwogICAgICAgICAgICAgICAgICAgIGx5ID0gMDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSB7CiAgICAgICAgICAgICAgICAgICAgeDogbHggKyBweCwKICAgICAgICAgICAgICAgICAgICB5OiBseSArIHB5CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIC8vIHNldCBsYXN0IHBvaW50CiAgICAgICAgICAgICAgICBpZiAoaXNSZWxhdGl2ZSB8fCAhbGFzdFBvaW50KSB7CiAgICAgICAgICAgICAgICAgICAgbGFzdFBvaW50ID0gcG9pbnQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcG9pbnRzLnB1c2gocG9pbnQpOwoKICAgICAgICAgICAgICAgIHggPSBseCArIHB4OwogICAgICAgICAgICAgICAgeSA9IGx5ICsgcHk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICB2YXIgYWRkU2VnbWVudFBvaW50ID0gZnVuY3Rpb24oc2VnbWVudCkgewogICAgICAgICAgICB2YXIgc2VnVHlwZSA9IHNlZ21lbnQucGF0aFNlZ1R5cGVBc0xldHRlci50b1VwcGVyQ2FzZSgpOwoKICAgICAgICAgICAgLy8gc2tpcCBwYXRoIGVuZHMKICAgICAgICAgICAgaWYgKHNlZ1R5cGUgPT09ICdaJykgCiAgICAgICAgICAgICAgICByZXR1cm47CgogICAgICAgICAgICAvLyBtYXAgc2VnbWVudCB0byB4IGFuZCB5CiAgICAgICAgICAgIHN3aXRjaCAoc2VnVHlwZSkgewoKICAgICAgICAgICAgY2FzZSAnTSc6CiAgICAgICAgICAgIGNhc2UgJ0wnOgogICAgICAgICAgICBjYXNlICdUJzoKICAgICAgICAgICAgY2FzZSAnQyc6CiAgICAgICAgICAgIGNhc2UgJ1MnOgogICAgICAgICAgICBjYXNlICdRJzoKICAgICAgICAgICAgICAgIHggPSBzZWdtZW50Lng7CiAgICAgICAgICAgICAgICB5ID0gc2VnbWVudC55OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ0gnOgogICAgICAgICAgICAgICAgeCA9IHNlZ21lbnQueDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdWJzoKICAgICAgICAgICAgICAgIHkgPSBzZWdtZW50Lnk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYWRkUG9pbnQoeCwgeSwgc2VnbWVudC5wYXRoU2VnVHlwZSk7CiAgICAgICAgfTsKCiAgICAgICAgLy8gZW5zdXJlIHBhdGggaXMgYWJzb2x1dGUKICAgICAgICBfc3ZnUGF0aFRvQWJzb2x1dGUocGF0aCk7CgogICAgICAgIC8vIGdldCB0b3RhbCBsZW5ndGgKICAgICAgICB0b3RhbCA9IHBhdGguZ2V0VG90YWxMZW5ndGgoKTsKCiAgICAgICAgLy8gcXVldWUgc2VnbWVudHMKICAgICAgICBzZWdtZW50cyA9IFtdOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXRoLnBhdGhTZWdMaXN0Lm51bWJlck9mSXRlbXM7IGkgKz0gMSkKICAgICAgICAgICAgc2VnbWVudHMucHVzaChwYXRoLnBhdGhTZWdMaXN0LmdldEl0ZW0oaSkpOwoKICAgICAgICBzZWdtZW50c1F1ZXVlID0gc2VnbWVudHMuY29uY2F0KCk7CgogICAgICAgIC8vIHNhbXBsZSB0aHJvdWdoIHBhdGgKICAgICAgICB3aGlsZSAobGVuZ3RoIDwgdG90YWwpIHsKICAgICAgICAgICAgLy8gZ2V0IHNlZ21lbnQgYXQgcG9zaXRpb24KICAgICAgICAgICAgc2VnbWVudEluZGV4ID0gcGF0aC5nZXRQYXRoU2VnQXRMZW5ndGgobGVuZ3RoKTsKICAgICAgICAgICAgc2VnbWVudCA9IHNlZ21lbnRzW3NlZ21lbnRJbmRleF07CgogICAgICAgICAgICAvLyBuZXcgc2VnbWVudAogICAgICAgICAgICBpZiAoc2VnbWVudCAhPSBsYXN0U2VnbWVudCkgewogICAgICAgICAgICAgICAgd2hpbGUgKHNlZ21lbnRzUXVldWUubGVuZ3RoICYmIHNlZ21lbnRzUXVldWVbMF0gIT0gc2VnbWVudCkKICAgICAgICAgICAgICAgICAgICBhZGRTZWdtZW50UG9pbnQoc2VnbWVudHNRdWV1ZS5zaGlmdCgpKTsKCiAgICAgICAgICAgICAgICBsYXN0U2VnbWVudCA9IHNlZ21lbnQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGFkZCBwb2ludHMgaW4gYmV0d2VlbiB3aGVuIGN1cnZpbmcKICAgICAgICAgICAgLy8gVE9ETzogYWRhcHRpdmUgc2FtcGxpbmcKICAgICAgICAgICAgc3dpdGNoIChzZWdtZW50LnBhdGhTZWdUeXBlQXNMZXR0ZXIudG9VcHBlckNhc2UoKSkgewoKICAgICAgICAgICAgY2FzZSAnQyc6CiAgICAgICAgICAgIGNhc2UgJ1QnOgogICAgICAgICAgICBjYXNlICdTJzoKICAgICAgICAgICAgY2FzZSAnUSc6CiAgICAgICAgICAgIGNhc2UgJ0EnOgogICAgICAgICAgICAgICAgcG9pbnQgPSBwYXRoLmdldFBvaW50QXRMZW5ndGgobGVuZ3RoKTsKICAgICAgICAgICAgICAgIGFkZFBvaW50KHBvaW50LngsIHBvaW50LnksIDApOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBpbmNyZW1lbnQgYnkgc2FtcGxlIHZhbHVlCiAgICAgICAgICAgIGxlbmd0aCArPSBzYW1wbGVMZW5ndGg7CiAgICAgICAgfQoKICAgICAgICAvLyBhZGQgcmVtYWluaW5nIHNlZ21lbnRzIG5vdCBwYXNzZWQgYnkgc2FtcGxpbmcKICAgICAgICBmb3IgKGkgPSAwLCBpbCA9IHNlZ21lbnRzUXVldWUubGVuZ3RoOyBpIDwgaWw7ICsraSkKICAgICAgICAgICAgYWRkU2VnbWVudFBvaW50KHNlZ21lbnRzUXVldWVbaV0pOwoKICAgICAgICByZXR1cm4gcG9pbnRzOwogICAgfTsKCiAgICB2YXIgX3N2Z1BhdGhUb0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkgewogICAgICAgIC8vIGh0dHA6Ly9waHJvZ3oubmV0L2NvbnZlcnQtc3ZnLXBhdGgtdG8tYWxsLWFic29sdXRlLWNvbW1hbmRzCiAgICAgICAgdmFyIHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHNlZ3MgPSBwYXRoLnBhdGhTZWdMaXN0LAogICAgICAgICAgICB4ID0gMCwgeSA9IDAsIGxlbiA9IHNlZ3MubnVtYmVyT2ZJdGVtczsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkgewogICAgICAgICAgICB2YXIgc2VnID0gc2Vncy5nZXRJdGVtKGkpLAogICAgICAgICAgICAgICAgc2VnVHlwZSA9IHNlZy5wYXRoU2VnVHlwZUFzTGV0dGVyOwoKICAgICAgICAgICAgaWYgKC9bTUxIVkNTUVRBXS8udGVzdChzZWdUeXBlKSkgewogICAgICAgICAgICAgICAgaWYgKCd4JyBpbiBzZWcpIHggPSBzZWcueDsKICAgICAgICAgICAgICAgIGlmICgneScgaW4gc2VnKSB5ID0gc2VnLnk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAoJ3gxJyBpbiBzZWcpIHgxID0geCArIHNlZy54MTsKICAgICAgICAgICAgICAgIGlmICgneDInIGluIHNlZykgeDIgPSB4ICsgc2VnLngyOwogICAgICAgICAgICAgICAgaWYgKCd5MScgaW4gc2VnKSB5MSA9IHkgKyBzZWcueTE7CiAgICAgICAgICAgICAgICBpZiAoJ3kyJyBpbiBzZWcpIHkyID0geSArIHNlZy55MjsKICAgICAgICAgICAgICAgIGlmICgneCcgaW4gc2VnKSB4ICs9IHNlZy54OwogICAgICAgICAgICAgICAgaWYgKCd5JyBpbiBzZWcpIHkgKz0gc2VnLnk7CgogICAgICAgICAgICAgICAgc3dpdGNoIChzZWdUeXBlKSB7CgogICAgICAgICAgICAgICAgY2FzZSAnbSc6CiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdNb3ZldG9BYnMoeCwgeSksIGkpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnbCc6CiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9BYnMoeCwgeSksIGkpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnaCc6CiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsQWJzKHgpLCBpKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ3YnOgogICAgICAgICAgICAgICAgICAgIHNlZ3MucmVwbGFjZUl0ZW0ocGF0aC5jcmVhdGVTVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnMoeSksIGkpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnYyc6CiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMoeCwgeSwgeDEsIHkxLCB4MiwgeTIpLCBpKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ3MnOgogICAgICAgICAgICAgICAgICAgIHNlZ3MucmVwbGFjZUl0ZW0ocGF0aC5jcmVhdGVTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzKHgsIHksIHgyLCB5MiksIGkpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAncSc6CiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzKHgsIHksIHgxLCB5MSksIGkpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAndCc6CiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoQWJzKHgsIHkpLCBpKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ2EnOgogICAgICAgICAgICAgICAgICAgIHNlZ3MucmVwbGFjZUl0ZW0ocGF0aC5jcmVhdGVTVkdQYXRoU2VnQXJjQWJzKHgsIHksIHNlZy5yMSwgc2VnLnIyLCBzZWcuYW5nbGUsIHNlZy5sYXJnZUFyY0ZsYWcsIHNlZy5zd2VlcEZsYWcpLCBpKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ3onOgogICAgICAgICAgICAgICAgY2FzZSAnWic6CiAgICAgICAgICAgICAgICAgICAgeCA9IHgwOwogICAgICAgICAgICAgICAgICAgIHkgPSB5MDsKICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzZWdUeXBlID09ICdNJyB8fCBzZWdUeXBlID09ICdtJykgewogICAgICAgICAgICAgICAgeDAgPSB4OwogICAgICAgICAgICAgICAgeTAgPSB5OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKCn0pKCk7Cn0seyIuLi9nZW9tZXRyeS9Cb3VuZHMiOjI2fV0sMjg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpewovKioKKiBUaGUgYE1hdHRlci5WZWN0b3JgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIHZlY3RvcnMuCiogVmVjdG9ycyBhcmUgdGhlIGJhc2lzIG9mIGFsbCB0aGUgZ2VvbWV0cnkgcmVsYXRlZCBvcGVyYXRpb25zIGluIHRoZSBlbmdpbmUuCiogQSBgTWF0dGVyLlZlY3RvcmAgb2JqZWN0IGlzIG9mIHRoZSBmb3JtIGB7IHg6IDAsIHk6IDAgfWAuCioKKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLgoqCiogQGNsYXNzIFZlY3RvcgoqLwoKLy8gVE9ETzogY29uc2lkZXIgcGFyYW1zIGZvciByZXVzaW5nIHZlY3RvciBvYmplY3RzCgp2YXIgVmVjdG9yID0ge307Cgptb2R1bGUuZXhwb3J0cyA9IFZlY3RvcjsKCihmdW5jdGlvbigpIHsKCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBuZXcgdmVjdG9yLgogICAgICogQG1ldGhvZCBjcmVhdGUKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4CiAgICAgKiBAcGFyYW0ge251bWJlcn0geQogICAgICogQHJldHVybiB7dmVjdG9yfSBBIG5ldyB2ZWN0b3IKICAgICAqLwogICAgVmVjdG9yLmNyZWF0ZSA9IGZ1bmN0aW9uKHgsIHkpIHsKICAgICAgICByZXR1cm4geyB4OiB4IHx8IDAsIHk6IHkgfHwgMCB9OwogICAgfTsKCiAgICAvKioKICAgICAqIFJldHVybnMgYSBuZXcgdmVjdG9yIHdpdGggYHhgIGFuZCBgeWAgY29waWVkIGZyb20gdGhlIGdpdmVuIGB2ZWN0b3JgLgogICAgICogQG1ldGhvZCBjbG9uZQogICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvcgogICAgICogQHJldHVybiB7dmVjdG9yfSBBIG5ldyBjbG9uZWQgdmVjdG9yCiAgICAgKi8KICAgIFZlY3Rvci5jbG9uZSA9IGZ1bmN0aW9uKHZlY3RvcikgewogICAgICAgIHJldHVybiB7IHg6IHZlY3Rvci54LCB5OiB2ZWN0b3IueSB9OwogICAgfTsKCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIG1hZ25pdHVkZSAobGVuZ3RoKSBvZiBhIHZlY3Rvci4KICAgICAqIEBtZXRob2QgbWFnbml0dWRlCiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yCiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtYWduaXR1ZGUgb2YgdGhlIHZlY3RvcgogICAgICovCiAgICBWZWN0b3IubWFnbml0dWRlID0gZnVuY3Rpb24odmVjdG9yKSB7CiAgICAgICAgcmV0dXJuIE1hdGguc3FydCgodmVjdG9yLnggKiB2ZWN0b3IueCkgKyAodmVjdG9yLnkgKiB2ZWN0b3IueSkpOwogICAgfTsKCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIG1hZ25pdHVkZSAobGVuZ3RoKSBvZiBhIHZlY3RvciAodGhlcmVmb3JlIHNhdmluZyBhIGBzcXJ0YCBvcGVyYXRpb24pLgogICAgICogQG1ldGhvZCBtYWduaXR1ZGVTcXVhcmVkCiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yCiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBzcXVhcmVkIG1hZ25pdHVkZSBvZiB0aGUgdmVjdG9yCiAgICAgKi8KICAgIFZlY3Rvci5tYWduaXR1ZGVTcXVhcmVkID0gZnVuY3Rpb24odmVjdG9yKSB7CiAgICAgICAgcmV0dXJuICh2ZWN0b3IueCAqIHZlY3Rvci54KSArICh2ZWN0b3IueSAqIHZlY3Rvci55KTsKICAgIH07CgogICAgLyoqCiAgICAgKiBSb3RhdGVzIHRoZSB2ZWN0b3IgYWJvdXQgKDAsIDApIGJ5IHNwZWNpZmllZCBhbmdsZS4KICAgICAqIEBtZXRob2Qgcm90YXRlCiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yCiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGUKICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gQSBuZXcgdmVjdG9yIHJvdGF0ZWQgYWJvdXQgKDAsIDApCiAgICAgKi8KICAgIFZlY3Rvci5yb3RhdGUgPSBmdW5jdGlvbih2ZWN0b3IsIGFuZ2xlKSB7CiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSwgc2luID0gTWF0aC5zaW4oYW5nbGUpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHg6IHZlY3Rvci54ICogY29zIC0gdmVjdG9yLnkgKiBzaW4sCiAgICAgICAgICAgIHk6IHZlY3Rvci54ICogc2luICsgdmVjdG9yLnkgKiBjb3MKICAgICAgICB9OwogICAgfTsKCiAgICAvKioKICAgICAqIFJvdGF0ZXMgdGhlIHZlY3RvciBhYm91dCBhIHNwZWNpZmllZCBwb2ludCBieSBzcGVjaWZpZWQgYW5nbGUuCiAgICAgKiBAbWV0aG9kIHJvdGF0ZUFib3V0CiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yCiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGUKICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb2ludAogICAgICogQHBhcmFtIHt2ZWN0b3J9IFtvdXRwdXRdCiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IEEgbmV3IHZlY3RvciByb3RhdGVkIGFib3V0IHRoZSBwb2ludAogICAgICovCiAgICBWZWN0b3Iucm90YXRlQWJvdXQgPSBmdW5jdGlvbih2ZWN0b3IsIGFuZ2xlLCBwb2ludCwgb3V0cHV0KSB7CiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSwgc2luID0gTWF0aC5zaW4oYW5nbGUpOwogICAgICAgIGlmICghb3V0cHV0KSBvdXRwdXQgPSB7fTsKICAgICAgICB2YXIgeCA9IHBvaW50LnggKyAoKHZlY3Rvci54IC0gcG9pbnQueCkgKiBjb3MgLSAodmVjdG9yLnkgLSBwb2ludC55KSAqIHNpbik7CiAgICAgICAgb3V0cHV0LnkgPSBwb2ludC55ICsgKCh2ZWN0b3IueCAtIHBvaW50LngpICogc2luICsgKHZlY3Rvci55IC0gcG9pbnQueSkgKiBjb3MpOwogICAgICAgIG91dHB1dC54ID0geDsKICAgICAgICByZXR1cm4gb3V0cHV0OwogICAgfTsKCiAgICAvKioKICAgICAqIE5vcm1hbGlzZXMgYSB2ZWN0b3IgKHN1Y2ggdGhhdCBpdHMgbWFnbml0dWRlIGlzIGAxYCkuCiAgICAgKiBAbWV0aG9kIG5vcm1hbGlzZQogICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvcgogICAgICogQHJldHVybiB7dmVjdG9yfSBBIG5ldyB2ZWN0b3Igbm9ybWFsaXNlZAogICAgICovCiAgICBWZWN0b3Iubm9ybWFsaXNlID0gZnVuY3Rpb24odmVjdG9yKSB7CiAgICAgICAgdmFyIG1hZ25pdHVkZSA9IFZlY3Rvci5tYWduaXR1ZGUodmVjdG9yKTsKICAgICAgICBpZiAobWFnbml0dWRlID09PSAwKQogICAgICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwIH07CiAgICAgICAgcmV0dXJuIHsgeDogdmVjdG9yLnggLyBtYWduaXR1ZGUsIHk6IHZlY3Rvci55IC8gbWFnbml0dWRlIH07CiAgICB9OwoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgZG90LXByb2R1Y3Qgb2YgdHdvIHZlY3RvcnMuCiAgICAgKiBAbWV0aG9kIGRvdAogICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckEKICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JCCiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBkb3QgcHJvZHVjdCBvZiB0aGUgdHdvIHZlY3RvcnMKICAgICAqLwogICAgVmVjdG9yLmRvdCA9IGZ1bmN0aW9uKHZlY3RvckEsIHZlY3RvckIpIHsKICAgICAgICByZXR1cm4gKHZlY3RvckEueCAqIHZlY3RvckIueCkgKyAodmVjdG9yQS55ICogdmVjdG9yQi55KTsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBjcm9zcy1wcm9kdWN0IG9mIHR3byB2ZWN0b3JzLgogICAgICogQG1ldGhvZCBjcm9zcwogICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckEKICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JCCiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBjcm9zcyBwcm9kdWN0IG9mIHRoZSB0d28gdmVjdG9ycwogICAgICovCiAgICBWZWN0b3IuY3Jvc3MgPSBmdW5jdGlvbih2ZWN0b3JBLCB2ZWN0b3JCKSB7CiAgICAgICAgcmV0dXJuICh2ZWN0b3JBLnggKiB2ZWN0b3JCLnkpIC0gKHZlY3RvckEueSAqIHZlY3RvckIueCk7CiAgICB9OwoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgY3Jvc3MtcHJvZHVjdCBvZiB0aHJlZSB2ZWN0b3JzLgogICAgICogQG1ldGhvZCBjcm9zczMKICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JBCiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQgogICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckMKICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGNyb3NzIHByb2R1Y3Qgb2YgdGhlIHRocmVlIHZlY3RvcnMKICAgICAqLwogICAgVmVjdG9yLmNyb3NzMyA9IGZ1bmN0aW9uKHZlY3RvckEsIHZlY3RvckIsIHZlY3RvckMpIHsKICAgICAgICByZXR1cm4gKHZlY3RvckIueCAtIHZlY3RvckEueCkgKiAodmVjdG9yQy55IC0gdmVjdG9yQS55KSAtICh2ZWN0b3JCLnkgLSB2ZWN0b3JBLnkpICogKHZlY3RvckMueCAtIHZlY3RvckEueCk7CiAgICB9OwoKICAgIC8qKgogICAgICogQWRkcyB0aGUgdHdvIHZlY3RvcnMuCiAgICAgKiBAbWV0aG9kIGFkZAogICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckEKICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JCCiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gW291dHB1dF0KICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gQSBuZXcgdmVjdG9yIG9mIHZlY3RvckEgYW5kIHZlY3RvckIgYWRkZWQKICAgICAqLwogICAgVmVjdG9yLmFkZCA9IGZ1bmN0aW9uKHZlY3RvckEsIHZlY3RvckIsIG91dHB1dCkgewogICAgICAgIGlmICghb3V0cHV0KSBvdXRwdXQgPSB7fTsKICAgICAgICBvdXRwdXQueCA9IHZlY3RvckEueCArIHZlY3RvckIueDsKICAgICAgICBvdXRwdXQueSA9IHZlY3RvckEueSArIHZlY3RvckIueTsKICAgICAgICByZXR1cm4gb3V0cHV0OwogICAgfTsKCiAgICAvKioKICAgICAqIFN1YnRyYWN0cyB0aGUgdHdvIHZlY3RvcnMuCiAgICAgKiBAbWV0aG9kIHN1YgogICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckEKICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JCCiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gW291dHB1dF0KICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gQSBuZXcgdmVjdG9yIG9mIHZlY3RvckEgYW5kIHZlY3RvckIgc3VidHJhY3RlZAogICAgICovCiAgICBWZWN0b3Iuc3ViID0gZnVuY3Rpb24odmVjdG9yQSwgdmVjdG9yQiwgb3V0cHV0KSB7CiAgICAgICAgaWYgKCFvdXRwdXQpIG91dHB1dCA9IHt9OwogICAgICAgIG91dHB1dC54ID0gdmVjdG9yQS54IC0gdmVjdG9yQi54OwogICAgICAgIG91dHB1dC55ID0gdmVjdG9yQS55IC0gdmVjdG9yQi55OwogICAgICAgIHJldHVybiBvdXRwdXQ7CiAgICB9OwoKICAgIC8qKgogICAgICogTXVsdGlwbGllcyBhIHZlY3RvciBhbmQgYSBzY2FsYXIuCiAgICAgKiBAbWV0aG9kIG11bHQKICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3IKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsYXIKICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gQSBuZXcgdmVjdG9yIG11bHRpcGxpZWQgYnkgc2NhbGFyCiAgICAgKi8KICAgIFZlY3Rvci5tdWx0ID0gZnVuY3Rpb24odmVjdG9yLCBzY2FsYXIpIHsKICAgICAgICByZXR1cm4geyB4OiB2ZWN0b3IueCAqIHNjYWxhciwgeTogdmVjdG9yLnkgKiBzY2FsYXIgfTsKICAgIH07CgogICAgLyoqCiAgICAgKiBEaXZpZGVzIGEgdmVjdG9yIGFuZCBhIHNjYWxhci4KICAgICAqIEBtZXRob2QgZGl2CiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yCiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGFyCiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IEEgbmV3IHZlY3RvciBkaXZpZGVkIGJ5IHNjYWxhcgogICAgICovCiAgICBWZWN0b3IuZGl2ID0gZnVuY3Rpb24odmVjdG9yLCBzY2FsYXIpIHsKICAgICAgICByZXR1cm4geyB4OiB2ZWN0b3IueCAvIHNjYWxhciwgeTogdmVjdG9yLnkgLyBzY2FsYXIgfTsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBwZXJwZW5kaWN1bGFyIHZlY3Rvci4gU2V0IGBuZWdhdGVgIHRvIHRydWUgZm9yIHRoZSBwZXJwZW5kaWN1bGFyIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24uCiAgICAgKiBAbWV0aG9kIHBlcnAKICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3IKICAgICAqIEBwYXJhbSB7Ym9vbH0gW25lZ2F0ZT1mYWxzZV0KICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gVGhlIHBlcnBlbmRpY3VsYXIgdmVjdG9yCiAgICAgKi8KICAgIFZlY3Rvci5wZXJwID0gZnVuY3Rpb24odmVjdG9yLCBuZWdhdGUpIHsKICAgICAgICBuZWdhdGUgPSBuZWdhdGUgPT09IHRydWUgPyAtMSA6IDE7CiAgICAgICAgcmV0dXJuIHsgeDogbmVnYXRlICogLXZlY3Rvci55LCB5OiBuZWdhdGUgKiB2ZWN0b3IueCB9OwogICAgfTsKCiAgICAvKioKICAgICAqIE5lZ2F0ZXMgYm90aCBjb21wb25lbnRzIG9mIGEgdmVjdG9yIHN1Y2ggdGhhdCBpdCBwb2ludHMgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi4KICAgICAqIEBtZXRob2QgbmVnCiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yCiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IFRoZSBuZWdhdGVkIHZlY3RvcgogICAgICovCiAgICBWZWN0b3IubmVnID0gZnVuY3Rpb24odmVjdG9yKSB7CiAgICAgICAgcmV0dXJuIHsgeDogLXZlY3Rvci54LCB5OiAtdmVjdG9yLnkgfTsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBhbmdsZSBpbiByYWRpYW5zIGJldHdlZW4gdGhlIHR3byB2ZWN0b3JzIHJlbGF0aXZlIHRvIHRoZSB4LWF4aXMuCiAgICAgKiBAbWV0aG9kIGFuZ2xlCiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQQogICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckIKICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnMKICAgICAqLwogICAgVmVjdG9yLmFuZ2xlID0gZnVuY3Rpb24odmVjdG9yQSwgdmVjdG9yQikgewogICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHZlY3RvckIueSAtIHZlY3RvckEueSwgdmVjdG9yQi54IC0gdmVjdG9yQS54KTsKICAgIH07CgogICAgLyoqCiAgICAgKiBUZW1wb3JhcnkgdmVjdG9yIHBvb2wgKG5vdCB0aHJlYWQtc2FmZSkuCiAgICAgKiBAcHJvcGVydHkgX3RlbXAKICAgICAqIEB0eXBlIHt2ZWN0b3JbXX0KICAgICAqIEBwcml2YXRlCiAgICAgKi8KICAgIFZlY3Rvci5fdGVtcCA9IFtWZWN0b3IuY3JlYXRlKCksIFZlY3Rvci5jcmVhdGUoKSwgCiAgICAgICAgICAgICAgICAgICAgVmVjdG9yLmNyZWF0ZSgpLCBWZWN0b3IuY3JlYXRlKCksIAogICAgICAgICAgICAgICAgICAgIFZlY3Rvci5jcmVhdGUoKSwgVmVjdG9yLmNyZWF0ZSgpXTsKCn0pKCk7Cn0se31dLDI5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXsKLyoqCiogVGhlIGBNYXR0ZXIuVmVydGljZXNgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIHNldHMgb2YgdmVydGljZXMuCiogQSBzZXQgb2YgdmVydGljZXMgaXMgYW4gYXJyYXkgb2YgYE1hdHRlci5WZWN0b3JgIHdpdGggYWRkaXRpb25hbCBpbmRleGluZyBwcm9wZXJ0aWVzIGluc2VydGVkIGJ5IGBWZXJ0aWNlcy5jcmVhdGVgLgoqIEEgYE1hdHRlci5Cb2R5YCBtYWludGFpbnMgYSBzZXQgb2YgdmVydGljZXMgdG8gcmVwcmVzZW50IHRoZSBzaGFwZSBvZiB0aGUgb2JqZWN0IChpdHMgY29udmV4IGh1bGwpLgoqCiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS4KKgoqIEBjbGFzcyBWZXJ0aWNlcwoqLwoKdmFyIFZlcnRpY2VzID0ge307Cgptb2R1bGUuZXhwb3J0cyA9IFZlcnRpY2VzOwoKdmFyIFZlY3RvciA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L1ZlY3RvcicpOwp2YXIgQ29tbW9uID0gX2RlcmVxXygnLi4vY29yZS9Db21tb24nKTsKCihmdW5jdGlvbigpIHsKCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBuZXcgc2V0IG9mIGBNYXR0ZXIuQm9keWAgY29tcGF0aWJsZSB2ZXJ0aWNlcy4KICAgICAqIFRoZSBgcG9pbnRzYCBhcmd1bWVudCBhY2NlcHRzIGFuIGFycmF5IG9mIGBNYXR0ZXIuVmVjdG9yYCBwb2ludHMgb3JpZW50YXRlZCBhcm91bmQgdGhlIG9yaWdpbiBgKDAsIDApYCwgZm9yIGV4YW1wbGU6CiAgICAgKgogICAgICogICAgIFt7IHg6IDAsIHk6IDAgfSwgeyB4OiAyNSwgeTogNTAgfSwgeyB4OiA1MCwgeTogMCB9XQogICAgICoKICAgICAqIFRoZSBgVmVydGljZXMuY3JlYXRlYCBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheSBvZiB2ZXJ0aWNlcywgd2hpY2ggYXJlIHNpbWlsYXIgdG8gTWF0dGVyLlZlY3RvciBvYmplY3RzLAogICAgICogYnV0IHdpdGggc29tZSBhZGRpdGlvbmFsIHJlZmVyZW5jZXMgcmVxdWlyZWQgZm9yIGVmZmljaWVudCBjb2xsaXNpb24gZGV0ZWN0aW9uIHJvdXRpbmVzLgogICAgICoKICAgICAqIFZlcnRpY2VzIG11c3QgYmUgc3BlY2lmaWVkIGluIGNsb2Nrd2lzZSBvcmRlci4KICAgICAqCiAgICAgKiBOb3RlIHRoYXQgdGhlIGBib2R5YCBhcmd1bWVudCBpcyBub3Qgb3B0aW9uYWwsIGEgYE1hdHRlci5Cb2R5YCByZWZlcmVuY2UgbXVzdCBiZSBwcm92aWRlZC4KICAgICAqCiAgICAgKiBAbWV0aG9kIGNyZWF0ZQogICAgICogQHBhcmFtIHt2ZWN0b3JbXX0gcG9pbnRzCiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHkKICAgICAqLwogICAgVmVydGljZXMuY3JlYXRlID0gZnVuY3Rpb24ocG9pbnRzLCBib2R5KSB7CiAgICAgICAgdmFyIHZlcnRpY2VzID0gW107CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBwb2ludCA9IHBvaW50c1tpXSwKICAgICAgICAgICAgICAgIHZlcnRleCA9IHsKICAgICAgICAgICAgICAgICAgICB4OiBwb2ludC54LAogICAgICAgICAgICAgICAgICAgIHk6IHBvaW50LnksCiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGksCiAgICAgICAgICAgICAgICAgICAgYm9keTogYm9keSwKICAgICAgICAgICAgICAgICAgICBpc0ludGVybmFsOiBmYWxzZQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHZlcnRpY2VzLnB1c2godmVydGV4KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB2ZXJ0aWNlczsKICAgIH07CgogICAgLyoqCiAgICAgKiBQYXJzZXMgYSBzdHJpbmcgY29udGFpbmluZyBvcmRlcmVkIHggeSBwYWlycyBzZXBhcmF0ZWQgYnkgc3BhY2VzIChhbmQgb3B0aW9uYWxseSBjb21tYXMpLCAKICAgICAqIGludG8gYSBgTWF0dGVyLlZlcnRpY2VzYCBvYmplY3QgZm9yIHRoZSBnaXZlbiBgTWF0dGVyLkJvZHlgLgogICAgICogRm9yIHBhcnNpbmcgU1ZHIHBhdGhzLCBzZWUgYFN2Zy5wYXRoVG9WZXJ0aWNlc2AuCiAgICAgKiBAbWV0aG9kIGZyb21QYXRoCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aAogICAgICogQHBhcmFtIHtib2R5fSBib2R5CiAgICAgKiBAcmV0dXJuIHt2ZXJ0aWNlc30gdmVydGljZXMKICAgICAqLwogICAgVmVydGljZXMuZnJvbVBhdGggPSBmdW5jdGlvbihwYXRoLCBib2R5KSB7CiAgICAgICAgdmFyIHBhdGhQYXR0ZXJuID0gL0w/XHMqKFtcLVxkXC5lXSspW1xzLF0qKFtcLVxkXC5lXSspKi9pZywKICAgICAgICAgICAgcG9pbnRzID0gW107CgogICAgICAgIHBhdGgucmVwbGFjZShwYXRoUGF0dGVybiwgZnVuY3Rpb24obWF0Y2gsIHgsIHkpIHsKICAgICAgICAgICAgcG9pbnRzLnB1c2goeyB4OiBwYXJzZUZsb2F0KHgpLCB5OiBwYXJzZUZsb2F0KHkpIH0pOwogICAgICAgIH0pOwoKICAgICAgICByZXR1cm4gVmVydGljZXMuY3JlYXRlKHBvaW50cywgYm9keSk7CiAgICB9OwoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgY2VudHJlIChjZW50cm9pZCkgb2YgdGhlIHNldCBvZiB2ZXJ0aWNlcy4KICAgICAqIEBtZXRob2QgY2VudHJlCiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlcwogICAgICogQHJldHVybiB7dmVjdG9yfSBUaGUgY2VudHJlIHBvaW50CiAgICAgKi8KICAgIFZlcnRpY2VzLmNlbnRyZSA9IGZ1bmN0aW9uKHZlcnRpY2VzKSB7CiAgICAgICAgdmFyIGFyZWEgPSBWZXJ0aWNlcy5hcmVhKHZlcnRpY2VzLCB0cnVlKSwKICAgICAgICAgICAgY2VudHJlID0geyB4OiAwLCB5OiAwIH0sCiAgICAgICAgICAgIGNyb3NzLAogICAgICAgICAgICB0ZW1wLAogICAgICAgICAgICBqOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGogPSAoaSArIDEpICUgdmVydGljZXMubGVuZ3RoOwogICAgICAgICAgICBjcm9zcyA9IFZlY3Rvci5jcm9zcyh2ZXJ0aWNlc1tpXSwgdmVydGljZXNbal0pOwogICAgICAgICAgICB0ZW1wID0gVmVjdG9yLm11bHQoVmVjdG9yLmFkZCh2ZXJ0aWNlc1tpXSwgdmVydGljZXNbal0pLCBjcm9zcyk7CiAgICAgICAgICAgIGNlbnRyZSA9IFZlY3Rvci5hZGQoY2VudHJlLCB0ZW1wKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBWZWN0b3IuZGl2KGNlbnRyZSwgNiAqIGFyZWEpOwogICAgfTsKCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGF2ZXJhZ2UgKG1lYW4pIG9mIHRoZSBzZXQgb2YgdmVydGljZXMuCiAgICAgKiBAbWV0aG9kIG1lYW4KICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzCiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IFRoZSBhdmVyYWdlIHBvaW50CiAgICAgKi8KICAgIFZlcnRpY2VzLm1lYW4gPSBmdW5jdGlvbih2ZXJ0aWNlcykgewogICAgICAgIHZhciBhdmVyYWdlID0geyB4OiAwLCB5OiAwIH07CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgYXZlcmFnZS54ICs9IHZlcnRpY2VzW2ldLng7CiAgICAgICAgICAgIGF2ZXJhZ2UueSArPSB2ZXJ0aWNlc1tpXS55OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIFZlY3Rvci5kaXYoYXZlcmFnZSwgdmVydGljZXMubGVuZ3RoKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBhcmVhIG9mIHRoZSBzZXQgb2YgdmVydGljZXMuCiAgICAgKiBAbWV0aG9kIGFyZWEKICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzCiAgICAgKiBAcGFyYW0ge2Jvb2x9IHNpZ25lZAogICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgYXJlYQogICAgICovCiAgICBWZXJ0aWNlcy5hcmVhID0gZnVuY3Rpb24odmVydGljZXMsIHNpZ25lZCkgewogICAgICAgIHZhciBhcmVhID0gMCwKICAgICAgICAgICAgaiA9IHZlcnRpY2VzLmxlbmd0aCAtIDE7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgYXJlYSArPSAodmVydGljZXNbal0ueCAtIHZlcnRpY2VzW2ldLngpICogKHZlcnRpY2VzW2pdLnkgKyB2ZXJ0aWNlc1tpXS55KTsKICAgICAgICAgICAgaiA9IGk7CiAgICAgICAgfQoKICAgICAgICBpZiAoc2lnbmVkKQogICAgICAgICAgICByZXR1cm4gYXJlYSAvIDI7CgogICAgICAgIHJldHVybiBNYXRoLmFicyhhcmVhKSAvIDI7CiAgICB9OwoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgbW9tZW50IG9mIGluZXJ0aWEgKHNlY29uZCBtb21lbnQgb2YgYXJlYSkgb2YgdGhlIHNldCBvZiB2ZXJ0aWNlcyBnaXZlbiB0aGUgdG90YWwgbWFzcy4KICAgICAqIEBtZXRob2QgaW5lcnRpYQogICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXMKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXNzCiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBwb2x5Z29uJ3MgbW9tZW50IG9mIGluZXJ0aWEKICAgICAqLwogICAgVmVydGljZXMuaW5lcnRpYSA9IGZ1bmN0aW9uKHZlcnRpY2VzLCBtYXNzKSB7CiAgICAgICAgdmFyIG51bWVyYXRvciA9IDAsCiAgICAgICAgICAgIGRlbm9taW5hdG9yID0gMCwKICAgICAgICAgICAgdiA9IHZlcnRpY2VzLAogICAgICAgICAgICBjcm9zcywKICAgICAgICAgICAgajsKCiAgICAgICAgLy8gZmluZCB0aGUgcG9seWdvbidzIG1vbWVudCBvZiBpbmVydGlhLCB1c2luZyBzZWNvbmQgbW9tZW50IG9mIGFyZWEKICAgICAgICAvLyBodHRwOi8vd3d3LnBoeXNpY3Nmb3J1bXMuY29tL3Nob3d0aHJlYWQucGhwP3Q9MjUyOTMKICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHYubGVuZ3RoOyBuKyspIHsKICAgICAgICAgICAgaiA9IChuICsgMSkgJSB2Lmxlbmd0aDsKICAgICAgICAgICAgY3Jvc3MgPSBNYXRoLmFicyhWZWN0b3IuY3Jvc3ModltqXSwgdltuXSkpOwogICAgICAgICAgICBudW1lcmF0b3IgKz0gY3Jvc3MgKiAoVmVjdG9yLmRvdCh2W2pdLCB2W2pdKSArIFZlY3Rvci5kb3QodltqXSwgdltuXSkgKyBWZWN0b3IuZG90KHZbbl0sIHZbbl0pKTsKICAgICAgICAgICAgZGVub21pbmF0b3IgKz0gY3Jvc3M7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKG1hc3MgLyA2KSAqIChudW1lcmF0b3IgLyBkZW5vbWluYXRvcik7CiAgICB9OwoKICAgIC8qKgogICAgICogVHJhbnNsYXRlcyB0aGUgc2V0IG9mIHZlcnRpY2VzIGluLXBsYWNlLgogICAgICogQG1ldGhvZCB0cmFuc2xhdGUKICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzCiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yCiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGFyCiAgICAgKi8KICAgIFZlcnRpY2VzLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uKHZlcnRpY2VzLCB2ZWN0b3IsIHNjYWxhcikgewogICAgICAgIHZhciBpOwogICAgICAgIGlmIChzY2FsYXIpIHsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB2ZXJ0aWNlc1tpXS54ICs9IHZlY3Rvci54ICogc2NhbGFyOwogICAgICAgICAgICAgICAgdmVydGljZXNbaV0ueSArPSB2ZWN0b3IueSAqIHNjYWxhcjsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgdmVydGljZXNbaV0ueCArPSB2ZWN0b3IueDsKICAgICAgICAgICAgICAgIHZlcnRpY2VzW2ldLnkgKz0gdmVjdG9yLnk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB2ZXJ0aWNlczsKICAgIH07CgogICAgLyoqCiAgICAgKiBSb3RhdGVzIHRoZSBzZXQgb2YgdmVydGljZXMgaW4tcGxhY2UuCiAgICAgKiBAbWV0aG9kIHJvdGF0ZQogICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXMKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZQogICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvaW50CiAgICAgKi8KICAgIFZlcnRpY2VzLnJvdGF0ZSA9IGZ1bmN0aW9uKHZlcnRpY2VzLCBhbmdsZSwgcG9pbnQpIHsKICAgICAgICBpZiAoYW5nbGUgPT09IDApCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSwKICAgICAgICAgICAgc2luID0gTWF0aC5zaW4oYW5nbGUpOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciB2ZXJ0aWNlID0gdmVydGljZXNbaV0sCiAgICAgICAgICAgICAgICBkeCA9IHZlcnRpY2UueCAtIHBvaW50LngsCiAgICAgICAgICAgICAgICBkeSA9IHZlcnRpY2UueSAtIHBvaW50Lnk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgdmVydGljZS54ID0gcG9pbnQueCArIChkeCAqIGNvcyAtIGR5ICogc2luKTsKICAgICAgICAgICAgdmVydGljZS55ID0gcG9pbnQueSArIChkeCAqIHNpbiArIGR5ICogY29zKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB2ZXJ0aWNlczsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHBvaW50YCBpcyBpbnNpZGUgdGhlIHNldCBvZiBgdmVydGljZXNgLgogICAgICogQG1ldGhvZCBjb250YWlucwogICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXMKICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb2ludAogICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVydGljZXMgY29udGFpbnMgcG9pbnQsIG90aGVyd2lzZSBmYWxzZQogICAgICovCiAgICBWZXJ0aWNlcy5jb250YWlucyA9IGZ1bmN0aW9uKHZlcnRpY2VzLCBwb2ludCkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIHZlcnRpY2UgPSB2ZXJ0aWNlc1tpXSwKICAgICAgICAgICAgICAgIG5leHRWZXJ0aWNlID0gdmVydGljZXNbKGkgKyAxKSAlIHZlcnRpY2VzLmxlbmd0aF07CiAgICAgICAgICAgIGlmICgocG9pbnQueCAtIHZlcnRpY2UueCkgKiAobmV4dFZlcnRpY2UueSAtIHZlcnRpY2UueSkgKyAocG9pbnQueSAtIHZlcnRpY2UueSkgKiAodmVydGljZS54IC0gbmV4dFZlcnRpY2UueCkgPiAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfTsKCiAgICAvKioKICAgICAqIFNjYWxlcyB0aGUgdmVydGljZXMgZnJvbSBhIHBvaW50IChkZWZhdWx0IGlzIGNlbnRyZSkgaW4tcGxhY2UuCiAgICAgKiBAbWV0aG9kIHNjYWxlCiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlcwogICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWAogICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWQogICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvaW50CiAgICAgKi8KICAgIFZlcnRpY2VzLnNjYWxlID0gZnVuY3Rpb24odmVydGljZXMsIHNjYWxlWCwgc2NhbGVZLCBwb2ludCkgewogICAgICAgIGlmIChzY2FsZVggPT09IDEgJiYgc2NhbGVZID09PSAxKQogICAgICAgICAgICByZXR1cm4gdmVydGljZXM7CgogICAgICAgIHBvaW50ID0gcG9pbnQgfHwgVmVydGljZXMuY2VudHJlKHZlcnRpY2VzKTsKCiAgICAgICAgdmFyIHZlcnRleCwKICAgICAgICAgICAgZGVsdGE7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmVydGV4ID0gdmVydGljZXNbaV07CiAgICAgICAgICAgIGRlbHRhID0gVmVjdG9yLnN1Yih2ZXJ0ZXgsIHBvaW50KTsKICAgICAgICAgICAgdmVydGljZXNbaV0ueCA9IHBvaW50LnggKyBkZWx0YS54ICogc2NhbGVYOwogICAgICAgICAgICB2ZXJ0aWNlc1tpXS55ID0gcG9pbnQueSArIGRlbHRhLnkgKiBzY2FsZVk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdmVydGljZXM7CiAgICB9OwoKICAgIC8qKgogICAgICogQ2hhbWZlcnMgYSBzZXQgb2YgdmVydGljZXMgYnkgZ2l2aW5nIHRoZW0gcm91bmRlZCBjb3JuZXJzLCByZXR1cm5zIGEgbmV3IHNldCBvZiB2ZXJ0aWNlcy4KICAgICAqIFRoZSByYWRpdXMgcGFyYW1ldGVyIGlzIGEgc2luZ2xlIG51bWJlciBvciBhbiBhcnJheSB0byBzcGVjaWZ5IHRoZSByYWRpdXMgZm9yIGVhY2ggdmVydGV4LgogICAgICogQG1ldGhvZCBjaGFtZmVyCiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlcwogICAgICogQHBhcmFtIHtudW1iZXJbXX0gcmFkaXVzCiAgICAgKiBAcGFyYW0ge251bWJlcn0gcXVhbGl0eQogICAgICogQHBhcmFtIHtudW1iZXJ9IHF1YWxpdHlNaW4KICAgICAqIEBwYXJhbSB7bnVtYmVyfSBxdWFsaXR5TWF4CiAgICAgKi8KICAgIFZlcnRpY2VzLmNoYW1mZXIgPSBmdW5jdGlvbih2ZXJ0aWNlcywgcmFkaXVzLCBxdWFsaXR5LCBxdWFsaXR5TWluLCBxdWFsaXR5TWF4KSB7CiAgICAgICAgcmFkaXVzID0gcmFkaXVzIHx8IFs4XTsKCiAgICAgICAgaWYgKCFyYWRpdXMubGVuZ3RoKQogICAgICAgICAgICByYWRpdXMgPSBbcmFkaXVzXTsKCiAgICAgICAgLy8gcXVhbGl0eSBkZWZhdWx0cyB0byAtMSwgd2hpY2ggaXMgYXV0bwogICAgICAgIHF1YWxpdHkgPSAodHlwZW9mIHF1YWxpdHkgIT09ICd1bmRlZmluZWQnKSA/IHF1YWxpdHkgOiAtMTsKICAgICAgICBxdWFsaXR5TWluID0gcXVhbGl0eU1pbiB8fCAyOwogICAgICAgIHF1YWxpdHlNYXggPSBxdWFsaXR5TWF4IHx8IDE0OwoKICAgICAgICB2YXIgbmV3VmVydGljZXMgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgcHJldlZlcnRleCA9IHZlcnRpY2VzW2kgLSAxID49IDAgPyBpIC0gMSA6IHZlcnRpY2VzLmxlbmd0aCAtIDFdLAogICAgICAgICAgICAgICAgdmVydGV4ID0gdmVydGljZXNbaV0sCiAgICAgICAgICAgICAgICBuZXh0VmVydGV4ID0gdmVydGljZXNbKGkgKyAxKSAlIHZlcnRpY2VzLmxlbmd0aF0sCiAgICAgICAgICAgICAgICBjdXJyZW50UmFkaXVzID0gcmFkaXVzW2kgPCByYWRpdXMubGVuZ3RoID8gaSA6IHJhZGl1cy5sZW5ndGggLSAxXTsKCiAgICAgICAgICAgIGlmIChjdXJyZW50UmFkaXVzID09PSAwKSB7CiAgICAgICAgICAgICAgICBuZXdWZXJ0aWNlcy5wdXNoKHZlcnRleCk7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHByZXZOb3JtYWwgPSBWZWN0b3Iubm9ybWFsaXNlKHsgCiAgICAgICAgICAgICAgICB4OiB2ZXJ0ZXgueSAtIHByZXZWZXJ0ZXgueSwgCiAgICAgICAgICAgICAgICB5OiBwcmV2VmVydGV4LnggLSB2ZXJ0ZXgueAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHZhciBuZXh0Tm9ybWFsID0gVmVjdG9yLm5vcm1hbGlzZSh7IAogICAgICAgICAgICAgICAgeDogbmV4dFZlcnRleC55IC0gdmVydGV4LnksIAogICAgICAgICAgICAgICAgeTogdmVydGV4LnggLSBuZXh0VmVydGV4LngKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB2YXIgZGlhZ29uYWxSYWRpdXMgPSBNYXRoLnNxcnQoMiAqIE1hdGgucG93KGN1cnJlbnRSYWRpdXMsIDIpKSwKICAgICAgICAgICAgICAgIHJhZGl1c1ZlY3RvciA9IFZlY3Rvci5tdWx0KENvbW1vbi5jbG9uZShwcmV2Tm9ybWFsKSwgY3VycmVudFJhZGl1cyksCiAgICAgICAgICAgICAgICBtaWROb3JtYWwgPSBWZWN0b3Iubm9ybWFsaXNlKFZlY3Rvci5tdWx0KFZlY3Rvci5hZGQocHJldk5vcm1hbCwgbmV4dE5vcm1hbCksIDAuNSkpLAogICAgICAgICAgICAgICAgc2NhbGVkVmVydGV4ID0gVmVjdG9yLnN1Yih2ZXJ0ZXgsIFZlY3Rvci5tdWx0KG1pZE5vcm1hbCwgZGlhZ29uYWxSYWRpdXMpKTsKCiAgICAgICAgICAgIHZhciBwcmVjaXNpb24gPSBxdWFsaXR5OwoKICAgICAgICAgICAgaWYgKHF1YWxpdHkgPT09IC0xKSB7CiAgICAgICAgICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IGRlY2lkZSBwcmVjaXNpb24KICAgICAgICAgICAgICAgIHByZWNpc2lvbiA9IE1hdGgucG93KGN1cnJlbnRSYWRpdXMsIDAuMzIpICogMS43NTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcHJlY2lzaW9uID0gQ29tbW9uLmNsYW1wKHByZWNpc2lvbiwgcXVhbGl0eU1pbiwgcXVhbGl0eU1heCk7CgogICAgICAgICAgICAvLyB1c2UgYW4gZXZlbiB2YWx1ZSBmb3IgcHJlY2lzaW9uLCBtb3JlIGxpa2VseSB0byByZWR1Y2UgYXhlcyBieSB1c2luZyBzeW1tZXRyeQogICAgICAgICAgICBpZiAocHJlY2lzaW9uICUgMiA9PT0gMSkKICAgICAgICAgICAgICAgIHByZWNpc2lvbiArPSAxOwoKICAgICAgICAgICAgdmFyIGFscGhhID0gTWF0aC5hY29zKFZlY3Rvci5kb3QocHJldk5vcm1hbCwgbmV4dE5vcm1hbCkpLAogICAgICAgICAgICAgICAgdGhldGEgPSBhbHBoYSAvIHByZWNpc2lvbjsKCiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJlY2lzaW9uOyBqKyspIHsKICAgICAgICAgICAgICAgIG5ld1ZlcnRpY2VzLnB1c2goVmVjdG9yLmFkZChWZWN0b3Iucm90YXRlKHJhZGl1c1ZlY3RvciwgdGhldGEgKiBqKSwgc2NhbGVkVmVydGV4KSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBuZXdWZXJ0aWNlczsKICAgIH07CgogICAgLyoqCiAgICAgKiBTb3J0cyB0aGUgaW5wdXQgdmVydGljZXMgaW50byBjbG9ja3dpc2Ugb3JkZXIgaW4gcGxhY2UuCiAgICAgKiBAbWV0aG9kIGNsb2Nrd2lzZVNvcnQKICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzCiAgICAgKiBAcmV0dXJuIHt2ZXJ0aWNlc30gdmVydGljZXMKICAgICAqLwogICAgVmVydGljZXMuY2xvY2t3aXNlU29ydCA9IGZ1bmN0aW9uKHZlcnRpY2VzKSB7CiAgICAgICAgdmFyIGNlbnRyZSA9IFZlcnRpY2VzLm1lYW4odmVydGljZXMpOwoKICAgICAgICB2ZXJ0aWNlcy5zb3J0KGZ1bmN0aW9uKHZlcnRleEEsIHZlcnRleEIpIHsKICAgICAgICAgICAgcmV0dXJuIFZlY3Rvci5hbmdsZShjZW50cmUsIHZlcnRleEEpIC0gVmVjdG9yLmFuZ2xlKGNlbnRyZSwgdmVydGV4Qik7CiAgICAgICAgfSk7CgogICAgICAgIHJldHVybiB2ZXJ0aWNlczsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHZlcnRpY2VzIGZvcm0gYSBjb252ZXggc2hhcGUgKHZlcnRpY2VzIG11c3QgYmUgaW4gY2xvY2t3aXNlIG9yZGVyKS4KICAgICAqIEBtZXRob2QgaXNDb252ZXgKICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzCiAgICAgKiBAcmV0dXJuIHtib29sfSBgdHJ1ZWAgaWYgdGhlIGB2ZXJ0aWNlc2AgYXJlIGNvbnZleCwgYGZhbHNlYCBpZiBub3QgKG9yIGBudWxsYCBpZiBub3QgY29tcHV0YWJsZSkuCiAgICAgKi8KICAgIFZlcnRpY2VzLmlzQ29udmV4ID0gZnVuY3Rpb24odmVydGljZXMpIHsKICAgICAgICAvLyBodHRwOi8vcGF1bGJvdXJrZS5uZXQvZ2VvbWV0cnkvcG9seWdvbm1lc2gvCgogICAgICAgIHZhciBmbGFnID0gMCwKICAgICAgICAgICAgbiA9IHZlcnRpY2VzLmxlbmd0aCwKICAgICAgICAgICAgaSwKICAgICAgICAgICAgaiwKICAgICAgICAgICAgaywKICAgICAgICAgICAgejsKCiAgICAgICAgaWYgKG4gPCAzKQogICAgICAgICAgICByZXR1cm4gbnVsbDsKCiAgICAgICAgZm9yIChpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgICBqID0gKGkgKyAxKSAlIG47CiAgICAgICAgICAgIGsgPSAoaSArIDIpICUgbjsKICAgICAgICAgICAgeiA9ICh2ZXJ0aWNlc1tqXS54IC0gdmVydGljZXNbaV0ueCkgKiAodmVydGljZXNba10ueSAtIHZlcnRpY2VzW2pdLnkpOwogICAgICAgICAgICB6IC09ICh2ZXJ0aWNlc1tqXS55IC0gdmVydGljZXNbaV0ueSkgKiAodmVydGljZXNba10ueCAtIHZlcnRpY2VzW2pdLngpOwoKICAgICAgICAgICAgaWYgKHogPCAwKSB7CiAgICAgICAgICAgICAgICBmbGFnIHw9IDE7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoeiA+IDApIHsKICAgICAgICAgICAgICAgIGZsYWcgfD0gMjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGZsYWcgPT09IDMpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGZsYWcgIT09IDApewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgY29udmV4IGh1bGwgb2YgdGhlIGlucHV0IHZlcnRpY2VzIGFzIGEgbmV3IGFycmF5IG9mIHBvaW50cy4KICAgICAqIEBtZXRob2QgaHVsbAogICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXMKICAgICAqIEByZXR1cm4gW3ZlcnRleF0gdmVydGljZXMKICAgICAqLwogICAgVmVydGljZXMuaHVsbCA9IGZ1bmN0aW9uKHZlcnRpY2VzKSB7CiAgICAgICAgLy8gaHR0cDovL2VuLndpa2lib29rcy5vcmcvd2lraS9BbGdvcml0aG1fSW1wbGVtZW50YXRpb24vR2VvbWV0cnkvQ29udmV4X2h1bGwvTW9ub3RvbmVfY2hhaW4KCiAgICAgICAgdmFyIHVwcGVyID0gW10sCiAgICAgICAgICAgIGxvd2VyID0gW10sIAogICAgICAgICAgICB2ZXJ0ZXgsCiAgICAgICAgICAgIGk7CgogICAgICAgIC8vIHNvcnQgdmVydGljZXMgb24geC1heGlzICh5LWF4aXMgZm9yIHRpZXMpCiAgICAgICAgdmVydGljZXMgPSB2ZXJ0aWNlcy5zbGljZSgwKTsKICAgICAgICB2ZXJ0aWNlcy5zb3J0KGZ1bmN0aW9uKHZlcnRleEEsIHZlcnRleEIpIHsKICAgICAgICAgICAgdmFyIGR4ID0gdmVydGV4QS54IC0gdmVydGV4Qi54OwogICAgICAgICAgICByZXR1cm4gZHggIT09IDAgPyBkeCA6IHZlcnRleEEueSAtIHZlcnRleEIueTsKICAgICAgICB9KTsKCiAgICAgICAgLy8gYnVpbGQgbG93ZXIgaHVsbAogICAgICAgIGZvciAoaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2ZXJ0ZXggPSB2ZXJ0aWNlc1tpXTsKCiAgICAgICAgICAgIHdoaWxlIChsb3dlci5sZW5ndGggPj0gMiAKICAgICAgICAgICAgICAgICAgICYmIFZlY3Rvci5jcm9zczMobG93ZXJbbG93ZXIubGVuZ3RoIC0gMl0sIGxvd2VyW2xvd2VyLmxlbmd0aCAtIDFdLCB2ZXJ0ZXgpIDw9IDApIHsKICAgICAgICAgICAgICAgIGxvd2VyLnBvcCgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBsb3dlci5wdXNoKHZlcnRleCk7CiAgICAgICAgfQoKICAgICAgICAvLyBidWlsZCB1cHBlciBodWxsCiAgICAgICAgZm9yIChpID0gdmVydGljZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgdmVydGV4ID0gdmVydGljZXNbaV07CgogICAgICAgICAgICB3aGlsZSAodXBwZXIubGVuZ3RoID49IDIgCiAgICAgICAgICAgICAgICAgICAmJiBWZWN0b3IuY3Jvc3MzKHVwcGVyW3VwcGVyLmxlbmd0aCAtIDJdLCB1cHBlclt1cHBlci5sZW5ndGggLSAxXSwgdmVydGV4KSA8PSAwKSB7CiAgICAgICAgICAgICAgICB1cHBlci5wb3AoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdXBwZXIucHVzaCh2ZXJ0ZXgpOwogICAgICAgIH0KCiAgICAgICAgLy8gY29uY2F0ZW5hdGlvbiBvZiB0aGUgbG93ZXIgYW5kIHVwcGVyIGh1bGxzIGdpdmVzIHRoZSBjb252ZXggaHVsbAogICAgICAgIC8vIG9taXQgbGFzdCBwb2ludHMgYmVjYXVzZSB0aGV5IGFyZSByZXBlYXRlZCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBvdGhlciBsaXN0CiAgICAgICAgdXBwZXIucG9wKCk7CiAgICAgICAgbG93ZXIucG9wKCk7CgogICAgICAgIHJldHVybiB1cHBlci5jb25jYXQobG93ZXIpOwogICAgfTsKCn0pKCk7Cgp9LHsiLi4vY29yZS9Db21tb24iOjE0LCIuLi9nZW9tZXRyeS9WZWN0b3IiOjI4fV0sMzA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpewp2YXIgTWF0dGVyID0gbW9kdWxlLmV4cG9ydHMgPSBfZGVyZXFfKCcuLi9jb3JlL01hdHRlcicpOwoKTWF0dGVyLkJvZHkgPSBfZGVyZXFfKCcuLi9ib2R5L0JvZHknKTsKTWF0dGVyLkNvbXBvc2l0ZSA9IF9kZXJlcV8oJy4uL2JvZHkvQ29tcG9zaXRlJyk7Ck1hdHRlci5Xb3JsZCA9IF9kZXJlcV8oJy4uL2JvZHkvV29ybGQnKTsKCk1hdHRlci5Db250YWN0ID0gX2RlcmVxXygnLi4vY29sbGlzaW9uL0NvbnRhY3QnKTsKTWF0dGVyLkRldGVjdG9yID0gX2RlcmVxXygnLi4vY29sbGlzaW9uL0RldGVjdG9yJyk7Ck1hdHRlci5HcmlkID0gX2RlcmVxXygnLi4vY29sbGlzaW9uL0dyaWQnKTsKTWF0dGVyLlBhaXJzID0gX2RlcmVxXygnLi4vY29sbGlzaW9uL1BhaXJzJyk7Ck1hdHRlci5QYWlyID0gX2RlcmVxXygnLi4vY29sbGlzaW9uL1BhaXInKTsKTWF0dGVyLlF1ZXJ5ID0gX2RlcmVxXygnLi4vY29sbGlzaW9uL1F1ZXJ5Jyk7Ck1hdHRlci5SZXNvbHZlciA9IF9kZXJlcV8oJy4uL2NvbGxpc2lvbi9SZXNvbHZlcicpOwpNYXR0ZXIuU0FUID0gX2RlcmVxXygnLi4vY29sbGlzaW9uL1NBVCcpOwoKTWF0dGVyLkNvbnN0cmFpbnQgPSBfZGVyZXFfKCcuLi9jb25zdHJhaW50L0NvbnN0cmFpbnQnKTsKTWF0dGVyLk1vdXNlQ29uc3RyYWludCA9IF9kZXJlcV8oJy4uL2NvbnN0cmFpbnQvTW91c2VDb25zdHJhaW50Jyk7CgpNYXR0ZXIuQ29tbW9uID0gX2RlcmVxXygnLi4vY29yZS9Db21tb24nKTsKTWF0dGVyLkVuZ2luZSA9IF9kZXJlcV8oJy4uL2NvcmUvRW5naW5lJyk7Ck1hdHRlci5FdmVudHMgPSBfZGVyZXFfKCcuLi9jb3JlL0V2ZW50cycpOwpNYXR0ZXIuTW91c2UgPSBfZGVyZXFfKCcuLi9jb3JlL01vdXNlJyk7Ck1hdHRlci5SdW5uZXIgPSBfZGVyZXFfKCcuLi9jb3JlL1J1bm5lcicpOwpNYXR0ZXIuU2xlZXBpbmcgPSBfZGVyZXFfKCcuLi9jb3JlL1NsZWVwaW5nJyk7Ck1hdHRlci5QbHVnaW4gPSBfZGVyZXFfKCcuLi9jb3JlL1BsdWdpbicpOwoKCk1hdHRlci5Cb2RpZXMgPSBfZGVyZXFfKCcuLi9mYWN0b3J5L0JvZGllcycpOwpNYXR0ZXIuQ29tcG9zaXRlcyA9IF9kZXJlcV8oJy4uL2ZhY3RvcnkvQ29tcG9zaXRlcycpOwoKTWF0dGVyLkF4ZXMgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9BeGVzJyk7Ck1hdHRlci5Cb3VuZHMgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9Cb3VuZHMnKTsKTWF0dGVyLlN2ZyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L1N2ZycpOwpNYXR0ZXIuVmVjdG9yID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvVmVjdG9yJyk7Ck1hdHRlci5WZXJ0aWNlcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L1ZlcnRpY2VzJyk7CgpNYXR0ZXIuUmVuZGVyID0gX2RlcmVxXygnLi4vcmVuZGVyL1JlbmRlcicpOwpNYXR0ZXIuUmVuZGVyUGl4aSA9IF9kZXJlcV8oJy4uL3JlbmRlci9SZW5kZXJQaXhpJyk7CgovLyBhbGlhc2VzCgpNYXR0ZXIuV29ybGQuYWRkID0gTWF0dGVyLkNvbXBvc2l0ZS5hZGQ7Ck1hdHRlci5Xb3JsZC5yZW1vdmUgPSBNYXR0ZXIuQ29tcG9zaXRlLnJlbW92ZTsKTWF0dGVyLldvcmxkLmFkZENvbXBvc2l0ZSA9IE1hdHRlci5Db21wb3NpdGUuYWRkQ29tcG9zaXRlOwpNYXR0ZXIuV29ybGQuYWRkQm9keSA9IE1hdHRlci5Db21wb3NpdGUuYWRkQm9keTsKTWF0dGVyLldvcmxkLmFkZENvbnN0cmFpbnQgPSBNYXR0ZXIuQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQ7Ck1hdHRlci5Xb3JsZC5jbGVhciA9IE1hdHRlci5Db21wb3NpdGUuY2xlYXI7Ck1hdHRlci5FbmdpbmUucnVuID0gTWF0dGVyLlJ1bm5lci5ydW47Cgp9LHsiLi4vYm9keS9Cb2R5IjoxLCIuLi9ib2R5L0NvbXBvc2l0ZSI6MiwiLi4vYm9keS9Xb3JsZCI6MywiLi4vY29sbGlzaW9uL0NvbnRhY3QiOjQsIi4uL2NvbGxpc2lvbi9EZXRlY3RvciI6NSwiLi4vY29sbGlzaW9uL0dyaWQiOjYsIi4uL2NvbGxpc2lvbi9QYWlyIjo3LCIuLi9jb2xsaXNpb24vUGFpcnMiOjgsIi4uL2NvbGxpc2lvbi9RdWVyeSI6OSwiLi4vY29sbGlzaW9uL1Jlc29sdmVyIjoxMCwiLi4vY29sbGlzaW9uL1NBVCI6MTEsIi4uL2NvbnN0cmFpbnQvQ29uc3RyYWludCI6MTIsIi4uL2NvbnN0cmFpbnQvTW91c2VDb25zdHJhaW50IjoxMywiLi4vY29yZS9Db21tb24iOjE0LCIuLi9jb3JlL0VuZ2luZSI6MTUsIi4uL2NvcmUvRXZlbnRzIjoxNiwiLi4vY29yZS9NYXR0ZXIiOjE3LCIuLi9jb3JlL01ldHJpY3MiOjE4LCIuLi9jb3JlL01vdXNlIjoxOSwiLi4vY29yZS9QbHVnaW4iOjIwLCIuLi9jb3JlL1J1bm5lciI6MjEsIi4uL2NvcmUvU2xlZXBpbmciOjIyLCIuLi9mYWN0b3J5L0JvZGllcyI6MjMsIi4uL2ZhY3RvcnkvQ29tcG9zaXRlcyI6MjQsIi4uL2dlb21ldHJ5L0F4ZXMiOjI1LCIuLi9nZW9tZXRyeS9Cb3VuZHMiOjI2LCIuLi9nZW9tZXRyeS9TdmciOjI3LCIuLi9nZW9tZXRyeS9WZWN0b3IiOjI4LCIuLi9nZW9tZXRyeS9WZXJ0aWNlcyI6MjksIi4uL3JlbmRlci9SZW5kZXIiOjMxLCIuLi9yZW5kZXIvUmVuZGVyUGl4aSI6MzJ9XSwzMTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7Ci8qKgoqIFRoZSBgTWF0dGVyLlJlbmRlcmAgbW9kdWxlIGlzIGEgc2ltcGxlIEhUTUw1IGNhbnZhcyBiYXNlZCByZW5kZXJlciBmb3IgdmlzdWFsaXNpbmcgaW5zdGFuY2VzIG9mIGBNYXR0ZXIuRW5naW5lYC4KKiBJdCBpcyBpbnRlbmRlZCBmb3IgZGV2ZWxvcG1lbnQgYW5kIGRlYnVnZ2luZyBwdXJwb3NlcywgYnV0IG1heSBhbHNvIGJlIHN1aXRhYmxlIGZvciBzaW1wbGUgZ2FtZXMuCiogSXQgaW5jbHVkZXMgYSBudW1iZXIgb2YgZHJhd2luZyBvcHRpb25zIGluY2x1ZGluZyB3aXJlZnJhbWUsIHZlY3RvciB3aXRoIHN1cHBvcnQgZm9yIHNwcml0ZXMgYW5kIHZpZXdwb3J0cy4KKgoqIEBjbGFzcyBSZW5kZXIKKi8KCnZhciBSZW5kZXIgPSB7fTsKCm1vZHVsZS5leHBvcnRzID0gUmVuZGVyOwoKdmFyIENvbW1vbiA9IF9kZXJlcV8oJy4uL2NvcmUvQ29tbW9uJyk7CnZhciBDb21wb3NpdGUgPSBfZGVyZXFfKCcuLi9ib2R5L0NvbXBvc2l0ZScpOwp2YXIgQm91bmRzID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvQm91bmRzJyk7CnZhciBFdmVudHMgPSBfZGVyZXFfKCcuLi9jb3JlL0V2ZW50cycpOwp2YXIgR3JpZCA9IF9kZXJlcV8oJy4uL2NvbGxpc2lvbi9HcmlkJyk7CnZhciBWZWN0b3IgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9WZWN0b3InKTsKdmFyIE1vdXNlID0gX2RlcmVxXygnLi4vY29yZS9Nb3VzZScpOwoKKGZ1bmN0aW9uKCkgewogICAgCiAgICB2YXIgX3JlcXVlc3RBbmltYXRpb25GcmFtZSwKICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWU7CgogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgX3JlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGZ1bmN0aW9uKGNhbGxiYWNrKXsgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNhbGxiYWNrKENvbW1vbi5ub3coKSk7IH0sIDEwMDAgLyA2MCk7IH07CiAgIAogICAgICAgIF9jYW5jZWxBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc0NhbmNlbEFuaW1hdGlvbkZyYW1lOwogICAgfQoKICAgIC8qKgogICAgICogQ3JlYXRlcyBhIG5ldyByZW5kZXJlci4gVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuCiAgICAgKiBBbGwgcHJvcGVydGllcyBoYXZlIGRlZmF1bHQgdmFsdWVzLCBhbmQgbWFueSBhcmUgcHJlLWNhbGN1bGF0ZWQgYXV0b21hdGljYWxseSBiYXNlZCBvbiBvdGhlciBwcm9wZXJ0aWVzLgogICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gYmVsb3cgZm9yIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgeW91IGNhbiBwYXNzIHZpYSB0aGUgYG9wdGlvbnNgIG9iamVjdC4KICAgICAqIEBtZXRob2QgY3JlYXRlCiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdCiAgICAgKiBAcmV0dXJuIHtyZW5kZXJ9IEEgbmV3IHJlbmRlcmVyCiAgICAgKi8KICAgIFJlbmRlci5jcmVhdGUgPSBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgICAgdmFyIGRlZmF1bHRzID0gewogICAgICAgICAgICBjb250cm9sbGVyOiBSZW5kZXIsCiAgICAgICAgICAgIGVuZ2luZTogbnVsbCwKICAgICAgICAgICAgZWxlbWVudDogbnVsbCwKICAgICAgICAgICAgY2FudmFzOiBudWxsLAogICAgICAgICAgICBtb3VzZTogbnVsbCwKICAgICAgICAgICAgZnJhbWVSZXF1ZXN0SWQ6IG51bGwsCiAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIHdpZHRoOiA4MDAsCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDYwMCwKICAgICAgICAgICAgICAgIHBpeGVsUmF0aW86IDEsCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzE4MTgxZCcsCiAgICAgICAgICAgICAgICB3aXJlZnJhbWVCYWNrZ3JvdW5kOiAnIzBmMGYxMycsCiAgICAgICAgICAgICAgICBoYXNCb3VuZHM6ICEhb3B0aW9ucy5ib3VuZHMsCiAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgICAgICAgICAgd2lyZWZyYW1lczogdHJ1ZSwKICAgICAgICAgICAgICAgIHNob3dTbGVlcGluZzogdHJ1ZSwKICAgICAgICAgICAgICAgIHNob3dEZWJ1ZzogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93QnJvYWRwaGFzZTogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93Qm91bmRzOiBmYWxzZSwKICAgICAgICAgICAgICAgIHNob3dWZWxvY2l0eTogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93Q29sbGlzaW9uczogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93U2VwYXJhdGlvbnM6IGZhbHNlLAogICAgICAgICAgICAgICAgc2hvd0F4ZXM6IGZhbHNlLAogICAgICAgICAgICAgICAgc2hvd1Bvc2l0aW9uczogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93QW5nbGVJbmRpY2F0b3I6IGZhbHNlLAogICAgICAgICAgICAgICAgc2hvd0lkczogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93U2hhZG93czogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93VmVydGV4TnVtYmVyczogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93Q29udmV4SHVsbHM6IGZhbHNlLAogICAgICAgICAgICAgICAgc2hvd0ludGVybmFsRWRnZXM6IGZhbHNlLAogICAgICAgICAgICAgICAgc2hvd01vdXNlUG9zaXRpb246IGZhbHNlCiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICB2YXIgcmVuZGVyID0gQ29tbW9uLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7CgogICAgICAgIGlmIChyZW5kZXIuY2FudmFzKSB7CiAgICAgICAgICAgIHJlbmRlci5jYW52YXMud2lkdGggPSByZW5kZXIub3B0aW9ucy53aWR0aCB8fCByZW5kZXIuY2FudmFzLndpZHRoOwogICAgICAgICAgICByZW5kZXIuY2FudmFzLmhlaWdodCA9IHJlbmRlci5vcHRpb25zLmhlaWdodCB8fCByZW5kZXIuY2FudmFzLmhlaWdodDsKICAgICAgICB9CgogICAgICAgIHJlbmRlci5tb3VzZSA9IG9wdGlvbnMubW91c2U7CiAgICAgICAgcmVuZGVyLmVuZ2luZSA9IG9wdGlvbnMuZW5naW5lOwogICAgICAgIHJlbmRlci5jYW52YXMgPSByZW5kZXIuY2FudmFzIHx8IF9jcmVhdGVDYW52YXMocmVuZGVyLm9wdGlvbnMud2lkdGgsIHJlbmRlci5vcHRpb25zLmhlaWdodCk7CiAgICAgICAgcmVuZGVyLmNvbnRleHQgPSByZW5kZXIuY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgcmVuZGVyLnRleHR1cmVzID0ge307CgogICAgICAgIHJlbmRlci5ib3VuZHMgPSByZW5kZXIuYm91bmRzIHx8IHsgCiAgICAgICAgICAgIG1pbjogeyAKICAgICAgICAgICAgICAgIHg6IDAsCiAgICAgICAgICAgICAgICB5OiAwCiAgICAgICAgICAgIH0sIAogICAgICAgICAgICBtYXg6IHsgCiAgICAgICAgICAgICAgICB4OiByZW5kZXIuY2FudmFzLndpZHRoLAogICAgICAgICAgICAgICAgeTogcmVuZGVyLmNhbnZhcy5oZWlnaHQKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIGlmIChyZW5kZXIub3B0aW9ucy5waXhlbFJhdGlvICE9PSAxKSB7CiAgICAgICAgICAgIFJlbmRlci5zZXRQaXhlbFJhdGlvKHJlbmRlciwgcmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpbyk7CiAgICAgICAgfQoKICAgICAgICBpZiAoQ29tbW9uLmlzRWxlbWVudChyZW5kZXIuZWxlbWVudCkpIHsKICAgICAgICAgICAgcmVuZGVyLmVsZW1lbnQuYXBwZW5kQ2hpbGQocmVuZGVyLmNhbnZhcyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgQ29tbW9uLmxvZygnUmVuZGVyLmNyZWF0ZTogb3B0aW9ucy5lbGVtZW50IHdhcyB1bmRlZmluZWQsIHJlbmRlci5jYW52YXMgd2FzIGNyZWF0ZWQgYnV0IG5vdCBhcHBlbmRlZCcsICd3YXJuJyk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVuZGVyOwogICAgfTsKCiAgICAvKioKICAgICAqIENvbnRpbnVvdXNseSB1cGRhdGVzIHRoZSByZW5kZXIgY2FudmFzIG9uIHRoZSBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCBldmVudC4KICAgICAqIEBtZXRob2QgcnVuCiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyCiAgICAgKi8KICAgIFJlbmRlci5ydW4gPSBmdW5jdGlvbihyZW5kZXIpIHsKICAgICAgICAoZnVuY3Rpb24gbG9vcCh0aW1lKXsKICAgICAgICAgICAgcmVuZGVyLmZyYW1lUmVxdWVzdElkID0gX3JlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTsKICAgICAgICAgICAgUmVuZGVyLndvcmxkKHJlbmRlcik7CiAgICAgICAgfSkoKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBFbmRzIGV4ZWN1dGlvbiBvZiBgUmVuZGVyLnJ1bmAgb24gdGhlIGdpdmVuIGByZW5kZXJgLCBieSBjYW5jZWxpbmcgdGhlIGFuaW1hdGlvbiBmcmFtZSByZXF1ZXN0IGV2ZW50IGxvb3AuCiAgICAgKiBAbWV0aG9kIHN0b3AKICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXIKICAgICAqLwogICAgUmVuZGVyLnN0b3AgPSBmdW5jdGlvbihyZW5kZXIpIHsKICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWUocmVuZGVyLmZyYW1lUmVxdWVzdElkKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBTZXRzIHRoZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIgYW5kIHVwZGF0ZXMgdGhlIGNhbnZhcy4KICAgICAqIFRvIGF1dG9tYXRpY2FsbHkgZGV0ZWN0IHRoZSBjb3JyZWN0IHJhdGlvLCBwYXNzIHRoZSBzdHJpbmcgYCdhdXRvJ2AgZm9yIGBwaXhlbFJhdGlvYC4KICAgICAqIEBtZXRob2Qgc2V0UGl4ZWxSYXRpbwogICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlcgogICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8KICAgICAqLwogICAgUmVuZGVyLnNldFBpeGVsUmF0aW8gPSBmdW5jdGlvbihyZW5kZXIsIHBpeGVsUmF0aW8pIHsKICAgICAgICB2YXIgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLAogICAgICAgICAgICBjYW52YXMgPSByZW5kZXIuY2FudmFzOwoKICAgICAgICBpZiAocGl4ZWxSYXRpbyA9PT0gJ2F1dG8nKSB7CiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBfZ2V0UGl4ZWxSYXRpbyhjYW52YXMpOwogICAgICAgIH0KCiAgICAgICAgb3B0aW9ucy5waXhlbFJhdGlvID0gcGl4ZWxSYXRpbzsKICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCdkYXRhLXBpeGVsLXJhdGlvJywgcGl4ZWxSYXRpbyk7CiAgICAgICAgY2FudmFzLndpZHRoID0gb3B0aW9ucy53aWR0aCAqIHBpeGVsUmF0aW87CiAgICAgICAgY2FudmFzLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICogcGl4ZWxSYXRpbzsKICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBvcHRpb25zLndpZHRoICsgJ3B4JzsKICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgKyAncHgnOwogICAgICAgIHJlbmRlci5jb250ZXh0LnNjYWxlKHBpeGVsUmF0aW8sIHBpeGVsUmF0aW8pOwogICAgfTsKCiAgICAvKioKICAgICAqIFBvc2l0aW9ucyBhbmQgc2l6ZXMgdGhlIHZpZXdwb3J0IGFyb3VuZCB0aGUgZ2l2ZW4gb2JqZWN0IGJvdW5kcy4KICAgICAqIE9iamVjdHMgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBvZiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6CiAgICAgKiAtIGBvYmplY3QuYm91bmRzYAogICAgICogLSBgb2JqZWN0LnBvc2l0aW9uYAogICAgICogLSBgb2JqZWN0Lm1pbmAgYW5kIGBvYmplY3QubWF4YAogICAgICogLSBgb2JqZWN0LnhgIGFuZCBgb2JqZWN0LnlgCiAgICAgKiBAbWV0aG9kIGxvb2tBdAogICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlcgogICAgICogQHBhcmFtIHtvYmplY3RbXX0gb2JqZWN0cwogICAgICogQHBhcmFtIHt2ZWN0b3J9IFtwYWRkaW5nXQogICAgICogQHBhcmFtIHtib29sfSBbY2VudGVyPXRydWVdCiAgICAgKi8KICAgIFJlbmRlci5sb29rQXQgPSBmdW5jdGlvbihyZW5kZXIsIG9iamVjdHMsIHBhZGRpbmcsIGNlbnRlcikgewogICAgICAgIGNlbnRlciA9IHR5cGVvZiBjZW50ZXIgIT09ICd1bmRlZmluZWQnID8gY2VudGVyIDogdHJ1ZTsKICAgICAgICBvYmplY3RzID0gQ29tbW9uLmlzQXJyYXkob2JqZWN0cykgPyBvYmplY3RzIDogW29iamVjdHNdOwogICAgICAgIHBhZGRpbmcgPSBwYWRkaW5nIHx8IHsKICAgICAgICAgICAgeDogMCwKICAgICAgICAgICAgeTogMAogICAgICAgIH07CgogICAgICAgIC8vIGZpbmQgYm91bmRzIG9mIGFsbCBvYmplY3RzCiAgICAgICAgdmFyIGJvdW5kcyA9IHsKICAgICAgICAgICAgbWluOiB7IHg6IEluZmluaXR5LCB5OiBJbmZpbml0eSB9LAogICAgICAgICAgICBtYXg6IHsgeDogLUluZmluaXR5LCB5OiAtSW5maW5pdHkgfQogICAgICAgIH07CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0cy5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgICAgICB2YXIgb2JqZWN0ID0gb2JqZWN0c1tpXSwKICAgICAgICAgICAgICAgIG1pbiA9IG9iamVjdC5ib3VuZHMgPyBvYmplY3QuYm91bmRzLm1pbiA6IChvYmplY3QubWluIHx8IG9iamVjdC5wb3NpdGlvbiB8fCBvYmplY3QpLAogICAgICAgICAgICAgICAgbWF4ID0gb2JqZWN0LmJvdW5kcyA/IG9iamVjdC5ib3VuZHMubWF4IDogKG9iamVjdC5tYXggfHwgb2JqZWN0LnBvc2l0aW9uIHx8IG9iamVjdCk7IAoKICAgICAgICAgICAgaWYgKG1pbiAmJiBtYXgpIHsgCiAgICAgICAgICAgICAgICBpZiAobWluLnggPCBib3VuZHMubWluLngpIAogICAgICAgICAgICAgICAgICAgIGJvdW5kcy5taW4ueCA9IG1pbi54OwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKG1heC54ID4gYm91bmRzLm1heC54KSAKICAgICAgICAgICAgICAgICAgICBib3VuZHMubWF4LnggPSBtYXgueDsKCiAgICAgICAgICAgICAgICBpZiAobWluLnkgPCBib3VuZHMubWluLnkpIAogICAgICAgICAgICAgICAgICAgIGJvdW5kcy5taW4ueSA9IG1pbi55OwoKICAgICAgICAgICAgICAgIGlmIChtYXgueSA+IGJvdW5kcy5tYXgueSkgCiAgICAgICAgICAgICAgICAgICAgYm91bmRzLm1heC55ID0gbWF4Lnk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIGZpbmQgcmF0aW9zCiAgICAgICAgdmFyIHdpZHRoID0gKGJvdW5kcy5tYXgueCAtIGJvdW5kcy5taW4ueCkgKyAyICogcGFkZGluZy54LAogICAgICAgICAgICBoZWlnaHQgPSAoYm91bmRzLm1heC55IC0gYm91bmRzLm1pbi55KSArIDIgKiBwYWRkaW5nLnksCiAgICAgICAgICAgIHZpZXdIZWlnaHQgPSByZW5kZXIuY2FudmFzLmhlaWdodCwKICAgICAgICAgICAgdmlld1dpZHRoID0gcmVuZGVyLmNhbnZhcy53aWR0aCwKICAgICAgICAgICAgb3V0ZXJSYXRpbyA9IHZpZXdXaWR0aCAvIHZpZXdIZWlnaHQsCiAgICAgICAgICAgIGlubmVyUmF0aW8gPSB3aWR0aCAvIGhlaWdodCwKICAgICAgICAgICAgc2NhbGVYID0gMSwKICAgICAgICAgICAgc2NhbGVZID0gMTsKCiAgICAgICAgLy8gZmluZCBzY2FsZSBmYWN0b3IKICAgICAgICBpZiAoaW5uZXJSYXRpbyA+IG91dGVyUmF0aW8pIHsKICAgICAgICAgICAgc2NhbGVZID0gaW5uZXJSYXRpbyAvIG91dGVyUmF0aW87CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2NhbGVYID0gb3V0ZXJSYXRpbyAvIGlubmVyUmF0aW87CiAgICAgICAgfQoKICAgICAgICAvLyBlbmFibGUgYm91bmRzCiAgICAgICAgcmVuZGVyLm9wdGlvbnMuaGFzQm91bmRzID0gdHJ1ZTsKCiAgICAgICAgLy8gcG9zaXRpb24gYW5kIHNpemUKICAgICAgICByZW5kZXIuYm91bmRzLm1pbi54ID0gYm91bmRzLm1pbi54OwogICAgICAgIHJlbmRlci5ib3VuZHMubWF4LnggPSBib3VuZHMubWluLnggKyB3aWR0aCAqIHNjYWxlWDsKICAgICAgICByZW5kZXIuYm91bmRzLm1pbi55ID0gYm91bmRzLm1pbi55OwogICAgICAgIHJlbmRlci5ib3VuZHMubWF4LnkgPSBib3VuZHMubWluLnkgKyBoZWlnaHQgKiBzY2FsZVk7CgogICAgICAgIC8vIGNlbnRlcgogICAgICAgIGlmIChjZW50ZXIpIHsKICAgICAgICAgICAgcmVuZGVyLmJvdW5kcy5taW4ueCArPSB3aWR0aCAqIDAuNSAtICh3aWR0aCAqIHNjYWxlWCkgKiAwLjU7CiAgICAgICAgICAgIHJlbmRlci5ib3VuZHMubWF4LnggKz0gd2lkdGggKiAwLjUgLSAod2lkdGggKiBzY2FsZVgpICogMC41OwogICAgICAgICAgICByZW5kZXIuYm91bmRzLm1pbi55ICs9IGhlaWdodCAqIDAuNSAtIChoZWlnaHQgKiBzY2FsZVkpICogMC41OwogICAgICAgICAgICByZW5kZXIuYm91bmRzLm1heC55ICs9IGhlaWdodCAqIDAuNSAtIChoZWlnaHQgKiBzY2FsZVkpICogMC41OwogICAgICAgIH0KCiAgICAgICAgLy8gcGFkZGluZwogICAgICAgIHJlbmRlci5ib3VuZHMubWluLnggLT0gcGFkZGluZy54OwogICAgICAgIHJlbmRlci5ib3VuZHMubWF4LnggLT0gcGFkZGluZy54OwogICAgICAgIHJlbmRlci5ib3VuZHMubWluLnkgLT0gcGFkZGluZy55OwogICAgICAgIHJlbmRlci5ib3VuZHMubWF4LnkgLT0gcGFkZGluZy55OwoKICAgICAgICAvLyB1cGRhdGUgbW91c2UKICAgICAgICBpZiAocmVuZGVyLm1vdXNlKSB7CiAgICAgICAgICAgIE1vdXNlLnNldFNjYWxlKHJlbmRlci5tb3VzZSwgewogICAgICAgICAgICAgICAgeDogKHJlbmRlci5ib3VuZHMubWF4LnggLSByZW5kZXIuYm91bmRzLm1pbi54KSAvIHJlbmRlci5jYW52YXMud2lkdGgsCiAgICAgICAgICAgICAgICB5OiAocmVuZGVyLmJvdW5kcy5tYXgueSAtIHJlbmRlci5ib3VuZHMubWluLnkpIC8gcmVuZGVyLmNhbnZhcy5oZWlnaHQKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBNb3VzZS5zZXRPZmZzZXQocmVuZGVyLm1vdXNlLCByZW5kZXIuYm91bmRzLm1pbik7CiAgICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIEFwcGxpZXMgdmlld3BvcnQgdHJhbnNmb3JtcyBiYXNlZCBvbiBgcmVuZGVyLmJvdW5kc2AgdG8gYSByZW5kZXIgY29udGV4dC4KICAgICAqIEBtZXRob2Qgc3RhcnRWaWV3VHJhbnNmb3JtCiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyCiAgICAgKi8KICAgIFJlbmRlci5zdGFydFZpZXdUcmFuc2Zvcm0gPSBmdW5jdGlvbihyZW5kZXIpIHsKICAgICAgICB2YXIgYm91bmRzV2lkdGggPSByZW5kZXIuYm91bmRzLm1heC54IC0gcmVuZGVyLmJvdW5kcy5taW4ueCwKICAgICAgICAgICAgYm91bmRzSGVpZ2h0ID0gcmVuZGVyLmJvdW5kcy5tYXgueSAtIHJlbmRlci5ib3VuZHMubWluLnksCiAgICAgICAgICAgIGJvdW5kc1NjYWxlWCA9IGJvdW5kc1dpZHRoIC8gcmVuZGVyLm9wdGlvbnMud2lkdGgsCiAgICAgICAgICAgIGJvdW5kc1NjYWxlWSA9IGJvdW5kc0hlaWdodCAvIHJlbmRlci5vcHRpb25zLmhlaWdodDsKCiAgICAgICAgcmVuZGVyLmNvbnRleHQuc2NhbGUoMSAvIGJvdW5kc1NjYWxlWCwgMSAvIGJvdW5kc1NjYWxlWSk7CiAgICAgICAgcmVuZGVyLmNvbnRleHQudHJhbnNsYXRlKC1yZW5kZXIuYm91bmRzLm1pbi54LCAtcmVuZGVyLmJvdW5kcy5taW4ueSk7CiAgICB9OwoKICAgIC8qKgogICAgICogUmVzZXRzIGFsbCB0cmFuc2Zvcm1zIG9uIHRoZSByZW5kZXIgY29udGV4dC4KICAgICAqIEBtZXRob2QgZW5kVmlld1RyYW5zZm9ybQogICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlcgogICAgICovCiAgICBSZW5kZXIuZW5kVmlld1RyYW5zZm9ybSA9IGZ1bmN0aW9uKHJlbmRlcikgewogICAgICAgIHJlbmRlci5jb250ZXh0LnNldFRyYW5zZm9ybShyZW5kZXIub3B0aW9ucy5waXhlbFJhdGlvLCAwLCAwLCByZW5kZXIub3B0aW9ucy5waXhlbFJhdGlvLCAwLCAwKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBSZW5kZXJzIHRoZSBnaXZlbiBgZW5naW5lYCdzIGBNYXR0ZXIuV29ybGRgIG9iamVjdC4KICAgICAqIFRoaXMgaXMgdGhlIGVudHJ5IHBvaW50IGZvciBhbGwgcmVuZGVyaW5nIGFuZCBzaG91bGQgYmUgY2FsbGVkIGV2ZXJ5IHRpbWUgdGhlIHNjZW5lIGNoYW5nZXMuCiAgICAgKiBAbWV0aG9kIHdvcmxkCiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyCiAgICAgKi8KICAgIFJlbmRlci53b3JsZCA9IGZ1bmN0aW9uKHJlbmRlcikgewogICAgICAgIHZhciBlbmdpbmUgPSByZW5kZXIuZW5naW5lLAogICAgICAgICAgICB3b3JsZCA9IGVuZ2luZS53b3JsZCwKICAgICAgICAgICAgY2FudmFzID0gcmVuZGVyLmNhbnZhcywKICAgICAgICAgICAgY29udGV4dCA9IHJlbmRlci5jb250ZXh0LAogICAgICAgICAgICBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnMsCiAgICAgICAgICAgIGFsbEJvZGllcyA9IENvbXBvc2l0ZS5hbGxCb2RpZXMod29ybGQpLAogICAgICAgICAgICBhbGxDb25zdHJhaW50cyA9IENvbXBvc2l0ZS5hbGxDb25zdHJhaW50cyh3b3JsZCksCiAgICAgICAgICAgIGJhY2tncm91bmQgPSBvcHRpb25zLndpcmVmcmFtZXMgPyBvcHRpb25zLndpcmVmcmFtZUJhY2tncm91bmQgOiBvcHRpb25zLmJhY2tncm91bmQsCiAgICAgICAgICAgIGJvZGllcyA9IFtdLAogICAgICAgICAgICBjb25zdHJhaW50cyA9IFtdLAogICAgICAgICAgICBpOwoKICAgICAgICB2YXIgZXZlbnQgPSB7CiAgICAgICAgICAgIHRpbWVzdGFtcDogZW5naW5lLnRpbWluZy50aW1lc3RhbXAKICAgICAgICB9OwoKICAgICAgICBFdmVudHMudHJpZ2dlcihyZW5kZXIsICdiZWZvcmVSZW5kZXInLCBldmVudCk7CgogICAgICAgIC8vIGFwcGx5IGJhY2tncm91bmQgaWYgaXQgaGFzIGNoYW5nZWQKICAgICAgICBpZiAocmVuZGVyLmN1cnJlbnRCYWNrZ3JvdW5kICE9PSBiYWNrZ3JvdW5kKQogICAgICAgICAgICBfYXBwbHlCYWNrZ3JvdW5kKHJlbmRlciwgYmFja2dyb3VuZCk7CgogICAgICAgIC8vIGNsZWFyIHRoZSBjYW52YXMgd2l0aCBhIHRyYW5zcGFyZW50IGZpbGwsIHRvIGFsbG93IHRoZSBjYW52YXMgYmFja2dyb3VuZCB0byBzaG93CiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLWluJzsKICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICJ0cmFuc3BhcmVudCI7CiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJzsKCiAgICAgICAgLy8gaGFuZGxlIGJvdW5kcwogICAgICAgIGlmIChvcHRpb25zLmhhc0JvdW5kcykgewogICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IGJvZGllcyB0aGF0IGFyZSBub3QgaW4gdmlldwogICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYWxsQm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGFsbEJvZGllc1tpXTsKICAgICAgICAgICAgICAgIGlmIChCb3VuZHMub3ZlcmxhcHMoYm9keS5ib3VuZHMsIHJlbmRlci5ib3VuZHMpKQogICAgICAgICAgICAgICAgICAgIGJvZGllcy5wdXNoKGJvZHkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IGNvbnN0cmFpbnRzIHRoYXQgYXJlIG5vdCBpbiB2aWV3CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhbGxDb25zdHJhaW50cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBhbGxDb25zdHJhaW50c1tpXSwKICAgICAgICAgICAgICAgICAgICBib2R5QSA9IGNvbnN0cmFpbnQuYm9keUEsCiAgICAgICAgICAgICAgICAgICAgYm9keUIgPSBjb25zdHJhaW50LmJvZHlCLAogICAgICAgICAgICAgICAgICAgIHBvaW50QVdvcmxkID0gY29uc3RyYWludC5wb2ludEEsCiAgICAgICAgICAgICAgICAgICAgcG9pbnRCV29ybGQgPSBjb25zdHJhaW50LnBvaW50QjsKCiAgICAgICAgICAgICAgICBpZiAoYm9keUEpIHBvaW50QVdvcmxkID0gVmVjdG9yLmFkZChib2R5QS5wb3NpdGlvbiwgY29uc3RyYWludC5wb2ludEEpOwogICAgICAgICAgICAgICAgaWYgKGJvZHlCKSBwb2ludEJXb3JsZCA9IFZlY3Rvci5hZGQoYm9keUIucG9zaXRpb24sIGNvbnN0cmFpbnQucG9pbnRCKTsKCiAgICAgICAgICAgICAgICBpZiAoIXBvaW50QVdvcmxkIHx8ICFwb2ludEJXb3JsZCkKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgICAgICAgICBpZiAoQm91bmRzLmNvbnRhaW5zKHJlbmRlci5ib3VuZHMsIHBvaW50QVdvcmxkKSB8fCBCb3VuZHMuY29udGFpbnMocmVuZGVyLmJvdW5kcywgcG9pbnRCV29ybGQpKQogICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnRzLnB1c2goY29uc3RyYWludCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIHRyYW5zZm9ybSB0aGUgdmlldwogICAgICAgICAgICBSZW5kZXIuc3RhcnRWaWV3VHJhbnNmb3JtKHJlbmRlcik7CgogICAgICAgICAgICAvLyB1cGRhdGUgbW91c2UKICAgICAgICAgICAgaWYgKHJlbmRlci5tb3VzZSkgewogICAgICAgICAgICAgICAgTW91c2Uuc2V0U2NhbGUocmVuZGVyLm1vdXNlLCB7CiAgICAgICAgICAgICAgICAgICAgeDogKHJlbmRlci5ib3VuZHMubWF4LnggLSByZW5kZXIuYm91bmRzLm1pbi54KSAvIHJlbmRlci5jYW52YXMud2lkdGgsCiAgICAgICAgICAgICAgICAgICAgeTogKHJlbmRlci5ib3VuZHMubWF4LnkgLSByZW5kZXIuYm91bmRzLm1pbi55KSAvIHJlbmRlci5jYW52YXMuaGVpZ2h0CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBNb3VzZS5zZXRPZmZzZXQocmVuZGVyLm1vdXNlLCByZW5kZXIuYm91bmRzLm1pbik7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zdHJhaW50cyA9IGFsbENvbnN0cmFpbnRzOwogICAgICAgICAgICBib2RpZXMgPSBhbGxCb2RpZXM7CiAgICAgICAgfQoKICAgICAgICBpZiAoIW9wdGlvbnMud2lyZWZyYW1lcyB8fCAoZW5naW5lLmVuYWJsZVNsZWVwaW5nICYmIG9wdGlvbnMuc2hvd1NsZWVwaW5nKSkgewogICAgICAgICAgICAvLyBmdWxseSBmZWF0dXJlZCByZW5kZXJpbmcgb2YgYm9kaWVzCiAgICAgICAgICAgIFJlbmRlci5ib2RpZXMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChvcHRpb25zLnNob3dDb252ZXhIdWxscykKICAgICAgICAgICAgICAgIFJlbmRlci5ib2R5Q29udmV4SHVsbHMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpOwoKICAgICAgICAgICAgLy8gb3B0aW1pc2VkIG1ldGhvZCBmb3Igd2lyZWZyYW1lcyBvbmx5CiAgICAgICAgICAgIFJlbmRlci5ib2R5V2lyZWZyYW1lcyhyZW5kZXIsIGJvZGllcywgY29udGV4dCk7CiAgICAgICAgfQoKICAgICAgICBpZiAob3B0aW9ucy5zaG93Qm91bmRzKQogICAgICAgICAgICBSZW5kZXIuYm9keUJvdW5kcyhyZW5kZXIsIGJvZGllcywgY29udGV4dCk7CgogICAgICAgIGlmIChvcHRpb25zLnNob3dBeGVzIHx8IG9wdGlvbnMuc2hvd0FuZ2xlSW5kaWNhdG9yKQogICAgICAgICAgICBSZW5kZXIuYm9keUF4ZXMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpOwogICAgICAgIAogICAgICAgIGlmIChvcHRpb25zLnNob3dQb3NpdGlvbnMpCiAgICAgICAgICAgIFJlbmRlci5ib2R5UG9zaXRpb25zKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KTsKCiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd1ZlbG9jaXR5KQogICAgICAgICAgICBSZW5kZXIuYm9keVZlbG9jaXR5KHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KTsKCiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd0lkcykKICAgICAgICAgICAgUmVuZGVyLmJvZHlJZHMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpOwoKICAgICAgICBpZiAob3B0aW9ucy5zaG93U2VwYXJhdGlvbnMpCiAgICAgICAgICAgIFJlbmRlci5zZXBhcmF0aW9ucyhyZW5kZXIsIGVuZ2luZS5wYWlycy5saXN0LCBjb250ZXh0KTsKCiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd0NvbGxpc2lvbnMpCiAgICAgICAgICAgIFJlbmRlci5jb2xsaXNpb25zKHJlbmRlciwgZW5naW5lLnBhaXJzLmxpc3QsIGNvbnRleHQpOwoKICAgICAgICBpZiAob3B0aW9ucy5zaG93VmVydGV4TnVtYmVycykKICAgICAgICAgICAgUmVuZGVyLnZlcnRleE51bWJlcnMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpOwoKICAgICAgICBpZiAob3B0aW9ucy5zaG93TW91c2VQb3NpdGlvbikKICAgICAgICAgICAgUmVuZGVyLm1vdXNlUG9zaXRpb24ocmVuZGVyLCByZW5kZXIubW91c2UsIGNvbnRleHQpOwoKICAgICAgICBSZW5kZXIuY29uc3RyYWludHMoY29uc3RyYWludHMsIGNvbnRleHQpOwoKICAgICAgICBpZiAob3B0aW9ucy5zaG93QnJvYWRwaGFzZSAmJiBlbmdpbmUuYnJvYWRwaGFzZS5jb250cm9sbGVyID09PSBHcmlkKQogICAgICAgICAgICBSZW5kZXIuZ3JpZChyZW5kZXIsIGVuZ2luZS5icm9hZHBoYXNlLCBjb250ZXh0KTsKCiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd0RlYnVnKQogICAgICAgICAgICBSZW5kZXIuZGVidWcocmVuZGVyLCBjb250ZXh0KTsKCiAgICAgICAgaWYgKG9wdGlvbnMuaGFzQm91bmRzKSB7CiAgICAgICAgICAgIC8vIHJldmVydCB2aWV3IHRyYW5zZm9ybXMKICAgICAgICAgICAgUmVuZGVyLmVuZFZpZXdUcmFuc2Zvcm0ocmVuZGVyKTsKICAgICAgICB9CgogICAgICAgIEV2ZW50cy50cmlnZ2VyKHJlbmRlciwgJ2FmdGVyUmVuZGVyJywgZXZlbnQpOwogICAgfTsKCiAgICAvKioKICAgICAqIERlc2NyaXB0aW9uCiAgICAgKiBAcHJpdmF0ZQogICAgICogQG1ldGhvZCBkZWJ1ZwogICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlcgogICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0CiAgICAgKi8KICAgIFJlbmRlci5kZWJ1ZyA9IGZ1bmN0aW9uKHJlbmRlciwgY29udGV4dCkgewogICAgICAgIHZhciBjID0gY29udGV4dCwKICAgICAgICAgICAgZW5naW5lID0gcmVuZGVyLmVuZ2luZSwKICAgICAgICAgICAgd29ybGQgPSBlbmdpbmUud29ybGQsCiAgICAgICAgICAgIG1ldHJpY3MgPSBlbmdpbmUubWV0cmljcywKICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLAogICAgICAgICAgICBib2RpZXMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKHdvcmxkKSwKICAgICAgICAgICAgc3BhY2UgPSAiICAgICI7CgogICAgICAgIGlmIChlbmdpbmUudGltaW5nLnRpbWVzdGFtcCAtIChyZW5kZXIuZGVidWdUaW1lc3RhbXAgfHwgMCkgPj0gNTAwKSB7CiAgICAgICAgICAgIHZhciB0ZXh0ID0gIiI7CgogICAgICAgICAgICBpZiAobWV0cmljcy50aW1pbmcpIHsKICAgICAgICAgICAgICAgIHRleHQgKz0gImZwczogIiArIE1hdGgucm91bmQobWV0cmljcy50aW1pbmcuZnBzKSArIHNwYWNlOwogICAgICAgICAgICB9CgoKICAgICAgICAgICAgcmVuZGVyLmRlYnVnU3RyaW5nID0gdGV4dDsKICAgICAgICAgICAgcmVuZGVyLmRlYnVnVGltZXN0YW1wID0gZW5naW5lLnRpbWluZy50aW1lc3RhbXA7CiAgICAgICAgfQoKICAgICAgICBpZiAocmVuZGVyLmRlYnVnU3RyaW5nKSB7CiAgICAgICAgICAgIGMuZm9udCA9ICIxMnB4IEFyaWFsIjsKCiAgICAgICAgICAgIGlmIChvcHRpb25zLndpcmVmcmFtZXMpIHsKICAgICAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC41KSc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjLmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDAuNSknOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgc3BsaXQgPSByZW5kZXIuZGVidWdTdHJpbmcuc3BsaXQoJ1xuJyk7CgogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwbGl0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBjLmZpbGxUZXh0KHNwbGl0W2ldLCA1MCwgNTAgKyBpICogMTgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIERlc2NyaXB0aW9uCiAgICAgKiBAcHJpdmF0ZQogICAgICogQG1ldGhvZCBjb25zdHJhaW50cwogICAgICogQHBhcmFtIHtjb25zdHJhaW50W119IGNvbnN0cmFpbnRzCiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHQKICAgICAqLwogICAgUmVuZGVyLmNvbnN0cmFpbnRzID0gZnVuY3Rpb24oY29uc3RyYWludHMsIGNvbnRleHQpIHsKICAgICAgICB2YXIgYyA9IGNvbnRleHQ7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uc3RyYWludHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBjb25zdHJhaW50c1tpXTsKCiAgICAgICAgICAgIGlmICghY29uc3RyYWludC5yZW5kZXIudmlzaWJsZSB8fCAhY29uc3RyYWludC5wb2ludEEgfHwgIWNvbnN0cmFpbnQucG9pbnRCKQogICAgICAgICAgICAgICAgY29udGludWU7CgogICAgICAgICAgICB2YXIgYm9keUEgPSBjb25zdHJhaW50LmJvZHlBLAogICAgICAgICAgICAgICAgYm9keUIgPSBjb25zdHJhaW50LmJvZHlCOwoKICAgICAgICAgICAgaWYgKGJvZHlBKSB7CiAgICAgICAgICAgICAgICBjLmJlZ2luUGF0aCgpOwogICAgICAgICAgICAgICAgYy5tb3ZlVG8oYm9keUEucG9zaXRpb24ueCArIGNvbnN0cmFpbnQucG9pbnRBLngsIGJvZHlBLnBvc2l0aW9uLnkgKyBjb25zdHJhaW50LnBvaW50QS55KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGMuYmVnaW5QYXRoKCk7CiAgICAgICAgICAgICAgICBjLm1vdmVUbyhjb25zdHJhaW50LnBvaW50QS54LCBjb25zdHJhaW50LnBvaW50QS55KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGJvZHlCKSB7CiAgICAgICAgICAgICAgICBjLmxpbmVUbyhib2R5Qi5wb3NpdGlvbi54ICsgY29uc3RyYWludC5wb2ludEIueCwgYm9keUIucG9zaXRpb24ueSArIGNvbnN0cmFpbnQucG9pbnRCLnkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYy5saW5lVG8oY29uc3RyYWludC5wb2ludEIueCwgY29uc3RyYWludC5wb2ludEIueSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChjb25zdHJhaW50LnJlbmRlci5saW5lV2lkdGgpIHsKICAgICAgICAgICAgICAgIGMubGluZVdpZHRoID0gY29uc3RyYWludC5yZW5kZXIubGluZVdpZHRoOwogICAgICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9IGNvbnN0cmFpbnQucmVuZGVyLnN0cm9rZVN0eWxlOwogICAgICAgICAgICAgICAgYy5zdHJva2UoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICAKICAgIC8qKgogICAgICogRGVzY3JpcHRpb24KICAgICAqIEBwcml2YXRlCiAgICAgKiBAbWV0aG9kIGJvZHlTaGFkb3dzCiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyCiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzCiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHQKICAgICAqLwogICAgUmVuZGVyLmJvZHlTaGFkb3dzID0gZnVuY3Rpb24ocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpIHsKICAgICAgICB2YXIgYyA9IGNvbnRleHQsCiAgICAgICAgICAgIGVuZ2luZSA9IHJlbmRlci5lbmdpbmU7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldOwoKICAgICAgICAgICAgaWYgKCFib2R5LnJlbmRlci52aXNpYmxlKQogICAgICAgICAgICAgICAgY29udGludWU7CgogICAgICAgICAgICBpZiAoYm9keS5jaXJjbGVSYWRpdXMpIHsKICAgICAgICAgICAgICAgIGMuYmVnaW5QYXRoKCk7CiAgICAgICAgICAgICAgICBjLmFyYyhib2R5LnBvc2l0aW9uLngsIGJvZHkucG9zaXRpb24ueSwgYm9keS5jaXJjbGVSYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTsKICAgICAgICAgICAgICAgIGMuY2xvc2VQYXRoKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjLmJlZ2luUGF0aCgpOwogICAgICAgICAgICAgICAgYy5tb3ZlVG8oYm9keS52ZXJ0aWNlc1swXS54LCBib2R5LnZlcnRpY2VzWzBdLnkpOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBib2R5LnZlcnRpY2VzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgYy5saW5lVG8oYm9keS52ZXJ0aWNlc1tqXS54LCBib2R5LnZlcnRpY2VzW2pdLnkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYy5jbG9zZVBhdGgoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIGRpc3RhbmNlWCA9IGJvZHkucG9zaXRpb24ueCAtIHJlbmRlci5vcHRpb25zLndpZHRoICogMC41LAogICAgICAgICAgICAgICAgZGlzdGFuY2VZID0gYm9keS5wb3NpdGlvbi55IC0gcmVuZGVyLm9wdGlvbnMuaGVpZ2h0ICogMC4yLAogICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhkaXN0YW5jZVgpICsgTWF0aC5hYnMoZGlzdGFuY2VZKTsKCiAgICAgICAgICAgIGMuc2hhZG93Q29sb3IgPSAncmdiYSgwLDAsMCwwLjE1KSc7CiAgICAgICAgICAgIGMuc2hhZG93T2Zmc2V0WCA9IDAuMDUgKiBkaXN0YW5jZVg7CiAgICAgICAgICAgIGMuc2hhZG93T2Zmc2V0WSA9IDAuMDUgKiBkaXN0YW5jZVk7CiAgICAgICAgICAgIGMuc2hhZG93Qmx1ciA9IDEgKyAxMiAqIE1hdGgubWluKDEsIGRpc3RhbmNlIC8gMTAwMCk7CgogICAgICAgICAgICBjLmZpbGwoKTsKCiAgICAgICAgICAgIGMuc2hhZG93Q29sb3IgPSBudWxsOwogICAgICAgICAgICBjLnNoYWRvd09mZnNldFggPSBudWxsOwogICAgICAgICAgICBjLnNoYWRvd09mZnNldFkgPSBudWxsOwogICAgICAgICAgICBjLnNoYWRvd0JsdXIgPSBudWxsOwogICAgICAgIH0KICAgIH07CgogICAgLyoqCiAgICAgKiBEZXNjcmlwdGlvbgogICAgICogQHByaXZhdGUKICAgICAqIEBtZXRob2QgYm9kaWVzCiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyCiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzCiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHQKICAgICAqLwogICAgUmVuZGVyLmJvZGllcyA9IGZ1bmN0aW9uKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KSB7CiAgICAgICAgdmFyIGMgPSBjb250ZXh0LAogICAgICAgICAgICBlbmdpbmUgPSByZW5kZXIuZW5naW5lLAogICAgICAgICAgICBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnMsCiAgICAgICAgICAgIHNob3dJbnRlcm5hbEVkZ2VzID0gb3B0aW9ucy5zaG93SW50ZXJuYWxFZGdlcyB8fCAhb3B0aW9ucy53aXJlZnJhbWVzLAogICAgICAgICAgICBib2R5LAogICAgICAgICAgICBwYXJ0LAogICAgICAgICAgICBpLAogICAgICAgICAgICBrOwoKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGJvZHkgPSBib2RpZXNbaV07CgogICAgICAgICAgICBpZiAoIWJvZHkucmVuZGVyLnZpc2libGUpCiAgICAgICAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgICAgIC8vIGhhbmRsZSBjb21wb3VuZCBwYXJ0cwogICAgICAgICAgICBmb3IgKGsgPSBib2R5LnBhcnRzLmxlbmd0aCA+IDEgPyAxIDogMDsgayA8IGJvZHkucGFydHMubGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgICAgIHBhcnQgPSBib2R5LnBhcnRzW2tdOwoKICAgICAgICAgICAgICAgIGlmICghcGFydC5yZW5kZXIudmlzaWJsZSkKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zaG93U2xlZXBpbmcgJiYgYm9keS5pc1NsZWVwaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgYy5nbG9iYWxBbHBoYSA9IDAuNSAqIHBhcnQucmVuZGVyLm9wYWNpdHk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnQucmVuZGVyLm9wYWNpdHkgIT09IDEpIHsKICAgICAgICAgICAgICAgICAgICBjLmdsb2JhbEFscGhhID0gcGFydC5yZW5kZXIub3BhY2l0eTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAocGFydC5yZW5kZXIuc3ByaXRlICYmIHBhcnQucmVuZGVyLnNwcml0ZS50ZXh0dXJlICYmICFvcHRpb25zLndpcmVmcmFtZXMpIHsKICAgICAgICAgICAgICAgICAgICAvLyBwYXJ0IHNwcml0ZQogICAgICAgICAgICAgICAgICAgIHZhciBzcHJpdGUgPSBwYXJ0LnJlbmRlci5zcHJpdGUsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUgPSBfZ2V0VGV4dHVyZShyZW5kZXIsIHNwcml0ZS50ZXh0dXJlKTsKCiAgICAgICAgICAgICAgICAgICAgYy50cmFuc2xhdGUocGFydC5wb3NpdGlvbi54LCBwYXJ0LnBvc2l0aW9uLnkpOyAKICAgICAgICAgICAgICAgICAgICBjLnJvdGF0ZShwYXJ0LmFuZ2xlKTsKCiAgICAgICAgICAgICAgICAgICAgYy5kcmF3SW1hZ2UoCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUud2lkdGggKiAtc3ByaXRlLnhPZmZzZXQgKiBzcHJpdGUueFNjYWxlLCAKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5oZWlnaHQgKiAtc3ByaXRlLnlPZmZzZXQgKiBzcHJpdGUueVNjYWxlLCAKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS53aWR0aCAqIHNwcml0ZS54U2NhbGUsIAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLmhlaWdodCAqIHNwcml0ZS55U2NhbGUKICAgICAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgICAgICAvLyByZXZlcnQgdHJhbnNsYXRpb24sIGhvcGVmdWxseSBmYXN0ZXIgdGhhbiBzYXZlIC8gcmVzdG9yZQogICAgICAgICAgICAgICAgICAgIGMucm90YXRlKC1wYXJ0LmFuZ2xlKTsKICAgICAgICAgICAgICAgICAgICBjLnRyYW5zbGF0ZSgtcGFydC5wb3NpdGlvbi54LCAtcGFydC5wb3NpdGlvbi55KTsgCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIHBhcnQgcG9seWdvbgogICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LmNpcmNsZVJhZGl1cykgewogICAgICAgICAgICAgICAgICAgICAgICBjLmJlZ2luUGF0aCgpOwogICAgICAgICAgICAgICAgICAgICAgICBjLmFyYyhwYXJ0LnBvc2l0aW9uLngsIHBhcnQucG9zaXRpb24ueSwgcGFydC5jaXJjbGVSYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBjLmJlZ2luUGF0aCgpOwogICAgICAgICAgICAgICAgICAgICAgICBjLm1vdmVUbyhwYXJ0LnZlcnRpY2VzWzBdLngsIHBhcnQudmVydGljZXNbMF0ueSk7CgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMTsgaiA8IHBhcnQudmVydGljZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGFydC52ZXJ0aWNlc1tqIC0gMV0uaXNJbnRlcm5hbCB8fCBzaG93SW50ZXJuYWxFZGdlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMubGluZVRvKHBhcnQudmVydGljZXNbal0ueCwgcGFydC52ZXJ0aWNlc1tqXS55KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5tb3ZlVG8ocGFydC52ZXJ0aWNlc1tqXS54LCBwYXJ0LnZlcnRpY2VzW2pdLnkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LnZlcnRpY2VzW2pdLmlzSW50ZXJuYWwgJiYgIXNob3dJbnRlcm5hbEVkZ2VzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5tb3ZlVG8ocGFydC52ZXJ0aWNlc1soaiArIDEpICUgcGFydC52ZXJ0aWNlcy5sZW5ndGhdLngsIHBhcnQudmVydGljZXNbKGogKyAxKSAlIHBhcnQudmVydGljZXMubGVuZ3RoXS55KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgYy5saW5lVG8ocGFydC52ZXJ0aWNlc1swXS54LCBwYXJ0LnZlcnRpY2VzWzBdLnkpOwogICAgICAgICAgICAgICAgICAgICAgICBjLmNsb3NlUGF0aCgpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLndpcmVmcmFtZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYy5maWxsU3R5bGUgPSBwYXJ0LnJlbmRlci5maWxsU3R5bGU7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydC5yZW5kZXIubGluZVdpZHRoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmxpbmVXaWR0aCA9IHBhcnQucmVuZGVyLmxpbmVXaWR0aDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSBwYXJ0LnJlbmRlci5zdHJva2VTdHlsZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuc3Ryb2tlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGMuZmlsbCgpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGMubGluZVdpZHRoID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9ICcjYmJiJzsKICAgICAgICAgICAgICAgICAgICAgICAgYy5zdHJva2UoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYy5nbG9iYWxBbHBoYSA9IDE7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogT3B0aW1pc2VkIG1ldGhvZCBmb3IgZHJhd2luZyBib2R5IHdpcmVmcmFtZXMgaW4gb25lIHBhc3MKICAgICAqIEBwcml2YXRlCiAgICAgKiBAbWV0aG9kIGJvZHlXaXJlZnJhbWVzCiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyCiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzCiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHQKICAgICAqLwogICAgUmVuZGVyLmJvZHlXaXJlZnJhbWVzID0gZnVuY3Rpb24ocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpIHsKICAgICAgICB2YXIgYyA9IGNvbnRleHQsCiAgICAgICAgICAgIHNob3dJbnRlcm5hbEVkZ2VzID0gcmVuZGVyLm9wdGlvbnMuc2hvd0ludGVybmFsRWRnZXMsCiAgICAgICAgICAgIGJvZHksCiAgICAgICAgICAgIHBhcnQsCiAgICAgICAgICAgIGksCiAgICAgICAgICAgIGosCiAgICAgICAgICAgIGs7CgogICAgICAgIGMuYmVnaW5QYXRoKCk7CgogICAgICAgIC8vIHJlbmRlciBhbGwgYm9kaWVzCiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBib2R5ID0gYm9kaWVzW2ldOwoKICAgICAgICAgICAgaWYgKCFib2R5LnJlbmRlci52aXNpYmxlKQogICAgICAgICAgICAgICAgY29udGludWU7CgogICAgICAgICAgICAvLyBoYW5kbGUgY29tcG91bmQgcGFydHMKICAgICAgICAgICAgZm9yIChrID0gYm9keS5wYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7IGsgPCBib2R5LnBhcnRzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgICAgICBwYXJ0ID0gYm9keS5wYXJ0c1trXTsKCiAgICAgICAgICAgICAgICBjLm1vdmVUbyhwYXJ0LnZlcnRpY2VzWzBdLngsIHBhcnQudmVydGljZXNbMF0ueSk7CgogICAgICAgICAgICAgICAgZm9yIChqID0gMTsgaiA8IHBhcnQudmVydGljZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcnQudmVydGljZXNbaiAtIDFdLmlzSW50ZXJuYWwgfHwgc2hvd0ludGVybmFsRWRnZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYy5saW5lVG8ocGFydC52ZXJ0aWNlc1tqXS54LCBwYXJ0LnZlcnRpY2VzW2pdLnkpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGMubW92ZVRvKHBhcnQudmVydGljZXNbal0ueCwgcGFydC52ZXJ0aWNlc1tqXS55KTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LnZlcnRpY2VzW2pdLmlzSW50ZXJuYWwgJiYgIXNob3dJbnRlcm5hbEVkZ2VzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGMubW92ZVRvKHBhcnQudmVydGljZXNbKGogKyAxKSAlIHBhcnQudmVydGljZXMubGVuZ3RoXS54LCBwYXJ0LnZlcnRpY2VzWyhqICsgMSkgJSBwYXJ0LnZlcnRpY2VzLmxlbmd0aF0ueSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjLmxpbmVUbyhwYXJ0LnZlcnRpY2VzWzBdLngsIHBhcnQudmVydGljZXNbMF0ueSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGMubGluZVdpZHRoID0gMTsKICAgICAgICBjLnN0cm9rZVN0eWxlID0gJyNiYmInOwogICAgICAgIGMuc3Ryb2tlKCk7CiAgICB9OwoKICAgIC8qKgogICAgICogT3B0aW1pc2VkIG1ldGhvZCBmb3IgZHJhd2luZyBib2R5IGNvbnZleCBodWxsIHdpcmVmcmFtZXMgaW4gb25lIHBhc3MKICAgICAqIEBwcml2YXRlCiAgICAgKiBAbWV0aG9kIGJvZHlDb252ZXhIdWxscwogICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlcgogICAgICogQHBhcmFtIHtib2R5W119IGJvZGllcwogICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0CiAgICAgKi8KICAgIFJlbmRlci5ib2R5Q29udmV4SHVsbHMgPSBmdW5jdGlvbihyZW5kZXIsIGJvZGllcywgY29udGV4dCkgewogICAgICAgIHZhciBjID0gY29udGV4dCwKICAgICAgICAgICAgYm9keSwKICAgICAgICAgICAgcGFydCwKICAgICAgICAgICAgaSwKICAgICAgICAgICAgaiwKICAgICAgICAgICAgazsKCiAgICAgICAgYy5iZWdpblBhdGgoKTsKCiAgICAgICAgLy8gcmVuZGVyIGNvbnZleCBodWxscwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgYm9keSA9IGJvZGllc1tpXTsKCiAgICAgICAgICAgIGlmICghYm9keS5yZW5kZXIudmlzaWJsZSB8fCBib2R5LnBhcnRzLmxlbmd0aCA9PT0gMSkKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICAgICAgYy5tb3ZlVG8oYm9keS52ZXJ0aWNlc1swXS54LCBib2R5LnZlcnRpY2VzWzBdLnkpOwoKICAgICAgICAgICAgZm9yIChqID0gMTsgaiA8IGJvZHkudmVydGljZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgIGMubGluZVRvKGJvZHkudmVydGljZXNbal0ueCwgYm9keS52ZXJ0aWNlc1tqXS55KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgYy5saW5lVG8oYm9keS52ZXJ0aWNlc1swXS54LCBib2R5LnZlcnRpY2VzWzBdLnkpOwogICAgICAgIH0KCiAgICAgICAgYy5saW5lV2lkdGggPSAxOwogICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjIpJzsKICAgICAgICBjLnN0cm9rZSgpOwogICAgfTsKCiAgICAvKioKICAgICAqIFJlbmRlcnMgYm9keSB2ZXJ0ZXggbnVtYmVycy4KICAgICAqIEBwcml2YXRlCiAgICAgKiBAbWV0aG9kIHZlcnRleE51bWJlcnMKICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXIKICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXMKICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dAogICAgICovCiAgICBSZW5kZXIudmVydGV4TnVtYmVycyA9IGZ1bmN0aW9uKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KSB7CiAgICAgICAgdmFyIGMgPSBjb250ZXh0LAogICAgICAgICAgICBpLAogICAgICAgICAgICBqLAogICAgICAgICAgICBrOwoKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBwYXJ0cyA9IGJvZGllc1tpXS5wYXJ0czsKICAgICAgICAgICAgZm9yIChrID0gcGFydHMubGVuZ3RoID4gMSA/IDEgOiAwOyBrIDwgcGFydHMubGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gcGFydHNba107CiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcGFydC52ZXJ0aWNlcy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC4yKSc7CiAgICAgICAgICAgICAgICAgICAgYy5maWxsVGV4dChpICsgJ18nICsgaiwgcGFydC5wb3NpdGlvbi54ICsgKHBhcnQudmVydGljZXNbal0ueCAtIHBhcnQucG9zaXRpb24ueCkgKiAwLjgsIHBhcnQucG9zaXRpb24ueSArIChwYXJ0LnZlcnRpY2VzW2pdLnkgLSBwYXJ0LnBvc2l0aW9uLnkpICogMC44KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CgogICAgLyoqCiAgICAgKiBSZW5kZXJzIG1vdXNlIHBvc2l0aW9uLgogICAgICogQHByaXZhdGUKICAgICAqIEBtZXRob2QgbW91c2VQb3NpdGlvbgogICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlcgogICAgICogQHBhcmFtIHttb3VzZX0gbW91c2UKICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dAogICAgICovCiAgICBSZW5kZXIubW91c2VQb3NpdGlvbiA9IGZ1bmN0aW9uKHJlbmRlciwgbW91c2UsIGNvbnRleHQpIHsKICAgICAgICB2YXIgYyA9IGNvbnRleHQ7CiAgICAgICAgYy5maWxsU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjgpJzsKICAgICAgICBjLmZpbGxUZXh0KG1vdXNlLnBvc2l0aW9uLnggKyAnICAnICsgbW91c2UucG9zaXRpb24ueSwgbW91c2UucG9zaXRpb24ueCArIDUsIG1vdXNlLnBvc2l0aW9uLnkgLSA1KTsKICAgIH07CgogICAgLyoqCiAgICAgKiBEcmF3cyBib2R5IGJvdW5kcwogICAgICogQHByaXZhdGUKICAgICAqIEBtZXRob2QgYm9keUJvdW5kcwogICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlcgogICAgICogQHBhcmFtIHtib2R5W119IGJvZGllcwogICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0CiAgICAgKi8KICAgIFJlbmRlci5ib2R5Qm91bmRzID0gZnVuY3Rpb24ocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpIHsKICAgICAgICB2YXIgYyA9IGNvbnRleHQsCiAgICAgICAgICAgIGVuZ2luZSA9IHJlbmRlci5lbmdpbmUsCiAgICAgICAgICAgIG9wdGlvbnMgPSByZW5kZXIub3B0aW9uczsKCiAgICAgICAgYy5iZWdpblBhdGgoKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07CgogICAgICAgICAgICBpZiAoYm9keS5yZW5kZXIudmlzaWJsZSkgewogICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gYm9kaWVzW2ldLnBhcnRzOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IHBhcnRzLmxlbmd0aCA+IDEgPyAxIDogMDsgaiA8IHBhcnRzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tqXTsKICAgICAgICAgICAgICAgICAgICBjLnJlY3QocGFydC5ib3VuZHMubWluLngsIHBhcnQuYm91bmRzLm1pbi55LCBwYXJ0LmJvdW5kcy5tYXgueCAtIHBhcnQuYm91bmRzLm1pbi54LCBwYXJ0LmJvdW5kcy5tYXgueSAtIHBhcnQuYm91bmRzLm1pbi55KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKG9wdGlvbnMud2lyZWZyYW1lcykgewogICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC4wOCknOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAncmdiYSgwLDAsMCwwLjEpJzsKICAgICAgICB9CgogICAgICAgIGMubGluZVdpZHRoID0gMTsKICAgICAgICBjLnN0cm9rZSgpOwogICAgfTsKCiAgICAvKioKICAgICAqIERyYXdzIGJvZHkgYW5nbGUgaW5kaWNhdG9ycyBhbmQgYXhlcwogICAgICogQHByaXZhdGUKICAgICAqIEBtZXRob2QgYm9keUF4ZXMKICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXIKICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXMKICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dAogICAgICovCiAgICBSZW5kZXIuYm9keUF4ZXMgPSBmdW5jdGlvbihyZW5kZXIsIGJvZGllcywgY29udGV4dCkgewogICAgICAgIHZhciBjID0gY29udGV4dCwKICAgICAgICAgICAgZW5naW5lID0gcmVuZGVyLmVuZ2luZSwKICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLAogICAgICAgICAgICBwYXJ0LAogICAgICAgICAgICBpLAogICAgICAgICAgICBqLAogICAgICAgICAgICBrOwoKICAgICAgICBjLmJlZ2luUGF0aCgpOwoKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldLAogICAgICAgICAgICAgICAgcGFydHMgPSBib2R5LnBhcnRzOwoKICAgICAgICAgICAgaWYgKCFib2R5LnJlbmRlci52aXNpYmxlKQogICAgICAgICAgICAgICAgY29udGludWU7CgogICAgICAgICAgICBpZiAob3B0aW9ucy5zaG93QXhlcykgewogICAgICAgICAgICAgICAgLy8gcmVuZGVyIGFsbCBheGVzCiAgICAgICAgICAgICAgICBmb3IgKGogPSBwYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7IGogPCBwYXJ0cy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgICAgIHBhcnQgPSBwYXJ0c1tqXTsKICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgcGFydC5heGVzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBheGlzID0gcGFydC5heGVzW2tdOwogICAgICAgICAgICAgICAgICAgICAgICBjLm1vdmVUbyhwYXJ0LnBvc2l0aW9uLngsIHBhcnQucG9zaXRpb24ueSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGMubGluZVRvKHBhcnQucG9zaXRpb24ueCArIGF4aXMueCAqIDIwLCBwYXJ0LnBvc2l0aW9uLnkgKyBheGlzLnkgKiAyMCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZm9yIChqID0gcGFydHMubGVuZ3RoID4gMSA/IDEgOiAwOyBqIDwgcGFydHMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gcGFydHNbal07CiAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IHBhcnQuYXhlcy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICAgICAgICAgICAgICAvLyByZW5kZXIgYSBzaW5nbGUgYXhpcyBpbmRpY2F0b3IKICAgICAgICAgICAgICAgICAgICAgICAgYy5tb3ZlVG8ocGFydC5wb3NpdGlvbi54LCBwYXJ0LnBvc2l0aW9uLnkpOwogICAgICAgICAgICAgICAgICAgICAgICBjLmxpbmVUbygocGFydC52ZXJ0aWNlc1swXS54ICsgcGFydC52ZXJ0aWNlc1twYXJ0LnZlcnRpY2VzLmxlbmd0aC0xXS54KSAvIDIsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocGFydC52ZXJ0aWNlc1swXS55ICsgcGFydC52ZXJ0aWNlc1twYXJ0LnZlcnRpY2VzLmxlbmd0aC0xXS55KSAvIDIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKG9wdGlvbnMud2lyZWZyYW1lcykgewogICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ2luZGlhbnJlZCc7CiAgICAgICAgICAgIGMubGluZVdpZHRoID0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC40KSc7CiAgICAgICAgICAgIGMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ292ZXJsYXknOwogICAgICAgICAgICBjLmxpbmVXaWR0aCA9IDI7CiAgICAgICAgfQoKICAgICAgICBjLnN0cm9rZSgpOwogICAgICAgIGMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJzsKICAgIH07CgogICAgLyoqCiAgICAgKiBEcmF3cyBib2R5IHBvc2l0aW9ucwogICAgICogQHByaXZhdGUKICAgICAqIEBtZXRob2QgYm9keVBvc2l0aW9ucwogICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlcgogICAgICogQHBhcmFtIHtib2R5W119IGJvZGllcwogICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0CiAgICAgKi8KICAgIFJlbmRlci5ib2R5UG9zaXRpb25zID0gZnVuY3Rpb24ocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpIHsKICAgICAgICB2YXIgYyA9IGNvbnRleHQsCiAgICAgICAgICAgIGVuZ2luZSA9IHJlbmRlci5lbmdpbmUsCiAgICAgICAgICAgIG9wdGlvbnMgPSByZW5kZXIub3B0aW9ucywKICAgICAgICAgICAgYm9keSwKICAgICAgICAgICAgcGFydCwKICAgICAgICAgICAgaSwKICAgICAgICAgICAgazsKCiAgICAgICAgYy5iZWdpblBhdGgoKTsKCiAgICAgICAgLy8gcmVuZGVyIGN1cnJlbnQgcG9zaXRpb25zCiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBib2R5ID0gYm9kaWVzW2ldOwoKICAgICAgICAgICAgaWYgKCFib2R5LnJlbmRlci52aXNpYmxlKQogICAgICAgICAgICAgICAgY29udGludWU7CgogICAgICAgICAgICAvLyBoYW5kbGUgY29tcG91bmQgcGFydHMKICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IGJvZHkucGFydHMubGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgICAgIHBhcnQgPSBib2R5LnBhcnRzW2tdOwogICAgICAgICAgICAgICAgYy5hcmMocGFydC5wb3NpdGlvbi54LCBwYXJ0LnBvc2l0aW9uLnksIDMsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBjLmNsb3NlUGF0aCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAob3B0aW9ucy53aXJlZnJhbWVzKSB7CiAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gJ2luZGlhbnJlZCc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYy5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwwLjUpJzsKICAgICAgICB9CiAgICAgICAgYy5maWxsKCk7CgogICAgICAgIGMuYmVnaW5QYXRoKCk7CgogICAgICAgIC8vIHJlbmRlciBwcmV2aW91cyBwb3NpdGlvbnMKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGJvZHkgPSBib2RpZXNbaV07CiAgICAgICAgICAgIGlmIChib2R5LnJlbmRlci52aXNpYmxlKSB7CiAgICAgICAgICAgICAgICBjLmFyYyhib2R5LnBvc2l0aW9uUHJldi54LCBib2R5LnBvc2l0aW9uUHJldi55LCAyLCAwLCAyICogTWF0aC5QSSwgZmFsc2UpOwogICAgICAgICAgICAgICAgYy5jbG9zZVBhdGgoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYy5maWxsU3R5bGUgPSAncmdiYSgyNTUsMTY1LDAsMC44KSc7CiAgICAgICAgYy5maWxsKCk7CiAgICB9OwoKICAgIC8qKgogICAgICogRHJhd3MgYm9keSB2ZWxvY2l0eQogICAgICogQHByaXZhdGUKICAgICAqIEBtZXRob2QgYm9keVZlbG9jaXR5CiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyCiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzCiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHQKICAgICAqLwogICAgUmVuZGVyLmJvZHlWZWxvY2l0eSA9IGZ1bmN0aW9uKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KSB7CiAgICAgICAgdmFyIGMgPSBjb250ZXh0OwoKICAgICAgICBjLmJlZ2luUGF0aCgpOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXTsKCiAgICAgICAgICAgIGlmICghYm9keS5yZW5kZXIudmlzaWJsZSkKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICAgICAgYy5tb3ZlVG8oYm9keS5wb3NpdGlvbi54LCBib2R5LnBvc2l0aW9uLnkpOwogICAgICAgICAgICBjLmxpbmVUbyhib2R5LnBvc2l0aW9uLnggKyAoYm9keS5wb3NpdGlvbi54IC0gYm9keS5wb3NpdGlvblByZXYueCkgKiAyLCBib2R5LnBvc2l0aW9uLnkgKyAoYm9keS5wb3NpdGlvbi55IC0gYm9keS5wb3NpdGlvblByZXYueSkgKiAyKTsKICAgICAgICB9CgogICAgICAgIGMubGluZVdpZHRoID0gMzsKICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ2Nvcm5mbG93ZXJibHVlJzsKICAgICAgICBjLnN0cm9rZSgpOwogICAgfTsKCiAgICAvKioKICAgICAqIERyYXdzIGJvZHkgaWRzCiAgICAgKiBAcHJpdmF0ZQogICAgICogQG1ldGhvZCBib2R5SWRzCiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyCiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzCiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHQKICAgICAqLwogICAgUmVuZGVyLmJvZHlJZHMgPSBmdW5jdGlvbihyZW5kZXIsIGJvZGllcywgY29udGV4dCkgewogICAgICAgIHZhciBjID0gY29udGV4dCwKICAgICAgICAgICAgaSwKICAgICAgICAgICAgajsKCiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoIWJvZGllc1tpXS5yZW5kZXIudmlzaWJsZSkKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICAgICAgdmFyIHBhcnRzID0gYm9kaWVzW2ldLnBhcnRzOwogICAgICAgICAgICBmb3IgKGogPSBwYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7IGogPCBwYXJ0cy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tqXTsKICAgICAgICAgICAgICAgIGMuZm9udCA9ICIxMnB4IEFyaWFsIjsKICAgICAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC41KSc7CiAgICAgICAgICAgICAgICBjLmZpbGxUZXh0KHBhcnQuaWQsIHBhcnQucG9zaXRpb24ueCArIDEwLCBwYXJ0LnBvc2l0aW9uLnkgLSAxMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogRGVzY3JpcHRpb24KICAgICAqIEBwcml2YXRlCiAgICAgKiBAbWV0aG9kIGNvbGxpc2lvbnMKICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXIKICAgICAqIEBwYXJhbSB7cGFpcltdfSBwYWlycwogICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0CiAgICAgKi8KICAgIFJlbmRlci5jb2xsaXNpb25zID0gZnVuY3Rpb24ocmVuZGVyLCBwYWlycywgY29udGV4dCkgewogICAgICAgIHZhciBjID0gY29udGV4dCwKICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLAogICAgICAgICAgICBwYWlyLAogICAgICAgICAgICBjb2xsaXNpb24sCiAgICAgICAgICAgIGNvcnJlY3RlZCwKICAgICAgICAgICAgYm9keUEsCiAgICAgICAgICAgIGJvZHlCLAogICAgICAgICAgICBpLAogICAgICAgICAgICBqOwoKICAgICAgICBjLmJlZ2luUGF0aCgpOwoKICAgICAgICAvLyByZW5kZXIgY29sbGlzaW9uIHBvc2l0aW9ucwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBwYWlyID0gcGFpcnNbaV07CgogICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUpCiAgICAgICAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgICAgIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uOwogICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcGFpci5hY3RpdmVDb250YWN0cy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgdmFyIGNvbnRhY3QgPSBwYWlyLmFjdGl2ZUNvbnRhY3RzW2pdLAogICAgICAgICAgICAgICAgICAgIHZlcnRleCA9IGNvbnRhY3QudmVydGV4OwogICAgICAgICAgICAgICAgYy5yZWN0KHZlcnRleC54IC0gMS41LCB2ZXJ0ZXgueSAtIDEuNSwgMy41LCAzLjUpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAob3B0aW9ucy53aXJlZnJhbWVzKSB7CiAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC43KSc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYy5maWxsU3R5bGUgPSAnb3JhbmdlJzsKICAgICAgICB9CiAgICAgICAgYy5maWxsKCk7CgogICAgICAgIGMuYmVnaW5QYXRoKCk7CiAgICAgICAgICAgIAogICAgICAgIC8vIHJlbmRlciBjb2xsaXNpb24gbm9ybWFscwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBwYWlyID0gcGFpcnNbaV07CgogICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUpCiAgICAgICAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgICAgIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uOwoKICAgICAgICAgICAgaWYgKHBhaXIuYWN0aXZlQ29udGFjdHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgdmFyIG5vcm1hbFBvc1ggPSBwYWlyLmFjdGl2ZUNvbnRhY3RzWzBdLnZlcnRleC54LAogICAgICAgICAgICAgICAgICAgIG5vcm1hbFBvc1kgPSBwYWlyLmFjdGl2ZUNvbnRhY3RzWzBdLnZlcnRleC55OwoKICAgICAgICAgICAgICAgIGlmIChwYWlyLmFjdGl2ZUNvbnRhY3RzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICAgIG5vcm1hbFBvc1ggPSAocGFpci5hY3RpdmVDb250YWN0c1swXS52ZXJ0ZXgueCArIHBhaXIuYWN0aXZlQ29udGFjdHNbMV0udmVydGV4LngpIC8gMjsKICAgICAgICAgICAgICAgICAgICBub3JtYWxQb3NZID0gKHBhaXIuYWN0aXZlQ29udGFjdHNbMF0udmVydGV4LnkgKyBwYWlyLmFjdGl2ZUNvbnRhY3RzWzFdLnZlcnRleC55KSAvIDI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb24uYm9keUIgPT09IGNvbGxpc2lvbi5zdXBwb3J0c1swXS5ib2R5IHx8IGNvbGxpc2lvbi5ib2R5QS5pc1N0YXRpYyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgIGMubW92ZVRvKG5vcm1hbFBvc1ggLSBjb2xsaXNpb24ubm9ybWFsLnggKiA4LCBub3JtYWxQb3NZIC0gY29sbGlzaW9uLm5vcm1hbC55ICogOCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGMubW92ZVRvKG5vcm1hbFBvc1ggKyBjb2xsaXNpb24ubm9ybWFsLnggKiA4LCBub3JtYWxQb3NZICsgY29sbGlzaW9uLm5vcm1hbC55ICogOCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYy5saW5lVG8obm9ybWFsUG9zWCwgbm9ybWFsUG9zWSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChvcHRpb25zLndpcmVmcmFtZXMpIHsKICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwxNjUsMCwwLjcpJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ29yYW5nZSc7CiAgICAgICAgfQoKICAgICAgICBjLmxpbmVXaWR0aCA9IDE7CiAgICAgICAgYy5zdHJva2UoKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBEZXNjcmlwdGlvbgogICAgICogQHByaXZhdGUKICAgICAqIEBtZXRob2Qgc2VwYXJhdGlvbnMKICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXIKICAgICAqIEBwYXJhbSB7cGFpcltdfSBwYWlycwogICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0CiAgICAgKi8KICAgIFJlbmRlci5zZXBhcmF0aW9ucyA9IGZ1bmN0aW9uKHJlbmRlciwgcGFpcnMsIGNvbnRleHQpIHsKICAgICAgICB2YXIgYyA9IGNvbnRleHQsCiAgICAgICAgICAgIG9wdGlvbnMgPSByZW5kZXIub3B0aW9ucywKICAgICAgICAgICAgcGFpciwKICAgICAgICAgICAgY29sbGlzaW9uLAogICAgICAgICAgICBjb3JyZWN0ZWQsCiAgICAgICAgICAgIGJvZHlBLAogICAgICAgICAgICBib2R5QiwKICAgICAgICAgICAgaSwKICAgICAgICAgICAgajsKCiAgICAgICAgYy5iZWdpblBhdGgoKTsKCiAgICAgICAgLy8gcmVuZGVyIHNlcGFyYXRpb25zCiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHBhaXIgPSBwYWlyc1tpXTsKCiAgICAgICAgICAgIGlmICghcGFpci5pc0FjdGl2ZSkKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwoKICAgICAgICAgICAgY29sbGlzaW9uID0gcGFpci5jb2xsaXNpb247CiAgICAgICAgICAgIGJvZHlBID0gY29sbGlzaW9uLmJvZHlBOwogICAgICAgICAgICBib2R5QiA9IGNvbGxpc2lvbi5ib2R5QjsKCiAgICAgICAgICAgIHZhciBrID0gMTsKCiAgICAgICAgICAgIGlmICghYm9keUIuaXNTdGF0aWMgJiYgIWJvZHlBLmlzU3RhdGljKSBrID0gMC41OwogICAgICAgICAgICBpZiAoYm9keUIuaXNTdGF0aWMpIGsgPSAwOwoKICAgICAgICAgICAgYy5tb3ZlVG8oYm9keUIucG9zaXRpb24ueCwgYm9keUIucG9zaXRpb24ueSk7CiAgICAgICAgICAgIGMubGluZVRvKGJvZHlCLnBvc2l0aW9uLnggLSBjb2xsaXNpb24ucGVuZXRyYXRpb24ueCAqIGssIGJvZHlCLnBvc2l0aW9uLnkgLSBjb2xsaXNpb24ucGVuZXRyYXRpb24ueSAqIGspOwoKICAgICAgICAgICAgayA9IDE7CgogICAgICAgICAgICBpZiAoIWJvZHlCLmlzU3RhdGljICYmICFib2R5QS5pc1N0YXRpYykgayA9IDAuNTsKICAgICAgICAgICAgaWYgKGJvZHlBLmlzU3RhdGljKSBrID0gMDsKCiAgICAgICAgICAgIGMubW92ZVRvKGJvZHlBLnBvc2l0aW9uLngsIGJvZHlBLnBvc2l0aW9uLnkpOwogICAgICAgICAgICBjLmxpbmVUbyhib2R5QS5wb3NpdGlvbi54ICsgY29sbGlzaW9uLnBlbmV0cmF0aW9uLnggKiBrLCBib2R5QS5wb3NpdGlvbi55ICsgY29sbGlzaW9uLnBlbmV0cmF0aW9uLnkgKiBrKTsKICAgICAgICB9CgogICAgICAgIGlmIChvcHRpb25zLndpcmVmcmFtZXMpIHsKICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwxNjUsMCwwLjUpJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ29yYW5nZSc7CiAgICAgICAgfQogICAgICAgIGMuc3Ryb2tlKCk7CiAgICB9OwoKICAgIC8qKgogICAgICogRGVzY3JpcHRpb24KICAgICAqIEBwcml2YXRlCiAgICAgKiBAbWV0aG9kIGdyaWQKICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXIKICAgICAqIEBwYXJhbSB7Z3JpZH0gZ3JpZAogICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0CiAgICAgKi8KICAgIFJlbmRlci5ncmlkID0gZnVuY3Rpb24ocmVuZGVyLCBncmlkLCBjb250ZXh0KSB7CiAgICAgICAgdmFyIGMgPSBjb250ZXh0LAogICAgICAgICAgICBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnM7CgogICAgICAgIGlmIChvcHRpb25zLndpcmVmcmFtZXMpIHsKICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwxODAsMCwwLjEpJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDE4MCwwLDAuNSknOwogICAgICAgIH0KCiAgICAgICAgYy5iZWdpblBhdGgoKTsKCiAgICAgICAgdmFyIGJ1Y2tldEtleXMgPSBDb21tb24ua2V5cyhncmlkLmJ1Y2tldHMpOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1Y2tldEtleXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIGJ1Y2tldElkID0gYnVja2V0S2V5c1tpXTsKCiAgICAgICAgICAgIGlmIChncmlkLmJ1Y2tldHNbYnVja2V0SWRdLmxlbmd0aCA8IDIpCiAgICAgICAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgICAgIHZhciByZWdpb24gPSBidWNrZXRJZC5zcGxpdCgvQ3xSLyk7CiAgICAgICAgICAgIGMucmVjdCgwLjUgKyBwYXJzZUludChyZWdpb25bMV0sIDEwKSAqIGdyaWQuYnVja2V0V2lkdGgsIAogICAgICAgICAgICAgICAgICAgIDAuNSArIHBhcnNlSW50KHJlZ2lvblsyXSwgMTApICogZ3JpZC5idWNrZXRIZWlnaHQsIAogICAgICAgICAgICAgICAgICAgIGdyaWQuYnVja2V0V2lkdGgsIAogICAgICAgICAgICAgICAgICAgIGdyaWQuYnVja2V0SGVpZ2h0KTsKICAgICAgICB9CgogICAgICAgIGMubGluZVdpZHRoID0gMTsKICAgICAgICBjLnN0cm9rZSgpOwogICAgfTsKCiAgICAvKioKICAgICAqIERlc2NyaXB0aW9uCiAgICAgKiBAcHJpdmF0ZQogICAgICogQG1ldGhvZCBpbnNwZWN0b3IKICAgICAqIEBwYXJhbSB7aW5zcGVjdG9yfSBpbnNwZWN0b3IKICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dAogICAgICovCiAgICBSZW5kZXIuaW5zcGVjdG9yID0gZnVuY3Rpb24oaW5zcGVjdG9yLCBjb250ZXh0KSB7CiAgICAgICAgdmFyIGVuZ2luZSA9IGluc3BlY3Rvci5lbmdpbmUsCiAgICAgICAgICAgIHNlbGVjdGVkID0gaW5zcGVjdG9yLnNlbGVjdGVkLAogICAgICAgICAgICByZW5kZXIgPSBpbnNwZWN0b3IucmVuZGVyLAogICAgICAgICAgICBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnMsCiAgICAgICAgICAgIGJvdW5kczsKCiAgICAgICAgaWYgKG9wdGlvbnMuaGFzQm91bmRzKSB7CiAgICAgICAgICAgIHZhciBib3VuZHNXaWR0aCA9IHJlbmRlci5ib3VuZHMubWF4LnggLSByZW5kZXIuYm91bmRzLm1pbi54LAogICAgICAgICAgICAgICAgYm91bmRzSGVpZ2h0ID0gcmVuZGVyLmJvdW5kcy5tYXgueSAtIHJlbmRlci5ib3VuZHMubWluLnksCiAgICAgICAgICAgICAgICBib3VuZHNTY2FsZVggPSBib3VuZHNXaWR0aCAvIHJlbmRlci5vcHRpb25zLndpZHRoLAogICAgICAgICAgICAgICAgYm91bmRzU2NhbGVZID0gYm91bmRzSGVpZ2h0IC8gcmVuZGVyLm9wdGlvbnMuaGVpZ2h0OwogICAgICAgICAgICAKICAgICAgICAgICAgY29udGV4dC5zY2FsZSgxIC8gYm91bmRzU2NhbGVYLCAxIC8gYm91bmRzU2NhbGVZKTsKICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLXJlbmRlci5ib3VuZHMubWluLngsIC1yZW5kZXIuYm91bmRzLm1pbi55KTsKICAgICAgICB9CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIGl0ZW0gPSBzZWxlY3RlZFtpXS5kYXRhOwoKICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoMC41LCAwLjUpOwogICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDE7CiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsMTY1LDAsMC45KSc7CiAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goWzEsMl0pOwoKICAgICAgICAgICAgc3dpdGNoIChpdGVtLnR5cGUpIHsKCiAgICAgICAgICAgIGNhc2UgJ2JvZHknOgoKICAgICAgICAgICAgICAgIC8vIHJlbmRlciBib2R5IHNlbGVjdGlvbnMKICAgICAgICAgICAgICAgIGJvdW5kcyA9IGl0ZW0uYm91bmRzOwogICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTsKICAgICAgICAgICAgICAgIGNvbnRleHQucmVjdChNYXRoLmZsb29yKGJvdW5kcy5taW4ueCAtIDMpLCBNYXRoLmZsb29yKGJvdW5kcy5taW4ueSAtIDMpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKGJvdW5kcy5tYXgueCAtIGJvdW5kcy5taW4ueCArIDYpLCBNYXRoLmZsb29yKGJvdW5kcy5tYXgueSAtIGJvdW5kcy5taW4ueSArIDYpKTsKICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7CiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpOwoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAnY29uc3RyYWludCc6CgogICAgICAgICAgICAgICAgLy8gcmVuZGVyIGNvbnN0cmFpbnQgc2VsZWN0aW9ucwogICAgICAgICAgICAgICAgdmFyIHBvaW50ID0gaXRlbS5wb2ludEE7CiAgICAgICAgICAgICAgICBpZiAoaXRlbS5ib2R5QSkKICAgICAgICAgICAgICAgICAgICBwb2ludCA9IGl0ZW0ucG9pbnRCOwogICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTsKICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKHBvaW50LngsIHBvaW50LnksIDEwLCAwLCAyICogTWF0aC5QSSk7CiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpOwogICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTsKCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goW10pOwogICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtMC41LCAtMC41KTsKICAgICAgICB9CgogICAgICAgIC8vIHJlbmRlciBzZWxlY3Rpb24gcmVnaW9uCiAgICAgICAgaWYgKGluc3BlY3Rvci5zZWxlY3RTdGFydCAhPT0gbnVsbCkgewogICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgwLjUsIDAuNSk7CiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMTsKICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwxNjUsMCwwLjYpJzsKICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAncmdiYSgyNTUsMTY1LDAsMC4xKSc7CiAgICAgICAgICAgIGJvdW5kcyA9IGluc3BlY3Rvci5zZWxlY3RCb3VuZHM7CiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7CiAgICAgICAgICAgIGNvbnRleHQucmVjdChNYXRoLmZsb29yKGJvdW5kcy5taW4ueCksIE1hdGguZmxvb3IoYm91bmRzLm1pbi55KSwgCiAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKGJvdW5kcy5tYXgueCAtIGJvdW5kcy5taW4ueCksIE1hdGguZmxvb3IoYm91bmRzLm1heC55IC0gYm91bmRzLm1pbi55KSk7CiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7CiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7CiAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpOwogICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtMC41LCAtMC41KTsKICAgICAgICB9CgogICAgICAgIGlmIChvcHRpb25zLmhhc0JvdW5kcykKICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7CiAgICB9OwoKICAgIC8qKgogICAgICogRGVzY3JpcHRpb24KICAgICAqIEBtZXRob2QgX2NyZWF0ZUNhbnZhcwogICAgICogQHByaXZhdGUKICAgICAqIEBwYXJhbSB7fSB3aWR0aAogICAgICogQHBhcmFtIHt9IGhlaWdodAogICAgICogQHJldHVybiBjYW52YXMKICAgICAqLwogICAgdmFyIF9jcmVhdGVDYW52YXMgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7CiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoOwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7CiAgICAgICAgY2FudmFzLm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlOyB9OwogICAgICAgIGNhbnZhcy5vbnNlbGVjdHN0YXJ0ID0gZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfTsKICAgICAgICByZXR1cm4gY2FudmFzOwogICAgfTsKCiAgICAvKioKICAgICAqIEdldHMgdGhlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXMuCiAgICAgKiBAbWV0aG9kIF9nZXRQaXhlbFJhdGlvCiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY2FudmFzCiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHBpeGVsIHJhdGlvCiAgICAgKi8KICAgIHZhciBfZ2V0UGl4ZWxSYXRpbyA9IGZ1bmN0aW9uKGNhbnZhcykgewogICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyksCiAgICAgICAgICAgIGRldmljZVBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxLAogICAgICAgICAgICBiYWNraW5nU3RvcmVQaXhlbFJhdGlvID0gY29udGV4dC53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IGNvbnRleHQubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGNvbnRleHQubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IGNvbnRleHQub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBjb250ZXh0LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMTsKCiAgICAgICAgcmV0dXJuIGRldmljZVBpeGVsUmF0aW8gLyBiYWNraW5nU3RvcmVQaXhlbFJhdGlvOwogICAgfTsKCiAgICAvKioKICAgICAqIEdldHMgdGhlIHJlcXVlc3RlZCB0ZXh0dXJlIChhbiBJbWFnZSkgdmlhIGl0cyBwYXRoCiAgICAgKiBAbWV0aG9kIF9nZXRUZXh0dXJlCiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlcgogICAgICogQHBhcmFtIHtzdHJpbmd9IGltYWdlUGF0aAogICAgICogQHJldHVybiB7SW1hZ2V9IHRleHR1cmUKICAgICAqLwogICAgdmFyIF9nZXRUZXh0dXJlID0gZnVuY3Rpb24ocmVuZGVyLCBpbWFnZVBhdGgpIHsKICAgICAgICB2YXIgaW1hZ2UgPSByZW5kZXIudGV4dHVyZXNbaW1hZ2VQYXRoXTsKCiAgICAgICAgaWYgKGltYWdlKQogICAgICAgICAgICByZXR1cm4gaW1hZ2U7CgogICAgICAgIGltYWdlID0gcmVuZGVyLnRleHR1cmVzW2ltYWdlUGF0aF0gPSBuZXcgSW1hZ2UoKTsKICAgICAgICBpbWFnZS5zcmMgPSBpbWFnZVBhdGg7CgogICAgICAgIHJldHVybiBpbWFnZTsKICAgIH07CgogICAgLyoqCiAgICAgKiBBcHBsaWVzIHRoZSBiYWNrZ3JvdW5kIHRvIHRoZSBjYW52YXMgdXNpbmcgQ1NTLgogICAgICogQG1ldGhvZCBhcHBseUJhY2tncm91bmQKICAgICAqIEBwcml2YXRlCiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYmFja2dyb3VuZAogICAgICovCiAgICB2YXIgX2FwcGx5QmFja2dyb3VuZCA9IGZ1bmN0aW9uKHJlbmRlciwgYmFja2dyb3VuZCkgewogICAgICAgIHZhciBjc3NCYWNrZ3JvdW5kID0gYmFja2dyb3VuZDsKCiAgICAgICAgaWYgKC8oanBnfGdpZnxwbmcpJC8udGVzdChiYWNrZ3JvdW5kKSkKICAgICAgICAgICAgY3NzQmFja2dyb3VuZCA9ICd1cmwoJyArIGJhY2tncm91bmQgKyAnKSc7CgogICAgICAgIHJlbmRlci5jYW52YXMuc3R5bGUuYmFja2dyb3VuZCA9IGNzc0JhY2tncm91bmQ7CiAgICAgICAgcmVuZGVyLmNhbnZhcy5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9ICJjb250YWluIjsKICAgICAgICByZW5kZXIuY3VycmVudEJhY2tncm91bmQgPSBiYWNrZ3JvdW5kOwogICAgfTsKCiAgICAvKgogICAgKgogICAgKiAgRXZlbnRzIERvY3VtZW50YXRpb24KICAgICoKICAgICovCgogICAgLyoqCiAgICAqIEZpcmVkIGJlZm9yZSByZW5kZXJpbmcKICAgICoKICAgICogQGV2ZW50IGJlZm9yZVJlbmRlcgogICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0CiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudAogICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQKICAgICovCgogICAgLyoqCiAgICAqIEZpcmVkIGFmdGVyIHJlbmRlcmluZwogICAgKgogICAgKiBAZXZlbnQgYWZ0ZXJSZW5kZXIKICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdAogICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnQKICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnQKICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50CiAgICAqLwoKICAgIC8qCiAgICAqCiAgICAqICBQcm9wZXJ0aWVzIERvY3VtZW50YXRpb24KICAgICoKICAgICovCgogICAgLyoqCiAgICAgKiBBIGJhY2stcmVmZXJlbmNlIHRvIHRoZSBgTWF0dGVyLlJlbmRlcmAgbW9kdWxlLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBjb250cm9sbGVyCiAgICAgKiBAdHlwZSByZW5kZXIKICAgICAqLwoKICAgIC8qKgogICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBNYXR0ZXIuRW5naW5lYCBpbnN0YW5jZSB0byBiZSB1c2VkLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBlbmdpbmUKICAgICAqIEB0eXBlIGVuZ2luZQogICAgICovCgogICAgLyoqCiAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgZWxlbWVudCB3aGVyZSB0aGUgY2FudmFzIGlzIHRvIGJlIGluc2VydGVkIChpZiBgcmVuZGVyLmNhbnZhc2AgaGFzIG5vdCBiZWVuIHNwZWNpZmllZCkKICAgICAqCiAgICAgKiBAcHJvcGVydHkgZWxlbWVudAogICAgICogQHR5cGUgSFRNTEVsZW1lbnQKICAgICAqIEBkZWZhdWx0IG51bGwKICAgICAqLwoKICAgIC8qKgogICAgICogVGhlIGNhbnZhcyBlbGVtZW50IHRvIHJlbmRlciB0by4gSWYgbm90IHNwZWNpZmllZCwgb25lIHdpbGwgYmUgY3JlYXRlZCBpZiBgcmVuZGVyLmVsZW1lbnRgIGhhcyBiZWVuIHNwZWNpZmllZC4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgY2FudmFzCiAgICAgKiBAdHlwZSBIVE1MQ2FudmFzRWxlbWVudAogICAgICogQGRlZmF1bHQgbnVsbAogICAgICovCgogICAgLyoqCiAgICAgKiBUaGUgY29uZmlndXJhdGlvbiBvcHRpb25zIG9mIHRoZSByZW5kZXJlci4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucwogICAgICogQHR5cGUge30KICAgICAqLwoKICAgIC8qKgogICAgICogVGhlIHRhcmdldCB3aWR0aCBpbiBwaXhlbHMgb2YgdGhlIGByZW5kZXIuY2FudmFzYCB0byBiZSBjcmVhdGVkLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLndpZHRoCiAgICAgKiBAdHlwZSBudW1iZXIKICAgICAqIEBkZWZhdWx0IDgwMAogICAgICovCgogICAgLyoqCiAgICAgKiBUaGUgdGFyZ2V0IGhlaWdodCBpbiBwaXhlbHMgb2YgdGhlIGByZW5kZXIuY2FudmFzYCB0byBiZSBjcmVhdGVkLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLmhlaWdodAogICAgICogQHR5cGUgbnVtYmVyCiAgICAgKiBAZGVmYXVsdCA2MDAKICAgICAqLwoKICAgIC8qKgogICAgICogQSBmbGFnIHRoYXQgc3BlY2lmaWVzIGlmIGByZW5kZXIuYm91bmRzYCBzaG91bGQgYmUgdXNlZCB3aGVuIHJlbmRlcmluZy4KICAgICAqCiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy5oYXNCb3VuZHMKICAgICAqIEB0eXBlIGJvb2xlYW4KICAgICAqIEBkZWZhdWx0IGZhbHNlCiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgYEJvdW5kc2Agb2JqZWN0IHRoYXQgc3BlY2lmaWVzIHRoZSBkcmF3aW5nIHZpZXcgcmVnaW9uLiAKICAgICAqIFJlbmRlcmluZyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgdHJhbnNmb3JtZWQgYW5kIHNjYWxlZCB0byBmaXQgd2l0aGluIHRoZSBjYW52YXMgc2l6ZSAoYHJlbmRlci5vcHRpb25zLndpZHRoYCBhbmQgYHJlbmRlci5vcHRpb25zLmhlaWdodGApLgogICAgICogVGhpcyBhbGxvd3MgZm9yIGNyZWF0aW5nIHZpZXdzIHRoYXQgY2FuIHBhbiBvciB6b29tIGFyb3VuZCB0aGUgc2NlbmUuCiAgICAgKiBZb3UgbXVzdCBhbHNvIHNldCBgcmVuZGVyLm9wdGlvbnMuaGFzQm91bmRzYCB0byBgdHJ1ZWAgdG8gZW5hYmxlIGJvdW5kZWQgcmVuZGVyaW5nLgogICAgICoKICAgICAqIEBwcm9wZXJ0eSBib3VuZHMKICAgICAqIEB0eXBlIGJvdW5kcwogICAgICovCgogICAgLyoqCiAgICAgKiBUaGUgMmQgcmVuZGVyaW5nIGNvbnRleHQgZnJvbSB0aGUgYHJlbmRlci5jYW52YXNgIGVsZW1lbnQuCiAgICAgKgogICAgICogQHByb3BlcnR5IGNvbnRleHQKICAgICAqIEB0eXBlIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRAogICAgICovCgogICAgLyoqCiAgICAgKiBUaGUgc3ByaXRlIHRleHR1cmUgY2FjaGUuCiAgICAgKgogICAgICogQHByb3BlcnR5IHRleHR1cmVzCiAgICAgKiBAdHlwZSB7fQogICAgICovCgp9KSgpOwoKfSx7Ii4uL2JvZHkvQ29tcG9zaXRlIjoyLCIuLi9jb2xsaXNpb24vR3JpZCI6NiwiLi4vY29yZS9Db21tb24iOjE0LCIuLi9jb3JlL0V2ZW50cyI6MTYsIi4uL2NvcmUvTW91c2UiOjE5LCIuLi9nZW9tZXRyeS9Cb3VuZHMiOjI2LCIuLi9nZW9tZXRyeS9WZWN0b3IiOjI4fV0sMzI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpewovKioKKiBUaGUgYE1hdHRlci5SZW5kZXJQaXhpYCBtb2R1bGUgaXMgYW4gZXhhbXBsZSByZW5kZXJlciB1c2luZyBwaXhpLmpzLgoqIFNlZSBhbHNvIGBNYXR0ZXIuUmVuZGVyYCBmb3IgYSBjYW52YXMgYmFzZWQgcmVuZGVyZXIuCioKKiBAY2xhc3MgUmVuZGVyUGl4aQoqIEBkZXByZWNhdGVkIHRoZSBNYXR0ZXIuUmVuZGVyUGl4aSBtb2R1bGUgd2lsbCBzb29uIGJlIHJlbW92ZWQgZnJvbSB0aGUgTWF0dGVyLmpzIGNvcmUuCiogSXQgd2lsbCBsaWtlbHkgYmUgbW92ZWQgdG8gaXRzIG93biByZXBvc2l0b3J5IChidXQgbWFpbnRlbmFuY2Ugd2lsbCBiZSBsaW1pdGVkKS4KKi8KCnZhciBSZW5kZXJQaXhpID0ge307Cgptb2R1bGUuZXhwb3J0cyA9IFJlbmRlclBpeGk7Cgp2YXIgQm91bmRzID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvQm91bmRzJyk7CnZhciBDb21wb3NpdGUgPSBfZGVyZXFfKCcuLi9ib2R5L0NvbXBvc2l0ZScpOwp2YXIgQ29tbW9uID0gX2RlcmVxXygnLi4vY29yZS9Db21tb24nKTsKdmFyIEV2ZW50cyA9IF9kZXJlcV8oJy4uL2NvcmUvRXZlbnRzJyk7CnZhciBWZWN0b3IgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9WZWN0b3InKTsKCihmdW5jdGlvbigpIHsKCiAgICB2YXIgX3JlcXVlc3RBbmltYXRpb25GcmFtZSwKICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWU7CgogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgX3JlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGZ1bmN0aW9uKGNhbGxiYWNrKXsgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNhbGxiYWNrKENvbW1vbi5ub3coKSk7IH0sIDEwMDAgLyA2MCk7IH07CiAgIAogICAgICAgIF9jYW5jZWxBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc0NhbmNlbEFuaW1hdGlvbkZyYW1lOwogICAgfQogICAgCiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBuZXcgUGl4aS5qcyBXZWJHTCByZW5kZXJlcgogICAgICogQG1ldGhvZCBjcmVhdGUKICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zCiAgICAgKiBAcmV0dXJuIHtSZW5kZXJQaXhpfSBBIG5ldyByZW5kZXJlcgogICAgICogQGRlcHJlY2F0ZWQKICAgICAqLwogICAgUmVuZGVyUGl4aS5jcmVhdGUgPSBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgICAgQ29tbW9uLndhcm4oJ1JlbmRlclBpeGkuY3JlYXRlOiBNYXR0ZXIuUmVuZGVyUGl4aSBpcyBkZXByZWNhdGVkIChzZWUgZG9jcyknKTsKCiAgICAgICAgdmFyIGRlZmF1bHRzID0gewogICAgICAgICAgICBjb250cm9sbGVyOiBSZW5kZXJQaXhpLAogICAgICAgICAgICBlbmdpbmU6IG51bGwsCiAgICAgICAgICAgIGVsZW1lbnQ6IG51bGwsCiAgICAgICAgICAgIGZyYW1lUmVxdWVzdElkOiBudWxsLAogICAgICAgICAgICBjYW52YXM6IG51bGwsCiAgICAgICAgICAgIHJlbmRlcmVyOiBudWxsLAogICAgICAgICAgICBjb250YWluZXI6IG51bGwsCiAgICAgICAgICAgIHNwcml0ZUNvbnRhaW5lcjogbnVsbCwKICAgICAgICAgICAgcGl4aU9wdGlvbnM6IG51bGwsCiAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIHdpZHRoOiA4MDAsCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDYwMCwKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjZmFmYWZhJywKICAgICAgICAgICAgICAgIHdpcmVmcmFtZUJhY2tncm91bmQ6ICcjMjIyJywKICAgICAgICAgICAgICAgIGhhc0JvdW5kczogZmFsc2UsCiAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgICAgICAgICAgd2lyZWZyYW1lczogdHJ1ZSwKICAgICAgICAgICAgICAgIHNob3dTbGVlcGluZzogdHJ1ZSwKICAgICAgICAgICAgICAgIHNob3dEZWJ1ZzogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93QnJvYWRwaGFzZTogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93Qm91bmRzOiBmYWxzZSwKICAgICAgICAgICAgICAgIHNob3dWZWxvY2l0eTogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93Q29sbGlzaW9uczogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93QXhlczogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93UG9zaXRpb25zOiBmYWxzZSwKICAgICAgICAgICAgICAgIHNob3dBbmdsZUluZGljYXRvcjogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93SWRzOiBmYWxzZSwKICAgICAgICAgICAgICAgIHNob3dTaGFkb3dzOiBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgdmFyIHJlbmRlciA9IENvbW1vbi5leHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpLAogICAgICAgICAgICB0cmFuc3BhcmVudCA9ICFyZW5kZXIub3B0aW9ucy53aXJlZnJhbWVzICYmIHJlbmRlci5vcHRpb25zLmJhY2tncm91bmQgPT09ICd0cmFuc3BhcmVudCc7CgogICAgICAgIC8vIGluaXQgcGl4aQogICAgICAgIHJlbmRlci5waXhpT3B0aW9ucyA9IHJlbmRlci5waXhpT3B0aW9ucyB8fCB7CiAgICAgICAgICAgIHZpZXc6IHJlbmRlci5jYW52YXMsCiAgICAgICAgICAgIHRyYW5zcGFyZW50OiB0cmFuc3BhcmVudCwKICAgICAgICAgICAgYW50aWFsaWFzOiB0cnVlLAogICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IG9wdGlvbnMuYmFja2dyb3VuZAogICAgICAgIH07CgogICAgICAgIHJlbmRlci5tb3VzZSA9IG9wdGlvbnMubW91c2U7CiAgICAgICAgcmVuZGVyLmVuZ2luZSA9IG9wdGlvbnMuZW5naW5lOwogICAgICAgIHJlbmRlci5yZW5kZXJlciA9IHJlbmRlci5yZW5kZXJlciB8fCBuZXcgUElYSS5XZWJHTFJlbmRlcmVyKHJlbmRlci5vcHRpb25zLndpZHRoLCByZW5kZXIub3B0aW9ucy5oZWlnaHQsIHJlbmRlci5waXhpT3B0aW9ucyk7CiAgICAgICAgcmVuZGVyLmNvbnRhaW5lciA9IHJlbmRlci5jb250YWluZXIgfHwgbmV3IFBJWEkuQ29udGFpbmVyKCk7CiAgICAgICAgcmVuZGVyLnNwcml0ZUNvbnRhaW5lciA9IHJlbmRlci5zcHJpdGVDb250YWluZXIgfHwgbmV3IFBJWEkuQ29udGFpbmVyKCk7CiAgICAgICAgcmVuZGVyLmNhbnZhcyA9IHJlbmRlci5jYW52YXMgfHwgcmVuZGVyLnJlbmRlcmVyLnZpZXc7CiAgICAgICAgcmVuZGVyLmJvdW5kcyA9IHJlbmRlci5ib3VuZHMgfHwgeyAKICAgICAgICAgICAgbWluOiB7CiAgICAgICAgICAgICAgICB4OiAwLAogICAgICAgICAgICAgICAgeTogMAogICAgICAgICAgICB9LCAKICAgICAgICAgICAgbWF4OiB7IAogICAgICAgICAgICAgICAgeDogcmVuZGVyLm9wdGlvbnMud2lkdGgsCiAgICAgICAgICAgICAgICB5OiByZW5kZXIub3B0aW9ucy5oZWlnaHQKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIC8vIGV2ZW50IGxpc3RlbmVycwogICAgICAgIEV2ZW50cy5vbihyZW5kZXIuZW5naW5lLCAnYmVmb3JlVXBkYXRlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIFJlbmRlclBpeGkuY2xlYXIocmVuZGVyKTsKICAgICAgICB9KTsKCiAgICAgICAgLy8gY2FjaGVzCiAgICAgICAgcmVuZGVyLnRleHR1cmVzID0ge307CiAgICAgICAgcmVuZGVyLnNwcml0ZXMgPSB7fTsKICAgICAgICByZW5kZXIucHJpbWl0aXZlcyA9IHt9OwoKICAgICAgICAvLyB1c2UgYSBzcHJpdGUgYmF0Y2ggZm9yIHBlcmZvcm1hbmNlCiAgICAgICAgcmVuZGVyLmNvbnRhaW5lci5hZGRDaGlsZChyZW5kZXIuc3ByaXRlQ29udGFpbmVyKTsKCiAgICAgICAgLy8gaW5zZXJ0IGNhbnZhcwogICAgICAgIGlmIChDb21tb24uaXNFbGVtZW50KHJlbmRlci5lbGVtZW50KSkgewogICAgICAgICAgICByZW5kZXIuZWxlbWVudC5hcHBlbmRDaGlsZChyZW5kZXIuY2FudmFzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBDb21tb24ud2FybignTm8gInJlbmRlci5lbGVtZW50IiBwYXNzZWQsICJyZW5kZXIuY2FudmFzIiB3YXMgbm90IGluc2VydGVkIGludG8gZG9jdW1lbnQuJyk7CiAgICAgICAgfQoKICAgICAgICAvLyBwcmV2ZW50IG1lbnVzIG9uIGNhbnZhcwogICAgICAgIHJlbmRlci5jYW52YXMub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH07CiAgICAgICAgcmVuZGVyLmNhbnZhcy5vbnNlbGVjdHN0YXJ0ID0gZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfTsKCiAgICAgICAgcmV0dXJuIHJlbmRlcjsKICAgIH07CgogICAgLyoqCiAgICAgKiBDb250aW51b3VzbHkgdXBkYXRlcyB0aGUgcmVuZGVyIGNhbnZhcyBvbiB0aGUgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgZXZlbnQuCiAgICAgKiBAbWV0aG9kIHJ1bgogICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlcgogICAgICogQGRlcHJlY2F0ZWQKICAgICAqLwogICAgUmVuZGVyUGl4aS5ydW4gPSBmdW5jdGlvbihyZW5kZXIpIHsKICAgICAgICAoZnVuY3Rpb24gbG9vcCh0aW1lKXsKICAgICAgICAgICAgcmVuZGVyLmZyYW1lUmVxdWVzdElkID0gX3JlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTsKICAgICAgICAgICAgUmVuZGVyUGl4aS53b3JsZChyZW5kZXIpOwogICAgICAgIH0pKCk7CiAgICB9OwoKICAgIC8qKgogICAgICogRW5kcyBleGVjdXRpb24gb2YgYFJlbmRlci5ydW5gIG9uIHRoZSBnaXZlbiBgcmVuZGVyYCwgYnkgY2FuY2VsaW5nIHRoZSBhbmltYXRpb24gZnJhbWUgcmVxdWVzdCBldmVudCBsb29wLgogICAgICogQG1ldGhvZCBzdG9wCiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyCiAgICAgKiBAZGVwcmVjYXRlZAogICAgICovCiAgICBSZW5kZXJQaXhpLnN0b3AgPSBmdW5jdGlvbihyZW5kZXIpIHsKICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWUocmVuZGVyLmZyYW1lUmVxdWVzdElkKTsKICAgIH07CgogICAgLyoqCiAgICAgKiBDbGVhcnMgdGhlIHNjZW5lIGdyYXBoCiAgICAgKiBAbWV0aG9kIGNsZWFyCiAgICAgKiBAcGFyYW0ge1JlbmRlclBpeGl9IHJlbmRlcgogICAgICogQGRlcHJlY2F0ZWQKICAgICAqLwogICAgUmVuZGVyUGl4aS5jbGVhciA9IGZ1bmN0aW9uKHJlbmRlcikgewogICAgICAgIHZhciBjb250YWluZXIgPSByZW5kZXIuY29udGFpbmVyLAogICAgICAgICAgICBzcHJpdGVDb250YWluZXIgPSByZW5kZXIuc3ByaXRlQ29udGFpbmVyOwoKICAgICAgICAvLyBjbGVhciBzdGFnZSBjb250YWluZXIKICAgICAgICB3aGlsZSAoY29udGFpbmVyLmNoaWxkcmVuWzBdKSB7IAogICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY29udGFpbmVyLmNoaWxkcmVuWzBdKTsgCiAgICAgICAgfQoKICAgICAgICAvLyBjbGVhciBzcHJpdGUgYmF0Y2gKICAgICAgICB3aGlsZSAoc3ByaXRlQ29udGFpbmVyLmNoaWxkcmVuWzBdKSB7IAogICAgICAgICAgICBzcHJpdGVDb250YWluZXIucmVtb3ZlQ2hpbGQoc3ByaXRlQ29udGFpbmVyLmNoaWxkcmVuWzBdKTsgCiAgICAgICAgfQoKICAgICAgICB2YXIgYmdTcHJpdGUgPSByZW5kZXIuc3ByaXRlc1snYmctMCddOwoKICAgICAgICAvLyBjbGVhciBjYWNoZXMKICAgICAgICByZW5kZXIudGV4dHVyZXMgPSB7fTsKICAgICAgICByZW5kZXIuc3ByaXRlcyA9IHt9OwogICAgICAgIHJlbmRlci5wcmltaXRpdmVzID0ge307CgogICAgICAgIC8vIHNldCBiYWNrZ3JvdW5kIHNwcml0ZQogICAgICAgIHJlbmRlci5zcHJpdGVzWydiZy0wJ10gPSBiZ1Nwcml0ZTsKICAgICAgICBpZiAoYmdTcHJpdGUpCiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZEF0KGJnU3ByaXRlLCAwKTsKCiAgICAgICAgLy8gYWRkIHNwcml0ZSBiYXRjaCBiYWNrIGludG8gY29udGFpbmVyCiAgICAgICAgcmVuZGVyLmNvbnRhaW5lci5hZGRDaGlsZChyZW5kZXIuc3ByaXRlQ29udGFpbmVyKTsKCiAgICAgICAgLy8gcmVzZXQgYmFja2dyb3VuZCBzdGF0ZQogICAgICAgIHJlbmRlci5jdXJyZW50QmFja2dyb3VuZCA9IG51bGw7CgogICAgICAgIC8vIHJlc2V0IGJvdW5kcyB0cmFuc2Zvcm1zCiAgICAgICAgY29udGFpbmVyLnNjYWxlLnNldCgxLCAxKTsKICAgICAgICBjb250YWluZXIucG9zaXRpb24uc2V0KDAsIDApOwogICAgfTsKCiAgICAvKioKICAgICAqIFNldHMgdGhlIGJhY2tncm91bmQgb2YgdGhlIGNhbnZhcyAKICAgICAqIEBtZXRob2Qgc2V0QmFja2dyb3VuZAogICAgICogQHBhcmFtIHtSZW5kZXJQaXhpfSByZW5kZXIKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBiYWNrZ3JvdW5kCiAgICAgKiBAZGVwcmVjYXRlZAogICAgICovCiAgICBSZW5kZXJQaXhpLnNldEJhY2tncm91bmQgPSBmdW5jdGlvbihyZW5kZXIsIGJhY2tncm91bmQpIHsKICAgICAgICBpZiAocmVuZGVyLmN1cnJlbnRCYWNrZ3JvdW5kICE9PSBiYWNrZ3JvdW5kKSB7CiAgICAgICAgICAgIHZhciBpc0NvbG9yID0gYmFja2dyb3VuZC5pbmRleE9mICYmIGJhY2tncm91bmQuaW5kZXhPZignIycpICE9PSAtMSwKICAgICAgICAgICAgICAgIGJnU3ByaXRlID0gcmVuZGVyLnNwcml0ZXNbJ2JnLTAnXTsKCiAgICAgICAgICAgIGlmIChpc0NvbG9yKSB7CiAgICAgICAgICAgICAgICAvLyBpZiBzb2xpZCBiYWNrZ3JvdW5kIGNvbG9yCiAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBDb21tb24uY29sb3JUb051bWJlcihiYWNrZ3JvdW5kKTsKICAgICAgICAgICAgICAgIHJlbmRlci5yZW5kZXJlci5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjsKCiAgICAgICAgICAgICAgICAvLyByZW1vdmUgYmFja2dyb3VuZCBzcHJpdGUgaWYgZXhpc3RpbmcKICAgICAgICAgICAgICAgIGlmIChiZ1Nwcml0ZSkKICAgICAgICAgICAgICAgICAgICByZW5kZXIuY29udGFpbmVyLnJlbW92ZUNoaWxkKGJnU3ByaXRlKTsgCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXNlIGJhY2tncm91bmQgc3ByaXRlIGlmIG5lZWRlZAogICAgICAgICAgICAgICAgaWYgKCFiZ1Nwcml0ZSkgewogICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gX2dldFRleHR1cmUocmVuZGVyLCBiYWNrZ3JvdW5kKTsKCiAgICAgICAgICAgICAgICAgICAgYmdTcHJpdGUgPSByZW5kZXIuc3ByaXRlc1snYmctMCddID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpOwogICAgICAgICAgICAgICAgICAgIGJnU3ByaXRlLnBvc2l0aW9uLnggPSAwOwogICAgICAgICAgICAgICAgICAgIGJnU3ByaXRlLnBvc2l0aW9uLnkgPSAwOwogICAgICAgICAgICAgICAgICAgIHJlbmRlci5jb250YWluZXIuYWRkQ2hpbGRBdChiZ1Nwcml0ZSwgMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJlbmRlci5jdXJyZW50QmFja2dyb3VuZCA9IGJhY2tncm91bmQ7CiAgICAgICAgfQogICAgfTsKCiAgICAvKioKICAgICAqIERlc2NyaXB0aW9uCiAgICAgKiBAbWV0aG9kIHdvcmxkCiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lCiAgICAgKiBAZGVwcmVjYXRlZAogICAgICovCiAgICBSZW5kZXJQaXhpLndvcmxkID0gZnVuY3Rpb24ocmVuZGVyKSB7CiAgICAgICAgdmFyIGVuZ2luZSA9IHJlbmRlci5lbmdpbmUsCiAgICAgICAgICAgIHdvcmxkID0gZW5naW5lLndvcmxkLAogICAgICAgICAgICByZW5kZXJlciA9IHJlbmRlci5yZW5kZXJlciwKICAgICAgICAgICAgY29udGFpbmVyID0gcmVuZGVyLmNvbnRhaW5lciwKICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLAogICAgICAgICAgICBib2RpZXMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKHdvcmxkKSwKICAgICAgICAgICAgYWxsQ29uc3RyYWludHMgPSBDb21wb3NpdGUuYWxsQ29uc3RyYWludHMod29ybGQpLAogICAgICAgICAgICBjb25zdHJhaW50cyA9IFtdLAogICAgICAgICAgICBpOwoKICAgICAgICBpZiAob3B0aW9ucy53aXJlZnJhbWVzKSB7CiAgICAgICAgICAgIFJlbmRlclBpeGkuc2V0QmFja2dyb3VuZChyZW5kZXIsIG9wdGlvbnMud2lyZWZyYW1lQmFja2dyb3VuZCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgUmVuZGVyUGl4aS5zZXRCYWNrZ3JvdW5kKHJlbmRlciwgb3B0aW9ucy5iYWNrZ3JvdW5kKTsKICAgICAgICB9CgogICAgICAgIC8vIGhhbmRsZSBib3VuZHMKICAgICAgICB2YXIgYm91bmRzV2lkdGggPSByZW5kZXIuYm91bmRzLm1heC54IC0gcmVuZGVyLmJvdW5kcy5taW4ueCwKICAgICAgICAgICAgYm91bmRzSGVpZ2h0ID0gcmVuZGVyLmJvdW5kcy5tYXgueSAtIHJlbmRlci5ib3VuZHMubWluLnksCiAgICAgICAgICAgIGJvdW5kc1NjYWxlWCA9IGJvdW5kc1dpZHRoIC8gcmVuZGVyLm9wdGlvbnMud2lkdGgsCiAgICAgICAgICAgIGJvdW5kc1NjYWxlWSA9IGJvdW5kc0hlaWdodCAvIHJlbmRlci5vcHRpb25zLmhlaWdodDsKCiAgICAgICAgaWYgKG9wdGlvbnMuaGFzQm91bmRzKSB7CiAgICAgICAgICAgIC8vIEhpZGUgYm9kaWVzIHRoYXQgYXJlIG5vdCBpbiB2aWV3CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldOwogICAgICAgICAgICAgICAgYm9keS5yZW5kZXIuc3ByaXRlLnZpc2libGUgPSBCb3VuZHMub3ZlcmxhcHMoYm9keS5ib3VuZHMsIHJlbmRlci5ib3VuZHMpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IGNvbnN0cmFpbnRzIHRoYXQgYXJlIG5vdCBpbiB2aWV3CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhbGxDb25zdHJhaW50cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBhbGxDb25zdHJhaW50c1tpXSwKICAgICAgICAgICAgICAgICAgICBib2R5QSA9IGNvbnN0cmFpbnQuYm9keUEsCiAgICAgICAgICAgICAgICAgICAgYm9keUIgPSBjb25zdHJhaW50LmJvZHlCLAogICAgICAgICAgICAgICAgICAgIHBvaW50QVdvcmxkID0gY29uc3RyYWludC5wb2ludEEsCiAgICAgICAgICAgICAgICAgICAgcG9pbnRCV29ybGQgPSBjb25zdHJhaW50LnBvaW50QjsKCiAgICAgICAgICAgICAgICBpZiAoYm9keUEpIHBvaW50QVdvcmxkID0gVmVjdG9yLmFkZChib2R5QS5wb3NpdGlvbiwgY29uc3RyYWludC5wb2ludEEpOwogICAgICAgICAgICAgICAgaWYgKGJvZHlCKSBwb2ludEJXb3JsZCA9IFZlY3Rvci5hZGQoYm9keUIucG9zaXRpb24sIGNvbnN0cmFpbnQucG9pbnRCKTsKCiAgICAgICAgICAgICAgICBpZiAoIXBvaW50QVdvcmxkIHx8ICFwb2ludEJXb3JsZCkKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgICAgICAgICBpZiAoQm91bmRzLmNvbnRhaW5zKHJlbmRlci5ib3VuZHMsIHBvaW50QVdvcmxkKSB8fCBCb3VuZHMuY29udGFpbnMocmVuZGVyLmJvdW5kcywgcG9pbnRCV29ybGQpKQogICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnRzLnB1c2goY29uc3RyYWludCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIHRyYW5zZm9ybSB0aGUgdmlldwogICAgICAgICAgICBjb250YWluZXIuc2NhbGUuc2V0KDEgLyBib3VuZHNTY2FsZVgsIDEgLyBib3VuZHNTY2FsZVkpOwogICAgICAgICAgICBjb250YWluZXIucG9zaXRpb24uc2V0KC1yZW5kZXIuYm91bmRzLm1pbi54ICogKDEgLyBib3VuZHNTY2FsZVgpLCAtcmVuZGVyLmJvdW5kcy5taW4ueSAqICgxIC8gYm91bmRzU2NhbGVZKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc3RyYWludHMgPSBhbGxDb25zdHJhaW50czsKICAgICAgICB9CgogICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIFJlbmRlclBpeGkuYm9keShyZW5kZXIsIGJvZGllc1tpXSk7CgogICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb25zdHJhaW50cy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgUmVuZGVyUGl4aS5jb25zdHJhaW50KHJlbmRlciwgY29uc3RyYWludHNbaV0pOwoKICAgICAgICByZW5kZXJlci5yZW5kZXIoY29udGFpbmVyKTsKICAgIH07CgoKICAgIC8qKgogICAgICogRGVzY3JpcHRpb24KICAgICAqIEBtZXRob2QgY29uc3RyYWludAogICAgICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZQogICAgICogQHBhcmFtIHtjb25zdHJhaW50fSBjb25zdHJhaW50CiAgICAgKiBAZGVwcmVjYXRlZAogICAgICovCiAgICBSZW5kZXJQaXhpLmNvbnN0cmFpbnQgPSBmdW5jdGlvbihyZW5kZXIsIGNvbnN0cmFpbnQpIHsKICAgICAgICB2YXIgZW5naW5lID0gcmVuZGVyLmVuZ2luZSwKICAgICAgICAgICAgYm9keUEgPSBjb25zdHJhaW50LmJvZHlBLAogICAgICAgICAgICBib2R5QiA9IGNvbnN0cmFpbnQuYm9keUIsCiAgICAgICAgICAgIHBvaW50QSA9IGNvbnN0cmFpbnQucG9pbnRBLAogICAgICAgICAgICBwb2ludEIgPSBjb25zdHJhaW50LnBvaW50QiwKICAgICAgICAgICAgY29udGFpbmVyID0gcmVuZGVyLmNvbnRhaW5lciwKICAgICAgICAgICAgY29uc3RyYWludFJlbmRlciA9IGNvbnN0cmFpbnQucmVuZGVyLAogICAgICAgICAgICBwcmltaXRpdmVJZCA9ICdjLScgKyBjb25zdHJhaW50LmlkLAogICAgICAgICAgICBwcmltaXRpdmUgPSByZW5kZXIucHJpbWl0aXZlc1twcmltaXRpdmVJZF07CgogICAgICAgIC8vIGluaXRpYWxpc2UgY29uc3RyYWludCBwcmltaXRpdmUgaWYgbm90IGV4aXN0aW5nCiAgICAgICAgaWYgKCFwcmltaXRpdmUpCiAgICAgICAgICAgIHByaW1pdGl2ZSA9IHJlbmRlci5wcmltaXRpdmVzW3ByaW1pdGl2ZUlkXSA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7CgogICAgICAgIC8vIGRvbid0IHJlbmRlciBpZiBjb25zdHJhaW50IGRvZXMgbm90IGhhdmUgdHdvIGVuZCBwb2ludHMKICAgICAgICBpZiAoIWNvbnN0cmFpbnRSZW5kZXIudmlzaWJsZSB8fCAhY29uc3RyYWludC5wb2ludEEgfHwgIWNvbnN0cmFpbnQucG9pbnRCKSB7CiAgICAgICAgICAgIHByaW1pdGl2ZS5jbGVhcigpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBhZGQgdG8gc2NlbmUgZ3JhcGggaWYgbm90IGFscmVhZHkgdGhlcmUKICAgICAgICBpZiAoQ29tbW9uLmluZGV4T2YoY29udGFpbmVyLmNoaWxkcmVuLCBwcmltaXRpdmUpID09PSAtMSkKICAgICAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHByaW1pdGl2ZSk7CgogICAgICAgIC8vIHJlbmRlciB0aGUgY29uc3RyYWludCBvbiBldmVyeSB1cGRhdGUsIHNpbmNlIHRoZXkgY2FuIGNoYW5nZSBkeW5hbWljYWxseQogICAgICAgIHByaW1pdGl2ZS5jbGVhcigpOwogICAgICAgIHByaW1pdGl2ZS5iZWdpbkZpbGwoMCwgMCk7CiAgICAgICAgcHJpbWl0aXZlLmxpbmVTdHlsZShjb25zdHJhaW50UmVuZGVyLmxpbmVXaWR0aCwgQ29tbW9uLmNvbG9yVG9OdW1iZXIoY29uc3RyYWludFJlbmRlci5zdHJva2VTdHlsZSksIDEpOwogICAgICAgIAogICAgICAgIGlmIChib2R5QSkgewogICAgICAgICAgICBwcmltaXRpdmUubW92ZVRvKGJvZHlBLnBvc2l0aW9uLnggKyBwb2ludEEueCwgYm9keUEucG9zaXRpb24ueSArIHBvaW50QS55KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwcmltaXRpdmUubW92ZVRvKHBvaW50QS54LCBwb2ludEEueSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoYm9keUIpIHsKICAgICAgICAgICAgcHJpbWl0aXZlLmxpbmVUbyhib2R5Qi5wb3NpdGlvbi54ICsgcG9pbnRCLngsIGJvZHlCLnBvc2l0aW9uLnkgKyBwb2ludEIueSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcHJpbWl0aXZlLmxpbmVUbyhwb2ludEIueCwgcG9pbnRCLnkpOwogICAgICAgIH0KCiAgICAgICAgcHJpbWl0aXZlLmVuZEZpbGwoKTsKICAgIH07CiAgICAKICAgIC8qKgogICAgICogRGVzY3JpcHRpb24KICAgICAqIEBtZXRob2QgYm9keQogICAgICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZQogICAgICogQHBhcmFtIHtib2R5fSBib2R5CiAgICAgKiBAZGVwcmVjYXRlZAogICAgICovCiAgICBSZW5kZXJQaXhpLmJvZHkgPSBmdW5jdGlvbihyZW5kZXIsIGJvZHkpIHsKICAgICAgICB2YXIgZW5naW5lID0gcmVuZGVyLmVuZ2luZSwKICAgICAgICAgICAgYm9keVJlbmRlciA9IGJvZHkucmVuZGVyOwoKICAgICAgICBpZiAoIWJvZHlSZW5kZXIudmlzaWJsZSkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICBpZiAoYm9keVJlbmRlci5zcHJpdGUgJiYgYm9keVJlbmRlci5zcHJpdGUudGV4dHVyZSkgewogICAgICAgICAgICB2YXIgc3ByaXRlSWQgPSAnYi0nICsgYm9keS5pZCwKICAgICAgICAgICAgICAgIHNwcml0ZSA9IHJlbmRlci5zcHJpdGVzW3Nwcml0ZUlkXSwKICAgICAgICAgICAgICAgIHNwcml0ZUNvbnRhaW5lciA9IHJlbmRlci5zcHJpdGVDb250YWluZXI7CgogICAgICAgICAgICAvLyBpbml0aWFsaXNlIGJvZHkgc3ByaXRlIGlmIG5vdCBleGlzdGluZwogICAgICAgICAgICBpZiAoIXNwcml0ZSkKICAgICAgICAgICAgICAgIHNwcml0ZSA9IHJlbmRlci5zcHJpdGVzW3Nwcml0ZUlkXSA9IF9jcmVhdGVCb2R5U3ByaXRlKHJlbmRlciwgYm9keSk7CgogICAgICAgICAgICAvLyBhZGQgdG8gc2NlbmUgZ3JhcGggaWYgbm90IGFscmVhZHkgdGhlcmUKICAgICAgICAgICAgaWYgKENvbW1vbi5pbmRleE9mKHNwcml0ZUNvbnRhaW5lci5jaGlsZHJlbiwgc3ByaXRlKSA9PT0gLTEpCiAgICAgICAgICAgICAgICBzcHJpdGVDb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTsKCiAgICAgICAgICAgIC8vIHVwZGF0ZSBib2R5IHNwcml0ZQogICAgICAgICAgICBzcHJpdGUucG9zaXRpb24ueCA9IGJvZHkucG9zaXRpb24ueDsKICAgICAgICAgICAgc3ByaXRlLnBvc2l0aW9uLnkgPSBib2R5LnBvc2l0aW9uLnk7CiAgICAgICAgICAgIHNwcml0ZS5yb3RhdGlvbiA9IGJvZHkuYW5nbGU7CiAgICAgICAgICAgIHNwcml0ZS5zY2FsZS54ID0gYm9keVJlbmRlci5zcHJpdGUueFNjYWxlIHx8IDE7CiAgICAgICAgICAgIHNwcml0ZS5zY2FsZS55ID0gYm9keVJlbmRlci5zcHJpdGUueVNjYWxlIHx8IDE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIHByaW1pdGl2ZUlkID0gJ2ItJyArIGJvZHkuaWQsCiAgICAgICAgICAgICAgICBwcmltaXRpdmUgPSByZW5kZXIucHJpbWl0aXZlc1twcmltaXRpdmVJZF0sCiAgICAgICAgICAgICAgICBjb250YWluZXIgPSByZW5kZXIuY29udGFpbmVyOwoKICAgICAgICAgICAgLy8gaW5pdGlhbGlzZSBib2R5IHByaW1pdGl2ZSBpZiBub3QgZXhpc3RpbmcKICAgICAgICAgICAgaWYgKCFwcmltaXRpdmUpIHsKICAgICAgICAgICAgICAgIHByaW1pdGl2ZSA9IHJlbmRlci5wcmltaXRpdmVzW3ByaW1pdGl2ZUlkXSA9IF9jcmVhdGVCb2R5UHJpbWl0aXZlKHJlbmRlciwgYm9keSk7CiAgICAgICAgICAgICAgICBwcmltaXRpdmUuaW5pdGlhbEFuZ2xlID0gYm9keS5hbmdsZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gYWRkIHRvIHNjZW5lIGdyYXBoIGlmIG5vdCBhbHJlYWR5IHRoZXJlCiAgICAgICAgICAgIGlmIChDb21tb24uaW5kZXhPZihjb250YWluZXIuY2hpbGRyZW4sIHByaW1pdGl2ZSkgPT09IC0xKQogICAgICAgICAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHByaW1pdGl2ZSk7CgogICAgICAgICAgICAvLyB1cGRhdGUgYm9keSBwcmltaXRpdmUKICAgICAgICAgICAgcHJpbWl0aXZlLnBvc2l0aW9uLnggPSBib2R5LnBvc2l0aW9uLng7CiAgICAgICAgICAgIHByaW1pdGl2ZS5wb3NpdGlvbi55ID0gYm9keS5wb3NpdGlvbi55OwogICAgICAgICAgICBwcmltaXRpdmUucm90YXRpb24gPSBib2R5LmFuZ2xlIC0gcHJpbWl0aXZlLmluaXRpYWxBbmdsZTsKICAgICAgICB9CiAgICB9OwoKICAgIC8qKgogICAgICogQ3JlYXRlcyBhIGJvZHkgc3ByaXRlCiAgICAgKiBAbWV0aG9kIF9jcmVhdGVCb2R5U3ByaXRlCiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHtSZW5kZXJQaXhpfSByZW5kZXIKICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keQogICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9IHNwcml0ZQogICAgICogQGRlcHJlY2F0ZWQKICAgICAqLwogICAgdmFyIF9jcmVhdGVCb2R5U3ByaXRlID0gZnVuY3Rpb24ocmVuZGVyLCBib2R5KSB7CiAgICAgICAgdmFyIGJvZHlSZW5kZXIgPSBib2R5LnJlbmRlciwKICAgICAgICAgICAgdGV4dHVyZVBhdGggPSBib2R5UmVuZGVyLnNwcml0ZS50ZXh0dXJlLAogICAgICAgICAgICB0ZXh0dXJlID0gX2dldFRleHR1cmUocmVuZGVyLCB0ZXh0dXJlUGF0aCksCiAgICAgICAgICAgIHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTsKCiAgICAgICAgc3ByaXRlLmFuY2hvci54ID0gYm9keS5yZW5kZXIuc3ByaXRlLnhPZmZzZXQ7CiAgICAgICAgc3ByaXRlLmFuY2hvci55ID0gYm9keS5yZW5kZXIuc3ByaXRlLnlPZmZzZXQ7CgogICAgICAgIHJldHVybiBzcHJpdGU7CiAgICB9OwoKICAgIC8qKgogICAgICogQ3JlYXRlcyBhIGJvZHkgcHJpbWl0aXZlCiAgICAgKiBAbWV0aG9kIF9jcmVhdGVCb2R5UHJpbWl0aXZlCiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHtSZW5kZXJQaXhpfSByZW5kZXIKICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keQogICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MKICAgICAqIEBkZXByZWNhdGVkCiAgICAgKi8KICAgIHZhciBfY3JlYXRlQm9keVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHJlbmRlciwgYm9keSkgewogICAgICAgIHZhciBib2R5UmVuZGVyID0gYm9keS5yZW5kZXIsCiAgICAgICAgICAgIG9wdGlvbnMgPSByZW5kZXIub3B0aW9ucywKICAgICAgICAgICAgcHJpbWl0aXZlID0gbmV3IFBJWEkuR3JhcGhpY3MoKSwKICAgICAgICAgICAgZmlsbFN0eWxlID0gQ29tbW9uLmNvbG9yVG9OdW1iZXIoYm9keVJlbmRlci5maWxsU3R5bGUpLAogICAgICAgICAgICBzdHJva2VTdHlsZSA9IENvbW1vbi5jb2xvclRvTnVtYmVyKGJvZHlSZW5kZXIuc3Ryb2tlU3R5bGUpLAogICAgICAgICAgICBzdHJva2VTdHlsZUluZGljYXRvciA9IENvbW1vbi5jb2xvclRvTnVtYmVyKGJvZHlSZW5kZXIuc3Ryb2tlU3R5bGUpLAogICAgICAgICAgICBzdHJva2VTdHlsZVdpcmVmcmFtZSA9IENvbW1vbi5jb2xvclRvTnVtYmVyKCcjYmJiJyksCiAgICAgICAgICAgIHN0cm9rZVN0eWxlV2lyZWZyYW1lSW5kaWNhdG9yID0gQ29tbW9uLmNvbG9yVG9OdW1iZXIoJyNDRDVDNUMnKSwKICAgICAgICAgICAgcGFydDsKCiAgICAgICAgcHJpbWl0aXZlLmNsZWFyKCk7CgogICAgICAgIC8vIGhhbmRsZSBjb21wb3VuZCBwYXJ0cwogICAgICAgIGZvciAodmFyIGsgPSBib2R5LnBhcnRzLmxlbmd0aCA+IDEgPyAxIDogMDsgayA8IGJvZHkucGFydHMubGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgcGFydCA9IGJvZHkucGFydHNba107CgogICAgICAgICAgICBpZiAoIW9wdGlvbnMud2lyZWZyYW1lcykgewogICAgICAgICAgICAgICAgcHJpbWl0aXZlLmJlZ2luRmlsbChmaWxsU3R5bGUsIDEpOwogICAgICAgICAgICAgICAgcHJpbWl0aXZlLmxpbmVTdHlsZShib2R5UmVuZGVyLmxpbmVXaWR0aCwgc3Ryb2tlU3R5bGUsIDEpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcHJpbWl0aXZlLmJlZ2luRmlsbCgwLCAwKTsKICAgICAgICAgICAgICAgIHByaW1pdGl2ZS5saW5lU3R5bGUoMSwgc3Ryb2tlU3R5bGVXaXJlZnJhbWUsIDEpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBwcmltaXRpdmUubW92ZVRvKHBhcnQudmVydGljZXNbMF0ueCAtIGJvZHkucG9zaXRpb24ueCwgcGFydC52ZXJ0aWNlc1swXS55IC0gYm9keS5wb3NpdGlvbi55KTsKCiAgICAgICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgcGFydC52ZXJ0aWNlcy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgcHJpbWl0aXZlLmxpbmVUbyhwYXJ0LnZlcnRpY2VzW2pdLnggLSBib2R5LnBvc2l0aW9uLngsIHBhcnQudmVydGljZXNbal0ueSAtIGJvZHkucG9zaXRpb24ueSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHByaW1pdGl2ZS5saW5lVG8ocGFydC52ZXJ0aWNlc1swXS54IC0gYm9keS5wb3NpdGlvbi54LCBwYXJ0LnZlcnRpY2VzWzBdLnkgLSBib2R5LnBvc2l0aW9uLnkpOwoKICAgICAgICAgICAgcHJpbWl0aXZlLmVuZEZpbGwoKTsKCiAgICAgICAgICAgIC8vIGFuZ2xlIGluZGljYXRvcgogICAgICAgICAgICBpZiAob3B0aW9ucy5zaG93QW5nbGVJbmRpY2F0b3IgfHwgb3B0aW9ucy5zaG93QXhlcykgewogICAgICAgICAgICAgICAgcHJpbWl0aXZlLmJlZ2luRmlsbCgwLCAwKTsKCiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy53aXJlZnJhbWVzKSB7CiAgICAgICAgICAgICAgICAgICAgcHJpbWl0aXZlLmxpbmVTdHlsZSgxLCBzdHJva2VTdHlsZVdpcmVmcmFtZUluZGljYXRvciwgMSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHByaW1pdGl2ZS5saW5lU3R5bGUoMSwgc3Ryb2tlU3R5bGVJbmRpY2F0b3IpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHByaW1pdGl2ZS5tb3ZlVG8ocGFydC5wb3NpdGlvbi54IC0gYm9keS5wb3NpdGlvbi54LCBwYXJ0LnBvc2l0aW9uLnkgLSBib2R5LnBvc2l0aW9uLnkpOwogICAgICAgICAgICAgICAgcHJpbWl0aXZlLmxpbmVUbygoKHBhcnQudmVydGljZXNbMF0ueCArIHBhcnQudmVydGljZXNbcGFydC52ZXJ0aWNlcy5sZW5ndGgtMV0ueCkgLyAyIC0gYm9keS5wb3NpdGlvbi54KSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgocGFydC52ZXJ0aWNlc1swXS55ICsgcGFydC52ZXJ0aWNlc1twYXJ0LnZlcnRpY2VzLmxlbmd0aC0xXS55KSAvIDIgLSBib2R5LnBvc2l0aW9uLnkpKTsKCiAgICAgICAgICAgICAgICBwcmltaXRpdmUuZW5kRmlsbCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcHJpbWl0aXZlOwogICAgfTsKCiAgICAvKioKICAgICAqIEdldHMgdGhlIHJlcXVlc3RlZCB0ZXh0dXJlIChhIFBJWEkuVGV4dHVyZSkgdmlhIGl0cyBwYXRoCiAgICAgKiBAbWV0aG9kIF9nZXRUZXh0dXJlCiAgICAgKiBAcHJpdmF0ZQogICAgICogQHBhcmFtIHtSZW5kZXJQaXhpfSByZW5kZXIKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZVBhdGgKICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZQogICAgICogQGRlcHJlY2F0ZWQKICAgICAqLwogICAgdmFyIF9nZXRUZXh0dXJlID0gZnVuY3Rpb24ocmVuZGVyLCBpbWFnZVBhdGgpIHsKICAgICAgICB2YXIgdGV4dHVyZSA9IHJlbmRlci50ZXh0dXJlc1tpbWFnZVBhdGhdOwoKICAgICAgICBpZiAoIXRleHR1cmUpCiAgICAgICAgICAgIHRleHR1cmUgPSByZW5kZXIudGV4dHVyZXNbaW1hZ2VQYXRoXSA9IFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoaW1hZ2VQYXRoKTsKCiAgICAgICAgcmV0dXJuIHRleHR1cmU7CiAgICB9OwoKfSkoKTsKCn0seyIuLi9ib2R5L0NvbXBvc2l0ZSI6MiwiLi4vY29yZS9Db21tb24iOjE0LCIuLi9jb3JlL0V2ZW50cyI6MTYsIi4uL2dlb21ldHJ5L0JvdW5kcyI6MjYsIi4uL2dlb21ldHJ5L1ZlY3RvciI6Mjh9XX0se30sWzMwXSkoMzApCn0pOw==","options":{"isTrashed":false},"credits":[]},{"name":"mixed/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjg5/jg4Pjgq/jgrkKCuOBk+OBruOCteODs+ODl+ODq+OBp+OBr+OAgeWbm+inkuOBruOCquODluOCuOOCp+OCr+ODiOOBqOOAgeWkmuinkuW9ouOBruOCquODluOCuOOCp+OCr+ODiOOBqOOAgSAgCuOBneOCjOOCieOBruinkuOBjOS4uOOBj+OBquOBo+OBn+OCquODluOCuOOCp+OCr+ODiOOBjOODn+ODg+OCr+OCueOBleOCjOOBpuOBhOOCi+OCiAoKYENvbW1vbi5yYW5kb21gIOOCkuS9v+OBhuOBqOOAgSAgCuODqeODs+ODgOODoOOBq+OCquODluOCuOOCp+OCr+ODiOOCkuS9nOOCi+OBk+OBqOOBjOOBp+OBjeOCi+OCk+OBoAoKCiMjICFb5pS56YCg44GZ44KLXShtaXhlZC9tYWluLmpzKQoKCiMjIyBDb21tb24ucmFuZG9tKGBtaW5gLCBgbWF4YCkKYG1pbmAg44GL44KJIGBtYXhgIOOBvuOBp+OBruaVsOWtl+OBruOBhuOBoeOAgeODqeODs+ODgOODoOOBq+OBsuOBqOOBpOOBruaVsOWtl+OCkui/lOOBmQoKClvjg6Hjg4vjg6Xjg7zjgavmiLvjgotdKGluZGV4Lmh0bWwpCgoK","options":{"isTrashed":false},"credits":[]},{"name":"mixed/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jg5/jg4Pjgq/jgrk8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJtaXhlZC9tYWluLmpzIj48L3NjcmlwdD4KCTwvaGVhZD4KCTxib2R5PgoJPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"mixed/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUNvbXBvc2l0ZXMsCglDb21tb24sCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgoKaW1wb3J0IGVuZ2luZSBmcm9tICdlbmdpbmUnOwpjb25zdCB3b3JsZCA9IGVuZ2luZS53b3JsZDsKCmltcG9ydCByZW5kZXIgZnJvbSAncmVuZGVyJzsKcmVuZGVyLm9wdGlvbnMuc2hvd0FuZ2xlSW5kaWNhdG9yID0gdHJ1ZTsKUmVuZGVyLnJ1bihyZW5kZXIpOwoKY29uc3QgcnVubmVyID0gUnVubmVyLmNyZWF0ZSgpOwpSdW5uZXIucnVuKHJ1bm5lciwgZW5naW5lKTsKCgovLyDkuK3jga7jgqrjg5bjgrjjgqfjgq/jg4jjga7jgrnjgr/jg4Pjgq8KY29uc3Qgc3RhY2sgPSBDb21wb3NpdGVzLnN0YWNrKDIwLCAyMCwgMTAsIDUsIDAsIDAsICh4LCB5KSA9PiB7Cgljb25zdCBfc2lkZXMgPSBNYXRoLnJvdW5kKENvbW1vbi5yYW5kb20oMSwgOCkpOwoKCS8vIDMg44Gg44Go6Imv44GP44Gq44GE44Gu44Gn44CB5Luj44KP44KK44GrIDQg44Gr44GZ44KLCgljb25zdCBzaWRlcyA9IChfc2lkZXMgPT09IDMpID8gNCA6IF9zaWRlczsKCgkvLyDjgZ/jgb7jgavop5LjgpLkuLjjgY/jgZnjgosKCWNvbnN0IGNoYW1mZXIgPSBzaWRlcyA+IDIgJiYgQ29tbW9uLnJhbmRvbSgpID4gMC43ID8gewoJCXJhZGl1czogMTAKCX0gOiBudWxsOwoKCS8vIOODqeODs+ODgOODoOOBrueiuueOhwoJY29uc3QgcmF0ZSA9IENvbW1vbi5yYW5kb20oMCwgMSk7CglpZiAocmF0ZSA8IDAuMSkgewoJCS8vIDEwJSDjga7norrnjofjgafjgIHjgZPjgZPjgavlhaXjgosKCQlyZXR1cm4gQm9kaWVzLnJlY3RhbmdsZSh4LCB5LCBDb21tb24ucmFuZG9tKDgwLCAxMjApLCBDb21tb24ucmFuZG9tKDI1LCAzMCksIHsKCQkJY2hhbWZlcjogY2hhbWZlcgoJCX0pOwoJfSBlbHNlIGlmIChyYXRlIDwgMC41KSB7CgkJLy8g44Gu44GT44KKIDQwJSDjga7norrnjofjgafjgIHjgZPjgZPjgavlhaXjgosKCQlyZXR1cm4gQm9kaWVzLnJlY3RhbmdsZSh4LCB5LCBDb21tb24ucmFuZG9tKDI1LCA1MCksIENvbW1vbi5yYW5kb20oMjUsIDUwKSwgewoJCQljaGFtZmVyOiBjaGFtZmVyCgkJfSk7Cgl9IGVsc2UgewoJCS8vIOOBruOBk+OCiuOBrueiuueOh+OBp+OAgeOBk+OBk+OBq+WFpeOCiwoJCXJldHVybiBCb2RpZXMucG9seWdvbih4LCB5LCBzaWRlcywgQ29tbW9uLnJhbmRvbSgyNSwgNTApLCB7CgkJCWNoYW1mZXI6IGNoYW1mZXIKCQl9KTsKCX0KCn0pOwoKV29ybGQuYWRkKHdvcmxkLCBzdGFjayk7CgpXb3JsZC5hZGQod29ybGQsIFsKCS8vIOWjgQoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg4MDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pCl0pOwoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdtaXhlZC9SRUFETUUubWQnKTsK","options":{"isTrashed":false},"credits":[]},{"name":"newtonsCradle/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjg4vjg6Xjg7zjg4jjg7Pjga7jgobjgorjgYvjgZQKClvjg4vjg6Xjg7zjg4jjg7Pjga7jgobjgorjgYvjgZRdKGh0dHBzOi8vamEud2lraXBlZGlhLm9yZy93aWtpLyVFMyU4MyU4QiVFMyU4MyVBNSVFMyU4MyVCQyVFMyU4MyU4OCVFMyU4MyVCMyVFMyU4MSVBRSVFMyU4MiU4NiVFMyU4MiU4QSVFMyU4MSU4QiVFMyU4MSU5NCkK5L2c44Gj44Gm44G/44GfCgpb44Oh44OL44Ol44O844Gr5oi744KLXShpbmRleC5odG1sKQoKCiMjIOaUuemAoOOBl+OBpuOBv+OCiwoKIVvjgZPjgZPjgYvjgonlp4vjgoHjgotdKG5ld3RvbnNDcmFkbGUvbWFpbi5qcykKCioqQ29tcG9zaXRlcy5uZXd0b25zQ3JhZGxlKGAxYCwgYDJgLCBgM2AsIGA0YCwgYDVgKSoqCnwgfCDmhI/lkbMgfCDjga/jgpPjgYQKLS0tIHwgLS0tIHwgLS0tIAoxIHwg5bem44GL44KJ44Gu44Kt44On44OqIHwgMCB+IDgwMAoyIHwg5LiK44GL44KJ44Gu44Kt44On44OqIHwgMCB+IDYwMCAKMyB8IOWGhuOBruaVsCB8IDAgfgo0IHwg5YaG44Gu5Y2K5b6EIHwgMCB+ICAKNSB8IOOBsuOCguOBrumVt+OBlSB8IDAgfiAgCgrjgoLjgaPjgajmlLnpgKAKIVvoqK3lrppdKG5ld3RvbnNDcmFkbGUvc2V0dGluZy5qcykKCg==","options":{"isTrashed":false},"credits":[]},{"name":"newtonsCradle/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jg4vjg6Xjg7zjg4jjg7Pjga7jgobjgorjgYvjgZQ8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJuZXd0b25zQ3JhZGxlL21haW4uanMiPjwvc2NyaXB0PgoJPC9oZWFkPgoJPGJvZHk+Cgk8L2JvZHk+CjwvaHRtbD4=","options":{"isTrashed":false},"credits":[]},{"name":"newtonsCradle/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUJvZHksCglDb21wb3NpdGVzLAoJV29ybGQsCglCb2RpZXMsCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCB7Cgl3b3JsZCwKfSBmcm9tICcuL3NldHRpbmcnOwoKLy8g44OL44Ol44O844OI44Oz44Gu44KG44KK44GL44GU44KS44Gk44GP44KLCmNvbnN0IGNyYWRsZTEgPSBDb21wb3NpdGVzLm5ld3RvbnNDcmFkbGUoMjgwLCAyMDAsIDUsIDMwLCAyMDApOwoKV29ybGQuYWRkKHdvcmxkLCBbCgkvLyDjg4vjg6Xjg7zjg4jjg7Pjga7jgobjgorjgYvjgZQKCWNyYWRsZTEsCgkKXSk7CgovLyDkuIDnlarlt6bjga7lhobjgaDjgZHjgpLlt6bkuIrjgavli5XjgYvjgZkKQm9keS50cmFuc2xhdGUoY3JhZGxlMS5ib2RpZXNbMF0sIHsKCXg6IC0xODAsCgl5OiAtMTAwLAp9KTsKCgo=","options":{"isTrashed":false},"credits":[]},{"name":"newtonsCradle/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUJvZHksCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAp9IGZyb20gJ21hdHRlcic7CgoKaW1wb3J0IGVuZ2luZSBmcm9tICdlbmdpbmUnOwpjb25zdCB3b3JsZCA9IGVuZ2luZS53b3JsZDsKCmltcG9ydCByZW5kZXIgZnJvbSAncmVuZGVyJzsKcmVuZGVyLm9wdGlvbnMuc2hvd1ZlbG9jaXR5ID0gdHJ1ZTsKUmVuZGVyLnJ1bihyZW5kZXIpOwoKY29uc3QgcnVubmVyID0gUnVubmVyLmNyZWF0ZSgpOwpSdW5uZXIucnVuKHJ1bm5lciwgZW5naW5lKTsKCgovLyDjg57jgqbjgrnmk43kvZwKY29uc3QgbW91c2UgPSBNb3VzZS5jcmVhdGUocmVuZGVyLmNhbnZhcyk7CmNvbnN0IG1vdXNlQ29uc3RyYWludCA9IE1vdXNlQ29uc3RyYWludC5jcmVhdGUoZW5naW5lLCB7Cgltb3VzZTogbW91c2UsCgljb25zdHJhaW50OiB7CgkJc3RpZmZuZXNzOiAwLjIsCgkJcmVuZGVyOiB7CgkJCXZpc2libGU6IGZhbHNlCgkJfQoJfQp9KTsKCldvcmxkLmFkZCh3b3JsZCwgbW91c2VDb25zdHJhaW50KTsKCi8vIGtlZXAgdGhlIG1vdXNlIGluIHN5bmMgd2l0aCByZW5kZXJpbmcKcmVuZGVyLm1vdXNlID0gbW91c2U7CgoKZmVlbGVzLm9wZW5SZWFkbWUoJ25ld3RvbnNDcmFkbGUvUkVBRE1FLm1kJyk7CgoKZXhwb3J0IHsKCWVuZ2luZSwKCXdvcmxkLAoJcmVuZGVyLAp9Owo=","options":{"isTrashed":false},"credits":[]},{"name":"newtonsCradle/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoK","options":{"isTrashed":false},"credits":[]},{"name":"plugins/attractorsPlugin.js","type":"application/javascript","lastModified":1492756455000,"composed":"Ly8gTk9URTogdGhpcyBwbHVnaW4gd2lsbCBiZSBtb3ZlZCB0byBpdHMgb3duIHJlcG8KCmltcG9ydCB7CglQbHVnaW4sCglDb21wb3NpdGUsCglDb21tb24sCglCb2R5LAp9IGZyb20gJ21hdHRlcic7CgoKY29uc3QgTWF0dGVyQXR0cmFjdG9ycyA9IHsKCW5hbWU6ICdtYXR0ZXItYXR0cmFjdG9ycycsCgoJdmVyc2lvbjogJzAuMS4wJywKCglmb3I6ICdtYXR0ZXItanNAXjAuMTAuMCcsCgoJaW5zdGFsbDogZnVuY3Rpb24oYmFzZSkgewoJCWJhc2UuYWZ0ZXIoJ0JvZHkuY3JlYXRlJywgZnVuY3Rpb24oKSB7CgkJCU1hdHRlckF0dHJhY3RvcnMuQm9keS5pbml0KHRoaXMpOwoJCX0pOwoKCQliYXNlLmFmdGVyKCdFbmdpbmUudXBkYXRlJywgZnVuY3Rpb24oKSB7CgkJCU1hdHRlckF0dHJhY3RvcnMuRW5naW5lLnVwZGF0ZSh0aGlzKTsKCQl9KTsKCX0sCgoJQm9keTogewoJCWluaXQ6IGZ1bmN0aW9uKGJvZHkpIHsKCQkJYm9keS5hdHRyYWN0b3JzID0gYm9keS5hdHRyYWN0b3JzIHx8IFtdOwoJCX0KCX0sCgoJRW5naW5lOiB7CgkJdXBkYXRlOiBmdW5jdGlvbihlbmdpbmUpIHsKCQkJdmFyIHdvcmxkID0gZW5naW5lLndvcmxkLAoJCQkJYm9kaWVzID0gQ29tcG9zaXRlLmFsbEJvZGllcyh3b3JsZCk7CgoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkgKz0gMSkgewoJCQkJdmFyIGJvZHlBID0gYm9kaWVzW2ldLAoJCQkJCWF0dHJhY3RvcnMgPSBib2R5QS5hdHRyYWN0b3JzOwoKCQkJCWlmIChhdHRyYWN0b3JzICYmIGF0dHJhY3RvcnMubGVuZ3RoID4gMCkgewoJCQkJCWZvciAodmFyIGogPSBpICsgMTsgaiA8IGJvZGllcy5sZW5ndGg7IGogKz0gMSkgewoJCQkJCQl2YXIgYm9keUIgPSBib2RpZXNbal07CgoJCQkJCQlmb3IgKHZhciBrID0gMDsgayA8IGF0dHJhY3RvcnMubGVuZ3RoOyBrICs9IDEpIHsKCQkJCQkJCXZhciBhdHRyYWN0b3IgPSBhdHRyYWN0b3JzW2tdLAoJCQkJCQkJCWZvcmNlVmVjdG9yID0gYXR0cmFjdG9yOwoKCQkJCQkJCWlmIChDb21tb24uaXNGdW5jdGlvbihhdHRyYWN0b3IpKSB7CgkJCQkJCQkJZm9yY2VWZWN0b3IgPSBhdHRyYWN0b3IoYm9keUEsIGJvZHlCKTsKCQkJCQkJCX0KCgkJCQkJCQlpZiAoZm9yY2VWZWN0b3IpIHsKCQkJCQkJCQlCb2R5LmFwcGx5Rm9yY2UoYm9keUIsIGJvZHlCLnBvc2l0aW9uLCBmb3JjZVZlY3Rvcik7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0KCQl9Cgl9Cn07CgpQbHVnaW4ucmVnaXN0ZXIoTWF0dGVyQXR0cmFjdG9ycyk7Cgp3aW5kb3cuTWF0dGVyQXR0cmFjdG9ycyA9IE1hdHRlckF0dHJhY3RvcnM7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"plugins/gravityPlugin.js","type":"application/javascript","lastModified":1492756455000,"composed":"Ly8gTk9URTogdGhpcyBwbHVnaW4gd2lsbCBiZSBtb3ZlZCB0byBpdHMgb3duIHJlcG8KCmltcG9ydCB7CglQbHVnaW4sCglWZWN0b3IsCglCb2R5LAp9IGZyb20gJ21hdHRlcic7CgoKY29uc3QgTWF0dGVyR3Jhdml0eSA9IHsKCW5hbWU6ICdtYXR0ZXItZ3Jhdml0eScsCgoJdmVyc2lvbjogJzAuMS4wJywKCglmb3I6ICdtYXR0ZXItanNAXjAuMTAuMCcsCgoJdXNlczogWwoJCSdtYXR0ZXItYXR0cmFjdG9yc0BeMC4xLjAnCgldLAoKCWluc3RhbGw6IGZ1bmN0aW9uKGJhc2UpIHsKCQliYXNlLmFmdGVyKCdCb2R5LmNyZWF0ZScsIGZ1bmN0aW9uKCkgewoJCQlNYXR0ZXJHcmF2aXR5LkJvZHkuaW5pdCh0aGlzKTsKCQl9KTsKCX0sCgoJQm9keTogewoJCWluaXQ6IGZ1bmN0aW9uKGJvZHkpIHsKCQkJaWYgKGJvZHkucGx1Z2luLmdyYXZpdHkpIHsKCQkJCWJvZHkuYXR0cmFjdG9ycy5wdXNoKE1hdHRlckdyYXZpdHkuQm9keS5hcHBseUdyYXZpdHkpOwoJCQl9CgkJfSwKCgkJYXBwbHlHcmF2aXR5OiBmdW5jdGlvbihib2R5QSwgYm9keUIpIHsKCQkJdmFyIGJUb0EgPSBWZWN0b3Iuc3ViKGJvZHlCLnBvc2l0aW9uLCBib2R5QS5wb3NpdGlvbiksCgkJCQlkaXN0YW5jZVNxID0gVmVjdG9yLm1hZ25pdHVkZVNxdWFyZWQoYlRvQSkgfHwgMC4wMDAxLAoJCQkJbm9ybWFsID0gVmVjdG9yLm5vcm1hbGlzZShiVG9BKSwKCQkJCW1hZ25pdHVkZSA9IC1ib2R5QS5wbHVnaW4uZ3Jhdml0eSAqIChib2R5QS5tYXNzICogYm9keUIubWFzcyAvIGRpc3RhbmNlU3EpLAoJCQkJZm9yY2UgPSBWZWN0b3IubXVsdChub3JtYWwsIG1hZ25pdHVkZSk7CgoJCQlCb2R5LmFwcGx5Rm9yY2UoYm9keUEsIGJvZHlBLnBvc2l0aW9uLCBWZWN0b3IubmVnKGZvcmNlKSk7CgkJCUJvZHkuYXBwbHlGb3JjZShib2R5QiwgYm9keUIucG9zaXRpb24sIGZvcmNlKTsKCQl9Cgl9Cn07CgpQbHVnaW4ucmVnaXN0ZXIoTWF0dGVyR3Jhdml0eSk7Cgp3aW5kb3cuTWF0dGVyR3Jhdml0eSA9IE1hdHRlckdyYXZpdHk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"plugins/wrapPlugin.js","type":"application/javascript","lastModified":1492756455000,"composed":"Ly8gTk9URTogdGhpcyBwbHVnaW4gd2lsbCBiZSBtb3ZlZCB0byBpdHMgb3duIHJlcG8KCmltcG9ydCB7CglQbHVnaW4sCglDb21wb3NpdGUsCglCb2R5LAp9IGZyb20gJ21hdHRlcic7CgoKY29uc3QgTWF0dGVyV3JhcCA9IHsKCW5hbWU6ICdtYXR0ZXItd3JhcCcsCgoJdmVyc2lvbjogJzAuMS4wJywKCglmb3I6ICdtYXR0ZXItanNAXjAuMTAuMCcsCgoJaW5zdGFsbDogZnVuY3Rpb24oYmFzZSkgewoJCWJhc2UuYWZ0ZXIoJ0VuZ2luZS51cGRhdGUnLCBmdW5jdGlvbigpIHsKCQkJTWF0dGVyV3JhcC5FbmdpbmUudXBkYXRlKHRoaXMpOwoJCX0pOwoJfSwKCglFbmdpbmU6IHsKCQl1cGRhdGU6IGZ1bmN0aW9uKGVuZ2luZSkgewoJCQl2YXIgd29ybGQgPSBlbmdpbmUud29ybGQsCgkJCQlib2RpZXMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKHdvcmxkKTsKCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSArPSAxKSB7CgkJCQl2YXIgYm9keSA9IGJvZGllc1tpXTsKCQkJCWJvZHkucGx1Z2luID0gYm9keS5wbHVnaW4gfHwge307CgoJCQkJaWYgKGJvZHkucGx1Z2luLndyYXApIHsKCQkJCQlNYXR0ZXJXcmFwLkJvZHkud3JhcChib2R5LCBib2R5LnBsdWdpbi53cmFwKTsKCQkJCX0KCQkJfQoJCX0KCX0sCgoJQm9keTogewoJCXdyYXA6IGZ1bmN0aW9uKGJvZHksIGJvdW5kcykgewoJCQl2YXIgeCA9IG51bGwsCgkJCQl5ID0gbnVsbDsKCgkJCWlmICh0eXBlb2YgYm91bmRzLm1pbi54ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgYm91bmRzLm1heC54ICE9PSAndW5kZWZpbmVkJykgewoJCQkJaWYgKGJvZHkuYm91bmRzLm1pbi54ID4gYm91bmRzLm1heC54KSB7CgkJCQkJeCA9IGJvdW5kcy5taW4ueCAtIChib2R5LmJvdW5kcy5tYXgueCAtIGJvZHkucG9zaXRpb24ueCk7CgkJCQl9IGVsc2UgaWYgKGJvZHkuYm91bmRzLm1heC54IDwgYm91bmRzLm1pbi54KSB7CgkJCQkJeCA9IGJvdW5kcy5tYXgueCAtIChib2R5LmJvdW5kcy5taW4ueCAtIGJvZHkucG9zaXRpb24ueCk7CgkJCQl9CgkJCX0KCgkJCWlmICh0eXBlb2YgYm91bmRzLm1pbi55ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgYm91bmRzLm1heC55ICE9PSAndW5kZWZpbmVkJykgewoJCQkJaWYgKGJvZHkuYm91bmRzLm1pbi55ID4gYm91bmRzLm1heC55KSB7CgkJCQkJeSA9IGJvdW5kcy5taW4ueSAtIChib2R5LmJvdW5kcy5tYXgueSAtIGJvZHkucG9zaXRpb24ueSk7CgkJCQl9IGVsc2UgaWYgKGJvZHkuYm91bmRzLm1heC55IDwgYm91bmRzLm1pbi55KSB7CgkJCQkJeSA9IGJvdW5kcy5tYXgueSAtIChib2R5LmJvdW5kcy5taW4ueSAtIGJvZHkucG9zaXRpb24ueSk7CgkJCQl9CgkJCX0KCgkJCWlmICh4ICE9PSBudWxsIHx8IHkgIT09IG51bGwpIHsKCQkJCUJvZHkuc2V0UG9zaXRpb24oYm9keSwgewoJCQkJCXg6IHggfHwgYm9keS5wb3NpdGlvbi54LAoJCQkJCXk6IHkgfHwgYm9keS5wb3NpdGlvbi55CgkJCQl9KTsKCQkJfQoJCX0KCX0KfTsKClBsdWdpbi5yZWdpc3RlcihNYXR0ZXJXcmFwKTsKCndpbmRvdy5NYXR0ZXJXcmFwID0gTWF0dGVyV3JhcDsK","options":{"isTrashed":false},"credits":[]},{"name":"pyramid/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjg5Tjg6njg5/jg4Pjg4kKCuODlOODqeODn+ODg+ODieW7uuOBpuOBpuOBv+OBnwoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCiMjIOaUuemAoOOBl+OBpuOBv+OCiwohW+OBk+OBk+OBi+OCieWni+OCgeOCi10ocHlyYW1pZC9tYWluLmpzKQoKKipDb21wb3NpdGVzLnB5cmFtaWQoYDFgLCBgMmAsIGAzYCwgYDRgLCBgNWAsIGA2YCwgKHgsIHkpID0+IHsgIArjgIDjgIByZXR1cm4gQm9kaWVzLnJlY3RhbmdsZSh4LCB5LCBgN2AsIGA4YCwgeyAgCuOAgOOAgOOAgOOAgHJlbmRlcjogeyAgCuOAgOOAgOOAgOOAgOOAgOOAgGZpbGxTdHlsZTogYDlgLCAgCuOAgOOAgOOAgOOAgH0sICAK44CA44CAfSk7ICAKfSk7KioKCnwgfCDmhI/lkbMgfCDjga/jgpPjgYQKLS0tIHwgLS0tIHwgLS0tIHwgLS0tIHwgLS0tCjEgfCDjg5Tjg6njg5/jg4Pjg4njga7kvY3nva7vvIjmqKrvvIkgfCAwIH4gODAwCjIgfCDjg5Tjg6njg5/jg4Pjg4njga7kvY3nva7vvIjnuKbvvIkgfCAwIH4gNjAwIAozIHwg5LiA55Wq5LiL44Gu5YiX44Gu5pWw77yI5qiq77yJIHwgMCB+IAo0IHwg5Lit5aSu44Gu5q6144Gu5pWw77yI44K/44OG77yJIHwgMCB+IAo1IHwg5qiq5pa55ZCR44Gu6ZaT44GL44GPIHwgMCB+IAo2IHwg44K/44OG5pa55ZCR44Gu6ZaT44GL44GPIHwgMCB+IAo3IHwg44Kq44OW44K444Kn44Kv44OI44Gu5qiq5bmFIHwgMCB+IAo4IHwg44Kq44OW44K444Kn44Kv44OI44Gu6auY44GVIHwgMCB+IAoK44KC44Gj44Go5pS56YCgCiFb6Kit5a6aXShweXJhbWlkL3NldHRpbmcuanMpCiFb44GL44G544O744KG44GLXShweXJhbWlkL3N0YWdlLmpzKQoKCi0gLSAtCgojIyDlv5znlKjkvosKClvjgrnjg6rjg7PjgrDjgrfjg6fjg4Pjg4hdKHNsaW5nc2hvdC9pbmRleC5odG1sKQo=","options":{"isTrashed":false},"credits":[]},{"name":"pyramid/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jg5Tjg6njg5/jg4Pjg4k8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJweXJhbWlkL21haW4uanMiPjwvc2NyaXB0PgoJPC9oZWFkPgoJPGJvZHk+Cgk8L2JvZHk+CjwvaHRtbD4=","options":{"isTrashed":false},"credits":[]},{"name":"pyramid/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUNvbXBvc2l0ZXMsCglXb3JsZCwKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKaW1wb3J0IHsKCXdvcmxkLAp9IGZyb20gJy4vc2V0dGluZyc7CgoKV29ybGQuYWRkKHdvcmxkLCBbCgkKCS8vIOODlOODqeODn+ODg+ODiQoJQ29tcG9zaXRlcy5weXJhbWlkKDEwMCwgMjU4LCAxNSwgMTAsIDAsIDAsICh4LCB5KSA9PiB7CgkJcmV0dXJuIEJvZGllcy5yZWN0YW5nbGUoeCwgeSwgNDAsIDQwLCB7CgkJCS8vIOOCquODluOCuOOCp+OCr+ODiOOBruiJsgoJCQlyZW5kZXI6IHsKCQkJCWZpbGxTdHlsZTogIiNGMEMwMDAiLAoJCQl9LAoJCQkKCQl9KTsKCX0pLAoJCl0pOwoKCgppbXBvcnQgJy4vc3RhZ2UnOwo=","options":{"isTrashed":false},"credits":[]},{"name":"pyramid/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKY29uc3Qgd29ybGQgPSBlbmdpbmUud29ybGQ7CgppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdweXJhbWlkL1JFQURNRS5tZCcpOwoKCmV4cG9ydCB7CgllbmdpbmUsCgl3b3JsZCwKCXJlbmRlciwKfTsK","options":{"isTrashed":false},"credits":[]},{"name":"pyramid/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCgpXb3JsZC5hZGQod29ybGQsIFsKCS8vIOWjgQoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg4MDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlLAoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlLAoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjA1LCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgl9KSwKCQpdKTs=","options":{"isTrashed":false},"credits":[]},{"name":"raycasting/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDnt5rliIbjgajjga7jgZfjgofjgYbnqoEKCgrnlLvpnaLjga7kuIrjgYvjgonjg57jgqbjgrnjgb7jgafjga7nt5rjgavjgqrjg5bjgrjjgqfjgq/jg4jjgYzph43jgarjgaPjgZ/jgajjgY3jgIEgIArjgZ3jgZPjgavlm5vop5LlvaLjgpLmj4/nlLvjgZnjgovjgogKCgojIyAhW+aUuemAoOOBmeOCi10ocmF5Y2FzdGluZy9tYWluLmpzKQoKCiMjIGNvbnRleHQg44Gu44Oh44Oz44OQ44O8CuODoeODs+ODkOODvOWQjSB8IOaEj+WRsyB8IDEgfCAyIHwgMyB8IDQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKLS0tIHwgLS0tIHwgLS0tIHwgLS0tIHwgLS0tIHwgLS0tCmJlZ2luUGF0aChgMWAsIGAyYCkgfCDmlrDjgZfjgYTjg5HjgrnjgpLkvZzjgosgfCDlp4vngrko5qiqKSB8IOWni+eCuSjnuKYpIHwgfCAKbW92ZVRvKGAxYCwgYDJgKSB8IOS9leOCguOBm+OBmuODkeOCueOCkuenu+WLleOBmeOCiyB8IOenu+WLlemHjyjmqKopIHwg56e75YuV6YePKOe4pikgfCB8IApsaW5lVG8oYDFgLCBgMmApIHwg57ea44KS5byV44GE44Gm44OR44K544KS56e75YuV44GZ44KLIHwg56e75YuV6YePKOaoqikgfCDnp7vli5Xph48o57imKSB8IHwgCnJlY3QoYDFgLCBgMmAsIGAzYCwgYDRgKSB8IOWbm+inkuW9ouOBruODkeOCueOCkuW8leOBjyB8IOW3puerryB8IOS4iuerryB8IOW5hSB8IOmrmOOBlQpzdHJva2VTdHlsZSA9IGAxYCB8IOe3muOBruiJsiB8IOiJsuOBruaWh+Wtl+WIlyB8IHwgfApmaWxsU3R5bGUgPSBgMWAgfCDloZfjgorjgaTjgbbjgZfjga7oibIgfCDoibLjga7mloflrZfliJcgfCB8IHwKbGluZVdpZHRoID0gYDFgIHwg57ea44Gu5aSq44GVIHwg5aSq44GV44Gu5pWw5YCkIHwgfCB8CnN0cm9rZSgpIHwg44OR44K55LiK44Gu57ea44KS5o+P55S744GZ44KLIHwgfCB8IHwKZmlsbCgpIHwg44OR44K55LiK44Gu6Z2i44KS5aGX44KK44Gk44G244GZIHwgfCB8IHwKCgpb44Oh44OL44Ol44O844Gr5oi744KLXShpbmRleC5odG1sKQoK","options":{"isTrashed":false},"credits":[]},{"name":"raycasting/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7nt5rliIbjgajjga7jgZfjgofjgYbnqoE8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJyYXljYXN0aW5nL21haW4uanMiPjwvc2NyaXB0PgoJPC9oZWFkPgoJPGJvZHk+Cgk8L2JvZHk+CjwvaHRtbD4=","options":{"isTrashed":false},"credits":[]},{"name":"raycasting/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUNvbXBvc2l0ZSwKCUNvbXBvc2l0ZXMsCglDb21tb24sCglRdWVyeSwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJRXZlbnRzLAoJV29ybGQsCglWZXJ0aWNlcywKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKY29uc3Qgd29ybGQgPSBlbmdpbmUud29ybGQ7CgppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7CnJlbmRlci5vcHRpb25zLnNob3dBbmdsZUluZGljYXRvciA9IHRydWU7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g44Kq44OW44K444Kn44Kv44OI44Gu44K544K/44OD44KvCmNvbnN0IHN0YWNrID0gQ29tcG9zaXRlcy5zdGFjaygyMCwgMjAsIDEyLCA0LCAwLCAwLCAoeCwgeSkgPT4gewoJLy8g44Op44Oz44OA44Og44Gu56K6546HCgljb25zdCByYXRlID0gQ29tbW9uLnJhbmRvbSgwLCAxKTsKCWlmIChyYXRlIDwgMC4xKSB7CgkJLy8gMTAlIOOBrueiuueOh+OBp+OAgeOBk+OBk+OBq+WFpeOCiwoJCXJldHVybiBCb2RpZXMucmVjdGFuZ2xlKHgsIHksIENvbW1vbi5yYW5kb20oODAsIDEyMCksIENvbW1vbi5yYW5kb20oMjAsIDMwKSk7CgoJfSBlbHNlIGlmIChyYXRlIDwgMC41KSB7CgkJLy8g44Gu44GT44KKIDQwJSDjga7norrnjofjgafjgIHjgZPjgZPjgavlhaXjgosKCQlyZXR1cm4gQm9kaWVzLnJlY3RhbmdsZSh4LCB5LCBDb21tb24ucmFuZG9tKDIwLCA1MCksIENvbW1vbi5yYW5kb20oMjAsIDUwKSk7CgoJfSBlbHNlIHsKCQkvLyDjga7jgZPjgorjga7norrnjofjgafjgIHjgZPjgZPjgavlhaXjgosKCQljb25zdCBfc2lkZXMgPSBNYXRoLnJvdW5kKENvbW1vbi5yYW5kb20oMSwgOCkpOwoJCWNvbnN0IHNpZGVzID0gKF9zaWRlcyA9PT0gMykgPyA0IDogX3NpZGVzOwoJCXJldHVybiBCb2RpZXMucG9seWdvbih4LCB5LCBzaWRlcywgQ29tbW9uLnJhbmRvbSgyMCwgNTApKTsKCgl9Cn0pOwoKLy8g5pif44Gu44Kq44OW44K444Kn44Kv44OICmNvbnN0IHN0YXIgPSBWZXJ0aWNlcy5mcm9tUGF0aCgnNTAgMCA2MyAzOCAxMDAgMzggNjkgNTkgODIgMTAwIDUwIDc1IDE4IDEwMCAzMSA1OSAwIDM4IDM3IDM4Jyk7CmNvbnN0IGNvbmNhdmUgPSBCb2RpZXMuZnJvbVZlcnRpY2VzKDIwMCwgMjAwLCBzdGFyKTsKCldvcmxkLmFkZCh3b3JsZCwgWwoJc3RhY2ssCgljb25jYXZlLAoJLy8g5aOBCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCA2MDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDgwMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSgwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSkKXSk7CgpFdmVudHMub24ocmVuZGVyLCAnYWZ0ZXJSZW5kZXInLCAoKSA9PiB7CgkvLyDlrp/ooYzkuK3jga/luLjjgavnlLvpnaLjga7mj4/nlLvjgYzntYLjgo/jgaPjgZ/jgonjgIHjgZPjgZPjgavlhaXjgosKCgljb25zdCBtb3VzZSA9IG1vdXNlQ29uc3RyYWludC5tb3VzZTsKCWNvbnN0IGNvbnRleHQgPSByZW5kZXIuY29udGV4dDsKCWNvbnN0IGJvZGllcyA9IENvbXBvc2l0ZS5hbGxCb2RpZXMoZW5naW5lLndvcmxkKTsKCS8vIOe3muWIhuOBruOCueOCv+ODvOODiOWcsOeCuQoJY29uc3Qgc3RhcnRQb2ludCA9IHsKCQl4OiA0MDAsCgkJeTogMTAwCgl9OwoJLy8g57ea5YiG44Gu44Ko44Oz44OJ5Zyw54K5Cgljb25zdCBlbmRQb2ludCA9IG1vdXNlLnBvc2l0aW9uOwoKCS8vIOe3muWIhuOBruOBl+OCh+OBhueqgeWIpOWumgoJY29uc3QgY29sbGlzaW9ucyA9IFF1ZXJ5LnJheShib2RpZXMsIHN0YXJ0UG9pbnQsIGVuZFBvaW50KTsKCglSZW5kZXIuc3RhcnRWaWV3VHJhbnNmb3JtKHJlbmRlcik7CgoJLy8g57ea5YiG44KS55S76Z2i44Gr5o+P55S744GZ44KLCgljb250ZXh0LmJlZ2luUGF0aCgpOwoJY29udGV4dC5tb3ZlVG8oc3RhcnRQb2ludC54LCBzdGFydFBvaW50LnkpOwoJY29udGV4dC5saW5lVG8oZW5kUG9pbnQueCwgZW5kUG9pbnQueSk7CglpZiAoY29sbGlzaW9ucy5sZW5ndGggPiAwKSB7CgkJY29udGV4dC5zdHJva2VTdHlsZSA9ICcjZmZmJzsKCX0gZWxzZSB7CgkJY29udGV4dC5zdHJva2VTdHlsZSA9ICcjNTU1JzsKCX0KCWNvbnRleHQubGluZVdpZHRoID0gMC41OwoJY29udGV4dC5zdHJva2UoKTsKCgkvLyDnt5rliIbjgajjgZfjgofjgYbnqoHjgZfjgZ/jgqrjg5bjgrjjgqfjgq/jg4jjga7jgYLjgovkvY3nva7jgavjgIHlm5vop5LlvaLjgpLmj4/nlLvjgZnjgosKCWZvciAoY29uc3QgY29sbGlzaW9uIG9mIGNvbGxpc2lvbnMpIHsKCQljb250ZXh0LnJlY3QoY29sbGlzaW9uLmJvZHlBLnBvc2l0aW9uLnggLSA0LjUsIGNvbGxpc2lvbi5ib2R5QS5wb3NpdGlvbi55IC0gNC41LCA4LCA4KTsKCX0KCgljb250ZXh0LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwxNjUsMCwwLjcpJzsKCWNvbnRleHQuZmlsbCgpOwoKCVJlbmRlci5lbmRWaWV3VHJhbnNmb3JtKHJlbmRlcik7Cgp9KTsKCi8vIOODnuOCpuOCueaTjeS9nApjb25zdCBtb3VzZSA9IE1vdXNlLmNyZWF0ZShyZW5kZXIuY2FudmFzKTsKY29uc3QgbW91c2VDb25zdHJhaW50ID0gTW91c2VDb25zdHJhaW50LmNyZWF0ZShlbmdpbmUsIHsKCW1vdXNlOiBtb3VzZSwKCWNvbnN0cmFpbnQ6IHsKCQlzdGlmZm5lc3M6IDAuMiwKCQlyZW5kZXI6IHsKCQkJdmlzaWJsZTogZmFsc2UKCQl9Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBtb3VzZUNvbnN0cmFpbnQpOwoKLy8ga2VlcCB0aGUgbW91c2UgaW4gc3luYyB3aXRoIHJlbmRlcmluZwpyZW5kZXIubW91c2UgPSBtb3VzZTsKCgpmZWVsZXMub3BlblJlYWRtZSgncmF5Y2FzdGluZy9SRUFETUUubWQnKTsK","options":{"isTrashed":false},"credits":[]},{"name":"rectangle/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDkvY3nva7jg7vlpKfjgY3jgZUKCuOCquODluOCuOOCp+OCr+ODiOOCkuS9nOOCi+aZguOBriAqKuS9jee9ruOBqOWkp+OBjeOBlSoqIOOCkuWkieOBiOOBpuOBv+OBnwoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgojIyDmlLnpgKDjgZfjgabjgb/jgosKCiFb44GT44GT44GL44KJ5aeL44KB44KLXShyZWN0YW5nbGUvbWFpbi5qcykKCiMjIyBCb2RpZXMucmVjdGFuZ2xlKGAxYCwgYDJgLCBgM2AsIGA0YCk7Cnx8IOaEj+WRsyB8IOOBr+OCk+OBhCAKLS0tIHwgLS0tIHwgLS0tIAoxIHwg5bem44GL44KJ44Gu44Kt44On44OqIHwgMCB+IDgwMAoyIHwg5LiK44GL44KJ44Gu44Kt44On44OqIHwgMCB+IDgwMAozIHwg5qiq5pa55ZCR44Gu6ZW344GVIHwgMCB+IAo0IHwg44K/44OG5pa55ZCR44Gu6ZW344GVIHwgMCB+IAoK44KC44Gj44Go5pS56YCgCiFb6Kit5a6aXShyZWN0YW5nbGUvc2V0dGluZy5qcykKIVvjgYvjgbnjg7vjgobjgYtdKHJlY3RhbmdsZS9zdGFnZS5qcykK","options":{"isTrashed":false},"credits":[]},{"name":"rectangle/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7kvY3nva7jg7vlpKfjgY3jgZU8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJyZWN0YW5nbGUvbWFpbi5qcyI+PC9zY3JpcHQ+Cgk8L2hlYWQ+Cgk8Ym9keT4KCTwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"rectangle/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nLmpzJzsKCldvcmxkLmFkZCh3b3JsZCwgWwoJCgkvLyDlt6bjga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5yZWN0YW5nbGUoMTUwLCA1MDAsIDEwMCwgMjAwKSwKCQoJLy8g5Lit44Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNDAwLCAxMDAsIDMwMCksCgkKCS8vIOWPs+OBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSg1MDAsIDEwMCwgNDAwLCAxMDApLAoJCl0pOwoKCmltcG9ydCAnLi9zdGFnZS5qcyc7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"rectangle/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKCVdvcmxkLAoJUnVubmVyLAoJTW91c2UsCglNb3VzZUNvbnN0cmFpbnQsCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKY29uc3Qgd29ybGQgPSBlbmdpbmUud29ybGQ7CgppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdyZWN0YW5nbGUvUkVBRE1FLm1kJyk7CgoKZXhwb3J0IHsKCWVuZ2luZSwKCXdvcmxkLAoJcmVuZGVyLAp9Owo=","options":{"isTrashed":false},"credits":[]},{"name":"rectangle/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CmltcG9ydCB7Cgl3b3JsZCwKfSBmcm9tICcuL3NldHRpbmcnOwoKCi8vIOWjgQpXb3JsZC5hZGQod29ybGQsIFsKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoODAwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KQpdKTsK","options":{"isTrashed":false},"credits":[]},{"name":"render.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKfSBmcm9tICdtYXR0ZXInOwoKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKCmNvbnN0IG9wdGlvbnMgPSB7Cgl3aWR0aDogODAwLAoJaGVpZ2h0OiA2MDAsCgkvLyDog4zmma/oibIKCWJhY2tncm91bmQ6ICcjZmFmYWZhJywKCWhhc0JvdW5kczogZmFsc2UsCgllbmFibGVkOiB0cnVlLAoJLy8g44Oi44OO44Kv44Ot5YyWICjpq5jpgJ/jgavjgarjgospCgl3aXJlZnJhbWVzOiBmYWxzZSwKCXdpcmVmcmFtZUJhY2tncm91bmQ6ICcjMjIyJywKCXNob3dTbGVlcGluZzogZmFsc2UsCglzaG93RGVidWc6IGZhbHNlLAoJc2hvd0Jyb2FkcGhhc2U6IGZhbHNlLAoJc2hvd0JvdW5kczogZmFsc2UsCgkvLyDpgJ/luqbjga7lj6/oppbljJYKCXNob3dWZWxvY2l0eTogZmFsc2UsCgkvLyDjgZfjgofjgYbnqoHjga7lj6/oppbljJYKCXNob3dDb2xsaXNpb25zOiBmYWxzZSwKCS8vIOWIhumbouOBruWPr+imluWMlgoJc2hvd1NlcGFyYXRpb25zOiBmYWxzZSwKCS8vIOi7uOOBruWPr+imluWMlgoJc2hvd0F4ZXM6IGZhbHNlLAoJLy8g5L2N572u44Gu5Y+v6KaW5YyWCglzaG93UG9zaXRpb25zOiBmYWxzZSwKCS8vIOinkuW6puOBruWPr+imluWMlgoJc2hvd0FuZ2xlSW5kaWNhdG9yOiBmYWxzZSwKCS8vIElEIOOBruWPr+imluWMlgoJc2hvd0lkczogZmFsc2UsCglzaG93U2hhZG93czogZmFsc2UsCglzaG93VmVydGV4TnVtYmVyczogZmFsc2UsCglzaG93Q29udmV4SHVsbHM6IGZhbHNlLAoJc2hvd0ludGVybmFsRWRnZXM6IGZhbHNlLAoJc2hvd01vdXNlUG9zaXRpb246IGZhbHNlLAoJLy8g44OU44Kv44K744Or5YCN546HCglwaXhlbFJhdGlvOiAxLAp9OwoKLy8gY3JlYXRlIGEgcmVuZGVyZXIKZXhwb3J0IGRlZmF1bHQgUmVuZGVyLmNyZWF0ZSh7CgllbGVtZW50OiBkb2N1bWVudC5ib2R5LAoJZW5naW5lLAoJb3B0aW9ucywKfSk7CgpleHBvcnQgY29uc3QgY3JlYXRlUmVuZGVyID0gKG9wdCkgPT4gUmVuZGVyLmNyZWF0ZSh7CgllbGVtZW50OiBkb2N1bWVudC5ib2R5LAoJZW5naW5lLAoJb3B0aW9uczogey4uLm9wdGlvbnMsIC4uLm9wdH0sCn0pOwoK","options":{"isTrashed":false},"credits":[]},{"name":"render/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDoibIKCuOCquODluOCuOOCp+OCr+ODiOOBruiJsuOCkuWkieOBiOOBpuOBv+OBnwoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgojIyDmlLnpgKDjgZfjgabjgb/jgosKCiFb44GT44GT44GL44KJ5aeL44KB44KLXShyZW5kZXIvbWFpbi5qcykKCnx8IOaEj+WRsyAKLS0tIHwgLS0tIApmaWxsU3R5bGUgfCDjgazjgorjgaTjgbbjgZfjga7oibIgCnN0cm9rZVN0eWxlIHwg57ea44Gu6ImyIApsaW5lV2lkdGggfCDnt5rjga7lpKrjgZUgCgojIyMg6Imy44Gu5L2c44KK5pa5CgpgJyNGRjAwMDAnYCDjga7jgojjgYbjgarmloflrZfliJfjgYzjgIHoibLjgpLooajjgZfjgabjgYTjgb7jgZkgIAroibLjgpLopovjgaTjgZHjgovjgavjga8gW0NTU+iJsuimi+acrF0oaHR0cHM6Ly9ob2dlaG9nZS50ay93ZWJkZXYvY29sb3IvKQrjgYzkvr/liKnjgafjgZkKCuOCguOBo+OBqOaUuemAoAohW+ioreWuml0ocmVuZGVyL3NldHRpbmcuanMpCiFb44GL44G544O744KG44GLXShyZW5kZXIvc3RhZ2UuanMpCgotIC0gLQoKIyMg5b+c55So5L6LCg==","options":{"isTrashed":false},"credits":[]},{"name":"render/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7oibI8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJyZW5kZXIvbWFpbi5qcyI+PC9zY3JpcHQ+Cgk8L2hlYWQ+Cgk8Ym9keT4KCTwvYm9keT4KPC9odG1sPgo=","options":{"isTrashed":false},"credits":[]},{"name":"render/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nLmpzJzsKCldvcmxkLmFkZCh3b3JsZCwgWwoKCS8vIOi1pOiJsuOBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSgyMDAsIDEwMCwgMTAwLCAxMDAsIHsKCQlyZW5kZXI6IHsKCQkJLy8g44Gs44KK44Gk44G244GX44Gu6ImyCgkJCWZpbGxTdHlsZTogJyNGRjAwMDAnLAoJCX0sCgoJfSksCgoJLy8g6buE6Imy44Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgMTAwLCAxMDAsIDEwMCwgewoJCXJlbmRlcjogewoJCQkvLyDjgazjgorjgaTjgbbjgZfjga7oibIKCQkJZmlsbFN0eWxlOiAnI0ZGRkYwMCcsCgkJCS8vIOe3muOBruiJsgoJCQlzdHJva2VTdHlsZTogJyMwMDAwMDAnLAoJCQkvLyDnt5rjga7lpKrjgZUKCQkJbGluZVdpZHRoOiAxLAoJCX0sCgoJfSksCgoJLy8g57eR6Imy44Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDYwMCwgMTAwLCAxMDAsIDEwMCwgewoJCXJlbmRlcjogewoJCQkvLyDjgazjgorjgaTjgbbjgZfjga7oibIKCQkJZmlsbFN0eWxlOiAnIzAwRkYwMCcsCgkJCS8vIOe3muOBruiJsgoJCQlzdHJva2VTdHlsZTogJyNGRkZGRkYnLAoJCQkvLyDnt5rjga7lpKrjgZUKCQkJbGluZVdpZHRoOiAyMCwKCQl9LAoKCX0pLAoKXSk7CgoKaW1wb3J0ICcuL3N0YWdlLmpzJzsK","options":{"isTrashed":false},"credits":[]},{"name":"render/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKCVdvcmxkLAoJUnVubmVyLAoJTW91c2UsCglNb3VzZUNvbnN0cmFpbnQsCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKY29uc3Qgd29ybGQgPSBlbmdpbmUud29ybGQ7CgppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7ClJlbmRlci5ydW4ocmVuZGVyKTsKcmVuZGVyLm9wdGlvbnMuYmFja2dyb3VuZCA9ICcjNTc1NzU3JzsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdyZW5kZXIvUkVBRE1FLm1kJyk7CgoKZXhwb3J0IHsKCWVuZ2luZSwKCXdvcmxkLAoJcmVuZGVyLAp9Owo=","options":{"isTrashed":false},"credits":[]},{"name":"render/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CmltcG9ydCB7Cgl3b3JsZCwKfSBmcm9tICcuL3NldHRpbmcnOwoKCi8vIOWjgQpXb3JsZC5hZGQod29ybGQsIFsKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoODAwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKXSk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"renderConfigs.js","type":"application/javascript","lastModified":1492756455000,"composed":"CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoK","options":{"isTrashed":false},"credits":[]},{"name":"restitution/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjga/jga3ov5TjgooKCuOCquODluOCuOOCp+OCr+ODiOOBriBb44Gv44Gt6L+U44KKXShodHRwczovL2phLndpa2lwZWRpYS5vcmcvd2lraS8lRTUlOEYlOEQlRTclOTklQkElRTQlQkYlODIlRTYlOTUlQjApCuOCkuWkieOBiOOBpuOBv+OBnwoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgojIyDmlLnpgKDjgZfjgabjgb/jgosKCiFb44GT44GT44GL44KJ5aeL44KB44KLXShyZXN0aXR1dGlvbi9tYWluLmpzKQoKfHwg5oSP5ZGzIHwg44Gv44KT44GECi0tLSB8IC0tLSB8IC0tLSAKcmVzdGl0dXRpb24gfCDjga/jga3ov5Tjgorjga7lpKfjgY3jgZUgfCAwIH4gMS4wCgrjgoLjgaPjgajmlLnpgKAKIVvoqK3lrppdKHJlc3RpdHV0aW9uL3NldHRpbmcuanMpCiFb44GL44G544O744KG44GLXShyZXN0aXR1dGlvbi9zdGFnZS5qcykKCi0gLSAtCgojIyDlv5znlKjkvosK","options":{"isTrashed":false},"credits":[]},{"name":"restitution/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7ot7Pjga3ov5Tjgoo8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJyZXN0aXR1dGlvbi9tYWluLmpzIj48L3NjcmlwdD4KCTwvaGVhZD4KCTxib2R5PgoJPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"restitution/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCgpXb3JsZC5hZGQod29ybGQsIFsKCS8vIOS4gOeVquW3puOBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSgxMDAsIDE1MCwgNTAsIDUwLCB7CgkJLy8g44Gv44Gt6L+U44KK44Gu5aSn44GN44GVCgkJcmVzdGl0dXRpb246IDAuOSwKCQkvLyDjgYvjgZ/jgoDjgY0KCQlhbmdsZTogMCwKCQkKCX0pLAoJLy8g5bem44GL44KJ5LqM55Wq55uu44Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDIyMCwgMTUwLCA1MCwgNTAsIHsKCQkvLyDjga/jga3ov5Tjgorjga7lpKfjgY3jgZUKCQlyZXN0aXR1dGlvbjogMC45LAoJCS8vIOOBi+OBn+OCgOOBjQoJCWFuZ2xlOiAtMC40NzEsCgkJCgl9KSwKCS8vIOW3puOBi+OCieS4ieeVquebruOBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSgzNDAsIDE1MCwgNTAsIDUwLCB7CgkJLy8g44Gv44Gt6L+U44KK44Gu5aSn44GN44GVCgkJcmVzdGl0dXRpb246IDAuOSwKCQkvLyDjgYvjgZ/jgoDjgY0KCQlhbmdsZTogLTAuNzg1LAoJCQoJfSksCgkvLyDlt6bjgYvjgonlm5vnlarnm67jga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5jaXJjbGUoNDYwLCAxNTAsIDI1LCB7CgkJLy8g44Gv44Gt6L+U44KK44Gu5aSn44GN44GVCgkJcmVzdGl0dXRpb246IDAuOSwKCQkvLyDjgYvjgZ/jgoDjgY0KCQlhbmdsZTogMCwKCQkKCX0pLAoJLy8g5LiA55Wq5Y+z44Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDEwMCArIHNwYWNlICogNSwgMTUwLCAxODAsIDIwLCB7CgkJLy8g44Gv44Gt6L+U44KK44Gu5aSn44GN44GVCgkJcmVzdGl0dXRpb246IDAuOSwKCQkvLyDjgYvjgZ/jgoDjgY0KCQlhbmdsZTogLTEuNTcsCgkJCgl9KSwKCQpdKTsKCgppbXBvcnQgJy4vc2V0dGluZyc7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"restitution/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpyZW5kZXIub3B0aW9ucy5zaG93QW5nbGVJbmRpY2F0b3IgPSB0cnVlOwpyZW5kZXIub3B0aW9ucy5zaG93Q29sbGlzaW9ucyA9IHRydWU7CnJlbmRlci5vcHRpb25zLnNob3dWZWxvY2l0eSA9IHRydWU7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdyZXN0aXR1dGlvbi9SRUFETUUubWQnKTsKCgpleHBvcnQgewoJZW5naW5lLAoJd29ybGQsCglyZW5kZXIsCn07Cg==","options":{"isTrashed":false},"credits":[]},{"name":"restitution/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCgovLyDjgYvjgbkKV29ybGQuYWRkKHdvcmxkLCBbCgoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg4MDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoKXSk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"rounded/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDop5LkuLggMgoK6KeS44GU44Go44Gr5Li444G/44Gu5aSn44GN44GV44KS5aSJ44GI44Gm44G/44GfCgpb44Oh44OL44Ol44O844Gr5oi744KLXShpbmRleC5odG1sKQoKCiMjIOaUuemAoOOBl+OBpuOBv+OCiwoKIVvjgZPjgZPjgYvjgonlp4vjgoHjgotdKHJvdW5kZWQvbWFpbi5qcykKCiMjIyByYWRpdXM6IFtgMWAsIGAyYCwgYDNgLCBgNGBdCgp8fCDmhI/lkbMgfCDjga/jgpPjgYQKLS0tIHwgLS0tIHwgLS0tIAoxIHwg5bem5LiK44Gu5Li444G/44Gu5aSn44GN44GVIHwgMCB+IAoyIHwg5Y+z5LiK44Gu5Li444G/44Gu5aSn44GN44GVIHwgMCB+IAozIHwg5Y+z5LiL44Gu5Li444G/44Gu5aSn44GN44GVIHwgMCB+IAo0IHwg5bem5LiL44Gu5Li444G/44Gu5aSn44GN44GVIHwgMCB+IAoKCuOCguOBo+OBqOaUuemAoAohW+ioreWuml0ocm91bmRlZC9zZXR0aW5nLmpzKQohW+OBi+OBueODu+OChuOBi10ocm91bmRlZC9zdGFnZS5qcykKCi0gLSAtCgojIyDlv5znlKjkvosKCgoK","options":{"isTrashed":false},"credits":[]},{"name":"rounded/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7op5LkuLggMjwvdGl0bGU+CgkJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJzdHlsZS5jc3MiIC8+CgkJPHNjcmlwdCBzcmM9InJvdW5kZWQvbWFpbi5qcyI+PC9zY3JpcHQ+Cgk8L2hlYWQ+Cgk8Ym9keT4KCTwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"rounded/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCgpXb3JsZC5hZGQod29ybGQsIFsKCQoJLy8g44GZ44G544Gm44Gu6KeS44GM5Li444GE44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDIwMCwgMjAwLCAxMDAsIDEwMCwgewoJCWNoYW1mZXI6IHsKCQkJcmFkaXVzOiAyMCwKCQl9LAoJCQoJfSksCgoJLy8g5omH5Z6L44Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDMwMCwgMjAwLCAxMDAsIDEwMCwgewoJCWNoYW1mZXI6IHsKCQkJcmFkaXVzOiBbOTAsIDAsIDAsIDBdLAoJCX0sCgkJCgl9KSwKCgkvLyDkuLjjgYTmiYflnovjga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAyMDAsIDIwMCwgMjAwLCB7CgkJY2hhbWZlcjogewoJCQlyYWRpdXM6IFsxNTAsIDIwLCA0MCwgMjBdLAoJCX0sCgkJCgl9KSwKCgkvLyDjg6njgrDjg5Pjg7zjg5zjg7zjg6vnirbjga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5yZWN0YW5nbGUoMjAwLCAyMDAsIDIwMCwgMjAwLCB7CgkJY2hhbWZlcjogewoJCQlyYWRpdXM6IFsxNTAsIDIwLCAxNTAsIDIwXSwKCQl9LAoJCQoJfSksCgoJLy8g44Gq44Gg44KJ44GL44Gq5bGx54q244Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDMwMCwgMjAwLCAyMDAsIDUwLCB7CgkJY2hhbWZlcjogewoJCQlyYWRpdXM6IFsyNSwgMjUsIDAsIDBdLAoJCX0sCgkJCgl9KSwKCgkvLyDlhavop5LlvaLjga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5wb2x5Z29uKDIwMCwgMTAwLCA4LCA4MCwgewoJCWNoYW1mZXI6IHsKCQkJcmFkaXVzOiAzMCwKCQl9LAoJCQoJfSksCgoJLy8g5LqU6KeS5b2i44Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucG9seWdvbigzMDAsIDEwMCwgNSwgODAsIHsKCQljaGFtZmVyOiB7CgkJCXJhZGl1czogWzEwLCA0MCwgMjAsIDQwLCAxMF0sCgkJfSwKCQkKCX0pLAoKCS8vIOS4ieinkuW9ouOBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnBvbHlnb24oNDAwLCAyMDAsIDMsIDUwLCB7CgkJY2hhbWZlcjogewoJCQlyYWRpdXM6IFsyMCwgMCwgMjBdLAoJCX0sCgkJCgl9KSwKCQpdKTsKCgppbXBvcnQgJy4vc3RhZ2UnOwo=","options":{"isTrashed":false},"credits":[]},{"name":"rounded/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpyZW5kZXIub3B0aW9ucy5zaG93QXhlcyA9IHRydWU7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdyb3VuZGVkL1JFQURNRS5tZCcpOwoKCmV4cG9ydCB7CgllbmdpbmUsCgl3b3JsZCwKCXJlbmRlciwKfTsK","options":{"isTrashed":false},"credits":[]},{"name":"rounded/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCldvcmxkLmFkZCh3b3JsZCwgWwoJLy8g44GL44G544Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCA2MDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDgwMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSgwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSkKXSk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"sensors/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgrvjg7PjgrXjg7wKCuOBl+OCh+OBhueqgeOBl+OBpuOCguWLleOBi+OBquOBhOOBkeOBqeOAgSAgCuOBl+OCh+OBhueqgeOBl+OBn+OBi+OBqeOBhuOBi+OBr+WIhuOBi+OCi+OCquODluOCuOOCp+OCr+ODiOOCkuS9nOOCi+OBk+OBqOOCguOBp+OBjeOCi+OCiCAgCu+8iOW5vemciuOBv+OBn+OBhOOBoOOBre+8iQoK44Gd44GG44GE44GG44Kq44OW44K444Kn44Kv44OI44Gu44GT44Go44KS44CB44GT44GT44Gn44Gv44K744Oz44K144O844Go5ZG844G244KICgoKIyMgIVvmlLnpgKDjgZnjgotdKHNlbnNvcnMvbWFpbi5qcykKCgojIyDjg5Hjg6njg6Hjg7zjgr8K44OR44Op44Oh44O844K/IHwg5oSP5ZGzIHwg5Y2Y5L2NIHwg5pyA5bCPIHwg5pyA5aSnIAotLS0gfCAtLS0gfCAtLS0gfCAtLS0gfCAtLS0KaXNTZW5zb3IgfCDjgrvjg7PjgrXjg7zjgYvjganjgYbjgYsgfCDjg5Xjg6njgrAgfCBmYWxzZSB8IHRydWUgCmlzU3RhdGljIHwg6Z2Z5q2i44GX44Gm44GE44KL44GL44Gp44GG44GLIHwg44OV44Op44KwIHwgZmFsc2UgfCB0cnVlIApyZW5kZXIgfCB8IHwgfApzdHJva2VTdHlsZSB8IOe3muOBruiJsiB8IOiJsiB8ICoiIzAwMDAwMCIqICjpu5IpIHwgKiIjRkZGRkZGIiogKOeZvSkKZmlsbFN0eWxlIHwg5aGX44KK44Gk44G244GX44Gu6ImyIHwg6ImyIHwgKiIjMDAwMDAwIiogKOm7kikgfCAqIiNGRkZGRkYiKiAo55m9KQpsaW5lV2lkdGggfCDnt5rjga7lpKrjgZUgfCBweCB8IDAgfCBJbmZpbml0eQoKClvjg6Hjg4vjg6Xjg7zjgavmiLvjgotdKGluZGV4Lmh0bWwpCgoK","options":{"isTrashed":false},"credits":[]},{"name":"sensors/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgrvjg7PjgrXjg7w8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJzZW5zb3JzL21haW4uanMiPjwvc2NyaXB0PgoJPC9oZWFkPgoJPGJvZHk+Cgk8L2JvZHk+CjwvaHRtbD4=","options":{"isTrashed":false},"credits":[]},{"name":"sensors/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUV2ZW50cywKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCglCb2RpZXMsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpyZW5kZXIub3B0aW9ucy53aXJlZnJhbWVzID0gZmFsc2U7CnJlbmRlci5vcHRpb25zLmJhY2tncm91bmQgPSAnIzExMSc7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g6ImyCmNvbnN0IHJlZENvbG9yID0gJyNDNDRENTgnOwpjb25zdCBncmVlbkNvbG9yID0gJyNDN0Y0NjQnOwoKLy8g44K744Oz44K144O844Gu44Kq44OW44K444Kn44Kv44OICmNvbnN0IGNvbGxpZGVyID0gQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDMwMCwgNTAwLCA1MCwgewoJaXNTZW5zb3I6IHRydWUsCglpc1N0YXRpYzogdHJ1ZSwKCXJlbmRlcjogewoJCXN0cm9rZVN0eWxlOiByZWRDb2xvciwKCQlmaWxsU3R5bGU6ICd0cmFuc3BhcmVudCcsCgkJbGluZVdpZHRoOiAxCgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBbCgljb2xsaWRlciwKCS8vIOW6iuOBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYyMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlLAoJCXJlbmRlcjogewoJCQlmaWxsU3R5bGU6ICd0cmFuc3BhcmVudCcsCgkJCWxpbmVXaWR0aDogMQoJCX0KCX0pCl0pOwoKCldvcmxkLmFkZCh3b3JsZCwKCS8vIOWGhuOBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLmNpcmNsZSg0MDAsIDQwLCAzMCwgewoJCXJlbmRlcjogewoJCQlzdHJva2VTdHlsZTogZ3JlZW5Db2xvciwKCQkJZmlsbFN0eWxlOiAndHJhbnNwYXJlbnQnLAoJCQlsaW5lV2lkdGg6IDEKCQl9Cgl9KQopOwoKRXZlbnRzLm9uKGVuZ2luZSwgJ2NvbGxpc2lvblN0YXJ0JywgZnVuY3Rpb24oZXZlbnQpIHsKCS8vIOOBl+OCh+OBhueqgeOBjOWni+OBvuOBo+OBn+OCieOAgeOBk+OBk+OBq+WFpeOCiwoJCglmb3IgKGNvbnN0IHBhaXIgb2YgZXZlbnQucGFpcnMpIHsKCQlpZiAocGFpci5ib2R5QSA9PT0gY29sbGlkZXIpIHsKCQkJcGFpci5ib2R5Qi5yZW5kZXIuc3Ryb2tlU3R5bGUgPSByZWRDb2xvcjsKCQl9IGVsc2UgaWYgKHBhaXIuYm9keUIgPT09IGNvbGxpZGVyKSB7CgkJCXBhaXIuYm9keUEucmVuZGVyLnN0cm9rZVN0eWxlID0gcmVkQ29sb3I7CgkJfQoJfQoJCn0pOwoKRXZlbnRzLm9uKGVuZ2luZSwgJ2NvbGxpc2lvbkVuZCcsIGZ1bmN0aW9uKGV2ZW50KSB7CgkvLyDjgZfjgofjgYbnqoHjgYzlp4vjgb7jgaPjgZ/jgonjgIHjgZPjgZPjgavlhaXjgosKCQoJZm9yIChjb25zdCBwYWlyIG9mIGV2ZW50LnBhaXJzKSB7CgkJaWYgKHBhaXIuYm9keUEgPT09IGNvbGxpZGVyKSB7CgkJCXBhaXIuYm9keUIucmVuZGVyLnN0cm9rZVN0eWxlID0gZ3JlZW5Db2xvcjsKCQl9IGVsc2UgaWYgKHBhaXIuYm9keUIgPT09IGNvbGxpZGVyKSB7CgkJCXBhaXIuYm9keUEucmVuZGVyLnN0cm9rZVN0eWxlID0gZ3JlZW5Db2xvcjsKCQl9Cgl9CgkKfSk7CgovLyDjg57jgqbjgrnmk43kvZwKY29uc3QgbW91c2UgPSBNb3VzZS5jcmVhdGUocmVuZGVyLmNhbnZhcyk7CmNvbnN0IG1vdXNlQ29uc3RyYWludCA9IE1vdXNlQ29uc3RyYWludC5jcmVhdGUoZW5naW5lLCB7Cgltb3VzZTogbW91c2UsCgljb25zdHJhaW50OiB7CgkJc3RpZmZuZXNzOiAwLjIsCgkJcmVuZGVyOiB7CgkJCXZpc2libGU6IGZhbHNlCgkJfQoJfQp9KTsKCldvcmxkLmFkZCh3b3JsZCwgbW91c2VDb25zdHJhaW50KTsKCi8vIGtlZXAgdGhlIG1vdXNlIGluIHN5bmMgd2l0aCByZW5kZXJpbmcKcmVuZGVyLm1vdXNlID0gbW91c2U7CgoKZmVlbGVzLm9wZW5SZWFkbWUoJ3NlbnNvcnMvUkVBRE1FLm1kJyk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"sleeping/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgrnjg6rjg7zjg5fjg6Ljg7zjg4kKCgpNYXR0ZXIuanMg44Gn44Gv44CB5L2Z6KiI44Gq6KiI566X5Yem55CG44KS5bCR44Gq44GP44GZ44KL44Gf44KB44Gr44CBICAK44K544Oq44O844OX44Oi44O844OJ44Gu5qmf6IO944GM44GC44KL44KT44GgCgrjgqrjg5bjgrjjgqfjgq/jg4jjga/jgIHjgYLjgovkuIDlrprjga7pgJ/luqbjgojjgorjgoLli5XjgY3jgYzpgYXjgY/jgarjgaPjgZ/jgajjgY3jgIEgIArjgrnjg6rjg7zjg5fjg6Ljg7zjg4njgavjgarjgorjgIHli5XjgYvjgarjgY/jgarjgovjgojjgIIgIArku5bjga7jgqrjg5bjgrjjgqfjgq/jg4jjgajjgZfjgofjgYbnqoHjgZfjgZ/jgorjgZfjgabjgIHjgb7jgZ/li5XjgY3jgYzml6njgY/jgarjgaPjgZ/jgajjgY3jgIEgIArjgrnjg6rjg7zjg5fjg6Ljg7zjg4njga/op6PpmaTjgZXjgozjgovjgpPjgaAKCgojIyAhW+aUuemAoOOBmeOCi10oc2xlZXBpbmcvbWFpbi5qcykKCgpb44Oh44OL44Ol44O844Gr5oi744KLXShpbmRleC5odG1sKQoKCg==","options":{"isTrashed":false},"credits":[]},{"name":"sleeping/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgrnjg6rjg7zjg5fjg6Ljg7zjg4k8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJzbGVlcGluZy9tYWluLmpzIj48L3NjcmlwdD4KCTwvaGVhZD4KCTxib2R5PgoJPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"sleeping/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUNvbXBvc2l0ZXMsCglDb21tb24sCglFdmVudHMsCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgoKaW1wb3J0IGVuZ2luZSBmcm9tICdlbmdpbmUnOwpjb25zdCB3b3JsZCA9IGVuZ2luZS53b3JsZDsKCmltcG9ydCByZW5kZXIgZnJvbSAncmVuZGVyJzsKcmVuZGVyLm9wdGlvbnMuc2hvd0FuZ2xlSW5kaWNhdG9yID0gdHJ1ZTsKcmVuZGVyLm9wdGlvbnMuc2hvd1NsZWVwaW5nID0gdHJ1ZTsKUmVuZGVyLnJ1bihyZW5kZXIpOwoKY29uc3QgcnVubmVyID0gUnVubmVyLmNyZWF0ZSgpOwpSdW5uZXIucnVuKHJ1bm5lciwgZW5naW5lKTsKCgpXb3JsZC5hZGQod29ybGQsIFsKCS8vIOWjgQoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg4MDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pCl0pOwoKLy8g44Kq44OW44K444Kn44Kv44OI44Gu44K544K/44OD44KvCmNvbnN0IHN0YWNrID0gQ29tcG9zaXRlcy5zdGFjayg1MCwgNTAsIDEyLCAzLCAwLCAwLCAoeCwgeSkgPT4gewoJLy8g44Op44Oz44OA44Og44Gu56K6546HCgljb25zdCByYXRlID0gQ29tbW9uLnJhbmRvbSgwLCAxKTsKCWlmIChyYXRlIDwgMC4xKSB7CgkJLy8gMTAlIOOBrueiuueOh+OBp+OAgeOBk+OBk+OBq+WFpeOCiwoJCXJldHVybiBCb2RpZXMucmVjdGFuZ2xlKHgsIHksIENvbW1vbi5yYW5kb20oODAsIDEyMCksIENvbW1vbi5yYW5kb20oMjAsIDMwKSk7Cgl9IGVsc2UgaWYgKHJhdGUgPCAwLjUpIHsKCQkvLyDjga7jgZPjgoogNDAlIOOBrueiuueOh+OBp+OAgeOBk+OBk+OBq+WFpeOCiwoJCXJldHVybiBCb2RpZXMucmVjdGFuZ2xlKHgsIHksIENvbW1vbi5yYW5kb20oMjAsIDUwKSwgQ29tbW9uLnJhbmRvbSgyMCwgNTApKTsKCX0gZWxzZSB7CgkJLy8g44Gu44GT44KK44Gu56K6546H44Gn44CB44GT44GT44Gr5YWl44KLCgkJcmV0dXJuIEJvZGllcy5wb2x5Z29uKHgsIHksIE1hdGgucm91bmQoQ29tbW9uLnJhbmRvbSgxLCA4KSksIENvbW1vbi5yYW5kb20oMjAsIDUwKSk7Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBzdGFjayk7Cgpmb3IgKGNvbnN0IGJvZHkgb2Ygc3RhY2suYm9kaWVzKSB7CglFdmVudHMub24oYm9keSwgJ3NsZWVwU3RhcnQgc2xlZXBFbmQnLCAoZXZlbnQpID0+IHsKCS8vIOOCquODluOCuOOCp+OCr+ODiOOBjOOCueODquODvOODl+ODouODvOODieOBq+OBquOBo+OBn+OBqOOBjSDjgb7jgZ/jga8g44Gd44GG44Gn44Gq44GP44Gq44Gj44Gf44Go44GN44CB44GT44GT44Gr5YWl44KLCgkJCgkJY29uc29sZS5sb2coJ2JvZHkgaWQnLCBib2R5LmlkLCAnc2xlZXBpbmc6JywgYm9keS5pc1NsZWVwaW5nKTsKCQoJfSk7Cn0KCi8vIOODnuOCpuOCueaTjeS9nApjb25zdCBtb3VzZSA9IE1vdXNlLmNyZWF0ZShyZW5kZXIuY2FudmFzKTsKY29uc3QgbW91c2VDb25zdHJhaW50ID0gTW91c2VDb25zdHJhaW50LmNyZWF0ZShlbmdpbmUsIHsKCW1vdXNlOiBtb3VzZSwKCWNvbnN0cmFpbnQ6IHsKCQlzdGlmZm5lc3M6IDAuMiwKCQlyZW5kZXI6IHsKCQkJdmlzaWJsZTogZmFsc2UKCQl9Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBtb3VzZUNvbnN0cmFpbnQpOwoKLy8ga2VlcCB0aGUgbW91c2UgaW4gc3luYyB3aXRoIHJlbmRlcmluZwpyZW5kZXIubW91c2UgPSBtb3VzZTsKCgpmZWVsZXMub3BlblJlYWRtZSgnc2xlZXBpbmcvUkVBRE1FLm1kJyk7Cgo=","options":{"isTrashed":false},"credits":[]},{"name":"slingshot/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgrnjg6rjg7PjgrDjgrfjg6fjg4Pjg4gKCuOCsuODvOODoOOBruaZgumWk+OBoO+8gSAgCuW3puOBruOCquODluOCuOOCp+OCr+ODiO+8iOWyqe+8ieOCkuW8leOBo+W8teOBo+OBpumbouOBl+OBpuOAgeWxseOCkuOBj+OBmuOBneOBhgoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgojIyDjganjgYbjgoTjgaPjgabkvZzjgaPjgabjgovjga7vvJ8KCuOBk+OCjOOCieOCkue1hOOBv+WQiOOCj+OBm+OBpuOCsuODvOODoOOBq+OBl+OBpuOBhOOCi+OCiCAgCj4g44Kv44Oq44OD44Kv44GZ44KL44Go44K144Oz44OX44Or44Gr56e75YuV44GX44G+44GZCgrph43jgZXjgpLlpInjgYjjgovjgavjga/igKZb44GK44KC44GVXShkZW5zaXR5L2luZGV4Lmh0bWwpICAK5bGx44KS5L2c44KL44Gr44Gv4oCmW+ODlOODqeODn+ODg+ODiV0ocHlyYW1pZC9pbmRleC5odG1sKSAgCuWyqeOCkuaUvuOBpOOBq+OBr+KAplvjg5Djg41dKGNvbnN0cmFpbnQvaW5kZXguaHRtbCnjgagKW+OCpOODmeODs+ODiF0oZXZlbnRzL2luZGV4Lmh0bWwpICAKCiMjIOaUuemAoOOBq+aMkeaIpuOBl+OBpuOBv+OCiwoKIVvlvJXjgaPlvLXjgovjg7vmlL7jgaRdKHNsaW5nc2hvdC9tYWluLmpzKSAgCiFb44K544OG44O844K4XShzbGluZ3Nob3Qvc3RhZ2UuanMpICAKIVvoqK3lrppdKHNsaW5nc2hvdC9zZXR0aW5nLmpzKQo=","options":{"isTrashed":false},"credits":[]},{"name":"slingshot/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgrnjg6rjg7PjgrDjgrfjg6fjg4Pjg4g8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJzbGluZ3Nob3QvbWFpbi5qcyI+PC9zY3JpcHQ+Cgk8L2hlYWQ+Cgk8Ym9keT4KCTwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"slingshot/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUNvbXBvc2l0ZXMsCglFdmVudHMsCglDb25zdHJhaW50LAoJV29ybGQsCglCb2RpZXMsCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCB7CgllbmdpbmUsCgl3b3JsZCwKCW1vdXNlQ29uc3RyYWludCwKfSBmcm9tICcuL3NldHRpbmcnOwoKCi8vIOWyqeOBruOCquODluOCuOOCp+OCr+ODiOOCkuOBpOOBj+OCiwpjb25zdCByb2NrID0gQm9kaWVzLnBvbHlnb24oMTcwLCA0NTAsIDgsIDIwLCB7CgkvLyDjgYrjgoLjgZUKCWRlbnNpdHk6IDAuMDEsCgkKfSk7CgovLyDlsqnjgajjgqLjg7Pjgqvjg7zlnLDngrnjgpLjg5Djg43jgafjgaTjgarjgZAKY29uc3QgZWxhc3RpYyA9IENvbnN0cmFpbnQuY3JlYXRlKHsKCXBvaW50QTogewoJCXg6IDE3MCwKCQl5OiA0NTAKCX0sCglib2R5Qjogcm9jaywKCXN0aWZmbmVzczogMC4wOCwKCQp9KTsKCgpXb3JsZC5hZGQod29ybGQsIFsKCS8vIOWyqeOBruOCquODluOCuOOCp+OCr+ODiAoJcm9jaywKCS8vIOODkOODjQoJZWxhc3RpYywKCQpdKTsKCgpFdmVudHMub24oZW5naW5lLCAnYWZ0ZXJVcGRhdGUnLCAoKSA9PiB7CgkvLyDmr47jg5Xjg6zjg7zjg6DjgZPjgZPjgavlhaXjgosKCQoJLy8g54++5Zyo44Gu5bKp44Gu44Kq44OW44K444Kn44Kv44OICgljb25zdCBjdXJyZW50ID0gZWxhc3RpYy5ib2R5QjsKCQoJaWYgKG1vdXNlQ29uc3RyYWludC5tb3VzZS5idXR0b24gPT09IC0xICYmIChjdXJyZW50LnBvc2l0aW9uLnggPiAxOTAgfHwgY3VycmVudC5wb3NpdGlvbi55IDwgNDMwKSkgewoJCS8vIOeUu+mdouOBruS4reOBp+ODnuOCpuOCueOBjOmbouOBleOCjOOBn+OBqOOBjeOAgeOBk+OBk+OBq+WFpeOCiwoJCQoJCS8vIOasoeOBruWyqeOBruOCquODluOCuOOCp+OCr+ODiOOCkuS9nOOCiwoJCWNvbnN0IG5leHRSb2NrID0gQm9kaWVzLnBvbHlnb24oMTcwLCA0NTAsIDcsIDIwLCB7CgkJCS8vIOOBiuOCguOBlQoJCQlkZW5zaXR5OiAwLjAxLAoJCQkKCQl9KTsKCQlXb3JsZC5hZGQod29ybGQsIG5leHRSb2NrKTsKCQkKCQkvLyDlsqnjga7jgqrjg5bjgrjjgqfjgq/jg4jjgpLjg5Djg43jgavjgaTjgZHjgosKCQllbGFzdGljLmJvZHlCID0gbmV4dFJvY2s7Cgl9CgkKfSk7CgoKaW1wb3J0ICcuL3N0YWdlJzsK","options":{"isTrashed":false},"credits":[]},{"name":"slingshot/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpyZW5kZXIub3B0aW9ucy5zaG93QW5nbGVJbmRpY2F0b3IgPSB0cnVlOwpSZW5kZXIucnVuKHJlbmRlcik7Cgpjb25zdCBydW5uZXIgPSBSdW5uZXIuY3JlYXRlKCk7ClJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpOwoKCi8vIOODnuOCpuOCueaTjeS9nApjb25zdCBtb3VzZSA9IE1vdXNlLmNyZWF0ZShyZW5kZXIuY2FudmFzKTsKY29uc3QgbW91c2VDb25zdHJhaW50ID0gTW91c2VDb25zdHJhaW50LmNyZWF0ZShlbmdpbmUsIHsKCW1vdXNlOiBtb3VzZSwKCWNvbnN0cmFpbnQ6IHsKCQlzdGlmZm5lc3M6IDAuMiwKCQlyZW5kZXI6IHsKCQkJdmlzaWJsZTogZmFsc2UKCQl9Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBtb3VzZUNvbnN0cmFpbnQpOwoKLy8ga2VlcCB0aGUgbW91c2UgaW4gc3luYyB3aXRoIHJlbmRlcmluZwpyZW5kZXIubW91c2UgPSBtb3VzZTsKCgpmZWVsZXMub3BlblJlYWRtZSgnc2xpbmdzaG90L1JFQURNRS5tZCcpOwoKCmV4cG9ydCB7CgllbmdpbmUsCgl3b3JsZCwKCXJlbmRlciwKCW1vdXNlQ29uc3RyYWludCwKfTsK","options":{"isTrashed":false},"credits":[]},{"name":"slingshot/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUNvbXBvc2l0ZXMsCglXb3JsZCwKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKCmltcG9ydCB7Cgl3b3JsZCwKfSBmcm9tICcuL3NldHRpbmcnOwoKCldvcmxkLmFkZCh3b3JsZCwgWwoJLy8g5bqK44Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDM5NSwgNjAwLCA4MTUsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgl9KSwKCgkvLyDkuIrjga7luorjga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5yZWN0YW5nbGUoNjEwLCAyNTAsIDIwMCwgMjAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCgoJLy8g5LiK44Gu44OU44Op44Of44OD44OJCglDb21wb3NpdGVzLnB5cmFtaWQoNTUwLCAwLCA1LCAxMCwgMCwgMCwgKHgsIHkpID0+IHsKCQlyZXR1cm4gQm9kaWVzLnJlY3RhbmdsZSh4LCB5LCAyNSwgNDApOwoJfSksCgoJLy/jgIDkuIvjga7jg5Tjg6njg5/jg4Pjg4kKCUNvbXBvc2l0ZXMucHlyYW1pZCg1MDAsIDM1MCwgOSwgMTAsIDAsIDAsICh4LCB5KSA9PiB7CgkJcmV0dXJuIEJvZGllcy5yZWN0YW5nbGUoeCwgeSwgMjUsIDQwKTsKCX0pLAoKXSk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"snippets/object.json","type":"application/json","lastModified":1492756455000,"composed":"ewoJIi5zb3VyY2UuanMiOiB7CgkJInJlY3RhbmdsZSI6IHsKCQkJInByZWZpeCI6ICJyZWN0YW5nbGUiLAoJCQkibGVmdExhYmVsIjogIuODrOOCr+OCv+ODs+OCsOODqyIsCgkJCSJkZXNjcmlwdGlvbiI6ICLlm5vop5LlvaLjga7jgqrjg5bjgrjjgqfjgq/jg4jjgILkuK3lv4Pjga7kvY3nva7jgajlpKfjgY3jgZXjgpLmjIflrprjgafjgY3jgosiLAoJCQkiYm9keSI6IGAKQm9kaWVzLnJlY3RhbmdsZSgxNDAsIDAsIDgwLCA4MCksYAkJCQoJCX0sCgkJIndhbGwiOiB7CgkJCSJwcmVmaXgiOiAiZmxvb3IiLAoJCQkibGVmdExhYmVsIjogIuODleODreOCoiIsCgkJCSJkZXNjcmlwdGlvbiI6ICLlm7rlrprjgZXjgozjgZ/lm5vop5LlvaLjga7jgqrjg5bjgrjjgqfjgq/jg4jjgILluorjgoTlo4HjgavjgarjgosiLAoJCQkiYm9keSI6IGAKQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgNDAwLCA0MCwgewoJaXNTdGF0aWM6IHRydWUsCgp9KSxgCgkJfSwKCQkic2xvcGUiOiB7CgkJCSJwcmVmaXgiOiAic2xvcGUiLAoJCQkibGVmdExhYmVsIjogIuOCueODreODvOODlyIsCgkJCSJkZXNjcmlwdGlvbiI6ICLlsJHjgZfjgYvjgZ/jgoDjgYTjgZ/jgqrjg5bjgrjjgqfjgq/jg4jjgILjg5zjg7zjg6vjgarjganjgpLnva7jgY/jgajou6LjgYzjgosiLAoJCQkiYm9keSI6IGAKQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgNDAwLCA0MCwgewoJaXNTdGF0aWM6IHRydWUsCglhbmdsZTogMC4xNSwKCn0pLGAKCQl9LAoJCSJjaXJjbGUiOiB7CgkJCSJwcmVmaXgiOiAiY2lyY2xlIiwKCQkJImxlZnRMYWJlbCI6ICLjgrXjg7zjgq/jg6siLAoJCQkiZGVzY3JpcHRpb24iOiAi5YaG44Gu44Kq44OW44K444Kn44Kv44OI44CC5Lit5b+D44Gu5L2N572u44Go5Y2K5b6E44KS5oyH5a6a44Gn44GN44KLIiwKCQkJImJvZHkiOiBgCkJvZGllcy5jaXJjbGUoMjQwLCAwLCA0MCkpLGAKCQl9LAoJCSJiYWxsIjogewoJCQkicHJlZml4IjogImJhbGwiLAoJCQkibGVmdExhYmVsIjogIuODnOODvOODqyIsCgkJCSJkZXNjcmlwdGlvbiI6ICLot7Pjga3ov5Tjgorkv4LmlbDjgpIgMSDjgavjgZfjgZ/jgIHlhobjga7jgqrjg5bjgrjjgqfjgq/jg4jjgILjgajjgabjgoLot7Pjga3jgosiLAoJCQkiYm9keSI6IGAKQm9kaWVzLmNpcmNsZSgyNDAsIDAsIDQwLCB7CglyZXN0aXR1dGlvbjogMSwKCn0pLGAKCQl9LAoJCSJyZWRiYWxsIjogewoJCQkicHJlZml4IjogImNvbG9yYmFsbCIsCgkJCSJsZWZ0TGFiZWwiOiAi44Kr44Op44O844Oc44O844OrIiwKCQkJImRlc2NyaXB0aW9uIjogIui1pOiJsuOBruODnOODvOODqyIsCgkJCSJib2R5IjogYApCb2RpZXMuY2lyY2xlKDI0MCwgMCwgNDAsIHsKCXJlc3RpdHV0aW9uOiAxLAoJcmVuZGVyOiB7CgkJZmlsbFN0eWxlOiAncmVkJywKCQlsaW5lV2lkdGg6IDEwLAoJCXN0cm9rZVN0eWxlOiAnYmxhY2snLAoJfSwKCn0pLGAKCQl9Cgl9Cn0KCgoKCgoK","options":{"isTrashed":false},"credits":[]},{"name":"softBody/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgr3jg5Xjg4jjg5zjg4fjgqMKCuOCveODleODiOODnOODh+OCo+OCkuS9v+OBo+OBpuOAgeOCtOODoOOBv+OBn+OBhOOBquOCquODluOCuOOCp+OCr+ODiOOBruOBi+OBn+OBvuOCiuOCkuS9nOOBo+OBpuOBv+OBnwoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgojIyDmlLnpgKDjgZfjgabjgb/jgosKCiFb44GT44GT44GL44KJ5aeL44KB44KLXShzb2Z0Qm9keS9tYWluLmpzKQoKKipDb21wb3NpdGVzLnNvZnRCb2R5KGAxYCwgYDJgLCBgM2AsIGA0YCwgYDVgLCBgNmAsIGA3YCwgYDhgLCB7ICAK44CA44CAZnJpY3Rpb246IGA5YCwgIAp9KTsqKgoKfCB8IOaEj+WRsyB8IOOBr+OCk+OBhAotLS0gfCAtLS0gfCAtLS0gCjEgfCDlt6bjgYvjgonjga7jgq3jg6fjg6ogfCAwIH4gODAwCjIgfCDkuIrjgYvjgonjga7jgq3jg6fjg6ogfCAwIH4gNjAwCjMgfCDlj7PjgavjgYTjgY/jgaTlh7rjgZnjgYsgfCAwIH4KNCB8IOS4i+OBq+OBhOOBj+OBpOWHuuOBmeOBiyB8IDAgfgo1IHwg5qiq5pa55ZCR44Gu6ZaT44GL44GPIHwgMCB+IAo2IHwg44K/44OG5pa55ZCR44Gu6ZaT44GL44GPIHwgMCB+IAo3IHwg5YWD44Gu5b2i44Gr5oi744KL44GLIHwgYHRydWVgIOOBquOCieWFg+OBq+aIu+OCjeOBhuOBqOOBmeOCiwo4IHwg5YaG44Gu5Y2K5b6EIHwgMCB+IAo5IHwg44G+44GV44Gk44Gu5aSn44GN44GVIHwgMCB+IDEuMCAKCuOCguOBo+OBqOaUuemAoAohW+ioreWuml0oc29mdEJvZHkvc2V0dGluZy5qcykKIVvjgYvjgbnjg7vjgobjgYtdKHNvZnRCb2R5L3N0YWdlLmpzKQoKLSAtIC0KCiMjIOW/nOeUqOS+iwoKW+W4g10oY2xvdGgvaW5kZXguaHRtbCkK","options":{"isTrashed":false},"credits":[]},{"name":"softBody/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgr3jg5Xjg4jjg5zjg4fjgqM8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJzb2Z0Qm9keS9tYWluLmpzIj48L3NjcmlwdD4KCTwvaGVhZD4KCTxib2R5PgoJPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"softBody/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUNvbXBvc2l0ZXMsCglXb3JsZCwKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKaW1wb3J0IHsKCXdvcmxkLAp9IGZyb20gJy4vc2V0dGluZyc7CgoKV29ybGQuYWRkKHdvcmxkLCBbCgkKCS8vIOOCveODleODiOODnOODh+OCowoJQ29tcG9zaXRlcy5zb2Z0Qm9keSgyNTAsIDEwMCwgNiwgNSwgMCwgMCwgdHJ1ZSwgMTgsIHsKCQkvLyDjgb7jgZXjgaTjga7lpKfjgY3jgZUKCQlmcmljdGlvbjogMC4xLAoJCQoJfSksCgkKXSk7CgoKaW1wb3J0ICcuL3N0YWdlJzs=","options":{"isTrashed":false},"credits":[]},{"name":"softBody/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpyZW5kZXIub3B0aW9ucy5zaG93QW5nbGVJbmRpY2F0b3IgPSBmYWxzZTsKUmVuZGVyLnJ1bihyZW5kZXIpOwoKY29uc3QgcnVubmVyID0gUnVubmVyLmNyZWF0ZSgpOwpSdW5uZXIucnVuKHJ1bm5lciwgZW5naW5lKTsKCgoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC45LAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdzb2Z0Qm9keS9SRUFETUUubWQnKTsKCgpleHBvcnQgewoJZW5naW5lLAoJd29ybGQsCglyZW5kZXIsCn07Cg==","options":{"isTrashed":false},"credits":[]},{"name":"softBody/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCgpXb3JsZC5hZGQod29ybGQsIFsKCQoJLy8g5aOBCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlLAoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoODAwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSgwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJCl0pOwo=","options":{"isTrashed":false},"credits":[]},{"name":"sprites/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjg5Pjg7zjg4Hjg5zjg7zjg6vjgajmnKjjga7nrrEKCgrlpb3jgY3jgarnlLvlg4/jgpLjgqrjg5bjgrjjgqfjgq/jg4jjgavosrzjgorku5jjgZHjgabooajnpLrjgZnjgovjgZPjgajjgYzjgafjgY3jgovjgogKCgojIyAhW+aUuemAoOOBmeOCi10oc3ByaXRlcy9tYWluLmpzKQoKCuODkeODqeODoeODvOOCvyB8IOaEj+WRsyB8IOWNmOS9jSB8IOacgOWwjyB8IOacgOWkpyAKLS0tIHwgLS0tIHwgLS0tIHwgLS0tIHwgLS0tCmRlbnNpdHkgfCDlr4bluqYgfCAqa2cgbV4tMiogfCAwIHwgSW5maW5pdHkKcmVzdGl0dXRpb24gfCDot7Pjga3ov5TjgoogfCDlgI0gfCAwIHwgMQpmcmljdGlvbiB8IOOBvuOBleOBpOS/guaVsCB8IOWAjSB8IDAgfCAxCmZyaWN0aW9uQWlyIHwg56m65rCX5oq15oqXIHwg5YCNIHwgMCB8IDEKcmVuZGVyIHwgfCB8IHwKc3ByaXRlIHwgIHwgfCB8CnRleHR1cmUgfCDjg4bjgq/jgrnjg4Hjg6Pjga7jg5XjgqHjgqTjg6vlkI0gfCDjg5XjgqHjgqTjg6vjga7jg5HjgrkgfCB8IAoKClvjg6Hjg4vjg6Xjg7zjgavmiLvjgotdKGluZGV4Lmh0bWwpCgoK","options":{"isTrashed":false},"credits":[]},{"name":"sprites/ball.png","type":"image/png","lastModified":1492756455000,"composed":"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","options":{"isTrashed":false},"credits":[]},{"name":"sprites/box.png","type":"image/png","lastModified":1492756455000,"composed":"iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAN0tJREFUeNrsvdeTZNl5H/i7Jr33pqqyfFVX++kegzEghwOAgEjuiktpI7S73NjYjdDLxv4Fuw/7JD3oRdJqIyTKgQQJiiREauA44GCAmeH0mEbPtHflvUnvfd579Tu3u0eFUlZ3A+qe6R7k7ciorOxKd7/v+5lzvnOuZBgGBsev7iEPTsEgAQbHIAEGxyABBscgAQbHIAEGxyABBscgAQbHIAEGxyABBscgAQbHIAEGxxf6UH+ZJ0mSNDhzT+jxi07uDRBggACf6zGAkruF+0VOAGmQHA8MsvR5JYf6OQVd+hVEBOkhgmr8ks97ohLgYYMrPeA5X2QEkPo8ZjxEsKVHnQTqZxD8foH+ZR77IgS/X8CNPsE1DkmSR54E6mMM/v0CKt3n/sOgw9Na+Uafn8Z9Kv6wRHhkSaA+5uAfFnjpkCTolxRPcxIcDP7BwPf7/X6J8MiT4HFqgMMqXD4kEb5oSfAwwe930+8T/CdeA+AhKl7uc18+EHD5AbTwNPL+/uDuD/b+n/2oAY8r+I8qAaT73D8s6PIh9x+ECE86GhzG94dVunz3p3SfBDn4eocJxyeKAh4U/Hs35ZBkOPj8pzkB9EOCv7/6tQPB1vchof44B4YepwvohwJKn+Ar90GFgwnwtNCAcUgCHAz8veBL+35KB5JAepxWUH3M1X9Y8C13f6p3H1fugwbyvmp4mg79QAL0q/p7t97d79ft8xr9Ev+JHAc4mAjyITfLvsDb9t1XD6GFfnTwNATfOETs3YP73r7gt+/ex74kMA55zSdOBD6M6j8YfOvd++Kn/W7QrfuQ4ODz+lWB/IRWPPoIuf3Vf6/qO3d/tu5+t/3V3+0zKigdGBR64sYBHpQE+zlfBN/Bm/MuClgPJMBhKPA0IsBhsN+5exPnonH3effQQdn3/IPn8pFaQvURBf0wLXBQ8Kn7Ai6C776bCPZ9qKD0oY3D3MCT7AT0PghwLwm6d4Mvqr+5L/j7k0Y5QCP3O9fGk4AAOGQkb38S3ON6+91EcPzj//v/er1RqWL+0idwWC0YOX4Wdo8FudVtrN+8jGg8hvGTz6JR76AndWGTJVicLjSLRdx++y1I/gAashW/843fxPs/+E/wj6WQGD8Gh96BbndDMzpoNXuwOiW+uYpKqYxOu41QYhyb85eQWbyO6NQp9Kw2uOwuJFMpzF/5AEHFidDMBDLbe6hW8nB7wrDa7VBtdrQ1AzJft9PuwW53olTMQ6/m4Ykl0OpI2Jq/DofDAV1xYCiVQGQsiQtv/AjdVhsejw+aVUEzu4fxIzP4p99553fvJkT3bhIo+4K/f5wAB1DgkRzyY6YAuQ8NKPs4357P5sygREdS6Fjd2FrfQH67gNWtVZQrNdy8dAGlvU0GsscEUVDcWUJ1dxOyLCMykUC6pcHottFTVUyc/RL8iRQsTLFuow6rzse7TJxuE0rHgF1WoLfrCAecWD7/Uyyf+wnqTR2rt6/CaHThsSvw+CzQecr/5q2/QW5jHcFoBF6bDw0+T+82YLSrfJ0eokxCtZSBtVVAIhJg5AxYlB6UXhNLi+vIMmnKvJWqBVRzBcw8cxaSy4P5hatoFTPYSe+icAf47fehv35C+JGi4OOaDj5MBCr7RKB5c3ucqHS6MAyefKsVyYkYeUGHcyQO9dRZNMslxIN+uMIhhOJBhH/9ZepmDRuXP8Cocwq52gJ+5zdfxdzzp6CdmoNWKcA/NIpKLgeP2wbZ5kGjwcBZJQZQRWYviet/8W/hLOfw2te+DFf0GOr1Khrb11H58H0c/+o/wvHf/wf48pEx2P1eRBNx1CfG0NO70FoNRKJRfgMrAmEfXv8XH2LIE4A7KMFdsmP0yFEUiGZXz2kIUNz7g2HEEkOwMmk25+cxd+QIlEYR+bUtRJlYsyeOAT98x7rvfLT7UKDeJ/hPnA2UHjAWIB9CB5aeJkEjpLoJrxu729g9tw2tV4MAbEekjk6ng0qxCk+lgo1330OFqBD1uhCJhAinHgxH/VhZXcXSxg70VgdKt4SOzc9K7UJ1qnB53GjVCNc8j4qmYXlvB9nbe5D5zbdXK5DX3iFcqESMPOnFjn/1B3/MMOiIBW0ID4/i0tUrUBU/bKSlpZukiyQDanMi4PFjp9pBcXMHtQsXISdGsHD+AmrlOlzBCMo9Cxo5Vnq1DJvPi4Wb8/DvZOEIhBFioniDTKSukAGf6h7lIYfGH+lg0OPsCeynBaQDUKe4nQ70KiX4/X7UiyUUMmmMzZ2EzRngH7cY4CiGE0FcXljCwvIOVnnCNU0nH6tQ7axwQ2Zlt6ATRTTBoBYLut0eVMMQd2GoEmRJ5f9p6OpEAd0grMf404LerQ0TplVmg8Xl4N9b0bx9iVzdgeiutqnnQNbg55DQ5QNeBr5zYY21zdcX/+xWdLrbqFercDv34HTYEQi5YZMsSIVsKG5nEJmdhSIZmHrmJVSrFYjve3x8DDdu3kQtl8bB84H+k2OPTfg+zpFA3Gce4F4iyKsXP0SOcP1rv/33UGlqrEIVIyOjhP4yggE/RlPjuHDtOva2txkgBZOToyiV87B6gsik86jVahRidjiDXkgES9UgfVAfKA4reh2d/1+B3eFC29TddTikHs6emEZhdwfpXBmuALlck+F0u9CxO7CUycNBoabKOmQKQ4nJ1mjU4LQ40OAnFppCJmr1PDZUSC0qs8znc8PrcsIid/l3FlSpaUpE9JiXojY1jMsffIDIUALWcAA7N66hnfQhkIwhEE1iHyIeNvYhHxgmlp60BJAekgb6UYEcmZqDri7yQd10AYbVTzFlwBXzIhWJ4vxHP8NlVotEgSi4vN3kSXcS1hstJOIRKEYAdgYqFgma6lxlgCWefEM2oBt8K1Z8h6pub2cb5WIDHlbxsN+F6+8tscSt8IaiaDNJYg6NsN2GlwpybGIIDsUC1e2A1u6QHkpEEQskIkSPOkAghuJ1YufWInSHlwKxhSJdSYBiMJsp8DV92Gl2UKbqH6qVcOLkSQq+rpksgYkphJMT6FAEWkza72t3pYeE//9mGpAfE+zfb2Do576s2xEkb7NSSwVYtQ7mxmcIoUDAGcRHH36IH/3kPQwPJ+El3HuiIbhYOQotVo9WLjEUR4w6IOygI2AyBN1ehFi9YQrLYDAAl01DZXMJ9naF8KzCy4DarCpitIov/saXMRIKEep1BF0EeZ5GNxPD77fzNQKIR/yI+jymANWz2zDqeURCYUzPzSEaC8GpWogsFK3xACufApZ2tFmtw+t1QyIdeZykgJ6CW+vbGJ+cQGqEmsXvQdDpgV5M4yff+i4Wlj7BQ8yGPtaZ0MfdFXwY/H/6e7fHqgyHYdN6cHt9iIaCmCDMf/tP/wJre3nMnTmF5196GVK7iKWlLSi0UtliGRk+u5DeJsSOolvOopHPwh2ImkLP4bLDIsmokqu3C/TnU2NoEAXoJPmmEm2ciqnpabSFhaQo9LvJ210iBdHBRl/v8KrmT4tNhYe8XlnzQSEFoFXC7toigpMpRPwhJiETrNqGm5QTTvpJWdOwETncVr4u9caNjTQWt9Koff8H+MaXX4az3UBNprJhMs4+O4lIeAj3Ozf4DLqi5McsAB84YygT9gWPK14bpo7PIRh24Xt/9Qb2ciWz2r728ssoF4po5usYS4RhadYQc9kQoRPQmk1UyzWEqcAtDKIiaVBVmZjYo/2TKciiOPaVr/MxGwVmGQ67n4G08kt30SKVCGvnsHtg9ZJKiBwB6ghds1BUghQA+GwUih0Ds89/ma/vxdIHV6G3S8hsr2Phk/PIpjPI5rcQH4nB73PCq2p4dm6KIjPOZPbCIcYhmm1k8jW8ce5DBIZjJkJ4nRHEjz1DmxnCfWD+FzmnT1wCPMgOfvq7RHUts/qdLj8c5Ow/f/1NrFDw1Riwm9euocmqi1FZ2xkgWziG8akUohRuVqmNJJGjms9jr1RFvUuVz+o3yLOS1ckX51v1OqhldrB87QqGRlLQLdQI9ORoSwyoCyHaM4VB0otU8E4neoqNASbHq9T5sgWVWkuoPtQZRH80DLtbY+DO0MoNoUrB2awUMDORwmQyAitt6rDfDb2ybVJCKBrEiblpc3TR6fdia2MTb/71jxEKBElN/M4Ulq2ehkNmPKVfIDGe2AQ4LIN/bn6/sLuFwsItTKXGsEsO3SkUIEkK7CFWpsOP1//6p1TwGkZoBQ0Kqwq997Ur1/H1/+H3MDUzScjtIbO+gTq9fr1ORMhso8rAdBs9NPk8m4+B+NIrcNFOdjqE4FoVOtGjRzrYvPkJud6N7c117KaXYYhRw1bt7uCcbgZSphtQFAU9zYrZl19DuyckucoKD5ljEVarHQY/b8sewPsXr+Hb330L+a1lJChgry6uoVQvUTy6iBKTWFpdw8bmmjmcrPG9FMFJfc7JZznf8XnPrkm+cBTOxBguvPEXCLJCdVos4cntFGKyqqLTM/DWu+9jo5hHwKrDrUiotRS898YPEPV6CLsyrO0aNUILtU4HH394ATvzS/T/MjSLTJsXAOODRq2JdrVJeCdSFHZgVxWs7ZawuroOty9ERa4waWpiuIh/z9Oitc0xgDYtYpseskMkKNa72Mnl0e12oVCEJpNJpCjsalvzSN+8CF8sDi8TWWTXj37yLrY31uGiXa2k00y+FiseqDGDNOoTC1HBplg/98kt+TOq/EO/ZK/VRXA8hdnXvsGKihD666h1e2gRfsusWLEXQalcxTvnLmF9cRFhvw+dbg0LK+tU+n5atnEk6A7SFGe9agOuxDCsoThy1BV12rtMlhRRbpEexJxAi/pAx+LH52Gxu3H85FHkdvOQWlVqCp85WdNsdpksVdC1ociEqLWayJdLKPGx7Y15Wk4HLBQJwagfsZERTE0NIx4IE0koQOkkPLIQnlXsbGchOQOo0ka2+O1LnTZaFKJxWkSPxQ61I9GB9H7p8/a0I8Cn72tuaGBY4HK4KQg0KE4L8oWGOfLmlFS0+bNAfi1Wq1hpADdX5yFTPFUZoTar9df/zjeQGh3HyMgwq7IFj8dlzraB1lLXrfDQNYTI9y6ngzrDiw65fZlV38llEBqdhi9E7qfHb4uRRIPCMWg3g6wyVRyGDSqrVbxms1yHOxiEVUz48HOmhobx8skjFHVReMdn4adFFL/bbW6U2jqTIEP0oL7oNQkIGsolMX7g4OdxwBf1wUnRqCny5x6Lz3t/AFjopcVMW7PRhoUCzhDK3OvEc6ePMkhpNAn9ZasPu6Umct4aRaGOhEVBw+XD8uJtSA4LxsYSiNOzr7LyirU6JL0Hv92GgM/PSpdMFGnxMZ/LiXNvvYsXv/pbaBERFNLJ0NwZursiVCaJje8fbxGNpsYZjY45pNujBiiVaP8oEh0OG2SKxKF4HM+cOMbAtkwhJ1HENkrb+PEHgoZ62EtnMTExiynqlmJ2m7YvgGuLq9Q3ZfiZRKXbN1BYX8TIqZc/9+aFz73DhkCIAE+uYpfp46m0DcVU5G6Pnx+uB71ThV9tI8qq2SvkWNgWyOTsU9PDqO2sI7+5RXiXcOujv8VoImoOAgkYX1hbx+reBu1kDvliDaVqBZ16Gza3H5VmFW//4LuQqRk06Y7OUKgXxEijpBpo1otoN1smjWxvZbG0tQeFwQ+Q70+cOooXz5yCRkLPZMsIUof4/A6kGxrpok36qPOzhvHMsWk4+VnKhTw1ShNBvx8u6hIbbez1d3+InbUNWPXP/1oNnzsCrF28AEXV8dorzyMvxJzVwPr6ujkEqxAZOpoOh0uFzaYiky6YflvmvyKF2EtzMxifm8P69ia6rHaf24Im7aKwcLlyBVeXFlEnARusUCH6bLIVqt2CQCSFmZNVc/zBwr8VYwdOhxe+Th036AhylR7aesdMAvG8keEk3DbFFKmTwwmUu210KCgdfhtdQQOXry3SFloRC0awsbMEgg7ePvdTyIYdFSKXpbmH9XwdPrsKRzSC0S//Lrp8n5vzFwYJYIsmkVm+jZWbV8zZMi/Vf73eQTwchJ9+W7iCsNePtYXL8Fp7WF/ahDEspkdaOL+wCncihShF3+mvfAMNTcP08STqly8jmIjAYXNhfWeV/t6PnhgJ7GioE6rNcftkysQfMci0ubkJa6sIe2oGnRZRgBbP5XBSqFHpM+BO2cDUaBLPnziBtdVlwnwL4WgMfuqLN996B5u7WQRjCdxeXkB0JI5hwrwhk0I8IdSrJdQb1AS529BIbzrdg4vJuvOz6wgPJQYU4A3EEaIl+uMfvomNTBN2Qi3PHkWblRweYhB6qIuWLHrp5559gUhgwc7OltiqDC3m7x//6bf5JRoIBPzIrSyhUiD/jsdQIfdGYwEErSpc/LtmU4gxCrhmA1q9wiRrmfTj0jVMpMKQbQ7Uu/QIDG62sAun3Y7pqTkMDQ0hGQ7h5TPHcPPWZSwvL2J4JGlODf/4b/8W6WwWjV4HpUoNQVq+46eO8LPbkaS1tZFqCvxMhAJz1l+zOKhhSGv5PcgUiJpFHSRAvV5A153Cb33pWcwMe1AtlCAzaBYGGrRnxfVbrJoqZl9+Ee5IGM89fxp2WsHdYsW0bYFYCt/57k9NC+imys9up6H6ac1GiR75HaRmZin2KCz5evVOE00KO48vAAs9eK8n48qNm7h1a5lqvUdfLjEJgHhymKjihzfkof4AmruL+Otv/ktsrqzg1a/9FlQG8o233kQ2W6ddFCLTgVp2ByOJGN/Hid2ly9i9fR46aSs5dQT1fA5SB2bLWTScQEWVsH3zEqq7O4MEWL9xBaWdG5gYisNKaCQh0wnQswsrtbGKMiumWGmjvLoKOyHUJik4PjMDT4AKm3axZ2hodjt448dvs/LHMXf2NPIba5g4dhrTp07CTaGV9NoRctjhoz7QadNa9TJsrEC72wNvLAaLN4aWxUmNUUQikUTMHOGzwskAHnv2DLzDM7i5mcXoSALV0h6++53vo0RqqtSq/NmFRO8f8XoRCvtg1MqIDo1jeOYMIokEVCKZmwiiCmvKI51exvVz5xB5/teRW54fJIBi92CXtul7b7yJXq1ttnlZugoUVuz42BTiIS/hNIS9zRXYyMtO8q7dJuM4rZrF78Repky/Ty4nt37rO6/jP/3Zt7D0zk9QSOfRYZWfeu44RmYmycMVSGL4lbC7Sft4/p23oBNhZo8eg4N8Xaw3sEG4DsUYfKOHoNOBYzNjSNNlhMfH8H/+P/8vYsOz+P//xb+l9XTB6Oqo8z2DRJ3xmQmkZo+YM4ZudwjDk8dg5ePtVtdsHrEwqWk0qGcoAt1eWCVay81l+KaPDxLA4/MhRsvnYhX5YlF0DKpvcmaPUKzYrBidPUu1HTV7ZuqVAmwMjKKQHugcZqnOPaQD0VEkyQoc3gC20h1ExifJ3cNo10rIFksYpuB79cwzsLQqppcvtYES7eZ771+AmDu0+cJoUBM4vG5E4jH4XDImRiKoNJpmR5EYU1hfXcE//if/HP6RCRSqZaxtrzLx+BkmhkgTdtNJeC066YHBze9i+cqHaJRq0KgtDFkydY3d5SSrFdGSHQilJuAbnx4kQIeCTNeqDNgI7Z4HnUrFHLjRWYVi6HRnc8HUAM+c+TXYqarFbJ3MT+2zuuD12XF8dgIhWquV5SWUag34CLtXN9NYXVlEklwuKk9MAGW3l3H8+FHolRx1gEFx2UEtvU0Ob8NJeHby9aJT04iSp6dGJ0k9XTSqdYyPDMNFKviTP/xzpKamYKOV297OwuuPwdYtwkKRahGdRUwei9NLt2HA4nIx2H6qftpIBr+8tw1JTA0bOmlhCjKRJ8uEKhGJfuUTwMLiaGxV4RsZQ4ewqooZGPK6CLJC+IynpljdNtRp+/RuD1UGxq6wqgijotHTkDRycwojrPKdTBYaGDie9G//xV+hsJtDNBI3F3dcuXANxVoRL73wAoWaG9EjQuEnoEl2Ps5k6NYRtxmIMniKakOj0aLeaJvJ+Id/9j00Ol0G2Io9is/RiVEcn57C3MkX4CQNWW02lNN7mP/4HByKTAfhoPicg80fQtcgrfnDBDAZVqLE7toSbJ0ytPI2upmBBkBsbBojz8xg9Ngz6NbrjLrVXPQBnsguUUBWeer0Hpr05Cq51CL6IympLYRRnQljESOHhoSj5GGf22bqCZfdC08wgj/9y9eRz+1hmv83fWYOJ+dO4szzJxF2udGjcldGpynK0ig1KzgyN4kTRACV/1en2JwYHUF6ZQP/5l/+K6xtbLP6J1CqtswGkmgiaK4loKFjQnbMxSaNOj+flRDPUGuiFZGOQ3Qq2wwred8N3cLHCUc9apu5F17DUGoarkhqkADWcBi+oVHUSznyusWcGBITMBKhtN3oolYvwiDnyzo5VDJMoSWzKjW9AQETXpEQtI1iUikc8JPRJfr4Cp2/TPEl49//u/+Aar2GX//6f0dlbzHF4fFjM5hg5XaKZSxeu4EwOT5ksaBHGygaP0NeJ2hDsJFrotgyMDY2hkpHTFTZKEyTZqOpl9pDJJqYxNpamMfY9DRmTj1vdil1+dx6twWnhaeXiJbLpYkqVnONQyQQgz0ch+KJIDo2O0gAi2bA6lRhdTtRbNYorBrmBEyLil107Xh8cXSJChpP4MbGBjKb69CsYu7ACrvThTq/ghjHt3hdZm+hxyZEokpX0EU+nzdn9f6/f/ZvsEsXkaRWgKFCcjoxRoUfcFswOj2DI6JnkLazywSLhT1mP99b732EW8vLcNNuFqgtdCaWm2fLSXso1gOK7mRJ1iCxogWC3Lj8ATpaD206A0nM8jKRGxSgBr+P0ytazbqkNytajSI0aoFCuQKLrg8SoKcLEeZHhfzdKRcIzYo5Ytem9280qmi2ahRw66i36ihkd3DzwlXc/uBv0eZHr5dL2N5aI9S2zRm5zcVF5PbW0MisoNkoQ3KF+Xf04QEPvvnHf4U8NUAoHkaz3TQnboYTcTx7ahruUJRcHkSTdLC1tYN3f3oOa8ub8AaiFO8OqIoN4ZAbXQa93WpQorTNBSm1Zg+VcoPPTzDZimaFMy1QbXbQpVbpMVFa9TtTwSAVtCn+MkQD2WY3W8VkhzKYCwCroiM1EabybrcWzfZsly0Au9dtrqjROnXUM1vo0seHh6aJBE6zN19p6GaDh9tqQ4cnWyFtjNCvW7ptc9jX4bYTFSIoUcyJuX/RGPpH334dv/21L1NsdtDTiBoUkyx2lJl8oWTCXMv35hs/weLyKpyxJHUGaYgUlCCyJOPDkGJxsz1MDEYVcmvwhMIMrB2xaAo+Xwj57BZtpli5TCcjOpW8YbQsTeqUHoxenWQlNIuEaDiJaMgHTbYOEsDO09JmQHTFjgrFlODy4SEf5qZSouvS7BJCeg0qqcJopvHimWeJrl14gwFIjTBsoSBUuoZKrYZ2LIKFeoYRNeAMOiH73Gg7RgjlQDFHJClm8d23P8BvvvJrSCQC5sqgNrndKqwIk+b7P7zA4G/BFfCZI43uShrJIT/t4STctH1+t2KOEDZJF/ZGBtMTceihOOyE/I7gfVKY3eHH+vwVitUOhsYjKDTDsCpOdJlwu7tpikE7haSO/M4KIpOjgwRoS1T2FGFipqyyl0avWScSkI8J0x4x6ENIbVLtG/Us/MkkNpauUm3zOY4XUC6TNlZuQawuchCSO9UqK7MIvV6BR1fh9MRQb9TNZlJiCQJ+F7ysxkDQY64psIhef11BNp0zl5+PTM6aK3/39nYhN9vm7OLG2joiI8No97ooF5poETL8ARdoUWgJa4h4DBToXgT19Kj8k4lh2FxB08o2iEy5vT00ajmzWVUhOnSqJZz/j9+i0KWtdPkHCWAT1x8i7HsJ93aKPpYYFldXaJmasMqGOWNXZ/VKFH3+tQwK+Rr5t4HQTgMaKaAlrNbCFktQN/v+MnQAYpWos9eBVl+FysTy+j1IhTwIepM4eXqWvC7j7R9+H8dOHMPs2ecRHB6G2+HAUVpBp0o0ymeYgAUgkMRqqYXMe1fgC1B8Er69TEqLqtNupmHn53F8csNsOjWYcG2xVvDmFsoNfl5ShdXiMccrWrUqtqpthEYisBti8KuMclZ8/vYgAVrdntnpK8mquUxc9ANUjRZCkSASoRAc5FIxmyoWaqY31uCiTbNaQpienUG9WiM6NM0RxHKlaFbl9PHT5grjimjCpEgMOL1IjaXgocU8cWTK3E2EpIO/+7/8Pm5cvYlNsUCU/9cU7qAn4dVXXsbmjSvmqJ5NLPqcnsTayrpJRX5aP7FSqF7Kw0l7F58Yh8wqF2sIW7SphC5+Vh3NUgmy00db2YXelbGzs4fdCiue31V3+5B46Tdw/ScX+eU//wT43F2AjfxbJP+WewYctGedHk8ik8HOQFlZqZJk3B0xpKjqaagTarO3byKzsQqb08NkIM+TNnwMkDMcoaDbwU52jwJOR8ATZOXa4ZM7mJpJwOElP196F9lbnxAZdFxb2sLFa/Om8MxePEcx2UaNSfR7/+Pfh9EuQ29WMRRJYGI6ha4qoUs0ye9tY+naxwxyxmw9r0tiGZiCRn6Xtz04fD6Ehof4ge+M/TerWVJAkZaVYrVWNlcq22UmllWCVZUGCKCwsu20WXaZUE7lLjMaEu+zICHzJHZZVQr53XBI9NM8eclhhAj1YgGnLoZdnXYYihu1wh5Wl9bQsbkQCsbh81pRJWKkxk9jY2se2yvzCIYDKGVykCxObC3m4Y6FqBFauLS1h/ZuBhUxwaOM01HY8Nxr30AxU6C4bKC8uQE3X3NbKSPORDv24lfQ1nQ6hK6JOlWphgCFo1ZrmnsSae02vAxuluiSzhTRoDgUNlCm5tBoe8OTxxFaZ2J0egMEqJerEA31zRY9dL4Km2o3nYDBam832tAJrTabDUq3gY6qwhOJ0ieG7/zkY2LAqGtQnGkKinwNXziIWNiH8voGjp84gbCzi/XlbWzs5tEu1TF15hVc2i2bq42CCoVhq0KIX0Z3ZAKOoM/cayCfycDr8ODo9AQFoxuBeIx8XYNF17C8tIRyvYk2aUqMPYiRwJDDCa83gGCI1rFj7vrBhLWbnUcBjxvJ0SM80Zo5EmljZivUOv5kHLLdPkAAAd1i6D88MY3djR3UWfFiaZiYpnXxpvCkiWYKO/WBWCyS21rD5NgsytWKuQeAmH1rU2DlWX0RBjEWYpXv7GL69Fl6/zqcQ5OYPVHAzMyUufHEN7/15+ixescmRtEqpWkDa2bbmGgG+f47F/GNV0D34cXWXgZumw6PTcPp2Vms8TU1QzFnKcU6P7EZhFhvCGoQeHxQenQmrHpJoXOhTRT9AvFRUkdPxyrRpVapwhGhfqgWoOXXcOvtHyJ1/OQgAUCO3Lz4Aa6sXQCCQ7A6XdBLVapn2dy6zUbelZgKOl2AWJIl291oMGB20WPX7oJoi0ylTTBoIRbxQyvmEYn68cyJCZRzJVSJEiPJmLnY40dvv40V2rIXn3ueltCPFjnc54uhtLuCEZcPl5c38eHlW5iJ+ekKVPhiU+Y2Pra9RfipVRpEhYRNwdZmGtUWEYoJoZrjAg1AtJp5xeJSw7SAOtGiziTo0ZH0aCF1sym1B280geDINFzRYeqDziABxIn76NoqOZN2ra5TGNmIADXysNhE10CNsB60i0Ucboo1jUqbPKvVaRNtWLx2EwrVttjkwW0xEI1MQyvt4ZmZaVKIblrMALl7PV/Gex9dRL7eQHR0GL1GHeXFSwiOz8AZHUIjtwkPkUOmndzMFdHi/7t2FzF9tgTn+BwuvvcBjh07RZj3oCBLGB4fpt0solSskMI0s8vX4tZMTSCaVkUjS6sqOpCo/D1WSB2N4s+LHm2fsKpWfufxqaPouL08AT/+FU8At99svHzpH/wfyFVq6Hz0R4T2Ox5adPnmqehpFfDKsy+ZtNBqVFHK5fjB7eb6PTeFYGV7BakXfwMh2rSZMzNYuj5PW6djKBpnsGtYXNtBrdlAk9VoUZzQa2loCl+BgtEqt+gehuB3+Mn7VnMJmt8+jJw/hW+ceB4OjxfK7/x9yNQpW9d+Bm9kFJ2OjCgdi/i87aZO9yKGrFn1FhV6j5qk3sbmrSsolSpI0JZKEgVjg07AZoeVCCYQo8tkkNu1gQgUx7O/+/eguPwUVQZKYlMnigIdDaR3N6BR+D176iyK+Yy5kMMbihElPCiSx4OpEUi0WJPHz+LEiRmkwi5SgW6uETw+O0f+tuHcu+fNlm3WHcSOpC43BSUD0uHfdCoUhkQY0Z2t0nH0SBcyP0OR2qBeqeN7Pz2HSrkIf4jVS/EWik9iZChFPcJKblXNhhKX34UtisiO1jH7ACoUgeVyxdzLUCRrp16FlSLRUKloRNIxkWwWOyriNSRjkAAKId3tD0AS6ju9A6eV6pn436NKtypW8moItlAYlbbY/MmCtti4odU027RcjFySavrss6cg1wt47zt/hCy99tbydWytLuBH779PDdBGg3xcqJfMJg6v2PmL4jGzU8DK4gJkq8vcW0ihqLP0mnDavCg1GvzdSkHawBvvfoQS4T6eCJnLyppMvOeeO8v3Y2LwtcZTSXRIGVffP4880aNKXeINR5E8chSjs0fh9YXNTaoc7juXSKiUCmbfg8MWhKIrgwRQfS5zqLRbbcBCiBRbu2htiT5bwdjZ55AaG2GwNtEQTZ+pBLbpycWegjaLFbaehCPHT+AoVfrylRtQwnG4WN1bezm8+eP3xdwb6joTpt4jLzvh94qxAwketw/HXziJkaMn0KuJRSLkfGqJ8PAQg2yFoqko0a/XyjW0iB4ffHBR9KCi167g1vVPwA+A3/2ffp/axGp2KR09e8Zcbr6+sY0uE0Ak3c7mDh0AoIs9Cu9uE61JGhHNDaNZh55fQcTjHiTA2tWLojccqstKLvWb/rzdJTw3KuaOHyUqZbHTZ7lUw42b84iNxhGnYBMbQozPDOHE1Bh2mRRFXcLc8WdQTadRpGAM0vblKdKWVlYAcrvYTEKiN2/RNlg8QUQnjzHoAVAEUMQFiRo3YLN7zXWE8aEYacFhPl80e9QJ569/72/MGUKXrNEy5rDL5Lh94T04Wg2E/WLV0mmqEgnFShk5IgbcbqhMtCK/Q6PVJuUIc0AtUMxhe/kqLl28gkyrPkiAYCQFl9eBzPwVNLcXzR29RSuXVbLBqIvNme/0AlYFF6t2TI1PwcJgH5mcwDNHj2CbsCv24/vaq68hwQr+4UdXTCu5t32nuWOKjuDY+KjZleOmfVSJEPGRcZOjxf5Alb0dFDK79Oyz9PAqoV8zV/VOkesTw2Po8XOIpo9stYYrtxfx3EtfQZSaYHd7C/lm2dxQMre+ak4QzVCT6M0WqrSfWq0N3ZCZqDVzHYOdaCE6gbpMsMjYHJ597WsUi92BDSxXy1TUtE4WH5SgbnbfxmIxJEZDsBCaHarY08OBSDiARGoMHocDSb+bVmwEOSaF2AUkSegXe+5889uvm738gWAEzfQ65hJenH3pFGxWN21ZEwsuu7ks29KrQaPql1UnikwAMdTsOXoUYPCG4wkkImGzzWysK8SfbG5Pu7tbxNJ2Bp13zuO3/+5vYO70M0hv8LUiCRx1BukeWPUOFeN0HjeWF0g3HvgDDtrCIIVtHXu7WaTrEgy7jYigmdPPT8DSwM8fAXyRKJqNDpzBGOB0mo/ld3dRyNdZYU2sk89v7u4gFIzS60uIe12m8hfDumLxyDCr1G1z4Hs/fBPpbJ5KPQmNli9stVI/TEDpSeY2L51OxdzQodasYWNr1xyaFS15TjcdRSGLtYWL5GfZbOUy+L+qamWAnGjvrOHYRArTpJpaJoe19S187wfvQOr18Norr6JCZyFWC5+em0Yzm4XXY0OUSVDga6QzFfMz5dIFNM0+wTszm006CLFiSJfkAQIoFtudtmrCf6Xcgt3hNvcLuHz5stmc0WmUMD48jOBwil7dilapjEo+DV9yBLHJUahEjD/4wz/BzkYGoUQMFbqAVr2GTLODvcs34FzcRYe2stdpwC7ZERoaxtjROfr2HsWZgdDkaQTHjiCViqN88zYWlrdwe20TPqfbbP9qkqet6UvmZ9FsFpRzGbgDbnzrW9/CP/zf/lcccY6bA1I5fq4UHUF+d5P2MIzMxetYLVXNTSTsDgVOX0i0JdHhOMyhbjGK6LH86vYEftoOK3b8Ti/sYn45jYLFC5uTlcuAb9Ki7ZVov0gHJ08eRyoRRmFxkYFtYiQxwUpzQSZ9/Ot//6fYyOThozIXXt3O15uamCYvL2M4mYQjEEKZqjvHSqzTaajUFGKDyLbeo82UUKL17LQqcB4dgdxoQWwj6Tba5O4u5p59EbrYXEozTPewR/G33d0En0oakfHv/uBP8L//w/8ZDnr79E4aCQrP4VQMVz/4CCkmwY3rCxS2bnOrW6FnNhuaucWty+Ug/5ehu1x9z8kXjQIOuyL2nXl+cmGFkC76AVy+KEBV3Spk4PF54HZ6cPToSYSDfmydfwcby/MIeEPwBb3UCRH85V99D2u5nOndJbGAhK81nRqC32NHUGzDJlbt2BWzt9DodiGx4uq87yO0K6QIndZyc2ebybYByeDvqmhKIQXw76TunV3FHPT6MpOgsrWOsWQC8eE4ubwMxRtElwLw23/+l7B6QnDz98WFNcDmw3O/9hWMJ0NIhKOQex04qCd0qYPxsSj29laxd/sqOvUiGvcfCbzvefuiUIDRaurwBIdh18jPrIGQzw+/WMAhq+ZIm1VrYOGD29gWO4l1NEi3P8bcdBI/euMtpEukDAt1g5NBcjiJEnG6CIXOToeVNsxhcbOC6ciIAlXNQvqowMK/qzTqcDpcqGhNJKNDUMIJ1GjfRPu4dddCOxhByMH3Y4WKTiUrNYbd6wPJClMjKWhtDeubm0hEA+aOYOcvfIznjk5hLBEgtRi4fPETbFNXHDt7DM2ba6iy+t2ktla2BMVB6+mNwJvowub14rMI8pMiAo0DUGf+7GkNcwlYm7asV1yF02ixcn3mXr4Gb25VgjschsSq842MwjtxDJ/cWsHNdQrFougVtJlbr43TgjkFpLKqexRmiUCANq8Lh2SYg0ZizV6P7yNmFO30/uK1RVeQGCMw6Cy61ANiX1/R3WsVF4Zi5vTE9QXoUCzmiGQYextr1A06ZueOIBqPIJer0a4qqJB63rl2G7X8LqGfVV4o4JNzt5BZWUCUSeUSfK9a8MKrX0IiFMbWdh7VImViq4F+5+SzTAr5M4D+flfQ/PR3RdPNDaGyWbHFm4TZE6fNkzYa8kCvllDtyHAlknAS4r3+OAPmwHa+gJX1FVZ1B35fEKPJFJPATv4XVwdpoUNgE6N7YvOITqtlvr5qU+EwN4Sym0vKnRGfuRF0o1JhUrSYiB3ShYO6wM5kEDuOi51KHeZm1B0xvdttIDExCp/bConCcChKVxLyYiebNq1rva3i8s1NsxfhzJkztK0qPv5kCdurq6x0FUdPHkHC5zO3nNOpGcRwd61nAIdfZfTg7alKAONhE0MiNIqxcZ+PwXH6eVI6sNSy/N1nVvTFT86bY/fHTp3GysY6rtxawuLKLr11E6FQgJrAwaffqV6xdZuLQC327xUXjzCo+ruKZDZmik2pzUYTXeFjgCYaNMn5isMOg4mgNXp3BJ8seNFqXs91Z/4K5j96G1Y6FbFRlFVSzebUXn4PvVIOM7OTcLv8yGznUCKnL6Tz+OYP3sCt5XXYA2H4R8cQoIidmxinEBxCgclY02Qik25+ZssdBn7YQBtPiwYw+gT74OVTP/1dMrpYu/YJJJ5Q+/AUvFKCVmwTRVqoZ177KrRrt3DpwjVytx2ZfBXdRpkBVM1ZwbAvYq4CKvS6sHoD8NC2mYE3zIsHme1iHaNr7rdarLXMhRtipKFb66HaLKNWLMKm2NCV8oTvjHltQjFs26MbyK5nEKfzSJx8EeXynRaysCR2/GjAOTIJqUHU2txAPBlBZjeLaqMNJ4O+u1dAgb4/ScEYpm1MRoN0LVH+zR6afF+NDqNKDaLV+Ln8Pdzv3PRJCuNJT4B+H7YfDXz6ZduEWLHsyxWkzSuUEZ45iiMvv4pL77yN2wsrmB6OMABNSJ4ArIT/9HYbIQq3CqtpK5+DW4ysMaoyoXcxu4fA0AhsHg/FRQ1a2TA7jEW1i51COqLPsNvEbp4cTC0grlhWLubRrPOx9IK5a4doNS/1WjCYBCFHFPlKE61qAS2+X8HnpaawisUMMJhomUyRCUdWCrqJGV6ikQ251U0MH51FMBI0l7YvLS2TekhzpJ5MdgUud5xII6NlE6gkA/2vLn4QER5bEqiPKOjSIZV/mAb4NMsV2jQpkkJTEpsuZc2NlywKT7Q/SKFUBoIBnDh9Esvrm/BRmdvHJpBmxUleF7J7e7hFpCBCwyaaO1ilG6UVc+Vwh/fFVryiuQRiK1cGVaza9ZJ/13czTAa+b6dlrvzJV0pIjSZQTpexKfYW0mWzVbxyc8ns4tWbYuwA5r7/TSaIaPcGUUgXDamtJoIeccXRUdgZaPfcDKs+BJtVQbWlY31xCbOzM+jSwWiauA6Rx1wF5VXFdQ3kwxDAeIAOMB5VMqiPUfgdFDj9rqKtNynWghRbFb0nFnqLRXbYXl8zB27g9Jp9AC1xqTefHTubS6j0LFhe2YRskTASCWEynDL3F3a5LXxhFapYvGl3mhs0d1mlDXGFMXr+lmjV0y3IZnZw89aC2YrWEBeMFBeV7Eh8zwJRZQezI0nEozG0hZQUl6STJdRLDWqMmnklkh7FoY0JYCWyNMSO5E3JRJPdvU14nC4Gew4drY5b771NDROEuG7V/DzRJZJAU+vSGVxl1isITR65d8H4e9cTPgz+9UPO7RM/DmD00QH7L59u3lyhIUQm66gS7scnaOWo5JPhMUi6iiID1CxnqbBHTE6NR5JU92V8/bk582ofY5MT5gbQ/vgQg1ShTdsCHR8cAT9VvxNtVrhMQSjWDhTT5Gm6ioaY/6+2zGZN2WK5s+dvZg8tKvKg38VADcNL6xdICJUfMdcmZlduQGPCJEZSqNbqaJJCRBNLi8LPQzpauXgRFz88DyUYwvDcFHZX5pHh/fFnX4Z18ba5RbxGVHEpolewimyjCMW7Z+5JdPB89EGBx2oL1UcYbOkh7N/+K2ibV9GuFXPmRfNEQJ1ON+LDMTgsKuY/3oBTbzDwY7RcET4mwTsUo5JvI0jn4LS7zL6BWwsLaH14Dme++pvQxJ5/9PG++Cja/NnpioGgNrJiICYUh4PWrVKvIUnf3qPuKNCvi5tX0fDCi1+GNzkEO9X5rStXsbG+h2Os2tXrP8NH/+EPcfq3fg8ONx1HcJjwLnYQMdBEw9xO1uYOIhoP4tbNa/AwAUeOPYfrH59HmS4iFIjg9Jnn0G4yQTMiESapOwpYvXUTQ7PmSGB33/l4GCp4pFpAfcxVfxDWxJcU0rdz76ZQHFlsbjjsbVy79DMKvK+St33mLt6lXB3JaTdq5Qpq5O6dbbHjR8+8Mrcq1vbT4q0s3sCNH31sXhRi6PQLWD//HiaPn4Am21Fp1gnXVmoK0axJG8efJaJKp901O300mTRRl/DTN8/hJPl/ggLUHfFha3UbaldHk7SkdZqox47jz/7gO5h+7giG+R7isPGr7WRycHl9aDOZZNcQvBMS3n37AvybRQTOvIattWUc0SUsnn8L2Z00hp7/OupENCFLJp551hwe3n8u7p4b7RAqMJ5UEdhPDO4Pvrzv/n6oE1+45QsF0euUkW+lMffCl2B1hhhgGWPjkyj6XIiOzpgbRNYFnNs1ij0GVCwK4FFYXkKjVEL8RJSe+wh2llZx4eaKubJo5pVX4bWqFF8dc3sX0ZsvFoSIVnMhEpUeEYcJUO/k8NW/8zvmUi8xKtjRrGbLmRhLWLlx21wuNvW1/56iNIDUJD+Ly2ImZMdQmLQuJoALBbEEnFpjbPYEfIlJbM3fQGN3CUN+B5ITExCLGEqtS6jOfww5nIRMgarqNQRc5v4ArbvnQjuABIcNDD3SJJDMK3b8ok+SPl3UeNjVwhX8/EWiVey7ZLxZQAC9GkRTnAP/5RLqFvzXV8/efz29/e/5pB4HBbDeBwW79wqAtyZvgguquHP18P0J0TuQFNqDEuIXjaf6CLkfhwwASfgv177t3f2S4v69gfDu3S9txc9fRLnfpVRlPB2Hfoj+OYiAnbvno7Hvfu9AsPUHqH/jSaYA48CXl/dVAPbdVw4kwIOuoIknMBn0+xSB3scF3avyexXffUClPxYKUB9D8PuJwHvQvb8LUtt3QpS72S/fp/qfVgTohwL6Pni/h4r37nfvIwIfeRI8rnEAo09FSPsgf/9JOgz2D3L/0xL8flO8Rh+Lt58O7sF+t49m2P+8J34yyLgPDO4/7sG+fkD09buKtnxAaD4Nx4NGQw+OiRzkfO0hh4SfSBt4vxNxkB6Ufc877PLp/dS/9AQH/jA3YNwnEbRDKv6wgBtPKgL0+3D6viDqfZLjML4/eOHkpzUBHnZizDhkHuCxNoaoj7jyD97fnwRSn7/bP1ik4+cvMC31GWt4mg6jz0/9kPmRBwXdeECSPZEisN8U8cGBo3uP6QcqXuvD+U9rAqCPejceAhmAz2BCSH3MwZcOoYR+8N7v96c1+L9IEuAhrN5jS4LHMRuI+wR////1C/bTxPf/rbrgsKQ4LODG4xCCj9MFGPsCeD8le7+gP+3Bx0ME9GEfeypcwGFWEH1GCqUHoMUXJfgPG8iHrfAnviPofhNEOAQVjD5BN/DFPX7Z4D7xXcGHBfuXOQHSr0jQ8VkH/bNIgIf9AtLn9cW/IMnxVCQABkF+cg95cAoGCTA4foWPX4oCfpk+wsExQIDBMUiAwTFIgMExSIDBMUiAwTFIgMExSIDBMUiAwTFIgMExSIDBMUiAwfG5HP9ZgAEAzL5gwGbUmtEAAAAASUVORK5CYII=","options":{"isTrashed":false},"credits":[]},{"name":"sprites/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgrnjg5fjg6njgqTjg4g8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJzcHJpdGVzL21haW4uanMiPjwvc2NyaXB0PgoJPC9oZWFkPgoJPGJvZHk+Cgk8L2JvZHk+CjwvaHRtbD4=","options":{"isTrashed":false},"credits":[]},{"name":"sprites/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUNvbXBvc2l0ZXMsCglDb21tb24sCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgoKLy8g44K544OX44Op44Kk44OI44KS6Kqt44G/6L6844KA5rqW5YKZCmltcG9ydCAnbGliL2ludGVycnVwdC5qcyc7CgoKaW1wb3J0IGVuZ2luZSBmcm9tICdlbmdpbmUnOwpjb25zdCB3b3JsZCA9IGVuZ2luZS53b3JsZDsKCmltcG9ydCByZW5kZXIgZnJvbSAncmVuZGVyJzsKcmVuZGVyLm9wdGlvbnMuYmFja2dyb3VuZCA9ICcjMGYwZjEzJzsKUmVuZGVyLnJ1bihyZW5kZXIpOwoKY29uc3QgcnVubmVyID0gUnVubmVyLmNyZWF0ZSgpOwpSdW5uZXIucnVuKHJ1bm5lciwgZW5naW5lKTsKCgpjb25zdCBvZmZzZXQgPSAxMDsKY29uc3Qgb3B0aW9ucyA9IHsKCWlzU3RhdGljOiB0cnVlCn07CgovLyDnlLvpnaLjgojjgorjgoLlpJblgbTjgavjgYLjgovlo4Eo6KaL44GI44Gq44GEKQpXb3JsZC5hZGQod29ybGQsIFsKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAtb2Zmc2V0LCA4MDAuNSArIDIgKiBvZmZzZXQsIDUwLjUsIG9wdGlvbnMpLAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCArIG9mZnNldCwgODAwLjUgKyAyICogb2Zmc2V0LCA1MC41LCBvcHRpb25zKSwKCUJvZGllcy5yZWN0YW5nbGUoODAwICsgb2Zmc2V0LCAzMDAsIDUwLjUsIDYwMC41ICsgMiAqIG9mZnNldCwgb3B0aW9ucyksCglCb2RpZXMucmVjdGFuZ2xlKC1vZmZzZXQsIDMwMCwgNTAuNSwgNjAwLjUgKyAyICogb2Zmc2V0LCBvcHRpb25zKQpdKTsKCi8vIOOCueODl+ODqeOCpOODiOOCquODluOCuOOCp+OCr+ODiOOBruOCueOCv+ODg+OCrwpjb25zdCBzdGFjayA9IENvbXBvc2l0ZXMuc3RhY2soMjAsIDIwLCAxMCwgNCwgMCwgMCwgKHgsIHkpID0+IHsKCWlmIChDb21tb24ucmFuZG9tKCkgPiAwLjM1KSB7CgkJLy8gMzUlIOOBrueiuueOh+OBp+ODnOODg+OCr+OCuQoJCXJldHVybiBCb2RpZXMucmVjdGFuZ2xlKHgsIHksIDY0LCA2NCwgewoJCQlyZW5kZXI6IHsKCQkJCXN0cm9rZVN0eWxlOiAnI2ZmZmZmZicsCgkJCQlzcHJpdGU6IHsKCQkJCQl0ZXh0dXJlOiAnc3ByaXRlcy9ib3gucG5nJwoJCQkJfQoJCQl9CgkJfSk7Cgl9IGVsc2UgewoJCS8vIOOBruOBk+OCiuOBrueiuueOh+OBp+ODnOODvOODqwoJCXJldHVybiBCb2RpZXMuY2lyY2xlKHgsIHksIDQ2LCB7CgkJCWRlbnNpdHk6IDAuMDAwNSwKCQkJZnJpY3Rpb25BaXI6IDAuMDYsCgkJCXJlc3RpdHV0aW9uOiAwLjMsCgkJCWZyaWN0aW9uOiAwLjAxLAoJCQlyZW5kZXI6IHsKCQkJCXNwcml0ZTogewoJCQkJCXRleHR1cmU6ICdzcHJpdGVzL2JhbGwucG5nJwoJCQkJfQoJCQl9CgkJfSk7Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBzdGFjayk7CgovLyDjg57jgqbjgrnmk43kvZwKY29uc3QgbW91c2UgPSBNb3VzZS5jcmVhdGUocmVuZGVyLmNhbnZhcyk7CmNvbnN0IG1vdXNlQ29uc3RyYWludCA9IE1vdXNlQ29uc3RyYWludC5jcmVhdGUoZW5naW5lLCB7Cgltb3VzZTogbW91c2UsCgljb25zdHJhaW50OiB7CgkJc3RpZmZuZXNzOiAwLjIsCgkJcmVuZGVyOiB7CgkJCXZpc2libGU6IGZhbHNlCgkJfQoJfQp9KTsKCldvcmxkLmFkZCh3b3JsZCwgbW91c2VDb25zdHJhaW50KTsKCi8vIGtlZXAgdGhlIG1vdXNlIGluIHN5bmMgd2l0aCByZW5kZXJpbmcKcmVuZGVyLm1vdXNlID0gbW91c2U7CgoKZmVlbGVzLm9wZW5SZWFkbWUoJ3Nwcml0ZXMvUkVBRE1FLm1kJyk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"stack.js","type":"application/javascript","lastModified":1492756455000,"composed":"CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoK","options":{"isTrashed":false},"credits":[]},{"name":"stack/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgrnjgr/jg4Pjgq8KCuOCueOCv+ODg+OCr+OCkuS9v+OBo+OBpuOAgeOCquODluOCuOOCp+OCr+ODiOOCkuS4gOawl+OBq+WHuuOBl+OBpuOBv+OBnwoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgojIyDmlLnpgKDjgZfjgabjgb/jgosKCiFb44GT44GT44GL44KJ5aeL44KB44KLXShzdGFjay9tYWluLmpzKQoKKipDb21wb3NpdGVzLnN0YWNrKGAxYCwgYDJgLCBgM2AsIGA0YCwgYDVgLCBgNmAsICh4LCB5KSA9PiB7ICAK44CA44CAcmV0dXJuIEJvZGllcy5yZWN0YW5nbGUoeCwgeSwgYDdgLCBgOGApOyAgCn0pOyoqCgp8fCDmhI/lkbMgfCDjga/jgpPjgYQKLS0tIHwgLS0tIHwgLS0tIAoxIHwg5bem44GL44KJ44Gu44Kt44On44OqIHwgMCB+IDgwMAoyIHwg5LiK44GL44KJ44Gu44Kt44On44OqIHwgMCB+IDYwMAozIHwg5Y+z44Gr44GE44GP44Gk5Ye644GZ44GL77yI5qiq77yJIHwgMCB+IAo0IHwg5LiL44Gr44GE44GP44Gk5Ye644GZ44GL77yI44K/44OG77yJIHwgMCB+IAo1IHwg5YiX44Gu6ZaT44GL44GP77yI5qiq77yJIHwgMCB+IAo2IHwg6KGM44Gu6ZaT44GL44GP77yI44K/44OG77yJIHwgMCB+IAo3IHwg44Kq44OW44K444Kn44Kv44OI44Gu5qiq5bmFIHwgMCB+IAo4IHwg44Kq44OW44K444Kn44Kv44OI44Gu6auY44GVIHwgMCB+IAoKCuOCguOBo+OBqOaUuemAoAohW+ioreWuml0oc3RhY2svc2V0dGluZy5qcykKIVvjgYvjgbnjg7vjgobjgYtdKHN0YWNrL3N0YWdlLmpzKQoKLSAtIC0KCiMjIOW/nOeUqOS+iwoKClvjg6Ljg7PjgrHjg7zjg7NdKHdyZWNraW5nQmFsbC9pbmRleC5odG1sKSAgCg==","options":{"isTrashed":false},"credits":[]},{"name":"stack/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgrnjgr/jg4Pjgq88L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJzdGFjay9tYWluLmpzIj48L3NjcmlwdD4KCTwvaGVhZD4KCTxib2R5PgoJPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"stack/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUNvbXBvc2l0ZXMsCglXb3JsZCwKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKaW1wb3J0IHsKCXdvcmxkLAp9IGZyb20gJy4vc2V0dGluZyc7CgoKV29ybGQuYWRkKHdvcmxkLCBbCgkKCS8vIOOCquODluOCuOOCp+OCr+ODiOOBruOCueOCv+ODg+OCrwoJQ29tcG9zaXRlcy5zdGFjaygyMDAsIDM4MCwgMTAsIDUsIDAsIDAsICh4LCB5KSA9PiB7CgkJcmV0dXJuIEJvZGllcy5yZWN0YW5nbGUoeCwgeSwgNDAsIDQwKTsKCX0pLAoJCl0pOwoKCgoKCgoKaW1wb3J0ICcuL3N0YWdlJzsKCg==","options":{"isTrashed":false},"credits":[]},{"name":"stack/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpSZW5kZXIucnVuKHJlbmRlcik7Cgpjb25zdCBydW5uZXIgPSBSdW5uZXIuY3JlYXRlKCk7ClJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpOwoKCgovLyDjg57jgqbjgrnmk43kvZwKY29uc3QgbW91c2UgPSBNb3VzZS5jcmVhdGUocmVuZGVyLmNhbnZhcyk7CmNvbnN0IG1vdXNlQ29uc3RyYWludCA9IE1vdXNlQ29uc3RyYWludC5jcmVhdGUoZW5naW5lLCB7Cgltb3VzZTogbW91c2UsCgljb25zdHJhaW50OiB7CgkJc3RpZmZuZXNzOiAwLjIsCgkJcmVuZGVyOiB7CgkJCXZpc2libGU6IGZhbHNlCgkJfQoJfQp9KTsKCldvcmxkLmFkZCh3b3JsZCwgbW91c2VDb25zdHJhaW50KTsKCi8vIGtlZXAgdGhlIG1vdXNlIGluIHN5bmMgd2l0aCByZW5kZXJpbmcKcmVuZGVyLm1vdXNlID0gbW91c2U7CgoKZmVlbGVzLm9wZW5SZWFkbWUoJ3N0YWNrL1JFQURNRS5tZCcpOwoKCmV4cG9ydCB7CgllbmdpbmUsCgl3b3JsZCwKCXJlbmRlciwKfTsK","options":{"isTrashed":false},"credits":[]},{"name":"stack/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgppbXBvcnQgewoJd29ybGQsCn0gZnJvbSAnLi9zZXR0aW5nJzsKCgpXb3JsZC5hZGQod29ybGQsIFsKCS8vIOWjgQoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg4MDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlLAoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlLAoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjA2LCA4MDAsIDUwLjUsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pCl0pOwo=","options":{"isTrashed":false},"credits":[]},{"name":"staticFriction/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDpnZnmraLjgb7jgZXjgaTlipsKPiDjgZvjgYTjgZct44G+44GV44GkLeOCiuOCh+OBjyAgCumdmeatouaRqeaTpuWKmwoKCiMjIOOCueOCv+ODg+OCr+OBqOmdmeatouOBvuOBleOBpOWKm+OBruW/nOeUqAoK44Kq44OW44K444Kn44Kv44OI44GuIFvpnZnmraLjgb7jgZXjgaTliptdKGh0dHBzOi8vamEud2lraXBlZGlhLm9yZy93aWtpLyVFNiU5MSVBOSVFNiU5MyVBNiVFNSU4QSU5QikK44KS5aSJ44GI44Gm44G/44GfCgpb44Oh44OL44Ol44O844Gr5oi744KLXShpbmRleC5odG1sKQoKCiMjIOaUuemAoOOBl+OBpuOBv+OCiwoKIVvjgZPjgZPjgYvjgonlp4vjgoHjgotdKHN0YXRpY0ZyaWN0aW9uL21haW4uanMpCgp8fCDmhI/lkbMgfCDjga/jgpPjgYQKLS0tIHwgLS0tIHwgLS0tCnN0YXRpY0ZyaWN0aW9uIHwg6Z2Z5q2i44G+44GV44Gk44Gu5aSn44GN44GVIHwgMCB+IDEuMAoK44KC44Gj44Go5pS56YCgCiFb6Kit5a6aXShzdGF0aWNGcmljdGlvbi9zZXR0aW5nLmpzKQohW+OBi+OBueODu+OChuOBi10oc3RhdGljRnJpY3Rpb24vc3RhZ2UuanMpCgotIC0gLQoKIyMg5b+c55So5L6LCg==","options":{"isTrashed":false},"credits":[]},{"name":"staticFriction/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7pnZnmraLmkanmk6blips8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJzdGF0aWNGcmljdGlvbi9tYWluLmpzIj48L3NjcmlwdD4KCTwvaGVhZD4KCTxib2R5PgoJPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"staticFriction/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUNvbXBvc2l0ZXMsCglXb3JsZCwKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKaW1wb3J0IHsKCXdvcmxkLAp9IGZyb20gJy4vc2V0dGluZyc7CgoKV29ybGQuYWRkKHdvcmxkLCBbCgoJLy8g5LiK44Gr5LmX44Gj44Gm44GE44KL44Kq44OW44K444Kn44Kv44OI44Gu44K544K/44OD44KvCglDb21wb3NpdGVzLnN0YWNrKDM1MCwgMTcwLCAxLCA2LCAwLCAwLCAoeCwgeSkgPT4gewoJCXJldHVybiBCb2RpZXMucmVjdGFuZ2xlKHgsIHksIDEwMCwgNTAsIHsKCQkJc2xvcDogMC41LAoJCQlmcmljdGlvbjogMSwKCQkJZnJpY3Rpb25TdGF0aWM6IEluZmluaXR5CgkJfSk7Cgl9KSwKCl0pOwoKCmltcG9ydCAnLi9zdGFnZSc7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"staticFriction/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpyZW5kZXIub3B0aW9ucy5zaG93VmVsb2NpdHkgPSB0cnVlOwpSZW5kZXIucnVuKHJlbmRlcik7Cgpjb25zdCBydW5uZXIgPSBSdW5uZXIuY3JlYXRlKCk7ClJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpOwoKCi8vIOODnuOCpuOCueaTjeS9nApjb25zdCBtb3VzZSA9IE1vdXNlLmNyZWF0ZShyZW5kZXIuY2FudmFzKTsKY29uc3QgbW91c2VDb25zdHJhaW50ID0gTW91c2VDb25zdHJhaW50LmNyZWF0ZShlbmdpbmUsIHsKCW1vdXNlOiBtb3VzZSwKCWNvbnN0cmFpbnQ6IHsKCQlzdGlmZm5lc3M6IDAuMiwKCQlyZW5kZXI6IHsKCQkJdmlzaWJsZTogZmFsc2UKCQl9Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBtb3VzZUNvbnN0cmFpbnQpOwoKLy8ga2VlcCB0aGUgbW91c2UgaW4gc3luYyB3aXRoIHJlbmRlcmluZwpyZW5kZXIubW91c2UgPSBtb3VzZTsKCgpmZWVsZXMub3BlblJlYWRtZSgnc3RhdGljRnJpY3Rpb24vUkVBRE1FLm1kJyk7CgoKZXhwb3J0IHsKCWVuZ2luZSwKCXdvcmxkLAoJcmVuZGVyLAp9Owo=","options":{"isTrashed":false},"credits":[]},{"name":"staticFriction/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUJvZHksCglFdmVudHMsCglXb3JsZCwKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKaW1wb3J0IHsKCWVuZ2luZSwKCXdvcmxkLAp9IGZyb20gJy4vc2V0dGluZyc7CgoKLy8g5Zyf5Y+w44Gu44Kq44OW44K444Kn44Kv44OICmNvbnN0IGJvZHkgPSBCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNTAwLCAyMDAsIDYwLCB7Cglpc1N0YXRpYzogdHJ1ZSwKCWNoYW1mZXI6IDEwCn0pOwoKCldvcmxkLmFkZCh3b3JsZCwgWwoJYm9keSwKCS8vIOWjgeOBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg4MDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pCl0pOwoKRXZlbnRzLm9uKGVuZ2luZSwgJ2JlZm9yZVVwZGF0ZScsIChldmVudCkgPT4gewoJCgkvLyDlp4vjgb7jgaPjgabjgYvjgonjga7ntYzpgY7mmYLplpMo56eSKQoJY29uc3QgdGltZSA9IGV2ZW50LnRpbWVzdGFtcCAvIDEwMDA7CgkKCWlmICh0aW1lIDwgMSkgewoJCXJldHVybjsKCX0KCgkvLyDlnJ/lj7DjgpLlt6blj7Pjgavli5XjgYvjgZkKCWNvbnN0IHB4ID0gNDAwICsgMTAwICogTWF0aC5zaW4odGltZSAtIDEpOwoJQm9keS5zZXRWZWxvY2l0eShib2R5LCB7CgkJeDogcHggLSBib2R5LnBvc2l0aW9uLngsCgkJeTogMAoJfSk7CglCb2R5LnNldFBvc2l0aW9uKGJvZHksIHsKCQl4OiBweCwKCQl5OiBib2R5LnBvc2l0aW9uLnkKCX0pOwoJCn0pOwo=","options":{"isTrashed":false},"credits":[]},{"name":"stress/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDlnKflipsgMQoKCuW8t+OBhOWKm+OCkuWPl+OBkeOBn+OBqOOBjeOAgeOCquODluOCuOOCp+OCr+ODiOOBr+WwkeOBl+OBoOOBkeayiOOBv+i+vOOCgOOCk+OBoAoKCiMjICFb5pS56YCg44GZ44KLXShzdHJlc3MvbWFpbi5qcykKCgpb44Oh44OL44Ol44O844Gr5oi744KLXShpbmRleC5odG1sKQoKCg==","options":{"isTrashed":false},"credits":[]},{"name":"stress/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7lnKflipsgMTwvdGl0bGU+CgkJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJzdHlsZS5jc3MiIC8+CgkJPHNjcmlwdCBzcmM9InN0cmVzcy9tYWluLmpzIj48L3NjcmlwdD4KCTwvaGVhZD4KCTxib2R5PgoJPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"stress/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUNvbXBvc2l0ZXMsCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgoKaW1wb3J0IGVuZ2luZSBmcm9tICdlbmdpbmUnOwpjb25zdCB3b3JsZCA9IGVuZ2luZS53b3JsZDsKCmltcG9ydCByZW5kZXIgZnJvbSAncmVuZGVyJzsKUmVuZGVyLnJ1bihyZW5kZXIpOwoKY29uc3QgcnVubmVyID0gUnVubmVyLmNyZWF0ZSgpOwpSdW5uZXIucnVuKHJ1bm5lciwgZW5naW5lKTsKCgovLyDjgqrjg5bjgrjjgqfjgq/jg4jjga7jgrnjgr/jg4Pjgq8KY29uc3Qgc3RhY2sgPSBDb21wb3NpdGVzLnN0YWNrKDkwLCA1MCwgMTgsIDE1LCAwLCAwLCAoeCwgeSkgPT4gewoJcmV0dXJuIEJvZGllcy5yZWN0YW5nbGUoeCwgeSwgMzUsIDM1KTsKfSk7CgpXb3JsZC5hZGQod29ybGQsIFsKCXN0YWNrLAoJLy8g5aOB44Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCA2MDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDgwMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSgwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSkKXSk7CgovLyDjg57jgqbjgrnmk43kvZwKY29uc3QgbW91c2UgPSBNb3VzZS5jcmVhdGUocmVuZGVyLmNhbnZhcyk7CmNvbnN0IG1vdXNlQ29uc3RyYWludCA9IE1vdXNlQ29uc3RyYWludC5jcmVhdGUoZW5naW5lLCB7Cgltb3VzZTogbW91c2UsCgljb25zdHJhaW50OiB7CgkJc3RpZmZuZXNzOiAwLjIsCgkJcmVuZGVyOiB7CgkJCXZpc2libGU6IGZhbHNlCgkJfQoJfQp9KTsKCldvcmxkLmFkZCh3b3JsZCwgbW91c2VDb25zdHJhaW50KTsKCi8vIGtlZXAgdGhlIG1vdXNlIGluIHN5bmMgd2l0aCByZW5kZXJpbmcKcmVuZGVyLm1vdXNlID0gbW91c2U7CgoKZmVlbGVzLm9wZW5SZWFkbWUoJ3N0cmVzcy9SRUFETUUubWQnKTsK","options":{"isTrashed":false},"credits":[]},{"name":"stress2/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDlnKflipsgMgoKCuW8t+OBhOWKm+OCkuWPl+OBkeOBn+OBqOOBjeOAgeOCquODluOCuOOCp+OCr+ODiOOBr+WwkeOBl+OBoOOBkeayiOOBv+i+vOOCgOOCk+OBoAoKCiMjICFb5pS56YCg44GZ44KLXShzdHJlc3MyL21haW4uanMpCgoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCg==","options":{"isTrashed":false},"credits":[]},{"name":"stress2/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7lnKflipsgMjwvdGl0bGU+CgkJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJzdHlsZS5jc3MiIC8+CgkJPHNjcmlwdCBzcmM9InN0cmVzczIvbWFpbi5qcyI+PC9zY3JpcHQ+Cgk8L2hlYWQ+Cgk8Ym9keT4KCTwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"stress2/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUNvbXBvc2l0ZXMsCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgoKaW1wb3J0IGVuZ2luZSBmcm9tICdlbmdpbmUnOwpjb25zdCB3b3JsZCA9IGVuZ2luZS53b3JsZDsKCmltcG9ydCByZW5kZXIgZnJvbSAncmVuZGVyJzsKUmVuZGVyLnJ1bihyZW5kZXIpOwoKY29uc3QgcnVubmVyID0gUnVubmVyLmNyZWF0ZSgpOwpSdW5uZXIucnVuKHJ1bm5lciwgZW5naW5lKTsKCgovLyDjgqrjg5bjgrjjgqfjgq/jg4jjga7jgrnjgr/jg4Pjgq8KY29uc3Qgc3RhY2sgPSBDb21wb3NpdGVzLnN0YWNrKDEwMCwgMTIwLCAyNSwgMTgsIDAsIDAsIGZ1bmN0aW9uKHgsIHkpIHsKCXJldHVybiBCb2RpZXMucmVjdGFuZ2xlKHgsIHksIDI1LCAyNSk7Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBbCglzdGFjaywKCS8vIOWjgeOBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg4MDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pCl0pOwoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCdzdHJlc3MyL1JFQURNRS5tZCcpOwo=","options":{"isTrashed":false},"credits":[]},{"name":"style.css","type":"text/css","lastModified":1492756455000,"composed":"aHRtbCwKYm9keSB7CgkvKiDjg6Hjg4vjg6Xjg7znlLvpnaLjga7og4zmma/oibIgKi8KCWJhY2tncm91bmQtY29sb3I6IHdoaXRlOwoJbWFyZ2luOiAwcHg7CglwYWRkaW5nOiAwcHg7Cn0=","options":{"isTrashed":false},"credits":[]},{"name":"svg/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjg5njgq/jgr/nlLvlg48KClNWRyDjga/jgIHjgqTjg7Pjgr/jg7zjg43jg4Pjg4jkuIrjgafjgojjgY/kvb/jgo/jgozjgovnlLvlg4/jga7lvaLlvI/jgaDjgoggIArjgrnjgrHjg7zjg6njg5bjg6vjg7vjg5njgq/jgr/jg7vjgrDjg6njg5XjgqPjg4Pjgq/jgrnjga7nlaXjgarjgpPjgaAKCgojIyAhW+aUuemAoOOBmeOCi10oc3ZnL21haW4uanMpCgojIyDjg5njgq/jgr/nlLvlg48KCuOCs+ODs+ODlOODpeODvOOCv+ODvOOBjOaJseOBhueUu+WDj+OBr+OAgeWkp+OBjeOBj+WIhuOBkeOBpuOBteOBn+OBpOOBguOCi+OCk+OBoCAgCmBKUEdgIOOBquOBqeOBriAqKuODqeOCueOCv+eUu+WDjyoqIOOBqOOAgSAgCmBTVkdgIOOBquOBqeOBriAqKuODmeOCr+OCv+eUu+WDjyoqIOOBoOOCiAoK44Op44K544K/55S75YOP44Gv44CB6Imy44Gu44Gk44GE44Gf54K544KS44Gf44GP44GV44KT5Lim44G544KL44KI44GG44Gr44GX44Gm57W144KS6KGo54++44GZ44KL44GR44Gp44CBICAK44OZ44Kv44K/55S75YOP44Gn44Gv44CB57W144KS44CM5Zuz5b2i44KS44Gf44GP44GV44KT6YeN44Gt44Gf44KC44Gu44CN44Go44Go44KJ44GI44Gm44CBICAK44Gf44GP44GV44KT44Gu57ea44KS44Gk44Gq44GS44Gm5Zuz5b2i44KS44Gk44GP44KL44GT44Go44Gn44CB57W144KS6KGo54++44GZ44KL44KT44GgCgrjg6njgrnjgr/nlLvlg4/jgafjga/mma7pgJrjgIHjgIzlm5vop5LjgYTngrnjgI3jgpLmoLzlrZAo44GT44GG44GXKeeKtuOBq+S4puOBueOBpuOBhOOBj+OBi+OCieOAgSAgCuWGhuOBrue1teOCkuihqOePvuOBmeOCi+OBqOOAgeOBqeOBhuOBl+OBpuOCguWRqOOCiuOBjOOCruOCtuOCruOCtuOBq+OBquOBo+OBpuOBl+OBvuOBhuOCk+OBoCAgCgrjgaDjgZHjganjg5njgq/jgr/nlLvlg4/jga7loLTlkIjjgIHjgb7jgZrlhobjga7ntbXjgpLjgIzlhobjga7lm7PlvaLjgI3jgajjgajjgonjgYjjgovjgIIgIArjgZ3jga7lhobjgpLjgaTjgY/jgovovKrjgaPjgYvjga7nt5rjga7kvY3nva7jgoTlvaLjgpLjgZ3jga7jgb7jgb7mrovjgZnjgYvjgonjgIEgIArjganjgozjgaDjgZHlpKfjgY3jgY/jgZfjgabjgoLjgq7jgrbjgq7jgrbjgavjgarjgonjgarjgYTntbXjgpLooajnj77jgafjgY3jgovjgpPjgaAgIArjgaDjgYvjgonjgIHjgrnjgrHjg7zjg6njg5bjg6vvvIjlpKfjgY3jgZXjgpLlpInjgYjjgonjgozjgovvvInjgajlkbzjgbDjgozjgabjgYTjgovjgpPjgaDjgogKCuacrOW9k+OBq+OCueOCseODvOODqeODluODq+OBquOBruOBi+OAgeWkp+OBjeOBleOCkuWkieOBiOOBpuippuOBl+OBpuOBv+OCiOOBhu+8gQoKCuODkeODqeODoeODvOOCvyB8IOaEj+WRsyB8IOacgOWwjyB8IOacgOWkpyAKLS0tIHwgLS0tIHwgLS0tIHwgLS0tCnNjYWxlIHwg5aSn44GN44GV44Gu5YCN546HIHwgMCB8IEluZmluaXR5CnNhbXBsaW5nIHwg6Kqt44G/6L6844G/44Gu44GK44GK44GW44Gj44Gx44GVIHwgMCDku6XkuIogfCDjgarjgZcKCmBzYW1wbGluZ2Ag44Gv44CB5bCP44GV44GP44GZ44KL44G744Gp44CB5Zuz5b2i44GM57Sw44GL44GP6Kqt44G/6L6844G+44KM44KL44KIICAK44Gf44Gg44GX44Kz44Oz44OU44Ol44O844K/44O844Gu6KiI566X6YeP44KC5aKX44GI44Gm44GX44G+44GG44GL44KJ44CB5rOo5oSP44GX44Gm44GtCgoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCg==","options":{"isTrashed":false},"credits":[]},{"name":"svg/iconmonstr-check-mark-8-icon.svg","type":"image/svg+xml","lastModified":1492756455000,"composed":"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KCgo8IS0tIFRoZSBpY29uIGNhbiBiZSB1c2VkIGZyZWVseSBpbiBib3RoIHBlcnNvbmFsIGFuZCBjb21tZXJjaWFsIHByb2plY3RzIHdpdGggbm8gYXR0cmlidXRpb24gcmVxdWlyZWQsIGJ1dCBhbHdheXMgYXBwcmVjaWF0ZWQuIApZb3UgbWF5IE5PVCBzdWItbGljZW5zZSwgcmVzZWxsLCByZW50LCByZWRpc3RyaWJ1dGUgb3Igb3RoZXJ3aXNlIHRyYW5zZmVyIHRoZSBpY29uIHdpdGhvdXQgZXhwcmVzcyB3cml0dGVuIHBlcm1pc3Npb24gZnJvbSBpY29ubW9uc3RyLmNvbSAtLT4KCgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgoKPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoKCSB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KCjxwYXRoIGlkPSJjaGVjay1tYXJrLTgtaWNvbiIgZD0iTTUwLDI0NS40MWwyMC4wODMtMjAuNzg3YzMzLjUsOSw5MS4yMjMsMjkuODMzLDE0Myw2MmM1NC40OTktNzIsMTY0LjQ5OS0xNjIsMjMxLTIwM2wxNy45MTcsMTguNQoKCUwyMTkuODY0LDQyOC4zNzdMNTAsMjQ1LjQxeiIvPgoKPC9zdmc+Cgo=","options":{"isTrashed":false},"credits":[]},{"name":"svg/iconmonstr-direction-4-icon.svg","type":"image/svg+xml","lastModified":1492756455000,"composed":"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KCjwhLS0gTGljZW5zZSBBZ3JlZW1lbnQgYXQgaHR0cDovL2ljb25tb25zdHIuY29tL2xpY2Vuc2UvIC0tPgoKPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBpZD0iZGlyZWN0aW9uLTQtaWNvbiIgZD0iTTI1Mi4yMTYsMTAyLjY0M2MzMC4yOTYsMC4wMDQsOS42ODQsODUuNzA5LTEuNjQ3LDExMi42MjNoMTU5LjM1OGMyOS41NTMsMCwyOS4yNjgsMzkuNzM1LDAsMzkuNzM1CgloLTc2LjkzOWMtNDYuNzA1LDAtMzkuMDc4LDI3LjMyMi0yNS4xMjcsMjMuNzUzYzUuMTQ0LTEuMzE2LDE0LjI3My0zLjI4LDE0LjI3My0zLjI4Yy0yLjkxMiwxOS4xMjktNC40MDksMjkuNTc1LTE3LjM0NSwzMy40OTUKCWwtMTAuMjc5LDMuMjY4Yy00LjgxNCwxLjQ1NS03LjUzMyw2LjU0Mi02LjA4MSwxMS4zNTFjMS40NTYsNC44LDYuNTI1LDcuNTUsMTEuMzYxLDYuMDgybDEzLjI4Ni00LjUxNQoJYy0yLjI5OCwxNy4yNjctMy45ODYsMjkuNDk0LTE2LjUwNiwzMy4yODRsLTEwLjAxLDMuNjE4Yy00LjgxNywxLjQ1NC03LjUzNSw2LjU0LTYuMDc3LDExLjM1N2MxLjQ2MSw0LjgyLDYuNTUzLDcuNTMzLDExLjM1NCw2LjA3MwoJbDEwLjc0Ny0zLjc5N2MtMy4zNTQsMjMuNTgtMjMuMzUyLDMzLjY2Ny01MC4zOTcsMzMuNjY3Yy01OC4wNTMsMC03Ny40MDUtNDIuODk2LTE3Mi4xNzEtNDIuODk2YzAtMzUuMDI5LDAtMTI1Ljk5MywwLTEyNS45OTMKCWM0Ny42LDAsODIuMjU5LTE5LjE0NSwxMDYuOTMtNDMuODE0QzIzNC4wMTMsMTQ5LjU4NCwyMzAuNDM1LDEwMi42NCwyNTIuMjE2LDEwMi42NDN6IE0yNTIuMjE4LDcyLjYyNwoJYy00NS40NCwwLTQzLjk4NSw2MC41NzgtODYuMTM2LDEwMi43MjljLTE5Ljc3NywxOS43NzctNDcuNTM0LDM1LjA5Ny04Ni4wNjYsMzUuMDk3SDUwdjE4Ni4wMjRoMzAuMDE2CgljODguNDY1LDAsMTAzLjUzLDQyLjg5NiwxNzIuMTcxLDQyLjg5NmM0MS45OTgsMCw3MS4zMzUtMTguMTk2LDgwLjExNC01OS40NTZjNC4zNDEtMjAuNCwxNS41MTQtNzguOTMsMTguNjg5LTk0LjloNTguOTM3CgljMzAuNDgsMCw1Mi4wNzMtMjIuNjU4LDUyLjA3My00OS45NTVjMC0yNy4wOTYtMjEuMzY4LTQ5LjgxMS01Mi4wNzMtNDkuODExSDI5MC4yNDNDMzAyLjE5NCwxMzYuMzM0LDMwMi42NTgsNzIuNjM0LDI1Mi4yMTgsNzIuNjI3Cgl6Ii8+Cjwvc3ZnPgo=","options":{"isTrashed":false},"credits":[]},{"name":"svg/iconmonstr-paperclip-2-icon.svg","type":"image/svg+xml","lastModified":1492756455000,"composed":"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KCjwhLS0gTGljZW5zZSBBZ3JlZW1lbnQgYXQgaHR0cDovL2ljb25tb25zdHIuY29tL2xpY2Vuc2UvIC0tPgoKPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBpZD0icGFwZXJjbGlwLTItaWNvbiIgZD0iTTI4OS4wNSw4NC42M0w5OC4yMjUsMzA4LjEzNmMtNi4zNSw3LjQ0LTkuMTI2LDE3LjI5MS03LjU5NCwyNi45NTRsMTAuNTE0LDY2LjE0NAoJYzEuMzIsOC4zMTIsOC40ODQsMTQuNDQxLDE2LjkwMSwxNC40NGg2Ni45NzFjOS43ODUsMCwxOS4wNzktNC4yODMsMjUuNDM0LTExLjcyNWwyMDYuMDE1LTI0MS4yOQoJYzUuOTMtNi45NDMsNS4xMDQtMTcuMzc5LTEuODQxLTIzLjMwNWwtNDIuODMtMzYuNTdjLTYuOTQ2LTUuOTI4LTE3LjM4LTUuMTA0LTIzLjMxLDEuODM3bC0xNTIuNCwxNzguNDc3CgljLTMuMzEyLDMuODcyLTEuOTQxLDcuNTU3LTAuNzU0LDE1LjU2MmMwLjY0Nyw0LjM1OCw0LjQwOSw3LjU3Miw4LjgxNyw3LjUyOGM4LjIwMS0wLjA4MiwxMS45NTksMC42NzcsMTUuMjU0LTMuMTg2CglsMTA0Ljc0NS0xMjIuNjUzbDMwLjAzMSwyNS42NDFsLTEwOC4zOTYsMTI2LjkzYy01LjgyMyw2LjgyMS0xNC4zMDcsMTAuNzk1LTIzLjI3MiwxMC45MDRoLTQwLjYzOQoJYy0xMC4zNDksMC4xMjQtMTkuMTkxLTYuOTQzLTIwLjY5MS0xNy4xOGwtNS44OTYtNDAuMjE1Yy0xLjMwNC04Ljg3NSwxLjI5Mi0xNy44NzgsNy4xMTgtMjQuNjk3TDMyMS43NTcsNzUuMTExCgljMTguMjYxLTIxLjM5LDUwLjQwOS0yMy45MjksNzEuODAzLTUuNjY0bDUwLjU3Niw0My4xOGMyMS4zOTUsMTguMjY1LDIzLjkzMiw1MC40MTQsNS42NjYsNzEuODA2TDIzNS40NTcsNDM1LjQ3OQoJYy0xMC40NDcsMTIuMjQzLTI1LjczNSwxOS4yODQtNDEuODMsMTkuMjcxaC04OS4zMjFjLTE5LjY4OC0wLjAxMi0zNi40NDktMTQuMzgyLTM5LjU0OS0zMy44MjFsLTE0LjA3Mi04OC4yMTMKCWMtMi41My0xNS44OSwyLjAyNy0zMi4wOTcsMTIuNDc5LTQ0LjMzOUwyNTkuMDE3LDU4Ljk4OEwyODkuMDUsODQuNjN6Ii8+Cjwvc3ZnPgo=","options":{"isTrashed":false},"credits":[]},{"name":"svg/iconmonstr-puzzle-icon.svg","type":"image/svg+xml","lastModified":1492756455000,"composed":"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KCjwhLS0gTGljZW5zZSBBZ3JlZW1lbnQgYXQgaHR0cDovL2ljb25tb25zdHIuY29tL2xpY2Vuc2UvIC0tPgoKPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9InB1enpsZS0xIiBkPSJNOTIuNTU2LDM1OWMxNi43OSwwLDIyLjQ3My05LjAwMiwyOS4zMTItMTUuODI1QzEzNS44MzMsMzI5LjE1OSwxNTMsMzM1LjEyOCwxNTMsMzU3LjcxVjQ2MmgxMDQuMjkKCWMyMi41ODIsMCwyOC41NTEtMTcuMTY3LDE0LjU0NC0zMS4xMzFjLTYuODMyLTYuODQtMTUuODM0LTEyLjUyMy0xNS44MzQtMjkuMzIxQzI1NiwzODIuODg5LDI3NS4wMjgsMzU5LDMwNy41LDM1OQoJczUxLjUsMjMuODg5LDUxLjUsNDIuNTQ4YzAsMTYuNzk4LTkuMDAyLDIyLjQ4MS0xNS44MjUsMjkuMzIxQzMyOS4xNTksNDQ0LjgzMywzMzUuMTI4LDQ2MiwzNTcuNzEsNDYySDQ2MlYzNTcuNzEKCWMwLTIyLjU4Mi0xNy4xNjctMjguNTUxLTMxLjEzMS0xNC41MzVjLTYuODQsNi44MjMtMTIuNTIzLDE1LjgyNS0yOS4zMjEsMTUuODI1QzM4Mi44ODksMzU5LDM1OSwzMzkuOTcyLDM1OSwzMDcuNQoJczIzLjg4OS01MS41LDQyLjU0OC01MS41YzE2Ljc5OCwwLDIyLjQ4MSw5LjAwMiwyOS4zMjEsMTUuODM0QzQ0NC44MzMsMjg1Ljg0MSw0NjIsMjc5Ljg3Miw0NjIsMjU3LjI5VjE1M0gzNTcuNzEKCWMtMjIuNTgyLDAtMjguNTUxLTE3LjE2Ny0xNC41MzUtMzEuMTMxYzYuODIzLTYuODQsMTUuODI1LTEyLjUyMywxNS44MjUtMjkuMzEyQzM1OSw3My44ODksMzM5Ljk3Miw1MCwzMDcuNSw1MAoJUzI1Niw3My44ODksMjU2LDkyLjU1NmMwLDE2Ljc5LDkuMDAyLDIyLjQ3MywxNS44MzQsMjkuMzEyQzI4NS44NDEsMTM1LjgzMywyNzkuODcyLDE1MywyNTcuMjksMTUzSDE1M3YxMDQuMjkKCWMwLDIyLjU4Mi0xNy4xNjcsMjguNTUxLTMxLjEzMSwxNC41NDRDMTE1LjAyOSwyNjUuMDAyLDEwOS4zNDYsMjU2LDkyLjU1NiwyNTZDNzMuODg5LDI1Niw1MCwyNzUuMDI4LDUwLDMwNy41CglTNzMuODg5LDM1OSw5Mi41NTYsMzU5eiIvPgo8L3N2Zz4K","options":{"isTrashed":false},"credits":[]},{"name":"svg/iconmonstr-user-icon.svg","type":"image/svg+xml","lastModified":1492756455000,"composed":"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KCjwhLS0gVGhlIGljb24gY2FuIGJlIHVzZWQgZnJlZWx5IGluIGJvdGggcGVyc29uYWwgYW5kIGNvbW1lcmNpYWwgcHJvamVjdHMgd2l0aCBubyBhdHRyaWJ1dGlvbiByZXF1aXJlZCwgYnV0IGFsd2F5cyBhcHByZWNpYXRlZC4gCllvdSBtYXkgTk9UIHN1Yi1saWNlbnNlLCByZXNlbGwsIHJlbnQsIHJlZGlzdHJpYnV0ZSBvciBvdGhlcndpc2UgdHJhbnNmZXIgdGhlIGljb24gd2l0aG91dCBleHByZXNzIHdyaXR0ZW4gcGVybWlzc2lvbiBmcm9tIGljb25tb25zdHIuY29tIC0tPgoKPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBpZD0idXNlci1pY29uIiBkPSJNNDA3LjQ0OCwzNjAuNDc0Yy01OS4wMzYtMTMuNjE3LTExMy45ODktMjUuNTQxLTg3LjM3NS03NS43MTcKCWM4MS4wMS0xNTIuNzI5LDIxLjQ3My0yMzQuNDA2LTY0LjA3Mi0yMzQuNDA2Yy04Ny4yMzEsMC0xNDUuMzAzLDg0LjgxMi02NC4wNzIsMjM0LjQwNmMyNy40MTIsNTAuNDgyLTI5LjYwOCw2Mi4zOTMtODcuMzc1LDc1LjcxNwoJYy01OS4wMTIsMTMuNjA5LTU0LjQ3Myw0NC43MjMtNTQuNDczLDEwMS4xNzZoNDExLjgzOEM0NjEuOTE5LDQwNS4xOTYsNDY2LjQ1OCwzNzQuMDgzLDQwNy40NDgsMzYwLjQ3NHoiLz4KPC9zdmc+Cg==","options":{"isTrashed":false},"credits":[]},{"name":"svg/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT5TVkc8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJzdmcvbWFpbi5qcyI+PC9zY3JpcHQ+Cgk8L2hlYWQ+Cgk8Ym9keT4KCTwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"svg/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUNvbW1vbiwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCglWZXJ0aWNlcywKCVN2ZywKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKY29uc3Qgd29ybGQgPSBlbmdpbmUud29ybGQ7CgppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7Cgpjb25zdCBzdmdzID0gWwoJJ2ljb25tb25zdHItY2hlY2stbWFyay04LWljb24nLAoJJ2ljb25tb25zdHItcGFwZXJjbGlwLTItaWNvbicsCgknaWNvbm1vbnN0ci1wdXp6bGUtaWNvbicsCgknaWNvbm1vbnN0ci11c2VyLWljb24nCl07CgovLyDjg5Hjg6njg6Hjg7zjgr8KY29uc3Qgc2NhbGUgPSAwLjg7CmNvbnN0IHNhbXBsaW5nID0gMTU7Cgpmb3IgKGNvbnN0IFtpLCBuYW1lXSBvZiBzdmdzLmVudHJpZXMoKSkgewoJZmVlbGVzLmZldGNoKGBzdmcvJHtuYW1lfS5zdmdgKQoJCS50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UudGV4dCgpKQoJCS50aGVuKChkYXRhKSA9PiB7CgoJCQljb25zdCBjb2xvciA9IENvbW1vbi5jaG9vc2UoWycjNTU2MjcwJywgJyM0RUNEQzQnLCAnI0M3RjQ2NCcsICcjRkY2QjZCJywgJyNDNDRENTgnXSk7CgkJCWNvbnN0IHZlcnRleFNldHMgPSBbXTsKCgkJCWZvciAoY29uc3QgcGF0aCBvZiBnZXRQYXRoRWxlbWVudHMoZGF0YSkpIHsKCQkJCWNvbnN0IHBvaW50cyA9IHBhdGhUb1ZlcnRpY2VzKHBhdGgsIHNhbXBsaW5nKTsKCQkJCXZlcnRleFNldHMucHVzaChWZXJ0aWNlcy5zY2FsZShwb2ludHMsIHNjYWxlLCBzY2FsZSkpOwoJCQl9CgoJCQlXb3JsZC5hZGQod29ybGQsIEJvZGllcy5mcm9tVmVydGljZXMoMTAwICsgaSAqIDE1MCwgMjAwICsgaSAqIDUwLCB2ZXJ0ZXhTZXRzLCB7CgkJCQlyZW5kZXI6IHsKCQkJCQlmaWxsU3R5bGU6IGNvbG9yLAoJCQkJCXN0cm9rZVN0eWxlOiBjb2xvciwKCQkJCQlsaW5lV2lkdGg6IDEKCQkJCX0KCQkJfSwgdHJ1ZSkpOwoKCQl9KTsKfQoKZmVlbGVzLmZldGNoKCdzdmcvc3ZnLnN2ZycpCgkudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLnRleHQoKSkKCS50aGVuKChkYXRhKSA9PiB7CgoJCWNvbnN0IGNvbG9yID0gQ29tbW9uLmNob29zZShbJyM1NTYyNzAnLCAnIzRFQ0RDNCcsICcjQzdGNDY0JywgJyNGRjZCNkInLCAnI0M0NEQ1OCddKTsKCQljb25zdCB2ZXJ0ZXhTZXRzID0gW107CgoJCWZvciAoY29uc3QgcGF0aCBvZiBnZXRQYXRoRWxlbWVudHMoZGF0YSkpIHsKCQkJY29uc3QgcG9pbnRzID0gcGF0aFRvVmVydGljZXMocGF0aCwgc2FtcGxpbmcpOwoJCQl2ZXJ0ZXhTZXRzLnB1c2goVmVydGljZXMuc2NhbGUocG9pbnRzLCBzY2FsZSwgc2NhbGUpKTsKCQl9CgoJCVdvcmxkLmFkZCh3b3JsZCwgQm9kaWVzLmZyb21WZXJ0aWNlcyg0MDAsIDgwLCB2ZXJ0ZXhTZXRzLCB7CgkJCXJlbmRlcjogewoJCQkJZmlsbFN0eWxlOiBjb2xvciwKCQkJCXN0cm9rZVN0eWxlOiBjb2xvciwKCQkJCWxpbmVXaWR0aDogMQoJCQl9CgkJfSwgdHJ1ZSkpOwoKCX0pOwoKV29ybGQuYWRkKHdvcmxkLCBbCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCA2MDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDgwMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSgwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSkKXSk7CgovLyBhZGQgbW91c2UgY29udHJvbApjb25zdCBtb3VzZSA9IE1vdXNlLmNyZWF0ZShyZW5kZXIuY2FudmFzKTsKY29uc3QgbW91c2VDb25zdHJhaW50ID0gTW91c2VDb25zdHJhaW50LmNyZWF0ZShlbmdpbmUsIHsKCW1vdXNlOiBtb3VzZSwKCWNvbnN0cmFpbnQ6IHsKCQlzdGlmZm5lc3M6IDAuMiwKCQlyZW5kZXI6IHsKCQkJdmlzaWJsZTogZmFsc2UKCQl9Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBtb3VzZUNvbnN0cmFpbnQpOwoKLy8ga2VlcCB0aGUgbW91c2UgaW4gc3luYyB3aXRoIHJlbmRlcmluZwpyZW5kZXIubW91c2UgPSBtb3VzZTsKCgpmdW5jdGlvbiBnZXRQYXRoRWxlbWVudHMoc3ZnKSB7Cgljb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwoJc3Bhbi5pbm5lckhUTUwgPSBzdmc7CglyZXR1cm4gc3Bhbi5xdWVyeVNlbGVjdG9yQWxsKCdwYXRoJyk7Cn0KCmZ1bmN0aW9uIHBhdGhUb1ZlcnRpY2VzKHBhdGgsIHNhbXBsZUxlbmd0aCkgewoJY29uc3QgdG90YWwgPSBwYXRoLmdldFRvdGFsTGVuZ3RoKCk7CgoJY29uc3QgcG9pbnRzID0gW107Cglmb3IgKGxldCBsZW5ndGggPSAwOyBsZW5ndGggPCB0b3RhbDsgbGVuZ3RoICs9IHNhbXBsZUxlbmd0aCkgewoJCXBvaW50cy5wdXNoKHBhdGguZ2V0UG9pbnRBdExlbmd0aChsZW5ndGgpKTsKCX0KCglyZXR1cm4gcG9pbnRzOwp9CgoKZmVlbGVzLm9wZW5SZWFkbWUoJ3N2Zy9SRUFETUUubWQnKTsK","options":{"isTrashed":false},"credits":[]},{"name":"svg/svg.svg","type":"image/svg+xml","lastModified":1492756455000,"composed":"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CiAgPGc+CiAgICA8cGF0aCBkPSJtIDkuMTcwMDE4Niw4NS42ODE3MjUgMjAuMjUwMDAwNCwtMS45Njg3NSBjIDEuMjE4NzIzLDYuNzk2OSAzLjY5MTM3NywxMS43ODkwOCA3LjQxNzk2OSwxNC45NzY1NiAzLjcyNjUyNiwzLjE4NzUyNSA4Ljc1Mzg2NCw0Ljc4MTI3NSAxNS4wODIwMzEsNC43ODEyNTUgNi43MDMwNzUsMmUtNSAxMS43NTM4NDUsLTEuNDE3OTUgMTUuMTUyMzQ1LC00LjI1MzkxNSAzLjM5ODM3LC0yLjgzNTkxIDUuMDk3NTksLTYuMTUyMzEgNS4wOTc2NiwtOS45NDkyMSAtN2UtNSwtMi40Mzc0NyAtMC43MTQ5MiwtNC41MTE2OSAtMi4xNDQ1NCwtNi4yMjI2NiAtMS40Mjk3NSwtMS43MTA5IC0zLjkyNTg0LC0zLjE5OTE4IC03LjQ4ODI4LC00LjQ2NDg0IC0yLjQzNzU1LC0wLjg0MzcxIC03Ljk5MjIzNiwtMi4zNDM3MSAtMTYuNjY0MDYsLTQuNSAtMTEuMTU2MjgxLC0yLjc2NTU4IC0xOC45ODQzOTgsLTYuMTY0MDIgLTIzLjQ4NDM3NSwtMTAuMTk1MzIgLTYuMzI4MTM3LC01LjY3MTgxIC05LjQ5MjE5NiwtMTIuNTg1ODcgLTkuNDkyMTg4LC0yMC43NDIxOCAtOGUtNiwtNS4yNDk5MiAxLjQ4ODI3MSwtMTAuMTYwMDcgNC40NjQ4NDQsLTE0LjczMDQ3IDIuOTc2NTQ2LC00LjU3MDIyIDcuMjY1NjA1LC04LjA1MDY5IDEyLjg2NzE4OCwtMTAuNDQxNDEgNS42MDE1MywtMi4zOTA1MiAxMi4zNjMyNDIsLTMuNTg1ODMgMjAuMjg1MTU2LC0zLjU4NTk0IDEyLjkzNzQ0NSwxLjFlLTQgMjIuNjc1NzE1LDIuODM2MDQgMjkuMjE0ODQ1LDguNTA3ODIgNi41Mzg5OCw1LjY3MTk2IDkuOTcyNTcsMTMuMjQyMjcgMTAuMzAwNzgsMjIuNzEwOTMgbCAtMjAuODEyNSwwLjkxNDA3IGMgLTAuODkwNjksLTUuMjk2OCAtMi44MDA4NCwtOS4xMDUzOSAtNS43MzA0NywtMTEuNDI1NzkgLTIuOTI5NzQsLTIuMzIwMjIgLTcuMzI0MjcsLTMuNDgwMzggLTEzLjE4MzU5MywtMy40ODA0NiAtNi4wNDY5MTUsOGUtNSAtMTAuNzgxMjg1LDEuMjQyMjcgLTE0LjIwMzEyNSwzLjcyNjU2IC0yLjIwMzE1NCwxLjU5MzgzIC0zLjMwNDcxNiwzLjcyNjY0IC0zLjMwNDY4Nyw2LjM5ODQ0IC0yLjllLTUsMi40Mzc1NyAxLjAzMTIyLDQuNTIzNTEgMy4wOTM3NSw2LjI1NzgxIDIuNjI0OTY1LDIuMjAzMTkgOC45OTk5NTksNC41MDAwNiAxOS4xMjUsNi44OTA2MiAxMC4xMjQ5MzUsMi4zOTA2OSAxNy42MTMyMTUsNC44NjMzNCAyMi40NjQ4NDUsNy40MTc5NyA0Ljg1MTQ4LDIuNTU0NzQgOC42NDgzNSw2LjA0NjkzIDExLjM5MDYyLDEwLjQ3NjU2IDIuNzQyMSw0LjQyOTczIDQuMTEzMiw5LjkwMjM4IDQuMTEzMjgsMTYuNDE3OTcgLThlLTUsNS45MDYyOCAtMS42NDA3MSwxMS40Mzc1MjUgLTQuOTIxODcsMTYuNTkzNzU1IC0zLjI4MTMzLDUuMTU2MjYgLTcuOTIxOTUsOC45ODgyOSAtMTMuOTIxODcsMTEuNDk2MSAtNi4wMDAwNywyLjUwNzgxIC0xMy40NzY2MiwzLjc2MTcxIC0yMi40Mjk2OTMsMy43NjE3MiAtMTMuMDMxMjg0LC0xMGUtNiAtMjMuMDM5MDg3LC0zLjAxMTcyIC0zMC4wMjM0MzcsLTkuMDM1MTYgQyAxNC43MDEyNTgsMTA1Ljk5MDM0IDEwLjUyOTM4Nyw5Ny4yMTI5OTUgOS4xNzAwMTg2LDg1LjY4MTcyNSB6IiAvPgogICAgPHBhdGggZD0ibSAxMzYuOTI3ODMsMTE5LjIyMDc5IC0zNi44NDM3NSwtMTAzLjA3ODEyNSAyMi41NzAzMSwwIDI2LjA4NTk0LDc2LjI4OTA2IDI1LjI0MjE4LC03Ni4yODkwNiAyMi4wNzgxMywwIC0zNi45MTQwNiwxMDMuMDc4MTI1IHoiIC8+CiAgICA8cGF0aCBkPSJtIDI1NC43NzE1OCw4MS4zMjIzNDUgMCwtMTcuMzY3MTggNDQuODU5MzcsMCAwLDQxLjA2MjUwNSBjIC00LjM1OTQ3LDQuMjE4NzYgLTEwLjY3NTg3LDcuOTMzNiAtMTguOTQ5MjIsMTEuMTQ0NTMgLTguMjczNTEsMy4yMTA5MyAtMTYuNjUyNDEsNC44MTY0IC0yNS4xMzY3Miw0LjgxNjQgLTEwLjc4MTI5LDAgLTIwLjE3OTcyLC0yLjI2MTcyIC0yOC4xOTUzMSwtNi43ODUxNSAtOC4wMTU2NSwtNC41MjM0MyAtMTQuMDM5MDgsLTEwLjk5MjE3IC0xOC4wNzAzMSwtMTkuNDA2MjU1IC00LjAzMTI2LC04LjQxNDAzIC02LjA0Njg4LC0xNy41NjYzNyAtNi4wNDY4OCwtMjcuNDU3MDMgMCwtMTAuNzM0MzIgMi4yNSwtMjAuMjczMzcgNi43NSwtMjguNjE3MTkgNC40OTk5OSwtOC4zNDM2NiAxMS4wODU5MiwtMTQuNzQyMDkgMTkuNzU3ODIsLTE5LjE5NTMxIDYuNjA5MzMsLTMuNDIxNzggMTQuODM1ODksLTUuMTMyNzEgMjQuNjc5NjgsLTUuMTMyODIgMTIuNzk2ODEsMS4xZS00IDIyLjc5Mjg5LDIuNjgzNyAyOS45ODgyOSw4LjA1MDc4IDcuMTk1MjEsNS4zNjcyOCAxMS44MjQxMiwxMi43ODUyNCAxMy44ODY3MSwyMi4yNTM5MSBsIC0yMC42NzE4NywzLjg2NzE5IGMgLTEuNDUzMiwtNS4wNjI0MyAtNC4xODM2NywtOS4wNTg1MiAtOC4xOTE0MSwtMTEuOTg4MjggLTQuMDA3ODgsLTIuOTI5NjEgLTkuMDExNzgsLTQuMzk0NDUgLTE1LjAxMTcyLC00LjM5NDUzIC05LjA5Mzc5LDhlLTUgLTE2LjMyNDI2LDIuODgyODkgLTIxLjY5MTQsOC42NDg0MyAtNS4zNjcyMiw1Ljc2NTcgLTguMDUwODEsMTQuMzIwMzggLTguMDUwNzgsMjUuNjY0MDcgLTNlLTUsMTIuMjM0NDEgMi43MTg3MiwyMS40MTAxOCA4LjE1NjI1LDI3LjUyNzM0IDUuNDM3NDYsNi4xMTcyMTUgMTIuNTYyNDUsOS4xNzU4MDUgMjEuMzc1LDkuMTc1Nzg1IDQuMzU5MzEsMmUtNSA4LjczMDQsLTAuODU1NDUgMTMuMTEzMjgsLTIuNTY2NDEgNC4zODI3NCwtMS43MTA5MTUgOC4xNDQ0NSwtMy43ODUxMzUgMTEuMjg1MTUsLTYuMjIyNjU1IGwgMCwtMTMuMDc4MTMgeiIgLz4KICA8L2c+Cjwvc3ZnPg==","options":{"isTrashed":false},"credits":[]},{"name":"terrain/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDlnLDlvaIKClNWRyDjgpLkvb/jgaPjgabjgIHlnLDlvaLjgpLkvZzjgaPjgabjgb/jgZ/jgogKCgroh6rliIbjgafkvZzjgaPjgZ8gU1ZHIOeUu+WDj+OCkuOCguOBqOOBq+WcsOW9ouOCkuOBpOOBj+OCi+OBq+OBr+OAgSAgCmB0ZXJyYWluL2Ag44Go44GE44GG44OV44Kp44Or44OA44GrIFNWRyDnlLvlg4/jgpLlhaXjgozjgabjgIEgIApgZmVlbGVzLmZldGNoYCDjga7kuK3jga7jg5XjgqHjgqTjg6vlkI3jgpLmm7jjgY3jgYvjgYjjgojjgYYKCgpGZWVsZXMg44Gu5Lit44Gn55S75YOP44KS5L2c44KL44GT44Go44Gv44Gn44GN44Gq44GE44Gu44Gn44CBICAK57W144KS5o+P44GP44Gf44KB44Gu5LuW44Gu44K944OV44OI44KS5L2/44Gj44Gm44GtCgoKIVvmlLnpgKDjgZnjgotdKHRlcnJhaW4vbWFpbi5qcykKCgpb44Oh44OL44Ol44O844Gr5oi744KLXShpbmRleC5odG1sKQoKCg==","options":{"isTrashed":false},"credits":[]},{"name":"terrain/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7lnLDlvaI8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJ0ZXJyYWluL21haW4uanMiPjwvc2NyaXB0PgoJPC9oZWFkPgoJPGJvZHk+Cgk8L2JvZHk+CjwvaHRtbD4=","options":{"isTrashed":false},"credits":[]},{"name":"terrain/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUNvbXBvc2l0ZXMsCglDb21tb24sCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAoJVmVydGljZXMsCglRdWVyeSwKCVN2ZywKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKY29uc3Qgd29ybGQgPSBlbmdpbmUud29ybGQ7CgppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7ClJlbmRlci5ydW4ocmVuZGVyKTsKCi8vIGNyZWF0ZSBydW5uZXIKY29uc3QgcnVubmVyID0gUnVubmVyLmNyZWF0ZSgpOwpSdW5uZXIucnVuKHJ1bm5lciwgZW5naW5lKTsKCmZlZWxlcy5mZXRjaCgndGVycmFpbi90ZXJyYWluLnN2ZycpCgkudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLnRleHQoKSkKCS50aGVuKChkYXRhKSA9PiB7CgkJY29uc3QgdmVydGV4U2V0cyA9IFtdOwoKCQlmb3IgKGNvbnN0IHBhdGggb2YgZ2V0UGF0aEVsZW1lbnRzKGRhdGEpKSB7CgkJCWNvbnN0IHBvaW50cyA9IHBhdGhUb1ZlcnRpY2VzKHBhdGgsIDMwKTsKCQkJdmVydGV4U2V0cy5wdXNoKFZlcnRpY2VzLnNjYWxlKHBvaW50cywgMC40LCAwLjQpKTsKCQl9CgoJCS8vIGFkZCBib2RpZXMKCQljb25zdCB0ZXJyYWluID0gQm9kaWVzLmZyb21WZXJ0aWNlcyg0MDAsIDM1MCwgdmVydGV4U2V0cywgewoJCQlpc1N0YXRpYzogdHJ1ZSwKCQkJcmVuZGVyOiB7CgkJCQlmaWxsU3R5bGU6ICcjMmUyYjQ0JywKCQkJCXN0cm9rZVN0eWxlOiAnIzJlMmI0NCcsCgkJCQlsaW5lV2lkdGg6IDEKCQkJfQoJCX0sIHRydWUpOwoKCQlXb3JsZC5hZGQod29ybGQsIHRlcnJhaW4pOwoKCQljb25zdCBib2R5T3B0aW9ucyA9IHsKCQkJZnJpY3Rpb25BaXI6IDAsCgkJCWZyaWN0aW9uOiAwLjAwMDEsCgkJCXJlc3RpdHV0aW9uOiAwLjYKCQl9OwoKCQlXb3JsZC5hZGQod29ybGQsIENvbXBvc2l0ZXMuc3RhY2soODAsIDEwMCwgMjAsIDIwLCAxMCwgMTAsICh4LCB5KSA9PiB7CgkJCWlmIChRdWVyeS5wb2ludChbdGVycmFpbl0sIHsKCQkJCQl4LAoJCQkJCXkKCQkJCX0pLmxlbmd0aCA9PT0gMCkgewoJCQkJcmV0dXJuIEJvZGllcy5wb2x5Z29uKHgsIHksIDUsIDEyLCBib2R5T3B0aW9ucyk7CgkJCX0KCQl9KSk7Cgl9KTsKCi8vIGFkZCBtb3VzZSBjb250cm9sCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZ1bmN0aW9uIGdldFBhdGhFbGVtZW50cyhzdmcpIHsKCWNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CglzcGFuLmlubmVySFRNTCA9IHN2ZzsKCXJldHVybiBzcGFuLnF1ZXJ5U2VsZWN0b3JBbGwoJ3BhdGgnKTsKfQoKZnVuY3Rpb24gcGF0aFRvVmVydGljZXMocGF0aCwgc2FtcGxlTGVuZ3RoKSB7Cgljb25zdCB0b3RhbCA9IHBhdGguZ2V0VG90YWxMZW5ndGgoKTsKCgljb25zdCBwb2ludHMgPSBbXTsKCWZvciAobGV0IGxlbmd0aCA9IDA7IGxlbmd0aCA8IHRvdGFsOyBsZW5ndGggKz0gc2FtcGxlTGVuZ3RoKSB7CgkJcG9pbnRzLnB1c2gocGF0aC5nZXRQb2ludEF0TGVuZ3RoKGxlbmd0aCkpOwoJfQoKCXJldHVybiBwb2ludHM7Cn0KCgpmZWVsZXMub3BlblJlYWRtZSgndGVycmFpbi9SRUFETUUubWQnKTsK","options":{"isTrashed":false},"credits":[]},{"name":"terrain/terrain.svg","type":"image/svg+xml","lastModified":1492756455000,"composed":"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB2ZXJzaW9uPSIxLjEiCiAgIHdpZHRoPSI4MDAiCiAgIGhlaWdodD0iNjAwIgogICBpZD0ic3ZnMiI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiIC8+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLC00NTIuMzYyMTgpIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIGQ9Im0gLTEwNC44NzUsLTkyLjA5Mzc1IDAsNzY4LjE4NzUgMTA0NS40MDYyNSwwIDAsLTc2OC4xODc1IHogbSA3OTIsMTEyLjg3NSAzNC42NTYyNSwxMS45MDYyNSAyMC43ODEyNSwwLjk2ODc1IDcuOTM3NSwyNy43MTg3NSAxNC44NDM3NSwtMC45Njg3NSAxLDI3LjcxODc1IC0xOS44MTI1LDIuOTY4NzUgLTE3LjgzMzIzLDEwLjg4ODYxIC0wLjk3OTI3LDE5Ljc5ODg5IC0yMS43NjgyNiw0MS41OTYyMiAtMTYuODI2MTEsMzguNjE1NDEgLTIxLjgxMjUsLTExLjkwNjI1IC0zNC42MjUsLTMuOTM3NSAtMjQuNzgxMjUsNS45Mzc1IC03LjkwNjI1LC0yIC0yNC43NSwwIC0yNS43MzMyOSwtMC45ODM5MSAtMTUuMzEzNzgsMTMuODMyMDkgMTEuMzI4MzIsMTguODM5NjMgNDAuMTIzMjcsLTIuMjUwMjggMzIuODczMDIsMTguNTg4MTkgMTkuMTkxNzgsMjYuMjk1MzYgMjYuNjM0MDIsMjYuNjY3NDggLTMyLjM5MTk3LDcuOTI0MjIgLTI3LjAwMzE0LDguOTA1OTEgLTUxLjQ5NTY3LC0xLjk2OTY4IC0yOC43MTg3NSwtMjMuNzYzOTIgLTM4LjU5OTMxLC0yMS43NzE2NiAtMzMuNTAxOTcsMC44NDE0MSAtMTUuMDEyNTgsMTcuOTU5MDIgMjIuMDM5MDYsMTIuOTk4ODggMzEuNzI0MDUsMy4yMjA3MiAtMTIuNTk0MTUsMjAuMzE3NyAxLjQwMDk2LDIzLjg1NjI3IC0zNC42NjM4NiwyLjgzOTYzIC0zNC40ODM3MywtMTAuMDcyNDQgLTIxLjk0MDU5LDEzLjE2ODc1IC0yOS43MDIwMywtMTYuODE1ODkgLTMzLjUyNTEyLDQuNzg1MTcgLTE3Ljk1Mzg1LC0xNS42NzYyNiA2LjkyMzMsLTI0Ljc1MzQyIC02LjkzNzUsLTIyLjc4NTg4IDE4LjgyMTE3LC0zMS42NjEyIC02MC40MTA1OCwxNi44MzM4NSAtMTIuODc1LDguOTA2MjUgLTEzLjg0Mzc5LC0xMC45MDYyNSAtMi45Njg3NSwxNS44NDM3NSAtMTQuODQzNzUsNy45Mzc1IC0xMC45MDYyNSwtMiAtMTQuODQzNzUsMTUuODQzNzUgLTIyLjc4MTI1LDcuOTM3NSAtMTQuODQzNzUsNi45MDYyNSAtMTIuODc1LDE1Ljg0Mzc1IDI1Ljc1LDYuOTM3NSAyMi43NSwxMy44NzUgMCwxMC44NzUgMTQuODc1LDIgMi45Njg3NSwzMS42ODc1IDE0Ljg0Mzc1LC0xIC0yLjk2ODc1LC0xNy44MTI1IDIxLjc4MTI1LDAuOTY4NzUgMy45Njg3NSw2LjkzNzUgMC45Njg3NSwyMS43ODEyNSAtMC45Njg3NSwxNC44NDM3NSA4LjkwNjI1LDguOTA2MjUgMTguODEyNSwwIDMwLjY4NzUsLTE4LjgxMjUgMjUuNzUsNC45Njg3NSAxNC44NDM3NSwtNi45Mzc1IDIxLjc4MTI1LDguOTA2MjUgMjQuNzUsNC45Njg3NSAyMC43ODEyNSwtOC45Mzc1IDE0Ljg3NSwtMC45Njg3NSAwLjk2ODc1LDEyLjg3NSAyMS43ODEyNSwxMi44NzUgMSwtMjguNzE4NzUgOS45MDYyNSwwIDMuOTY4NzUsMTIuODc1IDE2LjgxMjUsNy45MDYyNSBjIDMzLjI3NDYzLC0xOC43MzI1MSAyNC40NzI1OCwtMTguODIwOTQgNTMuNDczNCwxNy44MjE0NyBsIDI2LjczOTQ4LC0yNC43NTU1NiAyNC43NDI1NywtMC45OTUxIDMuOTYwNzEsMjEuNzgyMTggMjIuNzcxMzUsMi45ODIzNiAxMi44ODg2MSwxOC44MDY2MiAxNi44MTcxNCwtMjAuNzkxMTUgMjEuNzczNTEsLTE1Ljg0MTU4IDE4LjgwODc5LC0yNy43MTY1OSAyMS44MTA5NSwtOS45MDkzNCAxNi44MjMzNCwtMTYuODI0NTcgMTMuODUwNTUsMTUuODUzMDMgOC45MjYwNSwyMC43ODc3NSAtMy45Njk2OCwyMS43ODY1MSAxNS44NTA1NiwxMi44Njk3NCAwLjk2ODc1LDIxLjc4MTI1IDUuOTM3NSw5LjkwNjI1IDIuOTg3LDIxLjc2NzY0IC0yMy43NTI0NywxLjk3MDkxIDE0Ljg0Nzc3LDE2Ljg0MTU5IDYuOTE3NywxOC43OTQ4NiAtMTEuODc1LDEyLjg3NSAtNDkuNSwyIC0xNy44NDM3NSwtMTAuOTA2MjUgMCwtMzEuNjg3NSAtMTMuODQzNzUsMCAtMTUuODQzNzUsMTMuODc1IC0yNy43MTg3NSw5LjkwNjI1IC00Ni41MzEyNSwyMi43NSAtNjUuMzQzNzUsMCAtMTQuODc1LC0xNi44MTI1IC0xNy44MTI1LDEgMCwyMy43NSAtMjguNzE4NzUsNi45Mzc1IC0yNi43MTg3NSwtOC45MDYyNSAzLjk1MjA0LC0yMy43NjU3OCAtMjguNzA2NjgsLTAuOTkwMSAtMjIuNzcyMjgsMTYuODI2MTIgLTM2LjYyOTMzLC0xMi44ODI3NCAtMTYuODQzNzUsLTE5Ljc4MTI1IC0xMy44NDM3NSwwIC0yMi43ODQ5NiwxMS44NjYwMyAxLjk5MTk1LDMwLjY4NDcxIC01My40NzA2LDcuOTM4NDMgLTE4LjgyNzY2LC0yMi43ODc0NCAtMzIuNjcwMTgsLTIyLjc1MzcxIC00Mi41Nzg1OSwtMTYuODMxNjggLTcuOTA2MjUsLTE0Ljg3NSAtMjIuNzgxMjUsLTkuODc1IC01LjkzNzUsLTExLjkwNjI1IC0yNi43MzAxOTUsLTQwLjU3OTUyIC0zLjk2ODc1LC0yOS43MTg3NSAtNDMuNTYyNSwtNC45Mzc1IEwgNDkuNSwzMTguODEyNSBsIC0xNC44NDM3NSwtMi45Njg3NSAwLC0xMS44NzUgMTkuODA0NzY1LC0yNi43NTI0OCAyOC43MjEyMjUsLTIuOTUyNjYgMi45NTYzNzQsLTMzLjY3Njk4IC0yMS43NzM4MjQsLTg1LjEyODQgMzkuNTkzNzUsLTE4LjgxMjUgMTQuODQzNzUsNC45Mzc1IDE4LjgxMjUsLTEwLjg3NSAxNC44NzUsMTMuODQzNzUgMTAuODc1LC0xOS44MTI1IDMwLjY4NzUsMiAxOS44MTI1LC0zLjk2ODc1IDYuOTM3NSwtMTkuODEyNSAyMC43ODEyNSwtNi45MDYyNSAzMi42ODc1LC0yMS43ODEyNSA0NS41MjA3MywxMS44NzU5MjggMjUuNzM5NDgsNDAuNTcyMDkyIDE5LjgxMjUsLTUuOTM3NSAyMy43NSw3LjkzNzUgTCA0MDAsMTE4LjgxMjUgNDMwLjY4NzUsMTEyLjg3NSA0NjUuMzQzNzUsOTcuMDMxMjUgNTAwLDc5LjIxODc1IGwgMjcuNzE4NzUsMC45Njg3NSAyMi43ODEyNSwxIDI5LjY4NzUsLTEyLjg3NSBMIDYwMSw1MS41IDYxNy44MjQ1Nyw3Ny4yMzE3NDUgNjQ1LjUzMTI1LDc4LjIxODc1IDY0OC41LDM4LjYyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCw0NTIuMzYyMTgpIgogICAgICAgaWQ9InBhdGgzNzgwIgogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MXB4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgPC9nPgo8L3N2Zz4K","options":{"isTrashed":false},"credits":[]},{"name":"timescale/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgrnjg63jg7zjg6Ljg7zjgrfjg6fjg7MKCgpgZW5naW5lLnRpbWluZy50aW1lU2NhbGVgIOOCkuS9v+OBhuOBqOOAgSAgCuOCueODreODvOODouODvOOCt+ODp+ODs+OBq+OBmeOCi+OBk+OBqOOBjOOBp+OBjeOCi+OCiAoKCiMjIyBlbmdpbmUudGltaW5nLnRpbWVTY2FsZSA9IGBzY2FsZWAK5pmC6ZaT44Gu5rWB44KM44KSIGBzY2FsZWAg5YCN44Gr44GZ44KLCgoKIyMgIVvmlLnpgKDjgZnjgotdKHRpbWVzY2FsZS9tYWluLmpzKQoKClvjg6Hjg4vjg6Xjg7zjgavmiLvjgotdKGluZGV4Lmh0bWwpCgoK","options":{"isTrashed":false},"credits":[]},{"name":"timescale/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgrnjg63jg7zjg6Ljg7zjgrfjg6fjg7M8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJ0aW1lc2NhbGUvbWFpbi5qcyI+PC9zY3JpcHQ+Cgk8L2hlYWQ+Cgk8Ym9keT4KCTwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"timescale/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUJvZHksCglFdmVudHMsCglDb21wb3NpdGUsCglDb21wb3NpdGVzLAoJQ29tbW9uLAoJTW91c2VDb25zdHJhaW50LAoJTW91c2UsCglXb3JsZCwKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKY29uc3Qgd29ybGQgPSBlbmdpbmUud29ybGQ7CgppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7CnJlbmRlci5vcHRpb25zLnNob3dBbmdsZUluZGljYXRvciA9IHRydWU7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKV29ybGQuYWRkKHdvcmxkLCBbCgkvLyDlo4Hjga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoODAwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KQpdKTsKCi8vIOeUu+mdouWFqOS9k+OCkueIhueZuuOBleOBm+OCi++8gQpjb25zdCBleHBsb3Npb24gPSAoZW5naW5lKSA9PiB7Cgljb25zdCBib2RpZXMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKGVuZ2luZS53b3JsZCk7CgoJZm9yIChjb25zdCBib2R5IG9mIGJvZGllcykgewoJCWlmICghYm9keS5pc1N0YXRpYyAmJiBib2R5LnBvc2l0aW9uLnkgPj0gNTAwKSB7CgkJCWNvbnN0IGZvcmNlTWFnbml0dWRlID0gMC4wNSAqIGJvZHkubWFzczsKCgkJCUJvZHkuYXBwbHlGb3JjZShib2R5LCBib2R5LnBvc2l0aW9uLCB7CgkJCQl4OiAoZm9yY2VNYWduaXR1ZGUgKyBDb21tb24ucmFuZG9tKCkgKiBmb3JjZU1hZ25pdHVkZSkgKiBDb21tb24uY2hvb3NlKFsxLCAtMV0pLAoJCQkJeTogLWZvcmNlTWFnbml0dWRlICsgQ29tbW9uLnJhbmRvbSgpICogLWZvcmNlTWFnbml0dWRlCgkJCX0pOwoJCX0KCX0KfTsKCi8vIOmWi+Wni+OBl+OBpuOBi+OCieOAgeOBpOOBreOBqyAxIOOBmuOBpOWil+OBiOOBpuOBhOOBj+WkieaVsApsZXQgY291bnRlciA9IDA7CgpFdmVudHMub24oZW5naW5lLCAnYWZ0ZXJVcGRhdGUnLCAoZXZlbnQpID0+IHsKCgkvLyDplovlp4vjgZfjgabjgYvjgonjgIHjgaTjga3jgasgMSDjgZrjgaTlopfjgYjjgabjgYTjgY/lpInmlbAKCWNvdW50ZXIgKz0gMTsKCglpZiAoY291bnRlciAlIDEwMCA9PT0gMCkgewoJCS8vIDEwMCDjg5Xjg6zjg7zjg6DjgavkuIDluqbjgIHniIbnmbrjgpLjgYrjgZPjgZkKCQlleHBsb3Npb24oZW5naW5lKTsKCgl9CgoJLy8gY291bnRlciDjgYwgMH45OSDjgarjgonpgJrluLjjgrnjg5Tjg7zjg4ksCgkvLyAxMDB+MTk5IOOBquOCieOCueODreODvOODouODvOOCt+ODp+ODsy4uLiDjgpLnubDjgorov5TjgZkKCWNvbnN0IHRpbWVTY2FsZVRhcmdldCA9IGNvdW50ZXIgJSAyMDAgPCAxMDAgPyAxIDogMC4wNTsKCgkvLyDlvpDjgIXjgasgdGltZVNjYWxlVGFyZ2V0IOOBq+i/keOBpeOBkeOBpuOBhOOBjwoJZW5naW5lLnRpbWluZy50aW1lU2NhbGUgKz0gKHRpbWVTY2FsZVRhcmdldCAtIGVuZ2luZS50aW1pbmcudGltZVNjYWxlKSAqIDAuMDU7Cgp9KTsKCmNvbnN0IGJvZHlPcHRpb25zID0gewoJZnJpY3Rpb25BaXI6IDAsCglmcmljdGlvbjogMC4wMDAxLAoJcmVzdGl0dXRpb246IDAuOAp9OwoKLy8g5YaG44Gu44Kq44OW44K444Kn44Kv44OICldvcmxkLmFkZCh3b3JsZCwgQ29tcG9zaXRlcy5zdGFjaygyMCwgMTAwLCAxNSwgMywgMjAsIDQwLCAoeCwgeSkgPT4gewoJcmV0dXJuIEJvZGllcy5jaXJjbGUoeCwgeSwgQ29tbW9uLnJhbmRvbSgxMCwgMjApLCBib2R5T3B0aW9ucyk7Cn0pKTsKCi8vIOOBneOBruS7luOBruOCquODluOCuOOCp+OCr+ODiApXb3JsZC5hZGQod29ybGQsIENvbXBvc2l0ZXMuc3RhY2soNTAsIDUwLCA4LCAzLCAwLCAwLCAoeCwgeSkgPT4gewoJLy8g44Op44Oz44OA44Og44Gu56K6546HCgljb25zdCByYXRlID0gQ29tbW9uLnJhbmRvbSgwLCAxKTsKCWlmIChyYXRlIDwgMC4xKSB7CgkJLy8gMTAlIOOBrueiuueOh+OBp+OAgeOBk+OBk+OBq+WFpeOCiwoJCXJldHVybiBCb2RpZXMucmVjdGFuZ2xlKHgsIHksIENvbW1vbi5yYW5kb20oODAsIDEyMCksIENvbW1vbi5yYW5kb20oMjAsIDMwKSwgYm9keU9wdGlvbnMpOwoKCX0gZWxzZSBpZiAocmF0ZSA8IDAuNSkgewoJCS8vIOOBruOBk+OCiiA0MCUg44Gu56K6546H44Gn44CB44GT44GT44Gr5YWl44KLCgkJcmV0dXJuIEJvZGllcy5yZWN0YW5nbGUoeCwgeSwgQ29tbW9uLnJhbmRvbSgyMCwgNTApLCBDb21tb24ucmFuZG9tKDIwLCA1MCksIGJvZHlPcHRpb25zKTsKCgl9IGVsc2UgewoJCS8vIOOBruOBk+OCiuOBrueiuueOh+OBp+OAgeOBk+OBk+OBq+WFpeOCiwoJCXJldHVybiBCb2RpZXMucG9seWdvbih4LCB5LCBNYXRoLnJvdW5kKENvbW1vbi5yYW5kb20oNCwgOCkpLCBDb21tb24ucmFuZG9tKDIwLCA1MCksIGJvZHlPcHRpb25zKTsKCgl9Cgp9KSk7CgovLyDjg57jgqbjgrnmk43kvZwKY29uc3QgbW91c2UgPSBNb3VzZS5jcmVhdGUocmVuZGVyLmNhbnZhcyk7CmNvbnN0IG1vdXNlQ29uc3RyYWludCA9IE1vdXNlQ29uc3RyYWludC5jcmVhdGUoZW5naW5lLCB7Cgltb3VzZTogbW91c2UsCgljb25zdHJhaW50OiB7CgkJc3RpZmZuZXNzOiAwLjIsCgkJcmVuZGVyOiB7CgkJCXZpc2libGU6IGZhbHNlCgkJfQoJfQp9KTsKCldvcmxkLmFkZCh3b3JsZCwgbW91c2VDb25zdHJhaW50KTsKCi8vIGtlZXAgdGhlIG1vdXNlIGluIHN5bmMgd2l0aCByZW5kZXJpbmcKcmVuZGVyLm1vdXNlID0gbW91c2U7CgoKZmVlbGVzLm9wZW5SZWFkbWUoJ3RpbWVzY2FsZS9SRUFETUUubWQnKTsK","options":{"isTrashed":false},"credits":[]},{"name":"timescaleSimple/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDmmYLplpPjga7ml6njgZUKCuaZgumWk+OBrumAsuOCgOaXqeOBleOCkuWkieOBiOOBpuOBv+OBnwoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgojIyDmlLnpgKDjgZfjgabjgb/jgosKCiFb44GT44GT44GL44KJ5aeL44KB44KLXSh0aW1lc2NhbGVTaW1wbGUvbWFpbi5qcykKCuOCguOBo+OBqOaUuemAoAohW+ioreWuml0odGltZXNjYWxlU2ltcGxlL3NldHRpbmcuanMpCiFb44GL44G544O744KG44GLIOOBquOBqV0odGltZXNjYWxlU2ltcGxlL3N0YWdlLmpzKQoKLSAtIC0KCiMjIOW/nOeUqOS+iwo=","options":{"isTrashed":false},"credits":[]},{"name":"timescaleSimple/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7mmYLplpPjga7ml6njgZU8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJ0aW1lc2NhbGVTaW1wbGUvbWFpbi5qcyI+PC9zY3JpcHQ+Cgk8L2hlYWQ+Cgk8Ym9keT4KCTwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"timescaleSimple/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCB7CgllbmdpbmUsCgl3b3JsZCwKCXJlbmRlciwKfSBmcm9tICcuL3NldHRpbmcuanMnOwoKLy8g44K/44Kk44Oe44O8IDEKc2V0VGltZW91dCgoKSA9PiB7CgkvLyAy56eS44Gf44Gj44Gf44KJ44CB44GT44GT44Gr5YWl44KLCgkKCS8vIOaZgumWk+OBruaXqeOBleOCkiAxLzEwIOOBqwoJZW5naW5lLnRpbWluZy50aW1lU2NhbGUgPSAwLjE7CgkKCS8vIOiDjOaZr+OCkum7kuOBqwoJcmVuZGVyLm9wdGlvbnMuYmFja2dyb3VuZCA9ICcjMDAwMDAwJzsKCQoJCn0sIDIwMDApOwoKLy8g44K/44Kk44Oe44O8IDIKc2V0VGltZW91dCgoKSA9PiB7CgkvLyA156eS44Gf44Gj44Gf44KJ44CB44GT44GT44Gr5YWl44KLCgkKCS8vIOaZgumWk+OBruaXqeOBleOCkiAyIOWAjeOBqwoJZW5naW5lLnRpbWluZy50aW1lU2NhbGUgPSAyOwoJCgkvLyDog4zmma/jgpLnmb3jgasKCXJlbmRlci5vcHRpb25zLmJhY2tncm91bmQgPSAnI2ZmZmZmZic7CgkKCQp9LCA1MDAwKTsKCgoKCmltcG9ydCAnLi9zdGFnZS5qcyc7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"timescaleSimple/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVJlbmRlciwKCVdvcmxkLAoJUnVubmVyLAoJTW91c2UsCglNb3VzZUNvbnN0cmFpbnQsCn0gZnJvbSAnbWF0dGVyJzsKCmltcG9ydCBlbmdpbmUgZnJvbSAnZW5naW5lJzsKY29uc3Qgd29ybGQgPSBlbmdpbmUud29ybGQ7CgppbXBvcnQgcmVuZGVyIGZyb20gJ3JlbmRlcic7ClJlbmRlci5ydW4ocmVuZGVyKTsKCmNvbnN0IHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTsKUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7CgoKLy8g44Oe44Km44K55pON5L2cCmNvbnN0IG1vdXNlID0gTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpOwpjb25zdCBtb3VzZUNvbnN0cmFpbnQgPSBNb3VzZUNvbnN0cmFpbnQuY3JlYXRlKGVuZ2luZSwgewoJbW91c2U6IG1vdXNlLAoJY29uc3RyYWludDogewoJCXN0aWZmbmVzczogMC4yLAoJCXJlbmRlcjogewoJCQl2aXNpYmxlOiBmYWxzZQoJCX0KCX0KfSk7CgpXb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7CgovLyBrZWVwIHRoZSBtb3VzZSBpbiBzeW5jIHdpdGggcmVuZGVyaW5nCnJlbmRlci5tb3VzZSA9IG1vdXNlOwoKCmZlZWxlcy5vcGVuUmVhZG1lKCd0aW1lc2NhbGVTaW1wbGUvUkVBRE1FLm1kJyk7CgoKZXhwb3J0IHsKCWVuZ2luZSwKCXdvcmxkLAoJcmVuZGVyLAp9Owo=","options":{"isTrashed":false},"credits":[]},{"name":"timescaleSimple/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CmltcG9ydCB7Cgl3b3JsZCwKfSBmcm9tICcuL3NldHRpbmcnOwoKCi8vIOWjgQpXb3JsZC5hZGQod29ybGQsIFsKCQoJLy8g5bem44Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDIwMCwgMTAwLCA2MCwgNjAsIHsKCQkvLyDjga/jga3ov5Tjgorjga7lpKfjgY3jgZUKCQlyZXN0aXR1dGlvbjogMC4wMSwKCQkKCX0pLAoJCgkvLyDkuK3jga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAxMDAsIDYwLCA2MCwgewoJCS8vIOOBr+OBrei/lOOCiuOBruWkp+OBjeOBlQoJCXJlc3RpdHV0aW9uOiAwLjUsCgkJCgl9KSwKCQoJLy8g5Y+z44Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDYwMCwgMTAwLCA2MCwgNjAsIHsKCQkvLyDjga/jga3ov5Tjgorjga7lpKfjgY3jgZUKCQlyZXN0aXR1dGlvbjogMSwKCQkKCX0pLAoJCgkvLyDlpKnkupXjga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5yZWN0YW5nbGUoNDAwLCAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgkJCgl9KSwKCS8vIOOChuOBi+OBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDYwMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlLAoJCWFuZ2xlOiAwLjEsCgkJCgl9KSwKCS8vIOWPs+OBruOBi+OBueOBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSg4MDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlLAoJCQoJfSksCgkvLyDlt6bjga7jgYvjgbnjga7jgqrjg5bjgrjjgqfjgq/jg4gKCUJvZGllcy5yZWN0YW5nbGUoMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgkJCgl9KSwKXSk7Cg==","options":{"isTrashed":false},"credits":[]},{"name":"views/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjgrrjg7zjg6Djgajjgrnjgq/jg63jg7zjg6sKCgrjgrLjg7zjg6DjgafjgojjgY/jgYLjgovjgIHnlLvpnaLjga7jgrnjgq/jg63jg7zjg6vjgpLkvZzjgaPjgabjgb/jgZ/jgoggIApgQm91bmRzLnRyYW5zbGF0ZWAg44KS5L2/44GG44Go44CB6aCY5Z+fKOOCiuOCh+OBhuOBhOOBjSnjgpLnp7vli5XjgZXjgZvjgovjgZPjgajjgYzjgafjgY3jgovjgpPjgaAKCuOBk+OBk+OBp+OBhOOBhumgmOWfn+OBqOOBr+OAgeerr+OBjOWbm+OBpOOBguOCi+OCguOBruOBruOBk+OBqOOBoOOCiOOAgiAgCuimi+OBn+ebruOBrueUu+mdouOChOOAgeODr+ODvOODq+ODieOBrueUu+mdouOBquOBqeOCguOAgemgmOWfn+OCkuaMgeOBo+OBpuOBhOOCi+OCk+OBoAoKCiMjICFb5pS56YCg44GZ44KLXSh2aWV3cy9tYWluLmpzKQoKCiMjIyBCb3VuZHMudHJhbnNsYXRlKGBib3VuZHNgLCB7IHg6IGB4YCwgeTogYHlgIH0pOwrjg5Hjg6njg6Hjg7zjgr8gfCDmhI/lkbMgfCDljZjkvY0gfCDmnIDlsI8gfCDmnIDlpKcgCi0tLSB8IC0tLSB8IC0tLSB8IC0tLSB8IC0tLQpib3VuZHMgfCDnp7vli5XjgZfjgZ/jgYTpoJjln58gfCAgfCAgfCAKeCB8IOWPs+OBq+enu+WLleOBmeOCi+mHjyB8IHB4IHwgLUluZmluaXR5IHwgSW5maW5pdHkKeSB8IOS4i+OBq+enu+WLleOBmeOCi+mHjyB8IHB4IHwgLUluZmluaXR5IHwgSW5maW5pdHkKCgpb44Oh44OL44Ol44O844Gr5oi744KLXShpbmRleC5odG1sKQoK","options":{"isTrashed":false},"credits":[]},{"name":"views/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jgrrjg7zjg6Djgajjgrnjgq/jg63jg7zjg6s8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJ2aWV3cy9tYWluLmpzIj48L3NjcmlwdD4KCTwvaGVhZD4KCTxib2R5PgoJPC9ib2R5Pgo8L2h0bWw+","options":{"isTrashed":false},"credits":[]},{"name":"views/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCUV2ZW50cywKCUNvbXBvc2l0ZXMsCglDb21tb24sCglNb3VzZUNvbnN0cmFpbnQsCglNb3VzZSwKCVdvcmxkLAoJVmVjdG9yLAoJQm91bmRzLAoJQm9kaWVzLAp9IGZyb20gJ21hdHRlcic7CgoKaW1wb3J0IGVuZ2luZSBmcm9tICdlbmdpbmUnOwpjb25zdCB3b3JsZCA9IGVuZ2luZS53b3JsZDsKCmltcG9ydCByZW5kZXIgZnJvbSAncmVuZGVyJzsKcmVuZGVyLm9wdGlvbnMuaGFzQm91bmRzID0gdHJ1ZTsKcmVuZGVyLm9wdGlvbnMuc2hvd0FuZ2xlSW5kaWNhdG9yID0gdHJ1ZTsKUmVuZGVyLnJ1bihyZW5kZXIpOwoKY29uc3QgcnVubmVyID0gUnVubmVyLmNyZWF0ZSgpOwpSdW5uZXIucnVuKHJ1bm5lciwgZW5naW5lKTsKCgovLyDjg57jgqbjgrnmk43kvZwKY29uc3QgbW91c2UgPSBNb3VzZS5jcmVhdGUocmVuZGVyLmNhbnZhcyk7CmNvbnN0IG1vdXNlQ29uc3RyYWludCA9IE1vdXNlQ29uc3RyYWludC5jcmVhdGUoZW5naW5lLCB7Cgltb3VzZTogbW91c2UsCgljb25zdHJhaW50OiB7CgkJc3RpZmZuZXNzOiAwLjIsCgkJcmVuZGVyOiB7CgkJCXZpc2libGU6IGZhbHNlCgkJfQoJfQp9KTsKCldvcmxkLmFkZCh3b3JsZCwgbW91c2VDb25zdHJhaW50KTsKCi8vIGtlZXAgdGhlIG1vdXNlIGluIHN5bmMgd2l0aCByZW5kZXJpbmcKcmVuZGVyLm1vdXNlID0gbW91c2U7CgovLyDjgqrjg5bjgrjjgqfjgq/jg4jjga7jgrnjgr/jg4Pjgq8KY29uc3Qgc3RhY2sgPSBDb21wb3NpdGVzLnN0YWNrKDIwLCAyMCwgMTUsIDQsIDAsIDAsICh4LCB5KSA9PiB7CgkvLyDjg6njg7Pjg4Djg6Djga7norrnjocKCWNvbnN0IHJhdGUgPSBDb21tb24ucmFuZG9tKDAsIDEpOwoJaWYgKHJhdGUgPCAwLjEpIHsKCQkvLyAxMCUg44Gu56K6546H44Gn44CB44GT44GT44Gr5YWl44KLCgkJcmV0dXJuIEJvZGllcy5yZWN0YW5nbGUoeCwgeSwgQ29tbW9uLnJhbmRvbSg4MCwgMTIwKSwgQ29tbW9uLnJhbmRvbSgyMCwgMzApKTsKCgl9IGVsc2UgaWYgKHJhdGUgPCAwLjUpIHsKCQkvLyDjga7jgZPjgoogNDAlIOOBrueiuueOh+OBp+OAgeOBk+OBk+OBq+WFpeOCiwoJCXJldHVybiBCb2RpZXMucmVjdGFuZ2xlKHgsIHksIENvbW1vbi5yYW5kb20oODAsIDEyMCksIENvbW1vbi5yYW5kb20oMjAsIDMwKSk7CgoJfSBlbHNlIHsKCQkvLyDjga7jgZPjgorjga7norrnjofjgafjgIHjgZPjgZPjgavlhaXjgosKCQljb25zdCBfc2lkZXMgPSBNYXRoLnJvdW5kKENvbW1vbi5yYW5kb20oMSwgOCkpOwoJCWNvbnN0IHNpZGVzID0gKF9zaWRlcyA9PT0gMykgPyA0IDogX3NpZGVzOwoJCXJldHVybiBCb2RpZXMucG9seWdvbih4LCB5LCBzaWRlcywgQ29tbW9uLnJhbmRvbSgyMCwgNTApKTsKCgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBbCglzdGFjaywKCS8vIOWjgeOBruOCquODluOCuOOCp+OCr+ODiAoJQm9kaWVzLnJlY3RhbmdsZSg0MDAsIDAsIDgwMCwgNTAsIHsKCQlpc1N0YXRpYzogdHJ1ZQoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSg4MDAsIDMwMCwgNTAsIDYwMCwgewoJCWlzU3RhdGljOiB0cnVlCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoMCwgMzAwLCA1MCwgNjAwLCB7CgkJaXNTdGF0aWM6IHRydWUKCX0pCl0pOwoKLy8g55S76Z2i44Gu5Lit5b+DCmNvbnN0IHZpZXdwb3J0Q2VudHJlID0gewoJeDogcmVuZGVyLm9wdGlvbnMud2lkdGggKiAwLjUsCgl5OiByZW5kZXIub3B0aW9ucy5oZWlnaHQgKiAwLjUKfTsKCi8vIOODr+ODvOODq+ODieOBrumgmOWfn+OCkueUu+mdouOCiOOCiuWwkeOBl+Wkp+OBjeOBquOCteOCpOOCuuOBq+OBmeOCiwp3b3JsZC5ib3VuZHMubWluLnggPSAtMzAwOwp3b3JsZC5ib3VuZHMubWluLnkgPSAtMzAwOwp3b3JsZC5ib3VuZHMubWF4LnggPSAxMTAwOwp3b3JsZC5ib3VuZHMubWF4LnkgPSA5MDA7CgovLyDjgYTjgb7nm67mjIfjgZfjgabjgYTjgovmi6HlpKfjga7lgI3njofjga7lpInmlbAKbGV0IGJvdW5kc1NjYWxlVGFyZ2V0ID0gMTsKLy8g54++5Zyo44Gu5ouh5aSn44Gu5YCN546HCmNvbnN0IGJvdW5kc1NjYWxlID0gewoJeDogMSwKCXk6IDEKfTsKCkV2ZW50cy5vbihlbmdpbmUsICdiZWZvcmVUaWNrJywgZnVuY3Rpb24oKSB7Cgljb25zdCBtb3VzZSA9IG1vdXNlQ29uc3RyYWludC5tb3VzZTsKCgkvLyDjg57jgqbjgrnjga7jg5vjgqTjg7zjg6vjgaflgI3njofjgpLlpInjgYjjgosKCWNvbnN0IHNjYWxlRmFjdG9yID0gbW91c2Uud2hlZWxEZWx0YSAqIC0wLjE7CglpZiAoc2NhbGVGYWN0b3IgIT09IDApIHsKCQlpZiAoKHNjYWxlRmFjdG9yIDwgMCAmJiBib3VuZHNTY2FsZS54ID49IDAuNikgfHwgKHNjYWxlRmFjdG9yID4gMCAmJiBib3VuZHNTY2FsZS54IDw9IDEuNCkpIHsKCQkJYm91bmRzU2NhbGVUYXJnZXQgKz0gc2NhbGVGYWN0b3I7CgkJfQoJfQoKCWlmIChNYXRoLmFicyhib3VuZHNTY2FsZS54IC0gYm91bmRzU2NhbGVUYXJnZXQpID4gMC4wMSkgewoJCS8vIOaLoeWkp+OBruWAjeeOh+OBjOWkieOCj+OBo+OBpuOBhOOBn+OBqOOBjeOAgeOBk+OBk+OBq+WFpeOCiwoKCQkvLyDlpInljJbjgYzjgarjgaDjgonjgYvjgavjgarjgovjgojjgYbjgavlsJHjgZfjgaDjgZHjgpLmiLvjgZkKCQljb25zdCBzY2FsZUZhY3RvciA9IChib3VuZHNTY2FsZVRhcmdldCAtIGJvdW5kc1NjYWxlLngpICogMC4yOwoJCWJvdW5kc1NjYWxlLnggKz0gc2NhbGVGYWN0b3I7CgkJYm91bmRzU2NhbGUueSArPSBzY2FsZUZhY3RvcjsKCgkJLy8g5o+P55S744GZ44KL6aCY5Z+f44KS5ouh5aSn44GZ44KLCgkJcmVuZGVyLmJvdW5kcy5tYXgueCA9IHJlbmRlci5ib3VuZHMubWluLnggKyByZW5kZXIub3B0aW9ucy53aWR0aCAqIGJvdW5kc1NjYWxlLng7CgkJcmVuZGVyLmJvdW5kcy5tYXgueSA9IHJlbmRlci5ib3VuZHMubWluLnkgKyByZW5kZXIub3B0aW9ucy5oZWlnaHQgKiBib3VuZHNTY2FsZS55OwoKCQkvLyDjgrrjg7zjg6DjgavjgojjgaPjgabnlLvpnaLjga7kuK3lv4PjgYzlsJHjgZfjgZrjgozjgovjga7jgafjgIHjgZ3jgozjgpLjgarjgYrjgZkKCQljb25zdCB0cmFuc2xhdGUgPSB7CgkJCXg6IHJlbmRlci5vcHRpb25zLndpZHRoICogc2NhbGVGYWN0b3IgKiAtMC41LAoJCQl5OiByZW5kZXIub3B0aW9ucy5oZWlnaHQgKiBzY2FsZUZhY3RvciAqIC0wLjUKCQl9OwoJCUJvdW5kcy50cmFuc2xhdGUocmVuZGVyLmJvdW5kcywgdHJhbnNsYXRlKTsKCgkJLy8g44Oe44Km44K544GM44K644O844Og44Gu5b2x6Z+/44KS5Y+X44GR44Gq44GE44KI44GG44Gr6KOc5q2j44GZ44KLCgkJTW91c2Uuc2V0U2NhbGUobW91c2UsIGJvdW5kc1NjYWxlKTsKCQlNb3VzZS5zZXRPZmZzZXQobW91c2UsIHJlbmRlci5ib3VuZHMubWluKTsKCgl9CgoJLy8g55S76Z2i44Gu5Lit5b+D44GL44KJ44Oe44Km44K544G+44Gn44Gu44OZ44Kv44OI44OrCgljb25zdCBkZWx0YUNlbnRyZSA9IFZlY3Rvci5zdWIobW91c2UuYWJzb2x1dGUsIHZpZXdwb3J0Q2VudHJlKTsKCS8vIOeUu+mdouOBruS4reW/g+OBi+OCieODnuOCpuOCueOBvuOBp+OBrui3nembogoJY29uc3QgY2VudHJlRGlzdCA9IFZlY3Rvci5tYWduaXR1ZGUoZGVsdGFDZW50cmUpOwoKCWlmIChjZW50cmVEaXN0ID4gNTApIHsKCQkvLyDnlLvpnaLjga7kuK3lv4PjgYvjgonjg57jgqbjgrnjgb7jgafjga7ot53pm6LjgYwgNTBweCDjgpLotoXjgYjjgabjgYTjgovjgajjgY3jgIHjgZPjgZPjgavlhaXjgosKCgkJLy8g55S76Z2i44Gu5Lit5b+D44GL44KJ44Oe44Km44K544Gr5ZCR44GL44GG5pa55ZCR44Gu44OZ44Kv44OI44OrCgkJY29uc3QgZGlyZWN0aW9uID0gVmVjdG9yLm5vcm1hbGlzZShkZWx0YUNlbnRyZSk7CgkJLy8g44Gh44KH44GG44Gp44GE44GE5oSf44GY44Gu44GG44GU44GP6Led6ZuiCgkJY29uc3Qgc3BlZWQgPSBNYXRoLm1pbigxMCwgTWF0aC5wb3coY2VudHJlRGlzdCAtIDUwLCAyKSAqIDAuMDAwMik7CgkJLy8g55S76Z2i44Gu5Lit5b+D44GL44KJ44Oe44Km44K544Gr5ZCR44GL44GG44Gh44KH44GG44Gp44GE44GE5oSf44GY44Gu6ZW344GV44Gu44OZ44Kv44OI44OrCgkJY29uc3QgdHJhbnNsYXRlID0gVmVjdG9yLm11bHQoZGlyZWN0aW9uLCBzcGVlZCk7CgoJCS8vIOaPj+eUu+OBmeOCi+mgmOWfn+OBjOOAgeODr+ODvOODq+ODieOBrumgmOWfn+OBi+OCieOBr+OBv+WHuuOBleOBquOBhOOCiOOBhuOBq+OBmeOCiwoJCWlmIChyZW5kZXIuYm91bmRzLm1pbi54ICsgdHJhbnNsYXRlLnggPCB3b3JsZC5ib3VuZHMubWluLngpIHsKCQkJdHJhbnNsYXRlLnggPSB3b3JsZC5ib3VuZHMubWluLnggLSByZW5kZXIuYm91bmRzLm1pbi54OwoJCX0KCQlpZiAocmVuZGVyLmJvdW5kcy5tYXgueCArIHRyYW5zbGF0ZS54ID4gd29ybGQuYm91bmRzLm1heC54KSB7CgkJCXRyYW5zbGF0ZS54ID0gd29ybGQuYm91bmRzLm1heC54IC0gcmVuZGVyLmJvdW5kcy5tYXgueDsKCQl9CgkJaWYgKHJlbmRlci5ib3VuZHMubWluLnkgKyB0cmFuc2xhdGUueSA8IHdvcmxkLmJvdW5kcy5taW4ueSkgewoJCQl0cmFuc2xhdGUueSA9IHdvcmxkLmJvdW5kcy5taW4ueSAtIHJlbmRlci5ib3VuZHMubWluLnk7CgkJfQoJCWlmIChyZW5kZXIuYm91bmRzLm1heC55ICsgdHJhbnNsYXRlLnkgPiB3b3JsZC5ib3VuZHMubWF4LnkpIHsKCQkJdHJhbnNsYXRlLnkgPSB3b3JsZC5ib3VuZHMubWF4LnkgLSByZW5kZXIuYm91bmRzLm1heC55OwoJCX0KCQkvLyDjgrnjgq/jg63jg7zjg6vjgZnjgovjgILjgaTjgb7jgorjgIHmj4/nlLvjgZnjgovpoJjln5/jgpLlsJHjgZfnp7vli5XjgZnjgosKCQlCb3VuZHMudHJhbnNsYXRlKHJlbmRlci5ib3VuZHMsIHRyYW5zbGF0ZSk7CgoJCS8vIOODnuOCpuOCueOBjOOCueOCr+ODreODvOODq+OBruW9semfv+OCkuWPl+OBkeOBquOBhOOCiOOBhuOBq+ijnOato+OBmeOCiwoJCU1vdXNlLnNldE9mZnNldChtb3VzZSwgcmVuZGVyLmJvdW5kcy5taW4pOwoKCX0KfSk7CgoKZmVlbGVzLm9wZW5SZWFkbWUoJ3ZpZXdzL1JFQURNRS5tZCcpOwo=","options":{"isTrashed":false},"credits":[]},{"name":"wreckingBall/README.md","type":"text/x-markdown","lastModified":1492756455000,"composed":"IyDjg6Ljg7PjgrHjg7zjg7MKCuODouODs+OCseODvOODs+OBqOOBr+OAgeW7uueJqeOCkuino+S9k+OBmeOCi+OBquOBqeOBruebrueahOOBq+S9v+OCj+OCjOOCjOOCiyAgCuOCr+ODrOODvOODs+OBp+WQiuOCiuS4iuOBkuOCieOCjOOBn+W3qOWkp+OBqumHjeOBhOeQg+OBruOBk+OBqAoKW+ODoeODi+ODpeODvOOBq+aIu+OCi10oaW5kZXguaHRtbCkKCgojIyDjganjgYbjgoTjgaPjgabkvZzjgaPjgabjgovjga7vvJ8KCuOBk+OCjOOCieOCkue1hOOBv+WQiOOCj+OBm+OBpuOBhOOCi+OCiCAgCj4g44Kv44Oq44OD44Kv44GZ44KL44Go44K144Oz44OX44Or44Gr56e75YuV44GX44G+44GZCgrph43jgZXjgpLlpInjgYjjgovjgavjga/igKZb44GK44KC44GVXShkZW5zaXR5L2luZGV4Lmh0bWwpICAK56m65rCX44Gm44GE44GT44GG44KS5aSJ44GI44KL44Gr44Gv4oCmW+epuuawl+OBpuOBhOOBk+OBhl0oYWlyRnJpY3Rpb24vaW5kZXguaHRtbCkgIArmjK/jgorlrZDjgpLkvZzjgovjgavjga/igKZb44OQ44ONXShjb25zdHJhaW50L2luZGV4Lmh0bWwpICAK5bGx44KS5L2c44KL44Gr44Gv4oCmW+OCueOCv+ODg+OCr10oc3RhY2svaW5kZXguaHRtbCkgIAoKIyMg5pS56YCg44Gr5oyR5oim44GX44Gm44G/44KLCgohW+mHjeOBhOeQg10od3JlY2tpbmdCYWxsL21haW4uanMpICAKIVvjgrnjg4bjg7zjgrhdKHdyZWNraW5nQmFsbC9zdGFnZS5qcykgIAohW+ioreWuml0od3JlY2tpbmdCYWxsL3NldHRpbmcuanMpCg==","options":{"isTrashed":false},"credits":[]},{"name":"wreckingBall/index.html","type":"text/html","lastModified":1492756455000,"composed":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0idXRmLTgiPgoJCTx0aXRsZT7jg6Ljg7PjgrHjg7zjg7M8L3RpdGxlPgoJCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic3R5bGUuY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSJ3cmVja2luZ0JhbGwvbWFpbi5qcyI+PC9zY3JpcHQ+Cgk8L2hlYWQ+Cgk8Ym9keT4KCTwvYm9keT4KPC9odG1sPg==","options":{"isTrashed":false},"credits":[]},{"name":"wreckingBall/main.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCVdvcmxkLAoJQ29uc3RyYWludCwKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKaW1wb3J0IHsKCXdvcmxkLAp9IGZyb20gJy4vc2V0dGluZyc7CgoKLy8g6YeN44GE55CDCmNvbnN0IGJhbGwxID0gQm9kaWVzLmNpcmNsZSgxMDAsIDQwMCwgNTAsIHsKCS8vIOOBiuOCguOBlQoJZGVuc2l0eTogMC4wNCwKCS8vIOepuuawl+OBpuOBhOOBk+OBhgoJZnJpY3Rpb25BaXI6IDAuMDA1LAoJCn0pOwoKLy8g6YeN44GE55CD44Go56m65Lit44Gu44GC44KL54K544KS44Gk44Gq44GQCmNvbnN0IGpvaW50MSA9IENvbnN0cmFpbnQuY3JlYXRlKHsKCS8vIOWbuuWumuOBl+OBn+OBhOOCquODluOCuOOCp+OCr+ODiAoJYm9keUE6IGJhbGwxLAoJLy8g5Zu65a6a44GX44Gf44GE54K5Cglwb2ludEI6IHsKCQl4OiAzMDAsCgkJeTogMTAwCgl9LAoJLy8g44OQ44ON44Gu5by344GVCglzdGlmZm5lc3M6IDEuMCwKCQp9KTsKCldvcmxkLmFkZCh3b3JsZCwgWwoJLy8g6YeN44GE55CDCgliYWxsMSwKCS8vIOOCuOODp+OCpOODs+ODiAoJam9pbnQxLAoJCl0pOwoKCgoKaW1wb3J0ICcuL3N0YWdlJzsK","options":{"isTrashed":false},"credits":[]},{"name":"wreckingBall/setting.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUVuZ2luZSwKCVJlbmRlciwKCVJ1bm5lciwKCU1vdXNlQ29uc3RyYWludCwKCU1vdXNlLAoJV29ybGQsCn0gZnJvbSAnbWF0dGVyJzsKCgppbXBvcnQgZW5naW5lIGZyb20gJ2VuZ2luZSc7CmNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkOwoKaW1wb3J0IHJlbmRlciBmcm9tICdyZW5kZXInOwpyZW5kZXIub3B0aW9ucy5zaG93QW5nbGVJbmRpY2F0b3IgPSB0cnVlOwpyZW5kZXIub3B0aW9ucy5iYWNrZ3JvdW5kID0gJyMyMDIwMjAnOwpSZW5kZXIucnVuKHJlbmRlcik7Cgpjb25zdCBydW5uZXIgPSBSdW5uZXIuY3JlYXRlKCk7ClJ1bm5lci5ydW4ocnVubmVyLCBlbmdpbmUpOwoKCi8vIOODnuOCpuOCueaTjeS9nApjb25zdCBtb3VzZSA9IE1vdXNlLmNyZWF0ZShyZW5kZXIuY2FudmFzKTsKY29uc3QgbW91c2VDb25zdHJhaW50ID0gTW91c2VDb25zdHJhaW50LmNyZWF0ZShlbmdpbmUsIHsKCW1vdXNlOiBtb3VzZSwKCWNvbnN0cmFpbnQ6IHsKCQlzdGlmZm5lc3M6IDAuMiwKCQlyZW5kZXI6IHsKCQkJdmlzaWJsZTogZmFsc2UKCQl9Cgl9Cn0pOwoKV29ybGQuYWRkKHdvcmxkLCBtb3VzZUNvbnN0cmFpbnQpOwoKLy8ga2VlcCB0aGUgbW91c2UgaW4gc3luYyB3aXRoIHJlbmRlcmluZwpyZW5kZXIubW91c2UgPSBtb3VzZTsKCgpmZWVsZXMub3BlblJlYWRtZSgnd3JlY2tpbmdCYWxsL1JFQURNRS5tZCcpOwoKCmV4cG9ydCB7CgllbmdpbmUsCgl3b3JsZCwKCXJlbmRlciwKfTsK","options":{"isTrashed":false},"credits":[]},{"name":"wreckingBall/stage.js","type":"application/javascript","lastModified":1492756455000,"composed":"aW1wb3J0IHsKCUNvbXBvc2l0ZXMsCglXb3JsZCwKCUJvZGllcywKfSBmcm9tICdtYXR0ZXInOwoKaW1wb3J0IHsKCXdvcmxkLAp9IGZyb20gJy4vc2V0dGluZyc7CgoKV29ybGQuYWRkKHdvcmxkLCBbCgkvLyDjgrnjgr/jg4Pjgq8KCUNvbXBvc2l0ZXMuc3RhY2soNDAwLCAxNzksIDUsIDEwLCAwLCAwLCAoeCwgeSkgPT4gewoJCXJldHVybiBCb2RpZXMucmVjdGFuZ2xlKHgsIHksIDQwLCA0MCk7Cgl9KSwKCQoJLy8g5aOB44Gu44Kq44OW44K444Kn44Kv44OICglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgMCwgODAwLCA1MCwgewoJCWlzU3RhdGljOiB0cnVlLAoJfSksCglCb2RpZXMucmVjdGFuZ2xlKDQwMCwgNjAwLCA4MDAsIDUwLCB7CgkJaXNTdGF0aWM6IHRydWUsCgl9KSwKCUJvZGllcy5yZWN0YW5nbGUoODAwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJQm9kaWVzLnJlY3RhbmdsZSgwLCAzMDAsIDUwLCA2MDAsIHsKCQlpc1N0YXRpYzogdHJ1ZSwKCX0pLAoJCl0pOwo=","options":{"isTrashed":false},"credits":[]}]